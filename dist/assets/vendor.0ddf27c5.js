function e(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const t=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(e){if(b(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=r(k(i)?s(i):i);if(o)for(const e in o)t[e]=o[e]}return t}if(x(e))return e}const i=/;(?![^(]*\))/g,o=/:(.+)/;function s(e){const t={};return e.split(i).forEach((e=>{if(e){const n=e.split(o);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function a(e){let t="";if(k(e))t=e;else if(b(e))for(let n=0;n<e.length;n++){const r=a(e[n]);r&&(t+=r+" ")}else if(x(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const u=e=>null==e?"":x(e)?JSON.stringify(e,l,2):String(e),l=(e,t)=>C(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:S(t)?{[`Set(${t.size})`]:[...t.values()]}:!x(t)||b(t)||O(t)?t:String(t),c={},h=[],d=()=>{},f=()=>!1,p=/^on[^a-z]/,_=e=>p.test(e),y=e=>e.startsWith("onUpdate:"),v=Object.assign,m=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},g=Object.prototype.hasOwnProperty,w=(e,t)=>g.call(e,t),b=Array.isArray,C=e=>"[object Map]"===I(e),S=e=>"[object Set]"===I(e),E=e=>"function"==typeof e,k=e=>"string"==typeof e,T=e=>"symbol"==typeof e,x=e=>null!==e&&"object"==typeof e,N=e=>x(e)&&E(e.then)&&E(e.catch),P=Object.prototype.toString,I=e=>P.call(e),O=e=>"[object Object]"===I(e),D=e=>k(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,R=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},A=/-(\w)/g,F=M((e=>e.replace(A,((e,t)=>t?t.toUpperCase():"")))),L=/\B([A-Z])/g,Y=M((e=>e.replace(L,"-$1").toLowerCase())),j=M((e=>e.charAt(0).toUpperCase()+e.slice(1))),W=M((e=>e?`on${j(e)}`:"")),U=(e,t)=>e!==t&&(e==e||t==t),q=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},V=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},H=e=>{const t=parseFloat(e);return isNaN(t)?e:t},B=new WeakMap,z=[];let G;const $=Symbol(""),Q=Symbol("");function K(e,t=c){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!z.includes(n)){X(n);try{return te.push(ee),ee=!0,z.push(n),G=n,e()}finally{z.pop(),re(),G=z[z.length-1]}}};return n.id=J++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}function Z(e){e.active&&(X(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let J=0;function X(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ee=!0;const te=[];function ne(){te.push(ee),ee=!1}function re(){const e=te.pop();ee=void 0===e||e}function ie(e,t,n){if(!ee||void 0===G)return;let r=B.get(e);r||B.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(G)||(i.add(G),G.deps.push(i))}function oe(e,t,n,r,i,o){const s=B.get(e);if(!s)return;const a=new Set,u=e=>{e&&e.forEach((e=>{(e!==G||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(u);else if("length"===n&&b(e))s.forEach(((e,t)=>{("length"===t||t>=r)&&u(e)}));else switch(void 0!==n&&u(s.get(n)),t){case"add":b(e)?D(n)&&u(s.get("length")):(u(s.get($)),C(e)&&u(s.get(Q)));break;case"delete":b(e)||(u(s.get($)),C(e)&&u(s.get(Q)));break;case"set":C(e)&&u(s.get($))}a.forEach((e=>{e.options.scheduler?e.options.scheduler(e):e()}))}const se=e("__proto__,__v_isRef,__isVue"),ae=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(T)),ue=fe(),le=fe(!1,!0),ce=fe(!0),he=fe(!0,!0),de={};function fe(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&i===(e?t?Ve:qe:t?Ue:We).get(n))return n;const o=b(n);if(!e&&o&&w(de,r))return Reflect.get(de,r,i);const s=Reflect.get(n,r,i);if(T(r)?ae.has(r):se(r))return s;if(e||ie(n,0,r),t)return s;if(Xe(s)){return!o||!D(r)?s.value:s}return x(s)?e?ze(s):Be(s):s}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];de[e]=function(...e){const n=Ze(this);for(let t=0,i=this.length;t<i;t++)ie(n,0,t+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(Ze)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];de[e]=function(...e){ne();const n=t.apply(this,e);return re(),n}}));function pe(e=!1){return function(t,n,r,i){let o=t[n];if(!e&&(r=Ze(r),o=Ze(o),!b(t)&&Xe(o)&&!Xe(r)))return o.value=r,!0;const s=b(t)&&D(n)?Number(n)<t.length:w(t,n),a=Reflect.set(t,n,r,i);return t===Ze(i)&&(s?U(r,o)&&oe(t,"set",n,r):oe(t,"add",n,r)),a}}const _e={get:ue,set:pe(),deleteProperty:function(e,t){const n=w(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&oe(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return T(t)&&ae.has(t)||ie(e,0,t),n},ownKeys:function(e){return ie(e,0,b(e)?"length":$),Reflect.ownKeys(e)}},ye={get:ce,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},ve=v({},_e,{get:le,set:pe(!0)});v({},ye,{get:he});const me=e=>x(e)?Be(e):e,ge=e=>x(e)?ze(e):e,we=e=>e,be=e=>Reflect.getPrototypeOf(e);function Ce(e,t,n=!1,r=!1){const i=Ze(e=e.__v_raw),o=Ze(t);t!==o&&!n&&ie(i,0,t),!n&&ie(i,0,o);const{has:s}=be(i),a=r?we:n?ge:me;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void 0}function Se(e,t=!1){const n=this.__v_raw,r=Ze(n),i=Ze(e);return e!==i&&!t&&ie(r,0,e),!t&&ie(r,0,i),e===i?n.has(e):n.has(e)||n.has(i)}function Ee(e,t=!1){return e=e.__v_raw,!t&&ie(Ze(e),0,$),Reflect.get(e,"size",e)}function ke(e){e=Ze(e);const t=Ze(this);return be(t).has.call(t,e)||(t.add(e),oe(t,"add",e,e)),this}function Te(e,t){t=Ze(t);const n=Ze(this),{has:r,get:i}=be(n);let o=r.call(n,e);o||(e=Ze(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?U(t,s)&&oe(n,"set",e,t):oe(n,"add",e,t),this}function xe(e){const t=Ze(this),{has:n,get:r}=be(t);let i=n.call(t,e);i||(e=Ze(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&oe(t,"delete",e,void 0),o}function Ne(){const e=Ze(this),t=0!==e.size,n=e.clear();return t&&oe(e,"clear",void 0,void 0),n}function Pe(e,t){return function(n,r){const i=this,o=i.__v_raw,s=Ze(o),a=t?we:e?ge:me;return!e&&ie(s,0,$),o.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function Ie(e,t,n){return function(...r){const i=this.__v_raw,o=Ze(i),s=C(o),a="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,l=i[e](...r),c=n?we:t?ge:me;return!t&&ie(o,0,u?Q:$),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:a?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}function Oe(e){return function(...t){return"delete"!==e&&this}}const De={get(e){return Ce(this,e)},get size(){return Ee(this)},has:Se,add:ke,set:Te,delete:xe,clear:Ne,forEach:Pe(!1,!1)},Re={get(e){return Ce(this,e,!1,!0)},get size(){return Ee(this)},has:Se,add:ke,set:Te,delete:xe,clear:Ne,forEach:Pe(!1,!0)},Me={get(e){return Ce(this,e,!0)},get size(){return Ee(this,!0)},has(e){return Se.call(this,e,!0)},add:Oe("add"),set:Oe("set"),delete:Oe("delete"),clear:Oe("clear"),forEach:Pe(!0,!1)},Ae={get(e){return Ce(this,e,!0,!0)},get size(){return Ee(this,!0)},has(e){return Se.call(this,e,!0)},add:Oe("add"),set:Oe("set"),delete:Oe("delete"),clear:Oe("clear"),forEach:Pe(!0,!0)};function Fe(e,t){const n=t?e?Ae:Re:e?Me:De;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(w(n,r)&&r in t?n:t,r,i)}["keys","values","entries",Symbol.iterator].forEach((e=>{De[e]=Ie(e,!1,!1),Me[e]=Ie(e,!0,!1),Re[e]=Ie(e,!1,!0),Ae[e]=Ie(e,!0,!0)}));const Le={get:Fe(!1,!1)},Ye={get:Fe(!1,!0)},je={get:Fe(!0,!1)},We=new WeakMap,Ue=new WeakMap,qe=new WeakMap,Ve=new WeakMap;function He(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>I(e).slice(8,-1))(e))}function Be(e){return e&&e.__v_isReadonly?e:Ge(e,!1,_e,Le,We)}function ze(e){return Ge(e,!0,ye,je,qe)}function Ge(e,t,n,r,i){if(!x(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=He(e);if(0===s)return e;const a=new Proxy(e,2===s?r:n);return i.set(e,a),a}function $e(e){return Qe(e)?$e(e.__v_raw):!(!e||!e.__v_isReactive)}function Qe(e){return!(!e||!e.__v_isReadonly)}function Ke(e){return $e(e)||Qe(e)}function Ze(e){return e&&Ze(e.__v_raw)||e}const Je=e=>x(e)?Be(e):e;function Xe(e){return Boolean(e&&!0===e.__v_isRef)}function et(e){return nt(e)}class tt{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:Je(e)}get value(){return ie(Ze(this),0,"value"),this._value}set value(e){U(Ze(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Je(e),oe(Ze(this),"set","value",e))}}function nt(e,t=!1){return Xe(e)?e:new tt(e,t)}function rt(e){return Xe(e)?e.value:e}const it={get:(e,t,n)=>rt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Xe(i)&&!Xe(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function ot(e){return $e(e)?e:new Proxy(e,it)}class st{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}class at{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=K(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,oe(Ze(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const e=Ze(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),ie(e,0,"value"),e._value}set value(e){this._setter(e)}}function ut(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){ct(o,t,n)}return i}function lt(e,t,n,r){if(E(e)){const i=ut(e,t,n,r);return i&&N(i)&&i.catch((e=>{ct(e,t,n)})),i}const i=[];for(let o=0;o<e.length;o++)i.push(lt(e[o],t,n,r));return i}function ct(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const i=t.proxy,o=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void ut(s,null,10,[e,i,o])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let ht=!1,dt=!1;const ft=[];let pt=0;const _t=[];let yt=null,vt=0;const mt=[];let gt=null,wt=0;const bt=Promise.resolve();let Ct=null,St=null;function Et(e){const t=Ct||bt;return e?t.then(this?e.bind(this):e):t}function kt(e){if(!(ft.length&&ft.includes(e,ht&&e.allowRecurse?pt+1:pt)||e===St)){const t=function(e){let t=pt+1,n=ft.length;const r=It(e);for(;t<n;){const e=t+n>>>1;It(ft[e])<r?t=e+1:n=e}return t}(e);t>-1?ft.splice(t,0,e):ft.push(e),Tt()}}function Tt(){ht||dt||(dt=!0,Ct=bt.then(Ot))}function xt(e,t,n,r){b(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Tt()}function Nt(e,t=null){if(_t.length){for(St=t,yt=[...new Set(_t)],_t.length=0,vt=0;vt<yt.length;vt++)yt[vt]();yt=null,vt=0,St=null,Nt(e,t)}}function Pt(e){if(mt.length){const e=[...new Set(mt)];if(mt.length=0,gt)return void gt.push(...e);for(gt=e,gt.sort(((e,t)=>It(e)-It(t))),wt=0;wt<gt.length;wt++)gt[wt]();gt=null,wt=0}}const It=e=>null==e.id?1/0:e.id;function Ot(e){dt=!1,ht=!0,Nt(e),ft.sort(((e,t)=>It(e)-It(t)));try{for(pt=0;pt<ft.length;pt++){const e=ft[pt];e&&ut(e,null,14)}}finally{pt=0,ft.length=0,Pt(),ht=!1,Ct=null,(ft.length||mt.length)&&Ot(e)}}function Dt(e,t,...n){const r=e.vnode.props||c;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:o}=r[e]||c;o?i=n.map((e=>e.trim())):t&&(i=n.map(H))}let a,u=r[a=W(t)]||r[a=W(F(t))];!u&&o&&(u=r[a=W(Y(t))]),u&&lt(u,e,6,i);const l=r[a+"Once"];if(l){if(e.emitted){if(e.emitted[a])return}else(e.emitted={})[a]=!0;lt(l,e,6,i)}}function Rt(e,t,n=!1){if(!t.deopt&&void 0!==e.__emits)return e.__emits;const r=e.emits;let i={},o=!1;if(!E(e)){const r=e=>{const n=Rt(e,t,!0);n&&(o=!0,v(i,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return r||o?(b(r)?r.forEach((e=>i[e]=null)):v(i,r),e.__emits=i):e.__emits=null}function Mt(e,t){return!(!e||!_(t))&&(t=t.slice(2).replace(/Once$/,""),w(e,t[0].toLowerCase()+t.slice(1))||w(e,Y(t))||w(e,t))}let At=0;const Ft=e=>At+=e;let Lt=null,Yt=null;function jt(e){const t=Lt;return Lt=e,Yt=e&&e.type.__scopeId||null,t}function Wt(e){Yt=e}function Ut(){Yt=null}const qt=e=>Vt;function Vt(e,t=Lt){if(!t)return e;const n=(...n)=>{At||Qn(!0);const r=jt(t),i=e(...n);return jt(r),At||Kn(),i};return n._c=!0,n}function Ht(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:l,render:c,renderCache:h,data:d,setupState:f,ctx:p}=e;let _;const v=jt(e);try{let e;if(4&n.shapeFlag){const t=i||r;_=ar(c.call(t,t,h,o,f,d,p)),e=u}else{const n=t;0,_=ar(n.length>1?n(o,{attrs:u,slots:a,emit:l}):n(o,null)),e=t.props?u:zt(u)}let v=_;if(!1!==t.inheritAttrs&&e){const t=Object.keys(e),{shapeFlag:n}=v;t.length&&(1&n||6&n)&&(s&&t.some(y)&&(e=Gt(e,s)),v=ir(v,e))}n.dirs&&(v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),_=v}catch(m){Gn.length=0,ct(m,e,1),_=rr(Bn)}return jt(v),_}function Bt(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!Jn(r))return;if(r.type!==Bn||"v-if"===r.children){if(t)return;t=r}}return t}const zt=e=>{let t;for(const n in e)("class"===n||"style"===n||_(n))&&((t||(t={}))[n]=e[n]);return t},Gt=(e,t)=>{const n={};for(const r in e)y(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function $t(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!Mt(n,o))return!0}return!1}function Qt(e){if(E(e)&&(e=e()),b(e)){e=Bt(e)}return ar(e)}function Kt(e,t,n,r=!1){const i={},o={};V(o,er,1),e.propsDefaults=Object.create(null),Zt(e,t,i,o),n?e.props=r?i:Ge(i,!1,ve,Ye,Ue):e.type.props?e.props=i:e.props=o,e.attrs=o}function Zt(e,t,n,r){const[i,o]=e.propsOptions;if(t)for(const s in t){const o=t[s];if(R(s))continue;let a;i&&w(i,a=F(s))?n[a]=o:Mt(e.emitsOptions,s)||(r[s]=o)}if(o){const t=Ze(n);for(let r=0;r<o.length;r++){const s=o[r];n[s]=Jt(i,t,s,t[s],e)}}}function Jt(e,t,n,r,i){const o=e[n];if(null!=o){const e=w(o,"default");if(e&&void 0===r){const e=o.default;if(o.type!==Function&&E(e)){const{propsDefaults:o}=i;n in o?r=o[n]:(xr(i),r=o[n]=e(t),xr(null))}else r=e}o[0]&&(w(t,n)||e?!o[1]||""!==r&&r!==Y(n)||(r=!0):r=!1)}return r}function Xt(e,t,n=!1){if(!t.deopt&&e.__props)return e.__props;const r=e.props,i={},o=[];let s=!1;if(!E(e)){const r=e=>{s=!0;const[n,r]=Xt(e,t,!0);v(i,n),r&&o.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!r&&!s)return e.__props=h;if(b(r))for(let a=0;a<r.length;a++){const e=F(r[a]);en(e)&&(i[e]=c)}else if(r)for(const a in r){const e=F(a);if(en(e)){const t=r[a],n=i[e]=b(t)||E(t)?{type:t}:t;if(n){const t=rn(Boolean,n.type),r=rn(String,n.type);n[0]=t>-1,n[1]=r<0||t<r,(t>-1||w(n,"default"))&&o.push(e)}}}return e.__props=[i,o]}function en(e){return"$"!==e[0]}function tn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function nn(e,t){return tn(e)===tn(t)}function rn(e,t){return b(t)?t.findIndex((t=>nn(t,e))):E(t)&&nn(t,e)?0:-1}function on(e,t,n=Tr,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;ne(),xr(n);const i=lt(t,n,e,r);return xr(null),re(),i});return r?i.unshift(o):i.push(o),o}}const sn=e=>(t,n=Tr)=>!Pr&&on(e,t,n),an=sn("bm"),un=sn("m"),ln=sn("bu"),cn=sn("u"),hn=sn("bum"),dn=sn("um"),fn=sn("rtg"),pn=sn("rtc"),_n={};function yn(e,t,n){return vn(e,t,n)}function vn(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=c,a=Tr){let u,l,h=!1;if(Xe(e)?(u=()=>e.value,h=!!e._shallow):$e(e)?(u=()=>e,r=!0):u=b(e)?()=>e.map((e=>Xe(e)?e.value:$e(e)?gn(e):E(e)?ut(e,a,2,[a&&a.proxy]):void 0)):E(e)?t?()=>ut(e,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return l&&l(),lt(e,a,3,[f])}:d,t&&r){const e=u;u=()=>gn(e())}let f=e=>{l=v.options.onStop=()=>{ut(e,a,4)}},p=b(e)?[]:_n;const _=()=>{if(v.active)if(t){const e=v();(r||h||U(e,p))&&(l&&l(),lt(t,a,3,[e,p===_n?void 0:p,f]),p=e)}else v()};let y;_.allowRecurse=!!t,y="sync"===i?_:"post"===i?()=>An(_,a&&a.suspense):()=>{!a||a.isMounted?function(e){xt(e,yt,_t,vt)}(_):_()};const v=K(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:y});return Dr(v,a),t?n?_():p=v():"post"===i?An(v,a&&a.suspense):v(),()=>{Z(v),a&&m(a.effects,v)}}function mn(e,t,n){const r=this.proxy;return vn(k(e)?()=>r[e]:e.bind(r),t.bind(r),n,this)}function gn(e,t=new Set){if(!x(e)||t.has(e))return e;if(t.add(e),Xe(e))gn(e.value,t);else if(b(e))for(let n=0;n<e.length;n++)gn(e[n],t);else if(S(e)||C(e))e.forEach((e=>{gn(e,t)}));else for(const n in e)gn(e[n],t);return e}const wn=e=>e.type.__isKeepAlive;function bn(e,t,n=Tr){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(on(t,r,n),n){let e=n.parent;for(;e&&e.parent;)wn(e.parent.vnode)&&Cn(r,t,n,e),e=e.parent}}function Cn(e,t,n,r){const i=on(t,e,r,!0);dn((()=>{m(r[t],i)}),n)}const Sn=e=>"_"===e[0]||"$stable"===e,En=e=>b(e)?e.map(ar):[ar(e)],kn=(e,t,n)=>Vt((e=>En(t(e))),n),Tn=(e,t)=>{const n=e._ctx;for(const r in e){if(Sn(r))continue;const i=e[r];if(E(i))t[r]=kn(0,i,n);else if(null!=i){const e=En(i);t[r]=()=>e}}},xn=(e,t)=>{const n=En(t);e.slots.default=()=>n};function Nn(e,t){if(null===Lt)return e;const n=Lt.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[e,o,s,a=c]=t[i];E(e)&&(e={mounted:e,updated:e}),r.push({dir:e,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return e}function Pn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);const u=a.dir[r];u&&lt(u,n,8,[e.el,a,e,t])}}function In(){return{app:null,config:{isNativeTag:f,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:f,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let On=0;function Dn(e,t){return function(n,r=null){null==r||x(r)||(r=null);const i=In(),o=new Set;let s=!1;const a=i.app={_uid:On++,_component:n,_props:r,_container:null,_context:i,version:Lr,get config(){return i.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&E(e.install)?(o.add(e),e.install(a,...t)):E(e)&&(o.add(e),e(a,...t))),a),mixin:e=>(i.mixins.includes(e)||(i.mixins.push(e),(e.props||e.emits)&&(i.deopt=!0)),a),component:(e,t)=>t?(i.components[e]=t,a):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,a):i.directives[e],mount(o,u,l){if(!s){const c=rr(n,r);return c.appContext=i,u&&t?t(c,o):e(c,o,l),s=!0,a._container=o,o.__vue_app__=a,c.component.proxy}},unmount(){s&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,a)};return a}}function Rn(e){return E(e)?{setup:e,name:e.name}:e}const Mn={scheduler:kt,allowRecurse:!0},An=function(e,t){t&&t.pendingBranch?b(e)?t.effects.push(...e):t.effects.push(e):xt(e,gt,mt,wt)},Fn=(e,t,n,r)=>{if(b(e))return void e.forEach(((e,i)=>Fn(e,t&&(b(t)?t[i]:t),n,r)));let i;if(r){if(r.type.__asyncLoader)return;i=4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el}else i=null;const{i:o,r:s}=e,a=t&&t.r,u=o.refs===c?o.refs={}:o.refs,l=o.setupState;if(null!=a&&a!==s&&(k(a)?(u[a]=null,w(l,a)&&(l[a]=null)):Xe(a)&&(a.value=null)),k(s)){const e=()=>{u[s]=i,w(l,s)&&(l[s]=i)};i?(e.id=-1,An(e,n)):e()}else if(Xe(s)){const e=()=>{s.value=i};i?(e.id=-1,An(e,n)):e()}else E(s)&&ut(s,o,12,[i,u])};function Ln(e){return function(e,t){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:l,setElementText:f,parentNode:p,nextSibling:_,setScopeId:y=d,cloneNode:m,insertStaticContent:g}=e,b=(e,t,n,r=null,i=null,o=null,s=!1,a=null,u=!1)=>{e&&!Xn(e,t)&&(r=se(e),J(e,i,o,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);const{type:l,ref:c,shapeFlag:h}=t;switch(l){case Hn:C(e,t,n,r);break;case Bn:S(e,t,n,r);break;case zn:null==e&&E(t,n,r,s);break;case Vn:L(e,t,n,r,i,o,s,a,u);break;default:1&h?x(e,t,n,r,i,o,s,a,u):6&h?j(e,t,n,r,i,o,s,a,u):(64&h||128&h)&&l.process(e,t,n,r,i,o,s,a,u,ue)}null!=c&&i&&Fn(c,e&&e.ref,o,t)},C=(e,t,r,i)=>{if(null==e)n(t.el=a(t.children),r,i);else{const n=t.el=e.el;t.children!==e.children&&l(n,t.children)}},S=(e,t,r,i)=>{null==e?n(t.el=u(t.children||""),r,i):t.el=e.el},E=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r)},k=({el:e,anchor:t},r,i)=>{let o;for(;e&&e!==t;)o=_(e),n(e,r,i),e=o;n(t,r,i)},T=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=_(e),r(e),e=n;r(t)},x=(e,t,n,r,i,o,s,a,u)=>{s=s||"svg"===t.type,null==e?P(t,n,r,i,o,s,a,u):D(e,t,i,o,s,a,u)},P=(e,t,r,o,a,u,l,c)=>{let h,d;const{type:p,props:_,shapeFlag:y,transition:v,patchFlag:g,dirs:w}=e;if(e.el&&void 0!==m&&-1===g)h=e.el=m(e.el);else{if(h=e.el=s(e.type,u,_&&_.is,_),8&y?f(h,e.children):16&y&&O(e.children,h,null,o,a,u&&"foreignObject"!==p,l,c||!!e.dynamicChildren),w&&Pn(e,null,o,"created"),_){for(const t in _)R(t)||i(h,t,null,_[t],u,e.children,o,a,ie);(d=_.onVnodeBeforeMount)&&Yn(d,o,e)}I(h,e,e.scopeId,l,o)}w&&Pn(e,null,o,"beforeMount");const b=(!a||a&&!a.pendingBranch)&&v&&!v.persisted;b&&v.beforeEnter(h),n(h,t,r),((d=_&&_.onVnodeMounted)||b||w)&&An((()=>{d&&Yn(d,o,e),b&&v.enter(h),w&&Pn(e,null,o,"mounted")}),a)},I=(e,t,n,r,i)=>{if(n&&y(e,n),r)for(let o=0;o<r.length;o++)y(e,r[o]);if(i){if(t===i.subTree){const t=i.vnode;I(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},O=(e,t,n,r,i,o,s,a,u=0)=>{for(let l=u;l<e.length;l++){const u=e[l]=s?ur(e[l]):ar(e[l]);b(null,u,t,n,r,i,o,s,a)}},D=(e,t,n,r,s,a,u)=>{const l=t.el=e.el;let{patchFlag:h,dynamicChildren:d,dirs:p}=t;h|=16&e.patchFlag;const _=e.props||c,y=t.props||c;let v;if((v=y.onVnodeBeforeUpdate)&&Yn(v,n,t,e),p&&Pn(t,e,n,"beforeUpdate"),h>0){if(16&h)A(l,t,_,y,n,r,s);else if(2&h&&_.class!==y.class&&i(l,"class",null,y.class,s),4&h&&i(l,"style",_.style,y.style,s),8&h){const a=t.dynamicProps;for(let t=0;t<a.length;t++){const u=a[t],c=_[u],h=y[u];(h!==c||o&&o(l,u))&&i(l,u,c,h,s,e.children,n,r,ie)}}1&h&&e.children!==t.children&&f(l,t.children)}else u||null!=d||A(l,t,_,y,n,r,s);const m=s&&"foreignObject"!==t.type;d?M(e.dynamicChildren,d,l,n,r,m,a):u||z(e,t,l,null,n,r,m,a,!1),((v=y.onVnodeUpdated)||p)&&An((()=>{v&&Yn(v,n,t,e),p&&Pn(t,e,n,"updated")}),r)},M=(e,t,n,r,i,o,s)=>{for(let a=0;a<t.length;a++){const u=e[a],l=t[a],c=u.type===Vn||!Xn(u,l)||6&u.shapeFlag||64&u.shapeFlag?p(u.el):n;b(u,l,c,null,r,i,o,s,!0)}},A=(e,t,n,r,s,a,u)=>{if(n!==r){for(const l in r){if(R(l))continue;const c=r[l],h=n[l];(c!==h||o&&o(e,l))&&i(e,l,h,c,u,t.children,s,a,ie)}if(n!==c)for(const o in n)R(o)||o in r||i(e,o,n[o],null,u,t.children,s,a,ie)}},L=(e,t,r,i,o,s,u,l,c)=>{const h=t.el=e?e.el:a(""),d=t.anchor=e?e.anchor:a("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:_}=t;f>0&&(c=!0),_&&(l=l?l.concat(_):_),null==e?(n(h,r,i),n(d,r,i),O(t.children,r,d,o,s,u,l,c)):f>0&&64&f&&p&&e.dynamicChildren?(M(e.dynamicChildren,p,r,o,s,u,l),(null!=t.key||o&&t===o.subTree)&&jn(e,t,!0)):z(e,t,r,d,o,s,u,l,c)},j=(e,t,n,r,i,o,s,a,u)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,u):W(t,n,r,i,o,s,u):U(e,t,u)},W=(e,t,n,r,i,o,s)=>{const a=e.component=function(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Er,o={uid:kr++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xt(r,i),emitsOptions:Rt(r,i),emit:null,emitted:null,propsDefaults:c,ctx:c,data:c,props:c,attrs:c,slots:c,refs:c,setupState:c,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Dt.bind(null,o),o}(e,r,i);if(wn(e)&&(a.ctx.renderer=ue),function(e,t=!1){Pr=t;const{props:n,children:r}=e.vnode,i=Nr(e);Kt(e,n,i,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=t,V(t,"_",n)):Tn(t,e.slots={})}else e.slots={},t&&xn(e,t);V(e.slots,er,1)})(e,r);const o=i?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cr);const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=ot(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}(e):null;Tr=e,ne();const i=ut(r,e,0,[e.props,n]);if(re(),Tr=null,N(i)){if(t)return i.then((t=>{Ir(e,t)})).catch((t=>{ct(t,e,0)}));e.asyncDep=i}else Ir(e,i)}else Or(e)}(e,t):void 0;Pr=!1}(a),a.asyncDep){if(i&&i.registerDep(a,H),!e.el){const e=a.subTree=rr(Bn);S(null,e,t,n)}}else H(a,e,t,n,i,o,s)},U=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:u}=t,l=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||$t(r,s,l):!!s);if(1024&u)return!0;if(16&u)return r?$t(r,s,l):!!s;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!Mt(l,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void B(r,t,n);r.next=t,function(e){const t=ft.indexOf(e);t>pt&&ft.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},H=(e,t,n,r,i,o,s)=>{e.update=K((function(){if(e.isMounted){let t,{next:n,bu:r,u:a,parent:u,vnode:l}=e,c=n;n?(n.el=l.el,B(e,n,s)):n=l,r&&q(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Yn(t,u,n,l);const h=Ht(e),d=e.subTree;e.subTree=h,b(d,h,p(d.el),se(d),e,i,o),n.el=h.el,null===c&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,h.el),a&&An(a,i),(t=n.props&&n.props.onVnodeUpdated)&&An((()=>{Yn(t,u,n,l)}),i)}else{let s;const{el:a,props:u}=t,{bm:l,m:c,parent:h}=e;l&&q(l),(s=u&&u.onVnodeBeforeMount)&&Yn(s,h,t);const d=e.subTree=Ht(e);if(a&&ce?ce(t.el,d,e,i,null):(b(null,d,n,r,e,i,o),t.el=d.el),c&&An(c,i),s=u&&u.onVnodeMounted){const e=t;An((()=>{Yn(s,h,e)}),i)}const{a:f}=e;f&&256&t.shapeFlag&&An(f,i),e.isMounted=!0,t=n=r=null}}),Mn)},B=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Ze(i),[u]=e.propsOptions;if(!(r||s>0)||16&s){let r;Zt(e,t,i,o);for(const o in a)t&&(w(t,o)||(r=Y(o))!==o&&w(t,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Jt(u,t||c,o,void 0,e)):delete i[o]);if(o!==a)for(const e in o)t&&w(t,e)||delete o[e]}else if(8&s){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){const s=n[r],l=t[s];if(u)if(w(o,s))o[s]=l;else{const t=F(s);i[t]=Jt(u,a,t,l,e)}else o[s]=l}}oe(e,"set","$attrs")}(e,t.props,r,n),((e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=c;if(32&r.shapeFlag){const e=t._;e?n&&1===e?o=!1:(v(i,t),n||1!==e||delete i._):(o=!t.$stable,Tn(t,i)),s=t}else t&&(xn(e,t),s={default:1});if(o)for(const a in i)Sn(a)||a in s||delete i[a]})(e,t.children,n),ne(),Nt(void 0,e.update),re()},z=(e,t,n,r,i,o,s,a,u=!1)=>{const l=e&&e.children,c=e?e.shapeFlag:0,h=t.children,{patchFlag:d,shapeFlag:p}=t;if(d>0){if(128&d)return void $(l,h,n,r,i,o,s,a,u);if(256&d)return void G(l,h,n,r,i,o,s,a,u)}8&p?(16&c&&ie(l,i,o),h!==l&&f(n,h)):16&c?16&p?$(l,h,n,r,i,o,s,a,u):ie(l,i,o,!0):(8&c&&f(n,""),16&p&&O(h,n,r,i,o,s,a,u))},G=(e,t,n,r,i,o,s,a,u)=>{t=t||h;const l=(e=e||h).length,c=t.length,d=Math.min(l,c);let f;for(f=0;f<d;f++){const r=t[f]=u?ur(t[f]):ar(t[f]);b(e[f],r,n,null,i,o,s,a,u)}l>c?ie(e,i,o,!0,!1,d):O(t,n,r,i,o,s,a,u,d)},$=(e,t,n,r,i,o,s,a,u)=>{let l=0;const c=t.length;let d=e.length-1,f=c-1;for(;l<=d&&l<=f;){const r=e[l],c=t[l]=u?ur(t[l]):ar(t[l]);if(!Xn(r,c))break;b(r,c,n,null,i,o,s,a,u),l++}for(;l<=d&&l<=f;){const r=e[d],l=t[f]=u?ur(t[f]):ar(t[f]);if(!Xn(r,l))break;b(r,l,n,null,i,o,s,a,u),d--,f--}if(l>d){if(l<=f){const e=f+1,h=e<c?t[e].el:r;for(;l<=f;)b(null,t[l]=u?ur(t[l]):ar(t[l]),n,h,i,o,s,a,u),l++}}else if(l>f)for(;l<=d;)J(e[l],i,o,!0),l++;else{const p=l,_=l,y=new Map;for(l=_;l<=f;l++){const e=t[l]=u?ur(t[l]):ar(t[l]);null!=e.key&&y.set(e.key,l)}let v,m=0;const g=f-_+1;let w=!1,C=0;const S=new Array(g);for(l=0;l<g;l++)S[l]=0;for(l=p;l<=d;l++){const r=e[l];if(m>=g){J(r,i,o,!0);continue}let c;if(null!=r.key)c=y.get(r.key);else for(v=_;v<=f;v++)if(0===S[v-_]&&Xn(r,t[v])){c=v;break}void 0===c?J(r,i,o,!0):(S[c-_]=l+1,c>=C?C=c:w=!0,b(r,t[c],n,null,i,o,s,a,u),m++)}const E=w?function(e){const t=e.slice(),n=[0];let r,i,o,s,a;const u=e.length;for(r=0;r<u;r++){const u=e[r];if(0!==u){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,e[n[a]]<u?o=a+1:s=a;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=t[s];return n}(S):h;for(v=E.length-1,l=g-1;l>=0;l--){const e=_+l,h=t[e],d=e+1<c?t[e+1].el:r;0===S[l]?b(null,h,n,d,i,o,s,a,u):w&&(v<0||l!==E[v]?Q(h,n,d,2):v--)}}},Q=(e,t,r,i,o=null)=>{const{el:s,type:a,transition:u,children:l,shapeFlag:c}=e;if(6&c)return void Q(e.component.subTree,t,r,i);if(128&c)return void e.suspense.move(t,r,i);if(64&c)return void a.move(e,t,r,ue);if(a===Vn){n(s,t,r);for(let e=0;e<l.length;e++)Q(l[e],t,r,i);return void n(e.anchor,t,r)}if(a===zn)return void k(e,t,r);if(2!==i&&1&c&&u)if(0===i)u.beforeEnter(s),n(s,t,r),An((()=>u.enter(s)),o);else{const{leave:e,delayLeave:i,afterLeave:o}=u,a=()=>n(s,t,r),l=()=>{e(s,(()=>{a(),o&&o()}))};i?i(s,a,l):l()}else n(s,t,r)},J=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:l,shapeFlag:c,patchFlag:h,dirs:d}=e;if(null!=a&&Fn(a,null,n,null),256&c)return void t.ctx.deactivate(e);const f=1&c&&d;let p;if((p=s&&s.onVnodeBeforeUnmount)&&Yn(p,t,e),6&c)te(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);f&&Pn(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,i,ue,r):l&&(o!==Vn||h>0&&64&h)?ie(l,t,n,!1,!0):(o===Vn&&(128&h||256&h)||!i&&16&c)&&ie(u,t,n),r&&X(e)}((p=s&&s.onVnodeUnmounted)||f)&&An((()=>{p&&Yn(p,t,e),f&&Pn(e,null,t,"unmounted")}),n)},X=e=>{const{type:t,el:n,anchor:i,transition:o}=e;if(t===Vn)return void ee(n,i);if(t===zn)return void T(e);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,i=()=>t(n,s);r?r(e.el,s,i):i()}else s()},ee=(e,t)=>{let n;for(;e!==t;)n=_(e),r(e),e=n;r(t)},te=(e,t,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=e;if(r&&q(r),i)for(let u=0;u<i.length;u++)Z(i[u]);o&&(Z(o),J(s,e,t,n)),a&&An(a,t),An((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ie=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)J(e[s],t,n,r,i)},se=e=>6&e.shapeFlag?se(e.component.subTree):128&e.shapeFlag?e.suspense.next():_(e.anchor||e.el),ae=(e,t,n)=>{null==e?t._vnode&&J(t._vnode,null,null,!0):b(t._vnode||null,e,t,null,null,null,n),Pt(),t._vnode=e},ue={p:b,um:J,m:Q,r:X,mt:W,mc:O,pc:z,pbc:M,n:se,o:e};let le,ce;t&&([le,ce]=t(ue));return{render:ae,hydrate:le,createApp:Dn(ae,le)}}(e)}function Yn(e,t,n,r=null){lt(e,t,7,[n,r])}function jn(e,t,n=!1){const r=e.children,i=t.children;if(b(r)&&b(i))for(let o=0;o<r.length;o++){const e=r[o];let t=i[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[o]=ur(i[o]),t.el=e.el),n||jn(e,t))}}function Wn(e,t){return function(e,t,n=!0,r=!1){const i=Lt||Tr;if(i){const n=i.type;if("components"===e){const e=Rr(n);if(e&&(e===t||e===F(t)||e===j(F(t))))return n}const o=qn(i[e]||n[e],t)||qn(i.appContext[e],t);return!o&&r?n:o}}("components",e,!0,t)||e}const Un=Symbol();function qn(e,t){return e&&(e[t]||e[F(t)]||e[j(F(t))])}const Vn=Symbol(void 0),Hn=Symbol(void 0),Bn=Symbol(void 0),zn=Symbol(void 0),Gn=[];let $n=null;function Qn(e=!1){Gn.push($n=e?null:[])}function Kn(){Gn.pop(),$n=Gn[Gn.length-1]||null}function Zn(e,t,n,r,i){const o=rr(e,t,n,r,i,!0);return o.dynamicChildren=$n||h,Kn(),$n&&$n.push(o),o}function Jn(e){return!!e&&!0===e.__v_isVNode}function Xn(e,t){return e.type===t.type&&e.key===t.key}const er="__vInternal",tr=({key:e})=>null!=e?e:null,nr=({ref:e})=>null!=e?k(e)||Xe(e)||E(e)?{i:Lt,r:e}:e:null,rr=function(e,t=null,n=null,i=0,o=null,s=!1){e&&e!==Un||(e=Bn);if(Jn(e)){const r=ir(e,t,!0);return n&&lr(r,n),r}u=e,E(u)&&"__vccOpts"in u&&(e=e.__vccOpts);var u;if(t){(Ke(t)||er in t)&&(t=v({},t));let{class:e,style:n}=t;e&&!k(e)&&(t.class=a(e)),x(n)&&(Ke(n)&&!b(n)&&(n=v({},n)),t.style=r(n))}const l=k(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:x(e)?4:E(e)?2:0,c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&tr(t),ref:t&&nr(t),scopeId:Yt,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(lr(c,n),128&l){const{content:e,fallback:t}=function(e){const{shapeFlag:t,children:n}=e;let r,i;return 32&t?(r=Qt(n.default),i=Qt(n.fallback)):(r=Qt(n),i=ar(null)),{content:r,fallback:i}}(c);c.ssContent=e,c.ssFallback=t}!s&&$n&&(i>0||6&l)&&32!==i&&$n.push(c);return c};function ir(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:u}=e,l=t?function(...e){const t=v({},e[0]);for(let n=1;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=a([t.class,i.class]));else if("style"===e)t.style=r([t.style,i.style]);else if(_(e)){const n=t[e],r=i[e];n!==r&&(t[e]=n?[].concat(n,i[e]):r)}else""!==e&&(t[e]=i[e])}return t}(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&tr(l),ref:t&&t.ref?n&&o?b(o)?o.concat(nr(t)):[o,nr(t)]:nr(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Vn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ir(e.ssContent),ssFallback:e.ssFallback&&ir(e.ssFallback),el:e.el,anchor:e.anchor}}function or(e=" ",t=0){return rr(Hn,null,e,t)}function sr(e="",t=!1){return t?(Qn(),Zn(Bn,null,e)):rr(Bn,null,e)}function ar(e){return null==e||"boolean"==typeof e?rr(Bn):b(e)?rr(Vn,null,e):"object"==typeof e?null===e.el?e:ir(e):rr(Hn,null,String(e))}function ur(e){return null===e.el?e:ir(e)}function lr(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(b(t))n=16;else if("object"==typeof t){if(1&r||64&r){const n=t.default;return void(n&&(n._c&&Ft(1),lr(e,n()),n._c&&Ft(-1)))}{n=32;const r=t._;r||er in t?3===r&&Lt&&(1024&Lt.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=Lt}}else E(t)?(t={default:t,_ctx:Lt},n=32):(t=String(t),64&r?(n=16,t=[or(t)]):n=8);e.children=t,e.shapeFlag|=n}function cr(e,t){if(Tr){let n=Tr.provides;const r=Tr.parent&&Tr.parent.provides;r===n&&(n=Tr.provides=Object.create(r)),n[e]=t}else;}function hr(e,t,n=!1){const r=Tr||Lt;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&E(t)?t():t}}let dr=!0;function fr(e,t,n=[],r=[],i=[],o=!1){const{mixins:s,extends:a,data:u,computed:l,methods:h,watch:f,provide:p,inject:_,components:y,directives:m,beforeMount:g,mounted:w,beforeUpdate:C,updated:S,activated:k,deactivated:T,beforeDestroy:N,beforeUnmount:P,destroyed:I,unmounted:O,render:D,renderTracked:R,renderTriggered:M,errorCaptured:A,expose:F}=t,L=e.proxy,Y=e.ctx,j=e.appContext.mixins;if(o&&D&&e.render===d&&(e.render=D),o||(dr=!1,pr("beforeCreate","bc",t,e,j),dr=!0,yr(e,j,n,r,i)),a&&fr(e,a,n,r,i,!0),s&&yr(e,s,n,r,i),_)if(b(_))for(let c=0;c<_.length;c++){const e=_[c];Y[e]=hr(e)}else for(const c in _){const e=_[c];x(e)?Y[c]=hr(e.from||c,e.default,!0):Y[c]=hr(e)}if(h)for(const c in h){const e=h[c];E(e)&&(Y[c]=e.bind(L))}if(o?u&&n.push(u):(n.length&&n.forEach((t=>vr(e,t,L))),u&&vr(e,u,L)),l)for(const c in l){const e=l[c],t=Mr({get:E(e)?e.bind(L,L):E(e.get)?e.get.bind(L,L):d,set:!E(e)&&E(e.set)?e.set.bind(L):d});Object.defineProperty(Y,c,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e})}var W;if(f&&r.push(f),!o&&r.length&&r.forEach((e=>{for(const t in e)mr(e[t],Y,L,t)})),p&&i.push(p),!o&&i.length&&i.forEach((e=>{const t=E(e)?e.call(L):e;Reflect.ownKeys(t).forEach((e=>{cr(e,t[e])}))})),o&&(y&&v(e.components||(e.components=v({},e.type.components)),y),m&&v(e.directives||(e.directives=v({},e.type.directives)),m)),o||pr("created","c",t,e,j),g&&an(g.bind(L)),w&&un(w.bind(L)),C&&ln(C.bind(L)),S&&cn(S.bind(L)),k&&bn(k.bind(L),"a",W),T&&function(e,t){bn(e,"da",t)}(T.bind(L)),A&&((e,t=Tr)=>{on("ec",e,t)})(A.bind(L)),R&&pn(R.bind(L)),M&&fn(M.bind(L)),P&&hn(P.bind(L)),O&&dn(O.bind(L)),b(F)&&!o)if(F.length){const t=e.exposed||(e.exposed=ot({}));F.forEach((e=>{t[e]=function(e,t){return Xe(e[t])?e[t]:new st(e,t)}(L,e)}))}else e.exposed||(e.exposed=c)}function pr(e,t,n,r,i){for(let o=0;o<i.length;o++)_r(e,t,i[o],r);_r(e,t,n,r)}function _r(e,t,n,r){const{extends:i,mixins:o}=n,s=n[e];if(i&&_r(e,t,i,r),o)for(let a=0;a<o.length;a++)_r(e,t,o[a],r);s&&lt(s.bind(r.proxy),r,t)}function yr(e,t,n,r,i){for(let o=0;o<t.length;o++)fr(e,t[o],n,r,i,!0)}function vr(e,t,n){dr=!1;const r=t.call(n,n);dr=!0,x(r)&&(e.data===c?e.data=Be(r):v(e.data,r))}function mr(e,t,n,r){const i=r.includes(".")?function(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}(n,r):()=>n[r];if(k(e)){const n=t[e];E(n)&&yn(i,n)}else if(E(e))yn(i,e.bind(n));else if(x(e))if(b(e))e.forEach((e=>mr(e,t,n,r)));else{const r=E(e.handler)?e.handler.bind(n):t[e.handler];E(r)&&yn(i,r,e)}}function gr(e,t,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=t;o&&gr(e,o,n),i&&i.forEach((t=>gr(e,t,n)));for(const s in t)r&&w(r,s)?e[s]=r[s](e[s],t[s],n.proxy,s):e[s]=t[s]}const wr=e=>e?Nr(e)?e.exposed?e.exposed:e.proxy:wr(e.parent):null,br=v(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wr(e.parent),$root:e=>wr(e.root),$emit:e=>e.emit,$options:e=>function(e){const t=e.type,{__merged:n,mixins:r,extends:i}=t;if(n)return n;const o=e.appContext.mixins;if(!o.length&&!r&&!i)return t;const s={};return o.forEach((t=>gr(s,t,e))),gr(s,t,e),t.__merged=s}(e),$forceUpdate:e=>()=>kt(e.update),$nextTick:e=>Et.bind(e.proxy),$watch:e=>mn.bind(e)}),Cr={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=e;if("__v_skip"===t)return!0;let l;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 0:return r[t];case 1:return i[t];case 3:return n[t];case 2:return o[t]}else{if(r!==c&&w(r,t))return s[t]=0,r[t];if(i!==c&&w(i,t))return s[t]=1,i[t];if((l=e.propsOptions[0])&&w(l,t))return s[t]=2,o[t];if(n!==c&&w(n,t))return s[t]=3,n[t];dr&&(s[t]=4)}}const h=br[t];let d,f;return h?("$attrs"===t&&ie(e,0,t),h(e)):(d=a.__cssModules)&&(d=d[t])?d:n!==c&&w(n,t)?(s[t]=3,n[t]):(f=u.config.globalProperties,w(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;if(i!==c&&w(i,t))i[t]=n;else if(r!==c&&w(r,t))r[t]=n;else if(w(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||e!==c&&w(e,s)||t!==c&&w(t,s)||(a=o[0])&&w(a,s)||w(r,s)||w(br,s)||w(i.config.globalProperties,s)}},Sr=v({},Cr,{get(e,t){if(t!==Symbol.unscopables)return Cr.get(e,t,e)},has:(e,n)=>"_"!==n[0]&&!t(n)}),Er=In();let kr=0;let Tr=null;const xr=e=>{Tr=e};function Nr(e){return 4&e.vnode.shapeFlag}let Pr=!1;function Ir(e,t,n){E(t)?e.render=t:x(t)&&(e.setupState=ot(t)),Or(e)}function Or(e,t){const n=e.type;e.render||(e.render=n.render||d,e.render._rc&&(e.withProxy=new Proxy(e.ctx,Sr))),Tr=e,ne(),fr(e,n),re(),Tr=null}function Dr(e,t=Tr){t&&(t.effects||(t.effects=[])).push(e)}function Rr(e){return E(e)&&e.displayName||e.name}function Mr(e){const t=function(e){let t,n;return E(e)?(t=e,n=d):(t=e.get,n=e.set),new at(t,n,E(e)||!e.set)}(e);return Dr(t.effect),t}function Ar(e,t,n){const r=arguments.length;return 2===r?x(t)&&!b(t)?Jn(t)?rr(e,null,[t]):rr(e,t):rr(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Jn(n)&&(n=[n]),rr(e,t,n))}function Fr(e,t){let n;if(b(e)||k(e)){n=new Array(e.length);for(let r=0,i=e.length;r<i;r++)n[r]=t(e[r],r)}else if("number"==typeof e){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r)}else if(x(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const r=Object.keys(e);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=t(e[o],o,i)}}else n=[];return n}const Lr="3.0.11",Yr="http://www.w3.org/2000/svg",jr="undefined"!=typeof document?document:null;let Wr,Ur;const qr={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?jr.createElementNS(Yr,e):jr.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>jr.createTextNode(e),createComment:e=>jr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const i=r?Ur||(Ur=jr.createElementNS(Yr,"svg")):Wr||(Wr=jr.createElement("div"));i.innerHTML=e;const o=i.firstChild;let s=o,a=s;for(;s;)a=s,qr.insert(s,t,n),s=i.firstChild;return[o,a]}};const Vr=/\s*!important$/;function Hr(e,t,n){if(b(n))n.forEach((n=>Hr(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=zr[t];if(n)return n;let r=F(t);if("filter"!==r&&r in e)return zr[t]=r;r=j(r);for(let i=0;i<Br.length;i++){const n=Br[i]+r;if(n in e)return zr[t]=n}return t}(e,t);Vr.test(n)?e.setProperty(Y(r),n.replace(Vr,""),"important"):e[r]=n}}const Br=["Webkit","Moz","ms"],zr={};const Gr="http://www.w3.org/1999/xlink";let $r=Date.now,Qr=!1;if("undefined"!=typeof window){$r()>document.createEvent("Event").timeStamp&&($r=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Qr=!!(e&&Number(e[1])<=53)}let Kr=0;const Zr=Promise.resolve(),Jr=()=>{Kr=0};function Xr(e,t,n,r){e.addEventListener(t,n,r)}function ei(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=function(e){let t;if(ti.test(e)){let n;for(t={};n=e.match(ti);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Y(e.slice(2)),t]}(t);if(r){Xr(e,n,o[t]=function(e,t){const n=e=>{const r=e.timeStamp||$r();(Qr||r>=n.attached-1)&&lt(function(e,t){if(b(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>Kr||(Zr.then(Jr),Kr=$r()))(),n}(r,i),a)}else s&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,s,a),o[t]=void 0)}}const ti=/(?:Once|Passive|Capture)$/;const ni=/^on[a-z]/;const ri=e=>{const t=e.props["onUpdate:modelValue"];return b(t)?e=>q(t,e):t};function ii(e){e.target.composing=!0}function oi(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(t,"input"))}const si={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=ri(i);const o=r||"number"===e.type;Xr(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n?r=r.trim():o&&(r=H(r)),e._assign(r)})),n&&Xr(e,"change",(()=>{e.value=e.value.trim()})),t||(Xr(e,"compositionstart",ii),Xr(e,"compositionend",oi),Xr(e,"change",oi))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:n,number:r}},i){if(e._assign=ri(i),e.composing)return;if(document.activeElement===e){if(n&&e.value.trim()===t)return;if((r||"number"===e.type)&&H(e.value)===t)return}const o=null==t?"":t;e.value!==o&&(e.value=o)}},ai={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ui(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ui(e,!0),r.enter(e)):r.leave(e,(()=>{ui(e,!1)})):ui(e,t))},beforeUnmount(e,{value:t}){ui(e,t)}};function ui(e,t){e.style.display=t?e._vod:"none"}const li=v({patchProp:(e,t,r,i,o=!1,s,a,u,l)=>{switch(t){case"class":!function(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}(e,i,o);break;case"style":!function(e,t,n){const r=e.style;if(n)if(k(n)){if(t!==n){const t=r.display;r.cssText=n,"_vod"in e&&(r.display=t)}}else{for(const e in n)Hr(r,e,n[e]);if(t&&!k(t))for(const e in t)null==n[e]&&Hr(r,e,"")}else e.removeAttribute("style")}(e,r,i);break;default:_(t)?y(t)||ei(e,t,0,i,a):function(e,t,n,r){if(r)return"innerHTML"===t||!!(t in e&&ni.test(t)&&E(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(ni.test(t)&&k(n))return!1;return t in e}(e,t,i,o)?function(e,t,n,r,i,o,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,i,o),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const r=typeof e[t];if(""===n&&"boolean"===r)return void(e[t]=!0);if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(a){}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}(e,t,i,s,a,u,l):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),function(e,t,r,i){if(i&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(Gr,t.slice(6,t.length)):e.setAttributeNS(Gr,t,r);else{const i=n(t);null==r||i&&!1===r?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}(e,t,i,o))}},forcePatchProp:(e,t)=>"value"===t},qr);let ci;const hi=(...e)=>{const t=(ci||(ci=Ln(li))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(k(e)){return document.querySelector(e)}return e}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(e);if(!r)return;const i=t._component;E(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};var di=function(e,t){return(di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function fi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}di(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var pi=function(){return(pi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function _i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function yi(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function vi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mi(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function gi(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi=!1,bi="${JSCORE_VERSION}",Ci=function(e,t){if(!e)throw Si(t)},Si=function(e){return new Error("Firebase Database ("+bi+") INTERNAL ASSERT FAILED: "+e)},Ei=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ki={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|a>>4,d=(15&a)<<2|l>>6,f=63&l;u||(f=64,s||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ei(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var l=o<<2|s>>4;if(r.push(l),64!==a){var c=s<<4&240|a>>2;if(r.push(c),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ti=function(e){try{return ki.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xi(e){return Ni(void 0,e)}function Ni(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ni(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pi=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Oi(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function Di(){return!0===wi}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Mi.prototype.create),o}return fi(t,e),t}(Error),Mi=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?Ai(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Ri(i,a,r);return u},e}();function Ai(e,t){return e.replace(Fi,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var Fi=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e){return JSON.parse(e)}function Yi(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=Li(Ti(o[0])||""),n=Li(Ti(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Wi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ui(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function qi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vi(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hi=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),s=1518500249):(o=u^l^c,s=1859775393):r<60?(o=u&l|c&(u|l),s=2400959708):(o=u^l^c,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Bi(e,t){var n=new zi(e,t);return n.subscribe.bind(n)}var zi=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Gi),void 0===r.error&&(r.error=Gi),void 0===r.complete&&(r.complete=Gi);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Gi(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Qi(e,t){return e+" failed: "+t+" argument "}function Ki(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Qi(e,t)+"must be a valid function.")}function Zi(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Qi(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xi(e){return e&&e._delegate?e._delegate:e}var eo=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),to=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Pi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=pi({identifier:"[DEFAULT]",optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(c){}try{for(var r=vi(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=mi(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService({instanceIdentifier:u});a.resolve(l)}catch(c){}}}catch(h){t={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return _i(this,void 0,void 0,(function(){var e;return yi(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(gi(gi([],mi(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),mi(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?"[DEFAULT]":r,o=e.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=vi(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var h=mi(c.value,2),d=h[0],f=h[1];a===this.normalizeInstanceIdentifier(d)&&f.resolve(u)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return u},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no,ro=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new to(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function io(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oo,so,ao=[];(so=oo||(oo={}))[so.DEBUG=0]="DEBUG",so[so.VERBOSE=1]="VERBOSE",so[so.INFO=2]="INFO",so[so.WARN=3]="WARN",so[so.ERROR=4]="ERROR",so[so.SILENT=5]="SILENT";var uo,lo={debug:oo.DEBUG,verbose:oo.VERBOSE,info:oo.INFO,warn:oo.WARN,error:oo.ERROR,silent:oo.SILENT},co=oo.INFO,ho=((no={})[oo.DEBUG]="log",no[oo.VERBOSE]="log",no[oo.INFO]="info",no[oo.WARN]="warn",no[oo.ERROR]="error",no),fo=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=ho[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,io(["["+i+"]  "+e.name+":"],n))}},po=function(){function e(e){this.name=e,this._logLevel=co,this._logHandler=fo,this._userLogHandler=null,ao.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in oo))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?lo[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,oo.DEBUG],e)),this._logHandler.apply(this,io([this,oo.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,oo.VERBOSE],e)),this._logHandler.apply(this,io([this,oo.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,oo.INFO],e)),this._logHandler.apply(this,io([this,oo.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,oo.WARN],e)),this._logHandler.apply(this,io([this,oo.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,oo.ERROR],e)),this._logHandler.apply(this,io([this,oo.ERROR],e))},e}();function _o(e){ao.forEach((function(t){t.setLogLevel(e)}))}var yo,vo=((uo={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",uo["bad-app-name"]="Illegal App name: '{$appName}",uo["duplicate-app"]="Firebase App named '{$appName}' already exists",uo["app-deleted"]="Firebase App named '{$appName}' already deleted",uo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",uo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",uo),mo=new Mi("app","Firebase",vo),go=((yo={})["@firebase/app"]="fire-core",yo["@firebase/analytics"]="fire-analytics",yo["@firebase/auth"]="fire-auth",yo["@firebase/database"]="fire-rtdb",yo["@firebase/functions"]="fire-fn",yo["@firebase/installations"]="fire-iid",yo["@firebase/messaging"]="fire-fcm",yo["@firebase/performance"]="fire-perf",yo["@firebase/remote-config"]="fire-rc",yo["@firebase/storage"]="fire-gcs",yo["@firebase/firestore"]="fire-fst",yo["fire-js"]="fire-js",yo["firebase-wrapper"]="fire-js-all",yo),wo=new po("@firebase/app"),bo=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=xi(e),this.container=new ro(t.name),this._addComponent(new eo("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){wo.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw mo.create("app-deleted",{appName:this.name_})},e}();bo.prototype.name&&bo.prototype.options||bo.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Co(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw mo.create("bad-app-name",{appName:String(s)});if(Wi(t,s))throw mo.create("duplicate-app",{appName:s});var a=new e(n,o,r);return t[s]=a,a},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=go[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void wo.warn(u.join(" "))}o(new eo(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:_o,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw mo.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=lo[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:oo[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=ao;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!Wi(t,e=e||"[DEFAULT]"))throw mo.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return wo.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw mo.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Ni(a,o.serviceProps),r[s]=a,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,l=Object.keys(t);u<l.length;u++){var c=l[u];t[c]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So=function e(){var t=Co(bo);return t.INTERNAL=pi(pi({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Ni(t,e)},createSubscribe:Bi,ErrorFactory:Mi,deepExtend:Ni}),t}(),Eo=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){wo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ko=self.firebase.SDK_VERSION;ko&&ko.indexOf("LITE")>=0&&wo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var To=So.initializeApp;So.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Oi()&&wo.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),To.apply(void 0,e)};var xo,No,Po=So;(xo=Po).INTERNAL.registerComponent(new eo("platform-logger",(function(e){return new Eo(e)}),"PRIVATE")),xo.registerVersion("@firebase/app","0.6.20",No),xo.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Po.registerVersion("firebase","8.4.1","app");var Io,Oo=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Yi(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Li(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),Do=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Wi(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),Ro=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Oo(t)}}catch(n){}return new Do},Mo=Ro("localStorage"),Ao=Ro("sessionStorage"),Fo=new po("@firebase/database"),Lo=(Io=1,function(){return Io++}),Yo=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Ci(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Hi;n.update(t);var r=n.digest();return ki.encodeByteArray(r)},jo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=jo.apply(null,i):n+="object"==typeof i?Yi(i):i,n+=" "}return n},Wo=null,Uo=!0,qo=function(e,t){Ci(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Fo.logLevel=oo.VERBOSE,Wo=Fo.log.bind(Fo),t&&Ao.set("logging_enabled",!0)):"function"==typeof e?Wo=e:(Wo=null,Ao.remove("logging_enabled"))},Vo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===Uo&&(Uo=!1,null===Wo&&!0===Ao.get("logging_enabled")&&qo(!0)),Wo){var n=jo.apply(null,e);Wo(n)}},Ho=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Vo.apply(void 0,gi([e],mi(t)))}},Bo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+jo.apply(void 0,gi([],mi(e)));Fo.error(n)},zo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+jo.apply(void 0,gi([],mi(e)));throw Fo.error(n),new Error(n)},Go=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+jo.apply(void 0,gi([],mi(e)));Fo.warn(n)},$o=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Qo="[MIN_NAME]",Ko="[MAX_NAME]",Zo=function(e,t){if(e===t)return 0;if(e===Qo||t===Ko)return-1;if(t===Qo||e===Ko)return 1;var n=os(e),r=os(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Jo=function(e,t){return e===t?0:e<t?-1:1},Xo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Yi(t))},es=function(e){if("object"!=typeof e||null===e)return Yi(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=Yi(t[i]),r+=":",r+=es(e[t[i]]);return r+="}"},ts=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ns(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var rs=function(e){Ci(!$o(e),"Invalid JSON number");var t,n,r,i,o,s=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var u=a.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var is=new RegExp("^-?(0*)\\d{1,10}$"),os=function(e){if(is.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ss=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Go("Exception was thrown by user callback.",e),t}),Math.floor(0))}},as=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},us=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Vo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Go(e)},e}(),ls=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),cs=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hs=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mo.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Mo.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function ds(e,t,n){var r;if(Ci("string"==typeof t,"typeof type must == string"),Ci("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return ns(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Wi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return xi(this.counters_)},e}(),ps={},_s={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){var t=e.toString();return ps[t]||(ps[t]=new fs),ps[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vs=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&ss((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ms=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ho(e),this.stats_=ys(t),this.urlFn=function(e){return ds(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new vs(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new gs((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=mi(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=mi(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&cs.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Yi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n,r=(n=Ei(t),ki.encodeByteArray(n,!0)),i=ts(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(e){var t=Yi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),gs=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Lo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Vo("frame writing exception"),a.stack&&Vo(a.stack),Vo(a)}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Vo("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Vo("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),ws="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(e){ws=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs=null;"undefined"!=typeof MozWebSocket?Cs=MozWebSocket:"undefined"!=typeof WebSocket&&(Cs=WebSocket);var Ss=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ho(this.connId),this.stats_=ys(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return"undefined"!=typeof location&&location.hostname&&cs.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),ds(e,"websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mo.set("previous_websocket_failure",!0);try{if(Di());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Cs(this.connURL,[],r)}}catch(o){this.log_("Error instantiating WebSocket.");var i=o.message||o.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Cs&&!e.forceDisallow_},e.previouslyFailed=function(){return Mo.isInMemoryStorage||!0===Mo.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){Mo.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Li(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Ci(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=Yi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=ts(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Es=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ms,Ss]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Ss&&Ss.isAvailable(),o=i&&!Ss.previouslyFailed();if(t.webSocketOnly&&(i||Go("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ss];else{var s=this.transports_=[];try{for(var a=vi(e.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var l=u.value;l&&l.isAvailable()&&s.push(l)}}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ks=function(){function e(e,t,n,r,i,o,s,a){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ho("c:"+this.id+":"),this.transportManager_=new Es(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=as((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=Xo("t",e),n=Xo("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=Xo("t",e),n=Xo("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=Xo("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Bo("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bo("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Go("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),as((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):as((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Ts=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),xs=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Ci(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=gi([],mi(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Ci(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Ns=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Ii()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return fi(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Ci("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(xs),Ps=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return new Ps("")}function Os(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ds(e){return e.pieces_.length-e.pieceNum_}function Rs(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ps(e.pieces_,t)}function Ms(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function As(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Fs(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ps(t,0)}function Ls(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ps)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Ps(n,0)}function Ys(e){return e.pieceNum_>=e.pieces_.length}function js(e,t){var n=Os(e),r=Os(t);if(null===n)return t;if(n===r)return js(Rs(e),Rs(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ws(e,t){for(var n=As(e,0),r=As(t,0),i=0;i<n.length&&i<r.length;i++){var o=Zo(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Us(e,t){if(Ds(e)!==Ds(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function qs(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ds(e)>Ds(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Vs=function(e,t){this.errorPrefix_=t,this.parts_=As(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Ji(this.parts_[n]);Hs(this)};function Hs(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bs(e))}function Bs(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zs,Gs,$s=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return fi(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Ci("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(xs),Qs=function(e){function t(n,r,i,o,s,a,u){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=s,l.authTokenProvider_=a,l.authOverride_=u,l.id=t.nextPersistentConnectionId_++,l.log_=Ho("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,u&&!Di())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),$s.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Ns.getInstance().on("online",l.onOnline_,l),l}return fi(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Yi(i)),Ci(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new Pi,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Ci(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ci(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};e.tag&&(s.q=r._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Wi(e,"w")){var n=Ui(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Go("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||"object"==typeof(t=ji(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e,t=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(e=ji(n).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(e){var r=e.s,i=e.d||"error";t.authToken_===n&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ci(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Yi(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Bo("Unrecognized action received from server: "+Yi(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Ci(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this,a=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,i())};this.realtime_={close:c,sendRequest:function(e){Ci(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){u?Vo("getToken() completed but was canceled"):(Vo("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,l=new ks(o,s.repoInfo_,s.applicationId_,n,r,i,(function(e){Go(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),a))})).then(null,(function(t){s.log_("Failed to get token: "+t),u||(e.repoInfo_.nodeAdmin&&Go(t),c())}))}},t.prototype.interrupt=function(e){Vo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){Vo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qi(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return es(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new Ps(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){Vo("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=vi(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,vi(s.values())),u=a.next();!u.done;u=a.next()){var l=u.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},t.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+ws.replace(/\./g,"-")]=1,Ii()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Ns.getInstance().currentlyOnline();return qi(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Ts),Ks=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Zs=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ks(Qo,e),r=new Ks(Qo,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ks.MIN},e}(),Js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return zs},set:function(e){zs=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return Zo(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Si("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ks.MIN},t.prototype.maxPost=function(){return new Ks(Ko,zs)},t.prototype.makePost=function(e,t){return Ci("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ks(e,zs)},t.prototype.toString=function(){return".key"},t}(Zs),Xs=new Js,ea=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),ta=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ra.EMPTY_NODE,this.right=null!=o?o:ra.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ra.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ra.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),na=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ta(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ra=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ta.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ta.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new ea(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new ea(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new ea(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new ea(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new na,e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ia(e,t){return Zo(e.name,t.name)}function oa(e,t){return Zo(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sa,aa,ua,la=function(e){return"number"==typeof e?"number:"+rs(e):"string:"+e},ca=function(e){if(e.isLeafNode()){var t=e.val();Ci("string"==typeof t||"number"==typeof t||"object"==typeof t&&Wi(t,".sv"),"Priority must be a string or number.")}else Ci(e===Gs||e.isEmpty(),"priority of unexpected type.");Ci(e===Gs||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ha=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ci(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ca(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return sa},set:function(e){sa=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Ys(t)?this:".priority"===Os(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Os(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Ci(".priority"!==r||1===Ds(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rs(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+la(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?rs(this.value_):this.value_,this.lazyHash_=Yo(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Ci(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Ci(i>=0,"Unknown leaf type: "+n),Ci(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var da,fa,pa=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Zo(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ks.MIN},t.prototype.maxPost=function(){return new Ks(Ko,new ha("[PRIORITY-POST]",ua))},t.prototype.makePost=function(e,t){var n=aa(e);return new Ks(t,new ha("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Zs)),_a=Math.log(2),ya=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/_a,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),va=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,s,a=r-t;if(0===a)return null;if(1===a)return o=e[t],s=n?n(o):o,new ta(s,o.node,ta.BLACK,null,null);var u=parseInt(a/2,10)+t,l=i(t,u),c=i(u+1,r);return o=e[u],s=n?n(o):o,new ta(s,o.node,ta.BLACK,l,c)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var l=i(o+1,a),c=e[o],h=n?n(c):c;u(new ta(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?a(h,ta.BLACK):(a(h,ta.BLACK),a(h,ta.RED))}return o}(new ya(e.length));return new ra(r||t,o)},ma={},ga=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Ci(ma&&pa,"ChildrenNode.ts has not been loaded"),da=da||new e({".priority":ma},{".priority":pa})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Ui(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ra?t:null},e.prototype.hasIndex=function(e){return Wi(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Ci(t!==Xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(Ks.Wrap),a=s.getNext();a;)o=o||t.isDefinedOn(a.node),i.push(a),a=s.getNext();r=o?va(i,t.getCompare()):ma;var u=t.toString(),l=pi({},this.indexSet_);l[u]=t;var c=pi({},this.indexes_);return c[u]=r,new e(c,l)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Vi(this.indexes_,(function(e,i){var o=Ui(r.indexSet_,i);if(Ci(o,"Missing index implementation for "+i),e===ma){if(o.isDefinedOn(t.node)){for(var s=[],a=n.getIterator(Ks.Wrap),u=a.getNext();u;)u.name!==t.name&&s.push(u),u=a.getNext();return s.push(t),va(s,o.getCompare())}return ma}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Ks(t.name,l))),c.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Vi(this.indexes_,(function(e){if(e===ma)return e;var r=n.get(t.name);return r?e.remove(new Ks(t.name,r)):e})),this.indexSet_)},e}(),wa=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ca(this.priorityNode_),this.children_.isEmpty()&&Ci(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return fa||(fa=new e(new ra(oa),null,ga.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||fa},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?fa:t},e.prototype.getChild=function(e){var t=Os(e);return null===t?this:this.getImmediateChild(t).getChild(Rs(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Ci(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ks(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?fa:this.priorityNode_;return new e(i,s,o)},e.prototype.updateChild=function(e,t){var n=Os(e);if(null===n)return t;Ci(".priority"!==Os(e)||1===Ds(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Rs(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(pa,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+la(this.getPriority().val())+":"),this.forEachChild(pa,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Yo(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ks(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ks(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ks(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ks.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ks.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ba?-1:0},e.prototype.withIndex=function(t){if(t===Xs||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Xs||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(pa),r=t.getIterator(pa),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Xs?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ba=new(function(e){function t(){return e.call(this,new ra(oa),wa.EMPTY_NODE,ga.Default)||this}return fi(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return wa.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(wa));Object.defineProperties(Ks,{MIN:{value:new Ks(Qo,wa.EMPTY_NODE)},MAX:{value:new Ks(Ko,ba)}}),Js.__EMPTY_NODE=wa.EMPTY_NODE,ha.__childrenNodeConstructor=wa,Gs=ba,function(e){ua=e}(ba);function Ca(e,t){if(void 0===t&&(t=null),null===e)return wa.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Ci(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new ha(e,Ca(t));if(e instanceof Array){var n=wa.EMPTY_NODE;return ns(e,(function(t,r){if(Wi(e,t)&&"."!==t.substring(0,1)){var i=Ca(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Ca(t))}var r=[],i=!1;if(ns(e,(function(e,t){if("."!==e.substring(0,1)){var n=Ca(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ks(e,n)))}})),0===r.length)return wa.EMPTY_NODE;var o=va(r,ia,(function(e){return e.name}),oa);if(i){var s=va(r,pa.getCompare());return new wa(o,Ca(t),new ga({".priority":s},{".priority":pa}))}return new wa(o,Ca(t),ga.Default)}!function(e){aa=e}(Ca);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Sa,Ea,ka=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Ci(!Ys(t)&&".priority"!==Os(t),"Can't create PathIndex with empty path or .priority key"),n}return fi(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Zo(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Ca(e),r=wa.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ks(t,r)},t.prototype.maxPost=function(){var e=wa.EMPTY_NODE.updateChild(this.indexPath_,ba);return new Ks(Ko,e)},t.prototype.toString=function(){return As(this.indexPath_,0).join("/")},t}(Zs),Ta=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?Zo(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ks.MIN},t.prototype.maxPost=function(){return Ks.MAX},t.prototype.makePost=function(e,t){var n=Ca(e);return new Ks(t,n)},t.prototype.toString=function(){return".value"},t}(Zs)),xa="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Na=(Sa=0,Ea=[],function(e){var t,n=e===Sa;Sa=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=xa.charAt(e%64),e=Math.floor(e/64);Ci(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===Ea[t];t--)Ea[t]=0;Ea[t]++}else for(t=0;t<12;t++)Ea[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=xa.charAt(Ea[t]);return Ci(20===i.length,"nextPushId: Length should be 20."),i}),Pa=function(e){if("2147483647"===e)return"-";var t=os(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return Ko;var o=n[i],s=xa.charAt(xa.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},Ia=function(e){if("-2147483648"===e)return Qo;var t=os(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=xa.charAt(xa.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Oa(e){return{type:"value",snapshotNode:e}}function Da(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ra(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ma(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Aa=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){Ci(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Ra(t,s)):Ci(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Da(t,n)):o.trackChildChange(Ma(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(pa,(function(e,r){t.hasChild(e)||n.trackChildChange(Ra(e,r))})),t.isLeafNode()||t.forEachChild(pa,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ma(t,r,i))}else n.trackChildChange(Da(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?wa.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Fa=function(){function e(t){this.indexedFilter_=new Aa(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ks(t,n))||(n=wa.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=wa.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(wa.EMPTY_NODE);var i=this;return t.forEachChild(pa,(function(e,t){i.matches(new Ks(e,t))||(r=r.updateImmediateChild(e,wa.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),La=function(){function e(e){this.rangedFilter_=new Fa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ks(t,n))||(n=wa.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=wa.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=wa.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(wa.EMPTY_NODE);var a=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){s=i.getNext();!h&&l(a,s)<=0&&(h=!0),h&&o<this.limit_&&l(s,u)<=0?o++:r=r.updateImmediateChild(s.name,wa.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else o=this.index_.getCompare();var a=e;Ci(a.numChildren()===this.limit_,"");var u=new Ks(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(a.hasChild(t)){for(var h=a.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||a.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:o(d,u);if(c&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(Ma(t,n,h)),a.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Ra(t,h));var p=a.updateImmediateChild(t,wa.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(Da(d.name,d.node)),p.updateImmediateChild(d.name,d.node)):p}return n.isEmpty()?e:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange(Ra(l.name,l.node)),i.trackChildChange(Da(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,wa.EMPTY_NODE)):e},e}(),Ya=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pa}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Ci(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Ci(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qo},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Ci(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Ci(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ko},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Ci(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===pa},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Wa(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ua(e,t){var n=e.copy();return n.index_=t,n}function qa(e){var t,n={};return e.isDefault()||(e.index_===pa?t="$priority":e.index_===Ta?t="$value":e.index_===Xs?t="$key":(Ci(e.index_ instanceof ka,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Yi(t),e.startSet_&&(n.startAt=Yi(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Yi(e.indexStartName_))),e.endSet_&&(n.endAt=Yi(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Yi(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Va(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==pa&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ha=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=Ho("p:rest:"),i.listens_={},i}return fi(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Ci(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var a=t.getListenId_(e,r),u={};this.listens_[a]=u;var l=qa(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(s,n,!1,r),Ui(o.listens_,a)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=qa(e._queryParams),r=e._path.toString(),i=new Pi;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);var e=null;if(a.status>=200&&a.status<300){try{e=Li(a.responseText)}catch(t){Go("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Go("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))},t}(Ts),Ba=function(){function e(){this.rootNode_=wa.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function za(){return{value:null,children:new Map}}function Ga(e,t,n){if(Ys(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Os(t);e.children.has(r)||e.children.set(r,za()),Ga(e.children.get(r),t=Rs(t),n)}}function $a(e,t){if(Ys(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(pa,(function(t,n){Ga(e,new Ps(t),n)})),$a(e,t)}if(e.children.size>0){var r=Os(t);if(t=Rs(t),e.children.has(r))$a(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Qa(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(function(e,r){Qa(r,new Ps(t.toString()+"/"+e),n)}))}var Ka,Za,Ja=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=pi({},e);return this.last_&&ns(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Xa=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ja(e);var n=1e4+2e4*Math.random();as(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;ns(t,(function(t,i){i>0&&Wi(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),as(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Za=Ka||(Ka={}))[Za.OVERWRITE=0]="OVERWRITE",Za[Za.MERGE=1]="MERGE",Za[Za.ACK_USER_WRITE=2]="ACK_USER_WRITE",Za[Za.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var tu,nu=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ka.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Ys(this.path)){if(null!=this.affectedTree.value)return Ci(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ps(t));return new e(Is(),n,this.revert)}return Ci(Os(this.path)===t,"operationForChild called for unrelated child."),new e(Rs(this.path),this.affectedTree,this.revert)},e}(),ru=function(){function e(e,t){this.source=e,this.path=t,this.type=Ka.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Ys(this.path)?new e(this.source,Is()):new e(this.source,Rs(this.path))},e}(),iu=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ka.OVERWRITE}return e.prototype.operationForChild=function(t){return Ys(this.path)?new e(this.source,Is(),this.snap.getImmediateChild(t)):new e(this.source,Rs(this.path),this.snap)},e}(),ou=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ka.MERGE}return e.prototype.operationForChild=function(t){if(Ys(this.path)){var n=this.children.subtree(new Ps(t));return n.isEmpty()?null:n.value?new iu(this.source,Is(),n.value):new e(this.source,Is(),n)}return Ci(Os(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Rs(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),su=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Ys(e))return this.isFullyInitialized()&&!this.filtered_;var t=Os(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),au=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(e,t,n,r,i,o){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Si("Should only compare child_ events.");var r=new Ks(t.childName,t.snapshotNode),i=new Ks(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function lu(e,t){return{eventCache:e,serverCache:t}}function cu(e,t,n,r){return lu(new su(t,n,r),e.serverCache)}function hu(e,t,n,r){return lu(e.eventCache,new su(t,n,r))}function du(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function fu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pu=function(){function e(e,t){void 0===t&&(tu||(tu=new ra(Jo)),t=tu),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return ns(t,(function(e,t){n=n.set(new Ps(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Is(),value:this.value};if(Ys(e))return null;var n=Os(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Rs(e),t);return null!=i?{path:Ls(new Ps(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Ys(t))return this;var n=Os(t),r=this.children.get(n);return null!==r?r.subtree(Rs(t)):new e(null)},e.prototype.set=function(t,n){if(Ys(t))return new e(n,this.children);var r=Os(t),i=(this.children.get(r)||new e(null)).set(Rs(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Ys(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Os(t),r=this.children.get(n);if(r){var i=r.remove(Rs(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Ys(e))return this.value;var t=Os(e),n=this.children.get(t);return n?n.get(Rs(e)):null},e.prototype.setTree=function(t,n){if(Ys(t))return n;var r=Os(t),i=(this.children.get(r)||new e(null)).setTree(Rs(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(Is(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ls(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Is(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ys(e))return null;var i=Os(e),o=this.children.get(i);return o?o.findOnPath_(Rs(e),Ls(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Is(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Ys(t))return this;this.value&&r(n,this.value);var i=Os(t),o=this.children.get(i);return o?o.foreachOnPath_(Rs(t),Ls(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(Is(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ls(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),_u=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new pu(null))},e}();function yu(e,t,n){if(Ys(t))return new _u(new pu(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=js(i,t);return o=o.updateChild(s,n),new _u(e.writeTree_.set(i,o))}var a=new pu(n),u=e.writeTree_.setTree(t,a);return new _u(u)}function vu(e,t,n){var r=e;return ns(n,(function(e,n){r=yu(r,Ls(t,e),n)})),r}function mu(e,t){if(Ys(t))return _u.empty();var n=e.writeTree_.setTree(t,new pu(null));return new _u(n)}function gu(e,t){return null!=wu(e,t)}function wu(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(js(n.path,t)):null}function bu(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(pa,(function(e,n){t.push(new Ks(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ks(e,n.value))})),t}function Cu(e,t){if(Ys(t))return e;var n=wu(e,t);return new _u(null!=n?new pu(n):e.writeTree_.subtree(t))}function Su(e){return e.writeTree_.isEmpty()}function Eu(e,t){return ku(Is(),e.writeTree_,t)}function ku(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Ci(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ku(Ls(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ls(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(e,t){return ju(t,e)}function xu(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Ci(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,s=e.allWrites.length-1;i&&s>=0;){var a=e.allWrites[s];a.visible&&(s>=n&&Nu(a,r.path)?i=!1:qs(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=Iu(e.allWrites,Pu,Is()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=mu(e.visibleWrites,r.path):ns(r.children,(function(t){e.visibleWrites=mu(e.visibleWrites,Ls(r.path,t))}));return!0}return!1}function Nu(e,t){if(e.snap)return qs(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&qs(Ls(e.path,n),t))return!0;return!1}function Pu(e){return e.visible}function Iu(e,t,n){for(var r=_u.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path,a=void 0;if(o.snap)qs(n,s)?r=yu(r,a=js(n,s),o.snap):qs(s,n)&&(a=js(s,n),r=yu(r,Is(),o.snap.getChild(a)));else{if(!o.children)throw Si("WriteRecord should have .snap or .children");if(qs(n,s))r=vu(r,a=js(n,s),o.children);else if(qs(s,n))if(Ys(a=js(s,n)))r=vu(r,Is(),o.children);else{var u=Ui(o.children,Os(a));if(u){var l=u.getChild(Rs(a));r=yu(r,Is(),l)}}}}}return r}function Ou(e,t,n,r,i){if(r||i){var o=Cu(e.visibleWrites,t);if(!i&&Su(o))return n;if(i||null!=n||gu(o,Is())){return Eu(Iu(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(qs(e.path,t)||qs(t,e.path))}),t),n||wa.EMPTY_NODE)}return null}var s=wu(e.visibleWrites,t);if(null!=s)return s;var a=Cu(e.visibleWrites,t);return Su(a)?n:null!=n||gu(a,Is())?Eu(a,n||wa.EMPTY_NODE):null}function Du(e,t,n,r){return Ou(e.writeTree,e.treePath,t,n,r)}function Ru(e,t){return function(e,t,n){var r=wa.EMPTY_NODE,i=wu(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(pa,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Cu(e.visibleWrites,t);return n.forEachChild(pa,(function(e,t){var n=Eu(Cu(o,new Ps(e)),t);r=r.updateImmediateChild(e,n)})),bu(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return bu(Cu(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Mu(e,t,n,r){return function(e,t,n,r,i){Ci(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Ls(t,n);if(gu(e.visibleWrites,o))return null;var s=Cu(e.visibleWrites,o);return Su(s)?i.getChild(n):Eu(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Au(e,t){return function(e,t){return wu(e.visibleWrites,t)}(e.writeTree,Ls(e.treePath,t))}function Fu(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){var a,u=Cu(e.visibleWrites,t),l=wu(u,Is());if(null!=l)a=l;else{if(null==n)return[];a=Eu(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var c=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=d.getNext();f&&c.length<i;)0!==h(f,r)&&c.push(f),f=d.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function Lu(e,t,n){return function(e,t,n,r){var i=Ls(t,n),o=wu(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Eu(Cu(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Yu(e,t){return ju(Ls(e.treePath,t),e.writeTree)}function ju(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wu=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Ci("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ci(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ma(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ra(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Da(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Si("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ma(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Uu=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),qu=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new su(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lu(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fu(this.viewCache_),i=Fu(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(e,t,n,r,i){var o,s,a=new Wu;if(n.type===Ka.OVERWRITE){var u=n;u.source.fromUser?o=zu(e,t,u.path,u.snap,r,i,a):(Ci(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!Ys(u.path),o=Bu(e,t,u.path,u.snap,r,i,s,a))}else if(n.type===Ka.MERGE){var l=n;l.source.fromUser?o=function(e,t,n,r,i,o,s){var a=t;return r.foreach((function(r,u){var l=Ls(n,r);Gu(t,Os(l))&&(a=zu(e,a,l,u,i,o,s))})),r.foreach((function(r,u){var l=Ls(n,r);Gu(t,Os(l))||(a=zu(e,a,l,u,i,o,s))})),a}(e,t,l.path,l.children,r,i,a):(Ci(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),o=Qu(e,t,l.path,l.children,r,i,s,a))}else if(n.type===Ka.ACK_USER_WRITE){var c=n;o=c.revert?function(e,t,n,r,i,o){var s;if(null!=Au(r,n))return t;var a=new qu(r,t,i),u=t.eventCache.getNode(),l=void 0;if(Ys(n)||".priority"===Os(n)){var c=void 0;if(t.serverCache.isFullyInitialized())c=Du(r,fu(t));else{var h=t.serverCache.getNode();Ci(h instanceof wa,"serverChildren would be complete if leaf node"),c=Ru(r,h)}c=c,l=e.filter.updateFullNode(u,c,o)}else{var d=Os(n),f=Lu(r,d,t.serverCache);null==f&&t.serverCache.isCompleteForChild(d)&&(f=u.getImmediateChild(d)),(l=null!=f?e.filter.updateChild(u,d,f,Rs(n),a,o):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(u,d,wa.EMPTY_NODE,Rs(n),a,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Du(r,fu(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,o))}return s=t.serverCache.isFullyInitialized()||null!=Au(r,Is()),cu(t,l,s,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,c.path,r,i,a):function(e,t,n,r,i,o,s){if(null!=Au(i,n))return t;var a=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Ys(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Bu(e,t,n,u.getNode().getChild(n),i,o,a,s);if(Ys(n)){var l=new pu(null);return u.getNode().forEachChild(Xs,(function(e,t){l=l.set(new Ps(e),t)})),Qu(e,t,n,l,i,o,a,s)}return t}var c=new pu(null);return r.foreach((function(e,t){var r=Ls(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Qu(e,t,n,c,i,o,a,s)}(e,t,c.path,c.affectedTree,r,i,a)}else{if(n.type!==Ka.LISTEN_COMPLETE)throw Si("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,s=hu(t,o.getNode(),o.isFullyInitialized()||Ys(n),o.isFiltered());return Hu(e,s,n,r,Uu,i)}(e,t,n.path,r,a)}var h=a.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=du(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Oa(du(t)))}}(t,o,h),{viewCache:o,changes:h}}function Hu(e,t,n,r,i,o){var s=t.eventCache;if(null!=Au(r,n))return t;var a=void 0,u=void 0;if(Ys(n))if(Ci(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=fu(t),c=Ru(r,l instanceof wa?l:wa.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{var h=Du(r,fu(t));a=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var d=Os(n);if(".priority"===d){Ci(1===Ds(n),"Can't have a priority with additional path components");var f=s.getNode(),p=Mu(r,n,f,u=t.serverCache.getNode());a=null!=p?e.filter.updatePriority(f,p):s.getNode()}else{var _=Rs(n),y=void 0;if(s.isCompleteForChild(d)){u=t.serverCache.getNode();var v=Mu(r,n,s.getNode(),u);y=null!=v?s.getNode().getImmediateChild(d).updateChild(_,v):s.getNode().getImmediateChild(d)}else y=Lu(r,d,t.serverCache);a=null!=y?e.filter.updateChild(s.getNode(),d,y,_,i,o):s.getNode()}}return cu(t,a,s.isFullyInitialized()||Ys(n),e.filter.filtersNodes())}function Bu(e,t,n,r,i,o,s,a){var u,l=t.serverCache,c=s?e.filter:e.filter.getIndexedFilter();if(Ys(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var d=Os(n);if(!l.isCompleteForPath(n)&&Ds(n)>1)return t;var f=Rs(n),p=l.getNode().getImmediateChild(d).updateChild(f,r);u=".priority"===d?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),d,p,f,Uu,null)}var _=hu(t,u,l.isFullyInitialized()||Ys(n),c.filtersNodes());return Hu(e,_,n,i,new qu(i,_,o),a)}function zu(e,t,n,r,i,o,s){var a,u,l=t.eventCache,c=new qu(i,t,o);if(Ys(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),a=cu(t,u,!0,e.filter.filtersNodes());else{var h=Os(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),a=cu(t,u,l.isFullyInitialized(),l.isFiltered());else{var d=Rs(n),f=l.getNode().getImmediateChild(h),p=void 0;if(Ys(d))p=r;else{var _=c.getCompleteChild(h);p=null!=_?".priority"===Ms(d)&&_.getChild(Fs(d)).isEmpty()?_:_.updateChild(d,r):wa.EMPTY_NODE}if(f.equals(p))a=t;else a=cu(t,e.filter.updateChild(l.getNode(),h,p,d,c,s),l.isFullyInitialized(),e.filter.filtersNodes())}}return a}function Gu(e,t){return e.eventCache.isCompleteForChild(t)}function $u(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Qu(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Ys(n)?r:new pu(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=$u(0,t.serverCache.getNode().getImmediateChild(n),r);l=Bu(e,l,new Ps(n),u,i,o,s,a)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var h=$u(0,t.serverCache.getNode().getImmediateChild(n),r);l=Bu(e,l,new Ps(n),h,i,o,s,a)}})),l}var Ku,Zu=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Aa(r.getIndex()),o=(n=r).loadsAllData()?new Aa(n.getIndex()):n.hasLimit()?new La(n):new Fa(n);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return{filter:e}}(o);var s=t.serverCache,a=t.eventCache,u=i.updateFullNode(wa.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(wa.EMPTY_NODE,a.getNode(),null),c=new su(u,s.isFullyInitialized(),i.filtersNodes()),h=new su(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=lu(h,c),this.eventGenerator_=new au(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Ju(e,t){var n=fu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ys(t)&&!n.getImmediateChild(Os(t)).isEmpty())?n.getChild(t):null}function Xu(e){return 0===e.eventRegistrations_.length}function el(e,t,n){var r=[];if(n){Ci(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],s=0;s<e.eventRegistrations_.length;++s){var a=e.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(s+1));break}}else o.push(a)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function tl(e,t,n,r){t.type===Ka.MERGE&&null!==t.source.queryId&&(Ci(fu(e.viewCache_),"We should always have a full cache before handling merges"),Ci(du(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,s=e.viewCache_,a=Vu(e.processor_,s,t,n,r);return i=e.processor_,o=a.viewCache,Ci(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ci(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Ci(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,nl(e,a.changes,a.viewCache.eventCache.getNode(),null)}function nl(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),uu(e,i,"child_removed",t,r,n),uu(e,i,"child_added",t,r,n),uu(e,i,"child_moved",o,r,n),uu(e,i,"child_changed",t,r,n),uu(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl,il=function(){this.views=new Map};function ol(e,t,n,r){var i,o,s=t.source.queryId;if(null!==s){var a=e.views.get(s);return Ci(null!=a,"SyncTree gave us an op for an invalid query."),tl(a,t,n,r)}var u=[];try{for(var l=vi(e.views.values()),c=l.next();!c.done;c=l.next()){a=c.value;u=u.concat(tl(a,t,n,r))}}catch(h){i={error:h}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return u}function sl(e,t,n,r,i){var o=t._queryIdentifier,s=e.views.get(o);if(!s){var a=Du(n,i?r:null),u=!1;a?u=!0:r instanceof wa?(a=Ru(n,r),u=!1):(a=wa.EMPTY_NODE,u=!1);var l=lu(new su(a,u,!1),new su(r,i,!1));return new Zu(t,l)}return s}function al(e,t,n,r,i,o){var s=sl(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pa,(function(e,t){r.push(Da(e,t))})),n.isFullyInitialized()&&r.push(Oa(n.getNode())),nl(e,r,n.getNode(),t)}(s,n)}function ul(e,t,n,r){var i,o,s=t._queryIdentifier,a=[],u=[],l=fl(e);if("default"===s)try{for(var c=vi(e.views.entries()),h=c.next();!h.done;h=c.next()){var d=mi(h.value,2),f=d[0],p=d[1];u=u.concat(el(p,n,r)),Xu(p)&&(e.views.delete(f),p.query._queryParams.loadsAllData()||a.push(p.query))}}catch(_){i={error:_}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else(p=e.views.get(s))&&(u=u.concat(el(p,n,r)),Xu(p)&&(e.views.delete(s),p.query._queryParams.loadsAllData()||a.push(p.query)));return l&&!fl(e)&&a.push(new(Ci(Ku,"Reference.ts has not been loaded"),Ku)(t._repo,t._path)),{removed:a,events:u}}function ll(e){var t,n,r=[];try{for(var i=vi(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function cl(e,t){var n,r,i=null;try{for(var o=vi(e.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i||Ju(a,t)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function hl(e,t){if(t._queryParams.loadsAllData())return pl(e);var n=t._queryIdentifier;return e.views.get(n)}function dl(e,t){return null!=hl(e,t)}function fl(e){return null!=pl(e)}function pl(e){var t,n;try{for(var r=vi(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _l=1,yl=function(e){this.listenProvider_=e,this.syncPointTree_=new pu(null),this.pendingWriteTree_={visibleWrites:_u.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function vl(e,t,n,r,i){return function(e,t,n,r,i){Ci(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=yu(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?kl(e,new iu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ml(e,t,n,r){!function(e,t,n,r){Ci(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=vu(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=pu.fromObject(n);return kl(e,new ou({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function gl(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(xu(e.pendingWriteTree_,t)){var i=new pu(null);return null!=r.snap?i=i.set(Is(),!0):ns(r.children,(function(e){i=i.set(new Ps(e),!0)})),kl(e,new nu(r.path,i,n))}return[]}function wl(e,t,n){return kl(e,new iu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function bl(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),s=[];if(o&&("default"===t._queryIdentifier||dl(o,t))){var a=ul(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=a.removed;s=a.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return fl(t)}));if(l&&!c){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&fl(t))return[pl(t)];var r=[];return t&&(r=ll(t)),ns(n,(function(e,t){r=r.concat(t)})),r}))}(h),f=0;f<d.length;++f){var p=d[f],_=p.query,y=Nl(e,p);e.listenProvider_.startListening(Ml(_),Pl(e,_),y.hashFn,y.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening(Ml(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Il(t));e.listenProvider_.stopListening(Ml(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Il(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return s}function Cl(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=js(e,r);i=i||cl(t,n),o=o||fl(t)}));var s,a=e.syncPointTree_.get(r);(a?(o=o||fl(a),i=i||cl(a,Is())):(a=new il,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=wa.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=cl(t,Is());n&&(i=i.updateImmediateChild(e,n))})));var u=dl(a,t);if(!u&&!t._queryParams.loadsAllData()){var l=Il(t);Ci(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var c=_l++;e.queryToTagMap.set(l,c),e.tagToQueryMap.set(c,l)}var h=al(a,t,n,Tu(e.pendingWriteTree_,r),i,s);if(!u&&!o){var d=hl(a,t);h=h.concat(function(e,t,n){var r=t._path,i=Pl(e,t),o=Nl(e,n),s=e.listenProvider_.startListening(Ml(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)Ci(!fl(a.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(e,t,n){if(!Ys(e)&&t&&fl(t))return[pl(t).query];var r=[];return t&&(r=r.concat(ll(t).map((function(e){return e.query})))),ns(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(Ml(c),Pl(e,c))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,d))}return h}function Sl(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=cl(n,js(e,t));if(r)return r}));return Ou(r,t,i,n,!0)}function El(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=js(e,n);r=r||cl(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||cl(i,Is()):(i=new il,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,s=o?new su(r,!0,!1):null;return function(e){return du(e.viewCache_)}(sl(i,t,Tu(e.pendingWriteTree_,t._path),o?s.getNode():wa.EMPTY_NODE,o))}function kl(e,t){return Tl(t,e.syncPointTree_,null,Tu(e.pendingWriteTree_,Is()))}function Tl(e,t,n,r){if(Ys(e.path))return xl(e,t,n,r);var i=t.get(Is());null==n&&null!=i&&(n=cl(i,Is()));var o=[],s=Os(e.path),a=e.operationForChild(s),u=t.children.get(s);if(u&&a){var l=n?n.getImmediateChild(s):null,c=Yu(r,s);o=o.concat(Tl(a,u,l,c))}return i&&(o=o.concat(ol(i,e,r,n))),o}function xl(e,t,n,r){var i=t.get(Is());null==n&&null!=i&&(n=cl(i,Is()));var o=[];return t.children.inorderTraversal((function(t,i){var s=n?n.getImmediateChild(t):null,a=Yu(r,t),u=e.operationForChild(t);u&&(o=o.concat(xl(u,i,s,a)))})),i&&(o=o.concat(ol(i,e,r,n))),o}function Nl(e,t){var n=t.query,r=Pl(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||wa.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Ol(e,n);if(r){var i=Dl(r),o=i.path,s=i.queryId,a=js(o,t);return Rl(e,o,new ru(eu(s),a))}return[]}(e,n._path,r):function(e,t){return kl(e,new ru({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return bl(e,n,null,i)}}}function Pl(e,t){var n=Il(t);return e.queryToTagMap.get(n)}function Il(e){return e._path.toString()+"$"+e._queryIdentifier}function Ol(e,t){return e.tagToQueryMap.get(t)}function Dl(e){var t=e.indexOf("$");return Ci(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ps(e.substr(0,t))}}function Rl(e,t,n){var r=e.syncPointTree_.get(t);return Ci(r,"Missing sync point for query tag that we're tracking"),ol(r,n,Tu(e.pendingWriteTree_,t),null)}function Ml(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ci(rl,"Reference.ts has not been loaded"),rl)(e._repo,e._path):e}var Al=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Fl=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ls(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Sl(this.syncTree_,this.path_)},e}(),Ll=function(e,t,n){return e&&"object"==typeof e?(Ci(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Yl(e[".sv"],t,n):"object"==typeof e[".sv"]?jl(e[".sv"],t):void Ci(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Yl=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Ci(!1,"Unexpected server value: "+e)}},jl=function(e,t,n){e.hasOwnProperty("increment")||Ci(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Ci(!1,"Unexpected increment value: "+r);var i=t.node();if(Ci(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},Wl=function(e,t,n,r){return ql(t,new Fl(n,e),r)},Ul=function(e,t,n){return ql(e,new Al(t),n)};function ql(e,t,n){var r,i=e.getPriority().val(),o=Ll(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,a=Ll(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new ha(a,Ca(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new ha(o))),u.forEachChild(pa,(function(e,i){var o=ql(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vl=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Hl(e,t){for(var n=t instanceof Ps?t:new Ps(t),r=e,i=Os(n);null!==i;){var o=Ui(r.node.children,i)||{children:{},childCount:0};r=new Vl(i,r,o),i=Os(n=Rs(n))}return r}function Bl(e){return e.node.value}function zl(e,t){e.node.value=t,Zl(e)}function Gl(e){return e.node.childCount>0}function $l(e,t){ns(e.node.children,(function(n,r){t(new Vl(n,e,r))}))}function Ql(e,t,n,r){n&&!r&&t(e),$l(e,(function(e){Ql(e,t,!0,r)})),n&&r&&t(e)}function Kl(e){return new Ps(null===e.parent?e.name:Kl(e.parent)+"/"+e.name)}function Zl(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Bl(e)&&!Gl(e)}(n),i=Wi(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Zl(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Zl(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}var Jl=/[\[\].#$\/\u0000-\u001F\u007F]/,Xl=/[\[\].#$\u0000-\u001F\u007F]/,ec=function(e){return"string"==typeof e&&0!==e.length&&!Jl.test(e)},tc=function(e){return"string"==typeof e&&0!==e.length&&!Xl.test(e)},nc=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!$o(e)||e&&"object"==typeof e&&Wi(e,".sv")},rc=function(e,t,n,r){r&&void 0===t||ic(Qi(e,"value"),t,n)},ic=function(e,t,n){var r=n instanceof Ps?new Vs(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Bs(r));if("function"==typeof t)throw new Error(e+"contains a function "+Bs(r)+" with contents = "+t.toString());if($o(t))throw new Error(e+"contains "+t.toString()+" "+Bs(r));if("string"==typeof t&&t.length>10485760/3&&Ji(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Bs(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(ns(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!ec(t)))throw new Error(e+" contains an invalid key ("+t+") "+Bs(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,a;a=t,(s=r).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(a),s.byteLength_+=Ji(a),Hs(s),ic(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=Ji(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&o)throw new Error(e+' contains ".value" child '+Bs(r)+" in addition to actual children.")}},oc=function(e,t,n,r){if(!r||void 0!==t){var i=Qi(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];ns(t,(function(e,t){var r=new Ps(e);if(ic(i,t,Ls(n,r)),".priority"===Ms(r)&&!nc(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=As(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ec(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ws);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&qs(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,o)}},sc=function(e,t,n){if(!n||void 0!==t){if($o(t))throw new Error(Qi(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nc(t))throw new Error(Qi(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ac=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Qi(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},uc=function(e,t,n,r){if(!(r&&void 0===n||ec(n)))throw new Error(Qi(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lc=function(e,t,n,r){if(!(r&&void 0===n||tc(n)))throw new Error(Qi(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},cc=function(e,t){if(".info"===Os(t))throw new Error(e+" failed = Can't modify data under /.info/")},hc=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ec(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),tc(e)}(n))throw new Error(Qi(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},dc=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Qi(e,t)+"must be a boolean.")},fc=function(){this.eventLists_=[],this.recursionDepth_=0};function pc(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Us(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function _c(e,t,n){pc(e,n),vc(e,(function(e){return Us(e,t)}))}function yc(e,t,n){pc(e,n),vc(e,(function(e){return qs(e,t)||qs(t,e)}))}function vc(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(mc(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function mc(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Wo&&Vo("event: "+n.toString()),ss(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gc=function(){function e(e,t,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=za(),this.transactionQueueTree_=new Vl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function wc(e,t,n){if(e.stats_=ys(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ha(e.repoInfo_,(function(t,n,r,i){Sc(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return Ec(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yi(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}e.persistentConnection_=new Qs(e.repoInfo_,t,(function(t,n,r,i){Sc(e,t,n,r,i)}),(function(t){Ec(e,t)}),(function(t){!function(e,t){ns(t,(function(t,n){kc(e,t,n)}))}(e,t)}),e.authTokenProvider_,n),e.server_=e.persistentConnection_}var r,i,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(r=e.repoInfo_,i=function(){return new Xa(e.stats_,e.server_)},o=r.toString(),_s[o]||(_s[o]=i()),_s[o]),e.infoData_=new Ba,e.infoSyncTree_=new yl({startListening:function(t,n,r,i){var o=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=wl(e.infoSyncTree_,t._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),kc(e,"connected",!1),e.serverSyncTree_=new yl({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);yc(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function bc(e){var t=e.infoData_.getNode(new Ps(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Cc(e){return(t=(t={timestamp:bc(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Sc(e,t,n,r,i){e.dataUpdateCount++;var o=new Ps(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var a=Vi(n,(function(e){return Ca(e)}));s=function(e,t,n,r){var i=Ol(e,r);if(i){var o=Dl(i),s=o.path,a=o.queryId,u=js(s,t),l=pu.fromObject(n);return Rl(e,s,new ou(eu(a),u,l))}return[]}(e.serverSyncTree_,o,a,i)}else{var u=Ca(n);s=function(e,t,n,r){var i=Ol(e,r);if(null!=i){var o=Dl(i),s=o.path,a=o.queryId,u=js(s,t);return Rl(e,s,new iu(eu(a),u,n))}return[]}(e.serverSyncTree_,o,u,i)}else if(r){var l=Vi(n,(function(e){return Ca(e)}));s=function(e,t,n){var r=pu.fromObject(n);return kl(e,new ou({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{var c=Ca(n);s=wl(e.serverSyncTree_,o,c)}var h=o;s.length>0&&(h=Fc(e,o)),yc(e.eventQueue_,h,s)}function Ec(e,t){kc(e,"connected",t),!1===t&&function(e){Dc(e,"onDisconnectEvents");var t=Cc(e),n=za();Qa(e.onDisconnect_,Is(),(function(r,i){var o=Wl(r,i,e.serverSyncTree_,t);Ga(n,r,o)}));var r=[];Qa(n,Is(),(function(t,n){r=r.concat(wl(e.serverSyncTree_,t,n));var i=Uc(e,t);Fc(e,i)})),e.onDisconnect_=za(),yc(e.eventQueue_,Is(),r)}(e)}function kc(e,t,n){var r=new Ps("/.info/"+t),i=Ca(n);e.infoData_.updateSnapshot(r,i);var o=wl(e.infoSyncTree_,r,i);yc(e.eventQueue_,r,o)}function Tc(e){return e.nextWriteId_++}function xc(e,t,n,r,i){Dc(e,"set",{path:t.toString(),value:n,priority:r});var o=Cc(e),s=Ca(n,r),a=Sl(e.serverSyncTree_,t),u=Ul(s,a,o),l=Tc(e),c=vl(e.serverSyncTree_,t,u,l,!0);pc(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||Go("set at "+t+" failed: "+n);var s=gl(e.serverSyncTree_,l,!o);yc(e.eventQueue_,t,s),Rc(e,i,n,r)}));var h=Uc(e,t);Fc(e,h),yc(e.eventQueue_,h,[])}function Nc(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&$a(e.onDisconnect_,t),Rc(e,n,r,i)}))}function Pc(e,t,n,r){var i=Ca(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Ga(e.onDisconnect_,t,i),Rc(e,r,n,o)}))}function Ic(e,t,n){var r;r=".info"===Os(t._path)?bl(e.infoSyncTree_,t,n):bl(e.serverSyncTree_,t,n),_c(e.eventQueue_,t._path,r)}function Oc(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function Dc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Vo.apply(void 0,gi([r],mi(t)))}function Rc(e,t,n,r){t&&ss((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Mc(e,t,n){return Sl(e.serverSyncTree_,t,n)||wa.EMPTY_NODE}function Ac(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Wc(e,t),Bl(t)){var n=Yc(e,t);Ci(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Mc(e,t,r),o=i,s=i.hash(),a=0;a<n.length;a++){var u=n[a];Ci(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=js(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=t;e.server_.put(h.toString(),c,(function(r){Dc(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(t){n[t].status=2,i=i.concat(gl(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},a=0;a<n.length;a++)s(a);Wc(e,Hl(e.transactionQueueTree_,t)),Ac(e,e.transactionQueueTree_),yc(e.eventQueue_,t,i);for(a=0;a<o.length;a++)ss(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{Go("transaction at "+h.toString()+" failed: "+r);for(a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}Fc(e,t)}}),s)}(e,Kl(t),n)}else Gl(t)&&$l(t,(function(t){Ac(e,t)}))}function Fc(e,t){var n=Lc(e,t),r=Kl(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var a,u,l=t[s],c=js(n,l.path),h=!1;if(Ci(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,a=l.abortReason,i=i.concat(gl(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,a="maxretry",i=i.concat(gl(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Mc(e,l.path,o);l.currentInputSnapshot=d;var f=t[s].update(d.val());if(void 0!==f){ic("transaction failed: Data returned ",f,l.path);var p=Ca(f);"object"==typeof f&&null!=f&&Wi(f,".priority")||(p=p.updatePriority(d.getPriority()));var _=l.currentWriteId,y=Cc(e),v=Ul(p,d,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Tc(e),o.splice(o.indexOf(_),1),i=(i=i.concat(vl(e.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally))).concat(gl(e.serverSyncTree_,_,!0))}else h=!0,a="nodata",i=i.concat(gl(e.serverSyncTree_,l.currentWriteId,!0))}yc(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,u=t[s].unwatcher,setTimeout(u,Math.floor(0)),t[s].onComplete&&("nodata"===a?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(a),!1,null)}))))},a=0;a<t.length;a++)s(a);Wc(e,e.transactionQueueTree_);for(a=0;a<r.length;a++)ss(r[a]);Ac(e,e.transactionQueueTree_)}(e,Yc(e,n),r),r}function Lc(e,t){var n,r=e.transactionQueueTree_;for(n=Os(t);null!==n&&void 0===Bl(r);)r=Hl(r,n),n=Os(t=Rs(t));return r}function Yc(e,t){var n=[];return jc(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function jc(e,t,n){var r=Bl(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);$l(t,(function(t){jc(e,t,n)}))}function Wc(e,t){var n=Bl(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,zl(t,n.length>0?n:void 0)}$l(t,(function(t){Wc(e,t)}))}function Uc(e,t){var n=Kl(Lc(e,t)),r=Hl(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){qc(e,t)})),qc(e,r),Ql(r,(function(t){qc(e,t)})),n}function qc(e,t){var n=Bl(t);if(n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Ci(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(Ci(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(gl(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?zl(t,void 0):n.length=o+1,yc(e.eventQueue_,Kl(t),i);for(s=0;s<r.length;s++)ss(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vc=function(e,t){var n=Hc(e),r=n.namespace;"firebase.com"===n.domain&&zo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||zo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Go("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new hs(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Ps(n.pathString)}},Hc=function(e){var t="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(c,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=vi(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Go("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(t.substring(l+1),10)):l=t.length;var f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Bc=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Yi(this.snapshot.exportVal())},e}(),zc=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Gc=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Ci(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),$c=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new Pi;return Nc(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){cc("OnDisconnect.remove",this._path);var e=new Pi;return Pc(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){cc("OnDisconnect.set",this._path),rc("OnDisconnect.set",e,this._path,!1);var t=new Pi;return Pc(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){cc("OnDisconnect.setWithPriority",this._path),rc("OnDisconnect.setWithPriority",e,this._path,!1),sc("OnDisconnect.setWithPriority",t,!1);var n=new Pi;return function(e,t,n,r,i){var o=Ca(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Ga(e.onDisconnect_,t,o),Rc(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){cc("OnDisconnect.update",this._path),oc("OnDisconnect.update",e,this._path,!1);var t=new Pi;return function(e,t,n,r){if(qi(n))return Vo("onDisconnect().update() called with empty data.  Don't do anything."),void Rc(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&ns(n,(function(n,r){var i=Ca(r);Ga(e.onDisconnect_,Ls(t,n),i)})),Rc(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Qc=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Ys(this._path)?null:Ms(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Xc(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Va(this._queryParams),t=es(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Va(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Xi(t))instanceof e))return!1;var n=this._repo===t._repo,r=Us(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Kc(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Zc(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Xs){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Qo)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Ko)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===pa){if(null!=t&&!nc(t)||null!=n&&!nc(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ci(e.getIndex()instanceof ka||e.getIndex()===Ta,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Jc(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Xc=function(e){function t(t,n){return e.call(this,t,n,new Ya,!1)||this}return fi(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Fs(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Qc),eh=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Ps(t),r=rh(this.ref,t);return new e(this._node.getChild(n),r,pa)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,rh(n.ref,r),pa))}))},e.prototype.hasChild=function(e){var t=new Ps(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function th(e,t){return(e=Xi(e))._checkNotDeleted("ref"),void 0!==t?rh(e._root,t):e._root}function nh(e,t){(e=Xi(e))._checkNotDeleted("refFromURL");var n=Vc(t,e._repo.repoInfo_.nodeAdmin);hc("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||zo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),th(e,n.path.toString())}function rh(e,t){var n,r,i,o;return null===Os((e=Xi(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),lc(n,r,i,o)):lc("child","path",t,!1),new Xc(e._repo,Ls(e._path,t))}function ih(e,t){e=Xi(e),cc("push",e._path),rc("push",t,e._path,!0);var n,r=bc(e._repo),i=Na(r),o=rh(e,i),s=rh(e,i);return n=null!=t?sh(s,t).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function oh(e){return cc("remove",e._path),sh(e,null)}function sh(e,t){e=Xi(e),cc("set",e._path),rc("set",t,e._path,!1);var n=new Pi;return xc(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function ah(e,t){e=Xi(e),cc("setPriority",e._path),sc("setPriority",t,!1);var n=new Pi;return xc(e._repo,Ls(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function uh(e,t,n){if(cc("setWithPriority",e._path),rc("setWithPriority",t,e._path,!1),sc("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Pi;return xc(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function lh(e,t){oc("update",t,e._path,!1);var n=new Pi;return function(e,t,n,r){Dc(e,"update",{path:t.toString(),value:n});var i=!0,o=Cc(e),s={};if(ns(n,(function(n,r){i=!1,s[n]=Wl(Ls(t,n),Ca(r),e.serverSyncTree_,o)})),i)Vo("update() called with empty data.  Don't do anything."),Rc(0,r,"ok",void 0);else{var a=Tc(e),u=ml(e.serverSyncTree_,t,s,a);pc(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||Go("update at "+t+" failed: "+n);var s=gl(e.serverSyncTree_,a,!o),u=s.length>0?Fc(e,t):t;yc(e.eventQueue_,u,s),Rc(0,r,n,i)})),ns(n,(function(n){var r=Uc(e,Ls(t,n));Fc(e,r)})),yc(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function ch(e){return function(e,t){var n=El(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Ca(n),i=wl(e.serverSyncTree_,t._path,r);return _c(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Dc(e,"get for query "+Yi(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Xi(e))._repo,e).then((function(t){return new eh(t,new Xc(e._repo,e._path),e._queryParams.getIndex())}))}var hh=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Bc("value",this,new eh(e.snapshotNode,new Xc(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new zc(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),dh=function(){function e(e){this.callbacks=e}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,Wi(this.callbacks,t)},e.prototype.createCancelEvent=function(e,t){return this.callbacks.cancel.hasCancelCallback?new zc(this,e,t):null},e.prototype.createEvent=function(e,t){Ci(null!=e.childName,"Child events should have a childName.");var n=rh(new Xc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Bc(e.type,this,new eh(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){if("cancel"===e.getEventType()){var t=this.callbacks.cancel;return function(){return t.onCancel(e.error)}}var n=this.callbacks[e.eventType];return function(){return n.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks||!t.callbacks)return!0;var r=Object.keys(t.callbacks),i=Object.keys(this.callbacks),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return a===s&&(!t.callbacks[s]||!this.callbacks[a]||t.callbacks[s].matches(this.callbacks[a]))}return i.every((function(e){return t.callbacks[e].matches(n.callbacks[e])}))}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks},e}();function fh(e,t,n,r,i){var o,s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){var a=n,u=function(t,n){a(t,n),Ic(e._repo,e,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}var l=new Gc(n,s||void 0),c="value"===t?new hh(l):new dh(((o={})[t]=l,o));return function(e,t,n){var r;r=".info"===Os(t._path)?Cl(e.infoSyncTree_,t,n):Cl(e.serverSyncTree_,t,n),_c(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Ic(e._repo,e,c)}}function ph(e,t,n,r){return fh(e,"value",t,n,r)}function _h(e,t,n,r){return fh(e,"child_added",t,n,r)}function yh(e,t,n,r){return fh(e,"child_changed",t,n,r)}function vh(e,t,n,r){return fh(e,"child_moved",t,n,r)}function mh(e,t,n,r){return fh(e,"child_removed",t,n,r)}function gh(e,t,n){var r=null,i=null,o=n?new Gc(n):null;"value"===t?r=new hh(o):t&&(n&&((i={})[t]=o),r=new dh(i)),Ic(e._repo,e,r)}var wh=function(){},bh=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return fi(t,e),t.prototype._apply=function(e){rc("endAt",this._value,e._path,!0);var t=Wa(e._queryParams,this._value,this._key);if(Jc(t),Zc(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qc(e._repo,e._path,t,e._orderByCalled)},t}(wh);function Ch(e,t){return uc("endAt","key",t,!0),new bh(e,t)}var Sh=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return fi(t,e),t.prototype._apply=function(e){rc("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===Xs?("string"==typeof n&&(n=Ia(n)),i=Wa(t,n,r)):i=Wa(t,n,null==r?Qo:Ia(r)),i.endBeforeSet_=!0,i);if(Jc(o),Zc(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qc(e._repo,e._path,o,e._orderByCalled)},t}(wh);function Eh(e,t){return uc("endBefore","key",t,!0),new Sh(e,t)}var kh=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return fi(t,e),t.prototype._apply=function(e){rc("startAt",this._value,e._path,!0);var t=ja(e._queryParams,this._value,this._key);if(Jc(t),Zc(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qc(e._repo,e._path,t,e._orderByCalled)},t}(wh);function Th(e,t){return void 0===e&&(e=null),uc("startAt","key",t,!0),new kh(e,t)}var xh=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return fi(t,e),t.prototype._apply=function(e){rc("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Xs?("string"==typeof t&&(t=Pa(t)),r=ja(e,t,n)):r=ja(e,t,null==n?Ko:Pa(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Jc(t),Zc(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qc(e._repo,e._path,t,e._orderByCalled)},t}(wh);function Nh(e,t){return uc("startAfter","key",t,!0),new xh(e,t)}var Ph=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return fi(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qc(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(wh);function Ih(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ph(e)}var Oh=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return fi(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qc(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(wh);function Dh(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Oh(e)}var Rh=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return fi(t,e),t.prototype._apply=function(e){Kc(e,"orderByChild");var t=new Ps(this._path);if(Ys(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ka(t),r=Ua(e._queryParams,n);return Zc(r),new Qc(e._repo,e._path,r,!0)},t}(wh);function Mh(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lc("orderByChild","path",e,!1),new Rh(e)}var Ah=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype._apply=function(e){Kc(e,"orderByKey");var t=Ua(e._queryParams,Xs);return Zc(t),new Qc(e._repo,e._path,t,!0)},t}(wh);function Fh(){return new Ah}var Lh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype._apply=function(e){Kc(e,"orderByPriority");var t=Ua(e._queryParams,pa);return Zc(t),new Qc(e._repo,e._path,t,!0)},t}(wh);function Yh(){return new Lh}var jh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype._apply=function(e){Kc(e,"orderByValue");var t=Ua(e._queryParams,Ta);return Zc(t),new Qc(e._repo,e._path,t,!0)},t}(wh);function Wh(){return new jh}var Uh=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return fi(t,e),t.prototype._apply=function(e){if(rc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bh(this._value,this._key)._apply(new kh(this._value,this._key)._apply(e))},t}(wh);function qh(e,t){return uc("equalTo","key",t,!0),new Uh(e,t)}function Vh(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Xi(e);try{for(var s=vi(r),a=s.next();!a.done;a=s.next()){var u=a.value;o=u._apply(o)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}!function(e){Ci(!Ku,"__referenceConstructor has already been defined"),Ku=e}(Xc),function(e){Ci(!rl,"__referenceConstructor has already been defined"),rl=e}(Xc);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hh={},Bh=!1;function zh(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||zo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vo("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var o,s=Vc(i,r),a=s.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,i="http://"+u+"?ns="+a.namespace,a=(s=Vc(i,r)).repoInfo):o=!s.repoInfo.secure;var l=r&&o?new ls:new us(e.name,e.options,t);hc("Invalid Firebase Database URL",s),Ys(s.path)||zo("Database URL must point to the root of a Firebase Database (not including a child path).");var c=function(e,t,n){var r=Hh[t.name];r||(r={},Hh[t.name]=r);var i=r[e.toURLString()];i&&zo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new gc(e,Bh,n),r[e.toURLString()]=i,i}(a,e,l);return new Gh(c,e)}var Gh=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(wc(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Xc(this._repo,Is())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=Hh[t])&&n[e.key]===e||zo("Database "+t+"("+e.repoInfo_+") has already been deleted."),Oc(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&zo("Cannot call "+e+" on a deleted database.")},e}();function $h(e,t,n){(e=Xi(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&zo("Cannot call useEmulator() after instance has already been initialized."),function(e,t,n){e.repoInfo_=new hs(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new ls)}(e._repo,t,n)}function Qh(e){(e=Xi(e))._checkNotDeleted("goOffline"),Oc(e._repo)}function Kh(e){var t;(e=Xi(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}function Zh(e,t){qo(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jh={".sv":"timestamp"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xh=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function ed(e,t,n){var r;if(e=Xi(e),cc("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new Pi,s=ph(e,(function(){}));return function(e,t,n,r,i,o){Dc(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:Lo(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Mc(e,t,void 0);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ic("transaction failed: Data returned ",u,s.path),s.status=0;var l=Hl(e.transactionQueueTree_,t),c=Bl(l)||[];c.push(s),zl(l,c);var h=void 0;"object"==typeof u&&null!==u&&Wi(u,".priority")?(h=Ui(u,".priority"),Ci(nc(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Sl(e.serverSyncTree_,t)||wa.EMPTY_NODE).getPriority().val();var d=Cc(e),f=Ca(u,h),p=Ul(f,a,d);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=Tc(e);var _=vl(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);yc(e.eventQueue_,t,_),Ac(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new eh(r,new Xc(e._repo,e._path),pa),o.resolve(new Xh(n,i)))}),s,i),o.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var td=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){$i("OnDisconnect.cancel",0,1,arguments.length),Ki("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){$i("OnDisconnect.remove",0,1,arguments.length),Ki("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){$i("OnDisconnect.set",1,2,arguments.length),Ki("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){$i("OnDisconnect.setWithPriority",2,3,arguments.length),Ki("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if($i("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Go("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ki("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),nd=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return $i("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),rd=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return $i("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return $i("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return $i("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return $i("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return $i("DataSnapshot.child",0,1,arguments.length),t=String(t),lc("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return $i("DataSnapshot.hasChild",1,1,arguments.length),lc("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return $i("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return $i("DataSnapshot.forEach",1,1,arguments.length),Ki("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return $i("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return $i("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return $i("DataSnapshot.ref",0,0,arguments.length),new od(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),id=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,s=this;$i("Query.on",2,4,arguments.length),Ki("Query.on","callback",n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(a.context,new rd(s.database,e),t)};u.userCallback=n,u.context=a.context;var l=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return ph(this._delegate,u,l),n;case"child_added":return _h(this._delegate,u,l),n;case"child_removed":return mh(this._delegate,u,l),n;case"child_changed":return yh(this._delegate,u,l),n;case"child_moved":return vh(this._delegate,u,l),n;default:throw new Error(Qi("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if($i("Query.off",0,3,arguments.length),ac("Query.off",e,!0),Ki("Query.off","callback",t,!0),Zi("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,gh(this._delegate,e,r)}else gh(this._delegate,e)},e.prototype.get=function(){var e=this;return ch(this._delegate).then((function(t){return new rd(e.database,t)}))},e.prototype.once=function(t,n,r,i){var o=this;$i("Query.once",1,4,arguments.length),Ki("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.on",r,i),a=new Pi,u=function(e,t){var r=new rd(o.database,e);n&&n.call(s.context,r,t),a.resolve(r)};u.userCallback=n,u.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),a.reject(e)};switch(t){case"value":ph(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":_h(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":mh(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":yh(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":vh(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Qi("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise},e.prototype.limitToFirst=function(t){return $i("Query.limitToFirst",1,1,arguments.length),new e(this.database,Vh(this._delegate,Ih(t)))},e.prototype.limitToLast=function(t){return $i("Query.limitToLast",1,1,arguments.length),new e(this.database,Vh(this._delegate,Dh(t)))},e.prototype.orderByChild=function(t){return $i("Query.orderByChild",1,1,arguments.length),new e(this.database,Vh(this._delegate,Mh(t)))},e.prototype.orderByKey=function(){return $i("Query.orderByKey",0,0,arguments.length),new e(this.database,Vh(this._delegate,Fh()))},e.prototype.orderByPriority=function(){return $i("Query.orderByPriority",0,0,arguments.length),new e(this.database,Vh(this._delegate,Yh()))},e.prototype.orderByValue=function(){return $i("Query.orderByValue",0,0,arguments.length),new e(this.database,Vh(this._delegate,Wh()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),$i("Query.startAt",0,2,arguments.length),new e(this.database,Vh(this._delegate,Th(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),$i("Query.startAfter",0,2,arguments.length),new e(this.database,Vh(this._delegate,Nh(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),$i("Query.endAt",0,2,arguments.length),new e(this.database,Vh(this._delegate,Ch(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),$i("Query.endBefore",0,2,arguments.length),new e(this.database,Vh(this._delegate,Eh(t,n)))},e.prototype.equalTo=function(t,n){return $i("Query.equalTo",1,2,arguments.length),new e(this.database,Vh(this._delegate,qh(t,n)))},e.prototype.toString=function(){return $i("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return $i("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if($i("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Ki(e,"cancel",r.cancel,!0),r.context=n,Zi(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Qi(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new od(this.database,new Xc(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),od=function(e){function t(t,n){var r=e.call(this,t,new Qc(n._repo,n._path,new Ya,!1))||this;return r.database=t,r._delegate=n,r}return fi(t,e),t.prototype.getKey=function(){return $i("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return $i("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,rh(this._delegate,e))},t.prototype.getParent=function(){$i("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return $i("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){$i("Reference.set",1,2,arguments.length),Ki("Reference.set","onComplete",t,!0);var n=sh(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if($i("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Go("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}cc("Reference.update",this._delegate._path),Ki("Reference.update","onComplete",t,!0);var i=lh(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){$i("Reference.setWithPriority",2,3,arguments.length),Ki("Reference.setWithPriority","onComplete",n,!0);var r=uh(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){$i("Reference.remove",0,1,arguments.length),Ki("Reference.remove","onComplete",e,!0);var t=oh(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;$i("Reference.transaction",1,3,arguments.length),Ki("Reference.transaction","transactionUpdate",e,!1),Ki("Reference.transaction","onComplete",t,!0),dc("Reference.transaction","applyLocally",n,!0);var i=ed(this._delegate,e,{applyLocally:n}).then((function(e){return new nd(e.committed,new rd(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){$i("Reference.setPriority",1,2,arguments.length),Ki("Reference.setPriority","onComplete",t,!0);var n=ah(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;$i("Reference.push",0,2,arguments.length),Ki("Reference.push","onComplete",n,!0);var i=ih(this._delegate,e),o=i.then((function(e){return new t(r.database,e)}));n&&o.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=o.then.bind(o),s.catch=o.catch.bind(o,void 0),s},t.prototype.onDisconnect=function(){return cc("Reference.onDisconnect",this._delegate._path),new td(new $c(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(id),sd=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t){$h(this._delegate,e,t)},e.prototype.ref=function(e){if($i("database.ref",0,1,arguments.length),e instanceof od){var t=nh(this._delegate,e.toString());return new od(this,t)}t=th(this._delegate,e);return new od(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";$i(t,1,1,arguments.length);var n=nh(this._delegate,e);return new od(this,n)},e.prototype.goOffline=function(){return $i("database.goOffline",0,0,arguments.length),Qh(this._delegate)},e.prototype.goOnline=function(){return $i("database.goOnline",0,0,arguments.length),Kh(this._delegate)},e.ServerValue={TIMESTAMP:Jh,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ad=Object.freeze({__proto__:null,forceLongPolling:function(){Ss.forceDisallow(),ms.forceAllow()},forceWebSockets:function(){ms.forceDisallow()},isWebSocketsAvailable:function(){return Ss.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Ja(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);ns(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,s=e.nodeAdmin,a=void 0!==s&&s;bs(r);var u=new to("auth-internal",new ro("database-standalone"));return u.setComponent(new eo("auth-internal",(function(){return i}),"PRIVATE")),{instance:new sd(zh(t,u,n,a),t),namespace:o}}}),ud=Qs;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Qs.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ld,cd=ks,hd=hs,dd=Object.freeze({__proto__:null,DataConnection:ud,RealTimeConnection:cd,hijackHash:function(e){var t=Qs.prototype.put;return Qs.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Qs.prototype.put=t}},ConnectionTarget:hd,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Bh=e}(e)}}),fd=sd.ServerValue;bs((ld=Po).SDK_VERSION),ld.INTERNAL.registerComponent(new eo("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new sd(zh(r,i,n),r)}),"PUBLIC").setServiceProps({Reference:od,Query:id,Database:sd,DataSnapshot:rd,enableLogging:Zh,INTERNAL:ad,ServerValue:fd,TEST_ACCESS:dd}).setMultipleInstances(!0)),ld.registerVersion("@firebase/database","0.9.10");function pd(e){return void 0===e&&(e=null),hr(null!==e?e:"store")}var _d=("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function yd(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}var vd=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},md={namespaced:{configurable:!0}};md.namespaced.get=function(){return!!this._rawModule.namespaced},vd.prototype.addChild=function(e,t){this._children[e]=t},vd.prototype.removeChild=function(e){delete this._children[e]},vd.prototype.getChild=function(e){return this._children[e]},vd.prototype.hasChild=function(e){return e in this._children},vd.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},vd.prototype.forEachChild=function(e){yd(this._children,e)},vd.prototype.forEachGetter=function(e){this._rawModule.getters&&yd(this._rawModule.getters,e)},vd.prototype.forEachAction=function(e){this._rawModule.actions&&yd(this._rawModule.actions,e)},vd.prototype.forEachMutation=function(e){this._rawModule.mutations&&yd(this._rawModule.mutations,e)},Object.defineProperties(vd.prototype,md);var gd=function(e){this.register([],e,!1)};function wd(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;wd(e.concat(r),t.getChild(r),n.modules[r])}}function bd(e){return new Cd(e)}gd.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},gd.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},gd.prototype.update=function(e){wd([],this.root,e)},gd.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new vd(t,n);0===e.length?this.root=i:this.get(e.slice(0,-1)).addChild(e[e.length-1],i);t.modules&&yd(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},gd.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},gd.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var Cd=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new gd(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var i=this,o=this.dispatch,s=this.commit;this.dispatch=function(e,t){return o.call(i,e,t)},this.commit=function(e,t,n){return s.call(i,e,t,n)},this.strict=r;var a=this._modules.root.state;xd(this,a,[],this._modules.root),Td(this,a),n.forEach((function(e){return e(t)})),(void 0===e.devtools||e.devtools)&&function(e){_d&&(e._devtoolHook=_d,_d.emit("vuex:init",e),_d.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){_d.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){_d.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},Sd={state:{configurable:!0}};function Ed(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function kd(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;xd(e,n,[],e._modules.root,!0),Td(e,n,t)}function Td(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};yd(i,(function(t,n){o[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return o[n]()},enumerable:!0})})),e._state=Be({data:t}),e.strict&&function(e){yn((function(){return e._state.data}),(function(){}),{deep:!0,flush:"sync"})}(e),r&&n&&e._withCommit((function(){r.data=null}))}function xd(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=Nd(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit((function(){a[u]=r.state}))}var l=r.context=function(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=Pd(n,r,i),s=o.payload,a=o.options,u=o.type;return a&&a.root||(u=t+u),e.dispatch(u,s)},commit:r?e.commit:function(n,r,i){var o=Pd(n,r,i),s=o.payload,a=o.options,u=o.type;a&&a.root||(u=t+u),e.commit(u,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return Nd(e.state,n)}}}),i}(e,s,n);r.forEachMutation((function(t,n){!function(e,t,n,r){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,r.state,t)}))}(e,s+n,t,l)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,i=t.handler||t;!function(e,t,n,r){(e._actions[t]||(e._actions[t]=[])).push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return function(e){return e&&"function"==typeof e.then}(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}(e,r,i,l)})),r.forEachGetter((function(t,n){!function(e,t,n,r){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}(e,s+n,t,l)})),r.forEachChild((function(r,o){xd(e,t,n.concat(o),r,i)}))}function Nd(e,t){return t.reduce((function(e,t){return e[t]}),e)}function Pd(e,t,n){var r;return null!==(r=e)&&"object"==typeof r&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}
/*!
  * vue-router v4.0.6
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */Cd.prototype.install=function(e,t){e.provide(t||"store",this),e.config.globalProperties.$store=this},Sd.state.get=function(){return this._state.data},Sd.state.set=function(e){},Cd.prototype.commit=function(e,t,n){var r=this,i=Pd(e,t,n),o=i.type,s=i.payload,a={type:o,payload:s},u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},Cd.prototype.dispatch=function(e,t){var n=this,r=Pd(e,t),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(l){}var u=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){u.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(l){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(l){}t(e)}))}))}},Cd.prototype.subscribe=function(e,t){return Ed(e,this._subscribers,t)},Cd.prototype.subscribeAction=function(e,t){return Ed("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},Cd.prototype.watch=function(e,t,n){var r=this;return yn((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},Cd.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},Cd.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),xd(this,this.state,e,this._modules.get(e),n.preserveState),Td(this,this.state)},Cd.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete Nd(t.state,e.slice(0,-1))[e[e.length-1]]})),kd(this)},Cd.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},Cd.prototype.hotUpdate=function(e){this._modules.update(e),kd(this,!0)},Cd.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Cd.prototype,Sd);const Id="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Od=e=>Id?Symbol(e):"_vr_"+e,Dd=Od("rvlm"),Rd=Od("rvd"),Md=Od("r"),Ad=Od("rl"),Fd=Od("rvl"),Ld="undefined"!=typeof window;const Yd=Object.assign;function jd(e,t){const n={};for(const r in t){const i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}let Wd=()=>{};const Ud=/\/$/;function qd(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("?"),u=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),o=t.slice(a+1,u>-1?u:t.length),i=e(o)),u>-1&&(r=r||t.slice(0,u),s=t.slice(u,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function Vd(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function Hd(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Bd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!zd(e[n],t[n]))return!1;return!0}function zd(e,t){return Array.isArray(e)?Gd(e,t):Array.isArray(t)?Gd(t,e):e===t}function Gd(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var $d,Qd,Kd,Zd;function Jd(e){if(!e)if(Ld){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Ud,"")}(Qd=$d||($d={})).pop="pop",Qd.push="push",(Zd=Kd||(Kd={})).back="back",Zd.forward="forward",Zd.unknown="";const Xd=/^[^#]+#/;function ef(e,t){return e.replace(Xd,"#")+t}const tf=()=>({left:window.pageXOffset,top:window.pageYOffset});function nf(e){let t;if("el"in e){let n=e.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function rf(e,t){return(history.state?history.state.position-t:-1)+e}const of=new Map;function sf(e,t){const{pathname:n,search:r,hash:i}=t;if(e.indexOf("#")>-1){let e=i.slice(1);return"/"!==e[0]&&(e="/"+e),Vd(e,"")}return Vd(n,e)+r+i}function af(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?tf():null}}function uf(e){const{history:t,location:n}=window;let r={value:sf(e,n)},i={value:t.state};function o(r,o,s){const a=e.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:location.protocol+"//"+location.host+e+r;try{t[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(l){console.error(l),n[s?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(e,n){const s=Yd({},i.value,t.state,{forward:e,scroll:tf()});o(s.current,s,!0),o(e,Yd({},af(r.value,e,null),{position:s.position+1},n),!1),r.value=e},replace:function(e,n){o(e,Yd({},t.state,af(i.value.back,e,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=e}}}function lf(e){const t=uf(e=Jd(e)),n=function(e,t,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=sf(e,location),u=n.value,l=t.value;let c=0;if(o){if(n.value=a,t.value=o,s&&s===u)return void(s=null);c=l?o.position-l.position:0}else r(a);i.forEach((e=>{e(n.value,u,{delta:c,type:$d.pop,direction:c?c>0?Kd.forward:Kd.back:Kd.unknown})}))};function u(){const{history:e}=window;e.state&&e.replaceState(Yd({},e.state,{scroll:tf()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(e,t.state,t.location,t.replace);const r=Yd({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:ef.bind(null,e)},t,n);return Object.defineProperty(r,"location",{get:()=>t.location.value}),Object.defineProperty(r,"state",{get:()=>t.state.value}),r}function cf(e){return(e=location.host?e||location.pathname+location.search:"").indexOf("#")<0&&(e+="#"),lf(e)}function hf(e){return"string"==typeof e||"symbol"==typeof e}const df={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ff=Od("nf");var pf,_f;function yf(e,t){return Yd(new Error,{type:e,[ff]:!0},t)}function vf(e,t){return e instanceof Error&&ff in e&&(null==t||!!(e.type&t))}(_f=pf||(pf={}))[_f.aborted=4]="aborted",_f[_f.cancelled=8]="cancelled",_f[_f.duplicated=16]="duplicated";const mf={sensitive:!1,strict:!1,start:!0,end:!0},gf=/[.+*?^${}()[\]/\\]/g;function wf(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function bf(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const e=wf(r[n],i[n]);if(e)return e;n++}return i.length-r.length}const Cf={type:0,value:""},Sf=/[a-zA-Z0-9_]/;function Ef(e,t,n){const r=function(e,t){const n=Yd({},mf,t);let r=[],i=n.start?"^":"";const o=[];for(const u of e){const e=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let t=0;t<u.length;t++){const r=u[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(gf,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:l,regexp:c}=r;o.push({name:e,repeatable:n,optional:l});const h=c||"[^/]+?";if("[^/]+?"!==h){s+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${e}" (${h}): `+a.message)}}let d=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;t||(d=l&&u.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),i+=d,s+=20,l&&(s+=-8),n&&(s+=-20),".*"===h&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:a}=e,u=o in t?t[o]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const l=Array.isArray(u)?u.join("/"):u;if(!l){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=l}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[Cf]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${l}": ${e}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,l="",c="";function h(){l&&(0===n?o.push({type:0,value:l}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:l,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),l="")}function d(){l+=a}for(;u<e.length;)if(a=e[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(l&&h(),s()):":"===a?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===a?n=2:Sf.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,c="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${l}"`),h(),s(),i}(e.path),n),i=Yd(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function kf(e,t){const n=[],r=new Map;function i(e,n,r){let a=!r,u=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Tf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);u.aliasOf=r&&r.record;const l=Pf(t,e),c=[u];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)c.push(Yd({},u,{components:r?r.record.components:u.components,path:e,aliasOf:r?r.record:u}))}let h,d;for(const t of c){let{path:c}=t;if(n&&"/"!==c[0]){let e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(c&&r+c)}if(h=Ef(t,n,l),r?r.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),a&&e.name&&!xf(h)&&o(e.name)),"children"in u){let e=u.children;for(let t=0;t<e.length;t++)i(e[t],h,r&&r.children[t])}r=r||h,s(h)}return d?()=>{o(d)}:Wd}function o(e){if(hf(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(e){let t=0;for(;t<n.length&&bf(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!xf(e)&&r.set(e.record.name,e)}return t=Pf({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>i(e))),{addRoute:i,resolve:function(e,t){let i,o,s,a={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw yf(1,{location:e});s=i.record.name,a=Yd(function(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=i.stringify(a)}else if("path"in e)o=e.path,i=n.find((e=>e.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw yf(1,{location:e,currentLocation:t});s=i.record.name,a=Yd({},t.params,e.params),o=i.stringify(a)}const u=[];let l=i;for(;l;)u.unshift(l.record),l=l.parent;return{name:s,path:o,params:a,matched:u,meta:Nf(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function Tf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function xf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Nf(e){return e.reduce(((e,t)=>Yd(e,t.meta)),{})}function Pf(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}const If=/#/g,Of=/&/g,Df=/\//g,Rf=/=/g,Mf=/\?/g,Af=/\+/g,Ff=/%5B/g,Lf=/%5D/g,Yf=/%5E/g,jf=/%60/g,Wf=/%7B/g,Uf=/%7C/g,qf=/%7D/g,Vf=/%20/g;function Hf(e){return encodeURI(""+e).replace(Uf,"|").replace(Ff,"[").replace(Lf,"]")}function Bf(e){return Hf(e).replace(Af,"%2B").replace(Vf,"+").replace(If,"%23").replace(Of,"%26").replace(jf,"`").replace(Wf,"{").replace(qf,"}").replace(Yf,"^")}function zf(e){return function(e){return Hf(e).replace(If,"%23").replace(Mf,"%3F")}(e).replace(Df,"%2F")}function Gf(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function $f(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(Af," ");let i=e.indexOf("="),o=Gf(i<0?e:e.slice(0,i)),s=i<0?null:Gf(e.slice(i+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function Qf(e){let t="";for(let n in e){t.length&&(t+="&");const r=e[n];if(n=Bf(n).replace(Rf,"%3D"),null==r){void 0!==r&&(t+=n);continue}let i=Array.isArray(r)?r.map((e=>e&&Bf(e))):[r&&Bf(r)];for(let e=0;e<i.length;e++)t+=(e?"&":"")+n,null!=i[e]&&(t+="="+i[e])}return t}function Kf(e){const t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function Zf(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function Jf(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=e=>{var u;!1===e?a(yf(4,{from:n,to:t})):e instanceof Error?a(e):"string"==typeof(u=e)||u&&"object"==typeof u?a(yf(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"==typeof e&&o.push(e),s())},l=e.call(r&&r.instances[i],t,n,u);let c=Promise.resolve(l);e.length<3&&(c=c.then(u)),c.catch((e=>a(e)))}))}function Xf(e,t,n,r){const i=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[t];o&&i.push(Jf(o,n,r,s,e))}else{let o=a();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const o=(a=i).__esModule||Id&&"Module"===a[Symbol.toStringTag]?i.default:i;var a;s.components[e]=o;const u=(o.__vccOpts||o)[t];return u&&Jf(u,n,r,s,e)()}))))}}var o;return i}function ep(e){const t=hr(Md),n=hr(Ad),r=Mr((()=>t.resolve(rt(e.to)))),i=Mr((()=>{let{matched:e}=r.value,{length:t}=e;const i=e[t-1];let o=n.matched;if(!i||!o.length)return-1;let s=o.findIndex(Hd.bind(null,i));if(s>-1)return s;let a=np(e[t-2]);return t>1&&np(i)===a&&o[o.length-1].path!==a?o.findIndex(Hd.bind(null,e[t-2])):s})),o=Mr((()=>i.value>-1&&function(e,t){for(let n in t){let r=t[n],i=e[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}(n.params,r.value.params))),s=Mr((()=>i.value>-1&&i.value===n.matched.length-1&&Bd(n.params,r.value.params)));return{route:r,href:Mr((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[rt(e.replace)?"replace":"push"](rt(e.to)):Promise.resolve()}}}const tp=Rn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t}){const n=Be(ep(e)),{options:r}=hr(Md),i=Mr((()=>({[rp(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[rp(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:Ar("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function np(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const rp=(e,t,n)=>null!=e?e:null!=t?t:n;function ip(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const op=Rn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=hr(Fd),i=Mr((()=>e.route||r.value)),o=hr(Rd,0),s=Mr((()=>i.value.matched[o]));cr(Rd,o+1),cr(Dd,s),cr(Fd,i);const a=et();return yn((()=>[a.value,s.value,e.name]),(([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&Hd(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=i.value,o=s.value,u=o&&o.components[e.name],l=e.name;if(!u)return ip(n.default,{Component:u,route:r});const c=o.props[e.name],h=c?!0===c?r.params:"function"==typeof c?c(r):c:null,d=Ar(u,Yd({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(o.instances[l]=null)},ref:a}));return ip(n.default,{Component:d,route:r})||d}}});function sp(e){const t=kf(e.routes,e);let n=e.parseQuery||$f,r=e.stringifyQuery||Qf,i=e.history;const o=Zf(),s=Zf(),a=Zf(),u=nt(df,!0);let l=df;Ld&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=jd.bind(null,(e=>""+e)),h=jd.bind(null,zf),d=jd.bind(null,Gf);function f(e,o){if(o=Yd({},o||u.value),"string"==typeof e){let r=qd(n,e,o.path),s=t.resolve({path:r.path},o),a=i.createHref(r.fullPath);return Yd(r,s,{params:d(s.params),hash:Gf(r.hash),redirectedFrom:void 0,href:a})}let s;"path"in e?s=Yd({},e,{path:qd(n,e.path,o.path).path}):(s=Yd({},e,{params:h(e.params)}),o.params=h(o.params));let a=t.resolve(s,o);const l=e.hash||"";a.params=c(d(a.params));const f=function(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Yd({},e,{hash:(p=l,Hf(p).replace(Wf,"{").replace(qf,"}").replace(Yf,"^")),path:a.path}));var p;let _=i.createHref(f);return Yd({fullPath:f,hash:l,query:r===Qf?Kf(e.query):e.query},a,{redirectedFrom:void 0,href:_})}function p(e){return"string"==typeof e?qd(n,e,u.value.path):Yd({},e)}function _(e,t){if(l!==e)return yf(8,{from:t,to:e})}function y(e){return m(e)}function v(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=p(r):{path:r}),Yd({query:e.query,hash:e.hash,params:e.params},r)}}function m(e,t){const n=l=f(e),i=u.value,o=e.state,s=e.force,a=!0===e.replace,c=v(n);if(c)return m(Yd(p(c),{state:o,force:s,replace:a}),t||n);const h=n;let d;return h.redirectedFrom=t,!s&&function(e,t,n){let r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Hd(t.matched[r],n.matched[i])&&Bd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,i,n)&&(d=yf(16,{to:h,from:i}),I(i,i,!0,!1)),(d?Promise.resolve(d):w(h,i)).catch((e=>vf(e)?e:N(e))).then((e=>{if(e){if(vf(e,2))return m(Yd(p(e.to),{state:o,force:s,replace:a}),t||h)}else e=C(h,i,!0,a,o);return b(h,i,e),e}))}function g(e,t){const n=_(e,t);return n?Promise.reject(n):Promise.resolve()}function w(e,t){let n;const[r,i,a]=function(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find((e=>Hd(e,o)))?r.push(o):n.push(o));const a=e.matched[s];a&&(t.matched.find((e=>Hd(e,a)))||i.push(a))}return[n,r,i]}(e,t);n=Xf(r.reverse(),"beforeRouteLeave",e,t);for(const o of r)o.leaveGuards.forEach((r=>{n.push(Jf(r,e,t))}));const u=g.bind(null,e,t);return n.push(u),ap(n).then((()=>{n=[];for(const r of o.list())n.push(Jf(r,e,t));return n.push(u),ap(n)})).then((()=>{n=Xf(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(Jf(r,e,t))}));return n.push(u),ap(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&t.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Jf(i,e,t));else n.push(Jf(r.beforeEnter,e,t));return n.push(u),ap(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Xf(a,"beforeRouteEnter",e,t),n.push(u),ap(n)))).then((()=>{n=[];for(const r of s.list())n.push(Jf(r,e,t));return n.push(u),ap(n)})).catch((e=>vf(e,8)?e:Promise.reject(e)))}function b(e,t,n){for(const r of a.list())r(e,t,n)}function C(e,t,n,r,o){const s=_(e,t);if(s)return s;const a=t===df,l=Ld?history.state:{};n&&(r||a?i.replace(e.fullPath,Yd({scroll:a&&l&&l.scroll},o)):i.push(e.fullPath,o)),u.value=e,I(e,t,n,a),P()}let S;function E(){S=i.listen(((e,t,n)=>{let r=f(e);const o=v(r);if(o)return void m(Yd(o,{replace:!0}),r).catch(Wd);l=r;const s=u.value;var a,c;Ld&&(a=rf(s.fullPath,n.delta),c=tf(),of.set(a,c)),w(r,s).catch((e=>vf(e,12)?e:vf(e,2)?(m(e.to,r).catch(Wd),Promise.reject()):(n.delta&&i.go(-n.delta,!1),N(e)))).then((e=>{(e=e||C(r,s,!1))&&n.delta&&i.go(-n.delta,!1),b(r,s,e)})).catch(Wd)}))}let k,T=Zf(),x=Zf();function N(e){return P(e),x.list().forEach((t=>t(e))),Promise.reject(e)}function P(e){k||(k=!0,E(),T.list().forEach((([t,n])=>e?n(e):t())),T.reset())}function I(t,n,r,i){const{scrollBehavior:o}=e;if(!Ld||!o)return Promise.resolve();let s=!r&&function(e){const t=of.get(e);return of.delete(e),t}(rf(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return Et().then((()=>o(t,n,s))).then((e=>e&&nf(e))).catch(N)}const O=e=>i.go(e);let D;const R=new Set;return{currentRoute:u,addRoute:function(e,n){let r,i;return hf(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)},removeRoute:function(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:f,options:e,push:y,replace:function(e){return y(Yd(p(e),{replace:!0}))},go:O,back:()=>O(-1),forward:()=>O(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:x.add,isReady:function(){return k&&u.value!==df?Promise.resolve():new Promise(((e,t)=>{T.add([e,t])}))},install(e){e.component("RouterLink",tp),e.component("RouterView",op),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{get:()=>rt(u)}),Ld&&!D&&u.value===df&&(D=!0,y(i.location).catch((e=>{})));const t={};for(let r in df)t[r]=Mr((()=>u.value[r]));e.provide(Md,this),e.provide(Ad,Be(t)),e.provide(Fd,u);let n=e.unmount;R.add(e),e.unmount=function(){R.delete(e),R.size<1&&(S(),u.value=df,D=!1,k=!1),n()}}}}function ap(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function up(){return hr(Md)}
//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var lp,cp;function hp(){return lp.apply(null,arguments)}function dp(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function fp(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function pp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _p(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(pp(e,t))return!1;return!0}function yp(e){return void 0===e}function vp(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function mp(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function gp(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function wp(e,t){for(var n in t)pp(t,n)&&(e[n]=t[n]);return pp(t,"toString")&&(e.toString=t.toString),pp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function bp(e,t,n,r){return Dy(e,t,n,r,!0).utc()}function Cp(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function Sp(e){if(null==e._isValid){var t=Cp(e),n=cp.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function Ep(e){var t=bp(NaN);return null!=e?wp(Cp(t),e):Cp(t).userInvalidated=!0,t}cp=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var kp=hp.momentProperties=[],Tp=!1;function xp(e,t){var n,r,i;if(yp(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),yp(t._i)||(e._i=t._i),yp(t._f)||(e._f=t._f),yp(t._l)||(e._l=t._l),yp(t._strict)||(e._strict=t._strict),yp(t._tzm)||(e._tzm=t._tzm),yp(t._isUTC)||(e._isUTC=t._isUTC),yp(t._offset)||(e._offset=t._offset),yp(t._pf)||(e._pf=Cp(t)),yp(t._locale)||(e._locale=t._locale),kp.length>0)for(n=0;n<kp.length;n++)yp(i=t[r=kp[n]])||(e[r]=i);return e}function Np(e){xp(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Tp&&(Tp=!0,hp.updateOffset(this),Tp=!1)}function Pp(e){return e instanceof Np||null!=e&&null!=e._isAMomentObject}function Ip(e){!1===hp.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Op(e,t){var n=!0;return wp((function(){if(null!=hp.deprecationHandler&&hp.deprecationHandler(null,e),n){var r,i,o,s=[];for(i=0;i<arguments.length;i++){if(r="","object"==typeof arguments[i]){for(o in r+="\n["+i+"] ",arguments[0])pp(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];s.push(r)}Ip(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var Dp,Rp={};function Mp(e,t){null!=hp.deprecationHandler&&hp.deprecationHandler(e,t),Rp[e]||(Ip(t),Rp[e]=!0)}function Ap(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Fp(e,t){var n,r=wp({},e);for(n in t)pp(t,n)&&(fp(e[n])&&fp(t[n])?(r[n]={},wp(r[n],e[n]),wp(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)pp(e,n)&&!pp(t,n)&&fp(e[n])&&(r[n]=wp({},r[n]));return r}function Lp(e){null!=e&&this.set(e)}hp.suppressDeprecationWarnings=!1,hp.deprecationHandler=null,Dp=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)pp(e,t)&&n.push(t);return n};function Yp(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var jp=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Wp=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Up={},qp={};function Vp(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(qp[e]=i),t&&(qp[t[0]]=function(){return Yp(i.apply(this,arguments),t[1],t[2])}),n&&(qp[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Hp(e,t){return e.isValid()?(t=Bp(t,e.localeData()),Up[t]=Up[t]||function(e){var t,n,r,i=e.match(jp);for(t=0,n=i.length;t<n;t++)qp[i[t]]?i[t]=qp[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=Ap(i[r])?i[r].call(t,e):i[r];return o}}(t),Up[t](e)):e.localeData().invalidDate()}function Bp(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(Wp.lastIndex=0;n>=0&&Wp.test(e);)e=e.replace(Wp,r),Wp.lastIndex=0,n-=1;return e}var zp={};function Gp(e,t){var n=e.toLowerCase();zp[n]=zp[n+"s"]=zp[t]=e}function $p(e){return"string"==typeof e?zp[e]||zp[e.toLowerCase()]:void 0}function Qp(e){var t,n,r={};for(n in e)pp(e,n)&&(t=$p(n))&&(r[t]=e[n]);return r}var Kp={};function Zp(e,t){Kp[e]=t}function Jp(e){return e%4==0&&e%100!=0||e%400==0}function Xp(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function e_(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Xp(t)),n}function t_(e,t){return function(n){return null!=n?(r_(this,e,n),hp.updateOffset(this,t),this):n_(this,e)}}function n_(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function r_(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Jp(e.year())&&1===e.month()&&29===e.date()?(n=e_(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),P_(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var i_,o_=/\d/,s_=/\d\d/,a_=/\d{3}/,u_=/\d{4}/,l_=/[+-]?\d{6}/,c_=/\d\d?/,h_=/\d\d\d\d?/,d_=/\d\d\d\d\d\d?/,f_=/\d{1,3}/,p_=/\d{1,4}/,__=/[+-]?\d{1,6}/,y_=/\d+/,v_=/[+-]?\d+/,m_=/Z|[+-]\d\d:?\d\d/gi,g_=/Z|[+-]\d\d(?::?\d\d)?/gi,w_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function b_(e,t,n){i_[e]=Ap(t)?t:function(e,r){return e&&n?n:t}}function C_(e,t){return pp(i_,e)?i_[e](t._strict,t._locale):new RegExp(S_(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i}))))}function S_(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}i_={};var E_={};function k_(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),vp(t)&&(r=function(e,n){n[t]=e_(e)}),n=0;n<e.length;n++)E_[e[n]]=r}function T_(e,t){k_(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function x_(e,t,n){null!=t&&pp(E_,e)&&E_[e](t,n._a,n,e)}var N_;function P_(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Jp(e)?29:28:31-r%7%2}N_=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Vp("M",["MM",2],"Mo",(function(){return this.month()+1})),Vp("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),Vp("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Gp("month","M"),Zp("month",8),b_("M",c_),b_("MM",c_,s_),b_("MMM",(function(e,t){return t.monthsShortRegex(e)})),b_("MMMM",(function(e,t){return t.monthsRegex(e)})),k_(["M","MM"],(function(e,t){t[1]=e_(e)-1})),k_(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:Cp(n).invalidMonth=e}));var I_="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),O_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),D_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,R_=w_,M_=w_;function A_(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=bp([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=N_.call(this._shortMonthsParse,s))?i:null:-1!==(i=N_.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=N_.call(this._shortMonthsParse,s))||-1!==(i=N_.call(this._longMonthsParse,s))?i:null:-1!==(i=N_.call(this._longMonthsParse,s))||-1!==(i=N_.call(this._shortMonthsParse,s))?i:null}function F_(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=e_(t);else if(!vp(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),P_(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function L_(e){return null!=e?(F_(this,e),hp.updateOffset(this,!0),this):n_(this,"Month")}function Y_(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=bp([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=S_(r[t]),i[t]=S_(i[t]);for(t=0;t<24;t++)o[t]=S_(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function j_(e){return Jp(e)?366:365}Vp("Y",0,0,(function(){var e=this.year();return e<=9999?Yp(e,4):"+"+e})),Vp(0,["YY",2],0,(function(){return this.year()%100})),Vp(0,["YYYY",4],0,"year"),Vp(0,["YYYYY",5],0,"year"),Vp(0,["YYYYYY",6,!0],0,"year"),Gp("year","y"),Zp("year",1),b_("Y",v_),b_("YY",c_,s_),b_("YYYY",p_,u_),b_("YYYYY",__,l_),b_("YYYYYY",__,l_),k_(["YYYYY","YYYYYY"],0),k_("YYYY",(function(e,t){t[0]=2===e.length?hp.parseTwoDigitYear(e):e_(e)})),k_("YY",(function(e,t){t[0]=hp.parseTwoDigitYear(e)})),k_("Y",(function(e,t){t[0]=parseInt(e,10)})),hp.parseTwoDigitYear=function(e){return e_(e)+(e_(e)>68?1900:2e3)};var W_=t_("FullYear",!0);function U_(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function q_(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function V_(e,t,n){var r=7+t-n;return-((7+q_(e,0,r).getUTCDay()-t)%7)+r-1}function H_(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+V_(e,r,i);return a<=0?s=j_(o=e-1)+a:a>j_(e)?(o=e+1,s=a-j_(e)):(o=e,s=a),{year:o,dayOfYear:s}}function B_(e,t,n){var r,i,o=V_(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+z_(i=e.year()-1,t,n):s>z_(e.year(),t,n)?(r=s-z_(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function z_(e,t,n){var r=V_(e,t,n),i=V_(e+1,t,n);return(j_(e)-r+i)/7}Vp("w",["ww",2],"wo","week"),Vp("W",["WW",2],"Wo","isoWeek"),Gp("week","w"),Gp("isoWeek","W"),Zp("week",5),Zp("isoWeek",5),b_("w",c_),b_("ww",c_,s_),b_("W",c_),b_("WW",c_,s_),T_(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=e_(e)}));function G_(e,t){return e.slice(t,7).concat(e.slice(0,t))}Vp("d",0,"do","day"),Vp("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),Vp("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),Vp("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),Vp("e",0,0,"weekday"),Vp("E",0,0,"isoWeekday"),Gp("day","d"),Gp("weekday","e"),Gp("isoWeekday","E"),Zp("day",11),Zp("weekday",11),Zp("isoWeekday",11),b_("d",c_),b_("e",c_),b_("E",c_),b_("dd",(function(e,t){return t.weekdaysMinRegex(e)})),b_("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),b_("dddd",(function(e,t){return t.weekdaysRegex(e)})),T_(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:Cp(n).invalidWeekday=e})),T_(["d","e","E"],(function(e,t,n,r){t[r]=e_(e)}));var $_="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Q_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),K_="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Z_=w_,J_=w_,X_=w_;function ey(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=bp([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=N_.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=N_.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=N_.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=N_.call(this._weekdaysParse,s))||-1!==(i=N_.call(this._shortWeekdaysParse,s))||-1!==(i=N_.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=N_.call(this._shortWeekdaysParse,s))||-1!==(i=N_.call(this._weekdaysParse,s))||-1!==(i=N_.call(this._minWeekdaysParse,s))?i:null:-1!==(i=N_.call(this._minWeekdaysParse,s))||-1!==(i=N_.call(this._weekdaysParse,s))||-1!==(i=N_.call(this._shortWeekdaysParse,s))?i:null}function ty(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],u=[],l=[];for(t=0;t<7;t++)n=bp([2e3,1]).day(t),r=S_(this.weekdaysMin(n,"")),i=S_(this.weekdaysShort(n,"")),o=S_(this.weekdays(n,"")),s.push(r),a.push(i),u.push(o),l.push(r),l.push(i),l.push(o);s.sort(e),a.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ny(){return this.hours()%12||12}function ry(e,t){Vp(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function iy(e,t){return t._meridiemParse}Vp("H",["HH",2],0,"hour"),Vp("h",["hh",2],0,ny),Vp("k",["kk",2],0,(function(){return this.hours()||24})),Vp("hmm",0,0,(function(){return""+ny.apply(this)+Yp(this.minutes(),2)})),Vp("hmmss",0,0,(function(){return""+ny.apply(this)+Yp(this.minutes(),2)+Yp(this.seconds(),2)})),Vp("Hmm",0,0,(function(){return""+this.hours()+Yp(this.minutes(),2)})),Vp("Hmmss",0,0,(function(){return""+this.hours()+Yp(this.minutes(),2)+Yp(this.seconds(),2)})),ry("a",!0),ry("A",!1),Gp("hour","h"),Zp("hour",13),b_("a",iy),b_("A",iy),b_("H",c_),b_("h",c_),b_("k",c_),b_("HH",c_,s_),b_("hh",c_,s_),b_("kk",c_,s_),b_("hmm",h_),b_("hmmss",d_),b_("Hmm",h_),b_("Hmmss",d_),k_(["H","HH"],3),k_(["k","kk"],(function(e,t,n){var r=e_(e);t[3]=24===r?0:r})),k_(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),k_(["h","hh"],(function(e,t,n){t[3]=e_(e),Cp(n).bigHour=!0})),k_("hmm",(function(e,t,n){var r=e.length-2;t[3]=e_(e.substr(0,r)),t[4]=e_(e.substr(r)),Cp(n).bigHour=!0})),k_("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=e_(e.substr(0,r)),t[4]=e_(e.substr(r,2)),t[5]=e_(e.substr(i)),Cp(n).bigHour=!0})),k_("Hmm",(function(e,t,n){var r=e.length-2;t[3]=e_(e.substr(0,r)),t[4]=e_(e.substr(r))})),k_("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=e_(e.substr(0,r)),t[4]=e_(e.substr(r,2)),t[5]=e_(e.substr(i))}));var oy=t_("Hours",!0);var sy,ay={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:I_,monthsShort:O_,week:{dow:0,doy:6},weekdays:$_,weekdaysMin:K_,weekdaysShort:Q_,meridiemParse:/[ap]\.?m?\.?/i},uy={},ly={};function cy(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function hy(e){return e?e.toLowerCase().replace("_","-"):e}function dy(e){var t=null;if(void 0===uy[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=sy._abbr,require("./locale/"+e),fy(t)}catch(n){uy[e]=null}return uy[e]}function fy(e,t){var n;return e&&((n=yp(t)?_y(e):py(e,t))?sy=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sy._abbr}function py(e,t){if(null!==t){var n,r=ay;if(t.abbr=e,null!=uy[e])Mp("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=uy[e]._config;else if(null!=t.parentLocale)if(null!=uy[t.parentLocale])r=uy[t.parentLocale]._config;else{if(null==(n=dy(t.parentLocale)))return ly[t.parentLocale]||(ly[t.parentLocale]=[]),ly[t.parentLocale].push({name:e,config:t}),null;r=n._config}return uy[e]=new Lp(Fp(r,t)),ly[e]&&ly[e].forEach((function(e){py(e.name,e.config)})),fy(e),uy[e]}return delete uy[e],null}function _y(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sy;if(!dp(e)){if(t=dy(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=hy(e[o]).split("-")).length,n=(n=hy(e[o+1]))?n.split("-"):null;t>0;){if(r=dy(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cy(i,n)>=t-1)break;t--}o++}return sy}(e)}function yy(e){var t,n=e._a;return n&&-2===Cp(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>P_(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,Cp(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),Cp(e)._overflowWeeks&&-1===t&&(t=7),Cp(e)._overflowWeekday&&-1===t&&(t=8),Cp(e).overflow=t),e}var vy=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,my=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gy=/Z|[+-]\d\d(?::?\d\d)?/,wy=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],by=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cy=/^\/?Date\((-?\d+)/i,Sy=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ey={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ky(e){var t,n,r,i,o,s,a=e._i,u=vy.exec(a)||my.exec(a);if(u){for(Cp(e).iso=!0,t=0,n=wy.length;t<n;t++)if(wy[t][1].exec(u[1])){i=wy[t][0],r=!1!==wy[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=by.length;t<n;t++)if(by[t][1].exec(u[3])){o=(u[2]||" ")+by[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!gy.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Iy(e)}else e._isValid=!1}function Ty(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function xy(e){var t,n,r,i,o,s,a,u,l=Sy.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){if(n=l[4],r=l[3],i=l[2],o=l[5],s=l[6],a=l[7],u=[Ty(n),O_.indexOf(r),parseInt(i,10),parseInt(o,10),parseInt(s,10)],a&&u.push(parseInt(a,10)),t=u,!function(e,t,n){return!e||Q_.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(Cp(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return Ey[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(l[8],l[9],l[10]),e._d=q_.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Cp(e).rfc2822=!0}else e._isValid=!1}function Ny(e,t,n){return null!=e?e:null!=t?t:n}function Py(e){var t,n,r,i,o,s=[];if(!e._d){for(r=function(e){var t=new Date(hp.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,s,a,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=Ny(t.GG,e._a[0],B_(Ry(),1,4).year),r=Ny(t.W,1),((i=Ny(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,l=B_(Ry(),o,s),n=Ny(t.gg,e._a[0],l.year),r=Ny(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o);r<1||r>z_(n,o,s)?Cp(e)._overflowWeeks=!0:null!=u?Cp(e)._overflowWeekday=!0:(a=H_(n,r,i,o,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(o=Ny(e._a[0],r[0]),(e._dayOfYear>j_(o)||0===e._dayOfYear)&&(Cp(e)._overflowDayOfYear=!0),n=q_(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?q_:U_).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(Cp(e).weekdayMismatch=!0)}}function Iy(e){if(e._f!==hp.ISO_8601)if(e._f!==hp.RFC_2822){e._a=[],Cp(e).empty=!0;var t,n,r,i,o,s,a=""+e._i,u=a.length,l=0;for(r=Bp(e._f,e._locale).match(jp)||[],t=0;t<r.length;t++)i=r[t],(n=(a.match(C_(i,e))||[])[0])&&((o=a.substr(0,a.indexOf(n))).length>0&&Cp(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),qp[i]?(n?Cp(e).empty=!1:Cp(e).unusedTokens.push(i),x_(i,n,e)):e._strict&&!n&&Cp(e).unusedTokens.push(i);Cp(e).charsLeftOver=u-l,a.length>0&&Cp(e).unusedInput.push(a),e._a[3]<=12&&!0===Cp(e).bigHour&&e._a[3]>0&&(Cp(e).bigHour=void 0),Cp(e).parsedDateParts=e._a.slice(0),Cp(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=Cp(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),Py(e),yy(e)}else xy(e);else ky(e)}function Oy(e){var t=e._i,n=e._f;return e._locale=e._locale||_y(e._l),null===t||void 0===n&&""===t?Ep({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),Pp(t)?new Np(yy(t)):(mp(t)?e._d=t:dp(n)?function(e){var t,n,r,i,o,s,a=!1;if(0===e._f.length)return Cp(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,s=!1,t=xp({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Iy(t),Sp(t)&&(s=!0),o+=Cp(t).charsLeftOver,o+=10*Cp(t).unusedTokens.length,Cp(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));wp(e,n||t)}(e):n?Iy(e):function(e){var t=e._i;yp(t)?e._d=new Date(hp.now()):mp(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Cy.exec(e._i);null===t?(ky(e),!1===e._isValid&&(delete e._isValid,xy(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:hp.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):dp(t)?(e._a=gp(t.slice(0),(function(e){return parseInt(e,10)})),Py(e)):fp(t)?function(e){if(!e._d){var t=Qp(e._i),n=void 0===t.day?t.date:t.day;e._a=gp([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Py(e)}}(e):vp(t)?e._d=new Date(t):hp.createFromInputFallback(e)}(e),Sp(e)||(e._d=null),e))}function Dy(e,t,n,r,i){var o,s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(fp(e)&&_p(e)||dp(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,(o=new Np(yy(Oy(s))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Ry(e,t,n,r){return Dy(e,t,n,r,!1)}hp.createFromInputFallback=Op("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),hp.ISO_8601=function(){},hp.RFC_2822=function(){};var My=Op("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ry.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ep()})),Ay=Op("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ry.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Ep()}));function Fy(e,t){var n,r;if(1===t.length&&dp(t[0])&&(t=t[0]),!t.length)return Ry();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Ly=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Yy(e){var t=Qp(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,n,r=!1;for(t in e)if(pp(e,t)&&(-1===N_.call(Ly,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Ly.length;++n)if(e[Ly[n]]){if(r)return!1;parseFloat(e[Ly[n]])!==e_(e[Ly[n]])&&(r=!0)}return!0}(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=_y(),this._bubble()}function jy(e){return e instanceof Yy}function Wy(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Uy(e,t){Vp(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Yp(~~(e/60),2)+t+Yp(~~e%60,2)}))}Uy("Z",":"),Uy("ZZ",""),b_("Z",g_),b_("ZZ",g_),k_(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Vy(g_,e)}));var qy=/([\+\-]|\d\d)/gi;function Vy(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(qy)||["-",0,0])[1]+e_(n[2]))?0:"+"===n[0]?r:-r}function Hy(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Pp(e)||mp(e)?e.valueOf():Ry(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),hp.updateOffset(n,!1),n):Ry(e).local()}function By(e){return-Math.round(e._d.getTimezoneOffset())}function zy(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}hp.updateOffset=function(){};var Gy=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$y=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Qy(e,t){var n,r,i,o=e,s=null;return jy(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:vp(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=Gy.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:e_(s[2])*n,h:e_(s[3])*n,m:e_(s[4])*n,s:e_(s[5])*n,ms:e_(Wy(1e3*s[6]))*n}):(s=$y.exec(e))?(n="-"===s[1]?-1:1,o={y:Ky(s[2],n),M:Ky(s[3],n),w:Ky(s[4],n),d:Ky(s[5],n),h:Ky(s[6],n),m:Ky(s[7],n),s:Ky(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Hy(t,e),e.isBefore(t)?n=Zy(e,t):((n=Zy(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Ry(o.from),Ry(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Yy(o),jy(e)&&pp(e,"_locale")&&(r._locale=e._locale),jy(e)&&pp(e,"_isValid")&&(r._isValid=e._isValid),r}function Ky(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zy(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Jy(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(Mp(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Xy(this,Qy(n,r),e),this}}function Xy(e,t,n,r){var i=t._milliseconds,o=Wy(t._days),s=Wy(t._months);e.isValid()&&(r=null==r||r,s&&F_(e,n_(e,"Month")+s*n),o&&r_(e,"Date",n_(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&hp.updateOffset(e,o||s))}Qy.fn=Yy.prototype,Qy.invalid=function(){return Qy(NaN)};var ev=Jy(1,"add"),tv=Jy(-1,"subtract");function nv(e){return"string"==typeof e||e instanceof String}function rv(e){return Pp(e)||mp(e)||nv(e)||vp(e)||function(e){var t=dp(e),n=!1;t&&(n=0===e.filter((function(t){return!vp(t)&&nv(e)})).length);return t&&n}(e)||function(e){var t,n,r=fp(e)&&!_p(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)n=o[t],i=i||pp(e,n);return r&&i}(e)||null==e}function iv(e){var t,n=fp(e)&&!_p(e),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)r=r||pp(e,i[t]);return n&&r}function ov(e,t){if(e.date()<t.date())return-ov(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function sv(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_y(e))&&(this._locale=t),this)}hp.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hp.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var av=Op("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function uv(){return this._locale}function lv(e,t){return(e%t+t)%t}function cv(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function hv(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function dv(e,t){return t.erasAbbrRegex(e)}function fv(){var e,t,n=[],r=[],i=[],o=[],s=this.eras();for(e=0,t=s.length;e<t;++e)r.push(S_(s[e].name)),n.push(S_(s[e].abbr)),i.push(S_(s[e].narrow)),o.push(S_(s[e].name)),o.push(S_(s[e].abbr)),o.push(S_(s[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function pv(e,t){Vp(0,[e,e.length],0,t)}function _v(e,t,n,r,i){var o;return null==e?B_(this,r,i).year:(t>(o=z_(e,r,i))&&(t=o),yv.call(this,e,t,n,r,i))}function yv(e,t,n,r,i){var o=H_(e,t,n,r,i),s=q_(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Vp("N",0,0,"eraAbbr"),Vp("NN",0,0,"eraAbbr"),Vp("NNN",0,0,"eraAbbr"),Vp("NNNN",0,0,"eraName"),Vp("NNNNN",0,0,"eraNarrow"),Vp("y",["y",1],"yo","eraYear"),Vp("y",["yy",2],0,"eraYear"),Vp("y",["yyy",3],0,"eraYear"),Vp("y",["yyyy",4],0,"eraYear"),b_("N",dv),b_("NN",dv),b_("NNN",dv),b_("NNNN",(function(e,t){return t.erasNameRegex(e)})),b_("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),k_(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?Cp(n).era=i:Cp(n).invalidEra=e})),b_("y",y_),b_("yy",y_),b_("yyy",y_),b_("yyyy",y_),b_("yo",(function(e,t){return t._eraYearOrdinalRegex||y_})),k_(["y","yy","yyy","yyyy"],0),k_(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,i):t[0]=parseInt(e,10)})),Vp(0,["gg",2],0,(function(){return this.weekYear()%100})),Vp(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),pv("gggg","weekYear"),pv("ggggg","weekYear"),pv("GGGG","isoWeekYear"),pv("GGGGG","isoWeekYear"),Gp("weekYear","gg"),Gp("isoWeekYear","GG"),Zp("weekYear",1),Zp("isoWeekYear",1),b_("G",v_),b_("g",v_),b_("GG",c_,s_),b_("gg",c_,s_),b_("GGGG",p_,u_),b_("gggg",p_,u_),b_("GGGGG",__,l_),b_("ggggg",__,l_),T_(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=e_(e)})),T_(["gg","GG"],(function(e,t,n,r){t[r]=hp.parseTwoDigitYear(e)})),Vp("Q",0,"Qo","quarter"),Gp("quarter","Q"),Zp("quarter",7),b_("Q",o_),k_("Q",(function(e,t){t[1]=3*(e_(e)-1)})),Vp("D",["DD",2],"Do","date"),Gp("date","D"),Zp("date",9),b_("D",c_),b_("DD",c_,s_),b_("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),k_(["D","DD"],2),k_("Do",(function(e,t){t[2]=e_(e.match(c_)[0])}));var vv=t_("Date",!0);Vp("DDD",["DDDD",3],"DDDo","dayOfYear"),Gp("dayOfYear","DDD"),Zp("dayOfYear",4),b_("DDD",f_),b_("DDDD",a_),k_(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=e_(e)})),Vp("m",["mm",2],0,"minute"),Gp("minute","m"),Zp("minute",14),b_("m",c_),b_("mm",c_,s_),k_(["m","mm"],4);var mv=t_("Minutes",!1);Vp("s",["ss",2],0,"second"),Gp("second","s"),Zp("second",15),b_("s",c_),b_("ss",c_,s_),k_(["s","ss"],5);var gv,wv,bv=t_("Seconds",!1);for(Vp("S",0,0,(function(){return~~(this.millisecond()/100)})),Vp(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Vp(0,["SSS",3],0,"millisecond"),Vp(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Vp(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Vp(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Vp(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Vp(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Vp(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Gp("millisecond","ms"),Zp("millisecond",16),b_("S",f_,o_),b_("SS",f_,s_),b_("SSS",f_,a_),gv="SSSS";gv.length<=9;gv+="S")b_(gv,y_);function Cv(e,t){t[6]=e_(1e3*("0."+e))}for(gv="S";gv.length<=9;gv+="S")k_(gv,Cv);wv=t_("Milliseconds",!1),Vp("z",0,0,"zoneAbbr"),Vp("zz",0,0,"zoneName");var Sv=Np.prototype;function Ev(e){return e}Sv.add=ev,Sv.calendar=function(e,t){1===arguments.length&&(arguments[0]?rv(arguments[0])?(e=arguments[0],t=void 0):iv(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Ry(),r=Hy(n,this).startOf("day"),i=hp.calendarFormat(this,r)||"sameElse",o=t&&(Ap(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Ry(n)))},Sv.clone=function(){return new Np(this)},Sv.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Hy(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=$p(t)){case"year":o=ov(this,r)/12;break;case"month":o=ov(this,r);break;case"quarter":o=ov(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Xp(o)},Sv.endOf=function(e){var t,n;if(void 0===(e=$p(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?hv:cv,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-lv(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-lv(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-lv(t,1e3)-1}return this._d.setTime(t),hp.updateOffset(this,!0),this},Sv.format=function(e){e||(e=this.isUtc()?hp.defaultFormatUtc:hp.defaultFormat);var t=Hp(this,e);return this.localeData().postformat(t)},Sv.from=function(e,t){return this.isValid()&&(Pp(e)&&e.isValid()||Ry(e).isValid())?Qy({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sv.fromNow=function(e){return this.from(Ry(),e)},Sv.to=function(e,t){return this.isValid()&&(Pp(e)&&e.isValid()||Ry(e).isValid())?Qy({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Sv.toNow=function(e){return this.to(Ry(),e)},Sv.get=function(e){return Ap(this[e=$p(e)])?this[e]():this},Sv.invalidAt=function(){return Cp(this).overflow},Sv.isAfter=function(e,t){var n=Pp(e)?e:Ry(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$p(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Sv.isBefore=function(e,t){var n=Pp(e)?e:Ry(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$p(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Sv.isBetween=function(e,t,n,r){var i=Pp(e)?e:Ry(e),o=Pp(t)?t:Ry(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))},Sv.isSame=function(e,t){var n,r=Pp(e)?e:Ry(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=$p(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Sv.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Sv.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Sv.isValid=function(){return Sp(this)},Sv.lang=av,Sv.locale=sv,Sv.localeData=uv,Sv.max=Ay,Sv.min=My,Sv.parsingFlags=function(){return wp({},Cp(this))},Sv.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)pp(e,t)&&n.push({unit:t,priority:Kp[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=Qp(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(Ap(this[e=$p(e)]))return this[e](t);return this},Sv.startOf=function(e){var t,n;if(void 0===(e=$p(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?hv:cv,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=lv(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=lv(t,6e4);break;case"second":t=this._d.valueOf(),t-=lv(t,1e3)}return this._d.setTime(t),hp.updateOffset(this,!0),this},Sv.subtract=tv,Sv.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Sv.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Sv.toDate=function(){return new Date(this.valueOf())},Sv.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Hp(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ap(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Hp(n,"Z")):Hp(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Sv.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=i+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Sv[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Sv.toJSON=function(){return this.isValid()?this.toISOString():null},Sv.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Sv.unix=function(){return Math.floor(this.valueOf()/1e3)},Sv.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Sv.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Sv.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},Sv.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},Sv.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},Sv.eraYear=function(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-hp(i[e].since).year())*n+i[e].offset;return this.year()},Sv.year=W_,Sv.isLeapYear=function(){return Jp(this.year())},Sv.weekYear=function(e){return _v.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Sv.isoWeekYear=function(e){return _v.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Sv.quarter=Sv.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Sv.month=L_,Sv.daysInMonth=function(){return P_(this.year(),this.month())},Sv.week=Sv.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Sv.isoWeek=Sv.isoWeeks=function(e){var t=B_(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Sv.weeksInYear=function(){var e=this.localeData()._week;return z_(this.year(),e.dow,e.doy)},Sv.weeksInWeekYear=function(){var e=this.localeData()._week;return z_(this.weekYear(),e.dow,e.doy)},Sv.isoWeeksInYear=function(){return z_(this.year(),1,4)},Sv.isoWeeksInISOWeekYear=function(){return z_(this.isoWeekYear(),1,4)},Sv.date=vv,Sv.day=Sv.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Sv.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Sv.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Sv.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Sv.hour=Sv.hours=oy,Sv.minute=Sv.minutes=mv,Sv.second=Sv.seconds=bv,Sv.millisecond=Sv.milliseconds=wv,Sv.utcOffset=function(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Vy(g_,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=By(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?Xy(this,Qy(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hp.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:By(this)},Sv.utc=function(e){return this.utcOffset(0,e)},Sv.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(By(this),"m")),this},Sv.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Vy(m_,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Sv.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ry(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Sv.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Sv.isLocal=function(){return!!this.isValid()&&!this._isUTC},Sv.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Sv.isUtc=zy,Sv.isUTC=zy,Sv.zoneAbbr=function(){return this._isUTC?"UTC":""},Sv.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Sv.dates=Op("dates accessor is deprecated. Use date instead.",vv),Sv.months=Op("months accessor is deprecated. Use month instead",L_),Sv.years=Op("years accessor is deprecated. Use year instead",W_),Sv.zone=Op("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Sv.isDSTShifted=Op("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!yp(this._isDSTShifted))return this._isDSTShifted;var e,t={};return xp(t,this),(t=Oy(t))._a?(e=t._isUTC?bp(t._a):Ry(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&e_(e[r])!==e_(t[r]))&&s++;return s+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var kv=Lp.prototype;function Tv(e,t,n,r){var i=_y(),o=bp().set(r,t);return i[n](o,e)}function xv(e,t,n){if(vp(e)&&(t=e,e=void 0),e=e||"",null!=t)return Tv(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Tv(e,r,n,"month");return i}function Nv(e,t,n,r){"boolean"==typeof e?(vp(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,vp(t)&&(n=t,t=void 0),t=t||"");var i,o=_y(),s=e?o._week.dow:0,a=[];if(null!=n)return Tv(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=Tv(t,(i+s)%7,r,"day");return a}kv.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Ap(r)?r.call(t,n):r},kv.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(jp).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},kv.invalidDate=function(){return this._invalidDate},kv.ordinal=function(e){return this._ordinal.replace("%d",e)},kv.preparse=Ev,kv.postformat=Ev,kv.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return Ap(i)?i(e,t,n,r):i.replace(/%d/i,e)},kv.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return Ap(n)?n(t):n.replace(/%s/i,t)},kv.set=function(e){var t,n;for(n in e)pp(e,n)&&(Ap(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},kv.eras=function(e,t){var n,r,i,o=this._eras||_y("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=hp(o[n].since).startOf("day"),o[n].since=i.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=hp(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf()}}return o},kv.erasParse=function(e,t,n){var r,i,o,s,a,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),s=u[r].abbr.toUpperCase(),a=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(a===e)return u[r]}else if([o,s,a].indexOf(e)>=0)return u[r]},kv.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?hp(e.since).year():hp(e.since).year()+(t-e.offset)*n},kv.erasAbbrRegex=function(e){return pp(this,"_erasAbbrRegex")||fv.call(this),e?this._erasAbbrRegex:this._erasRegex},kv.erasNameRegex=function(e){return pp(this,"_erasNameRegex")||fv.call(this),e?this._erasNameRegex:this._erasRegex},kv.erasNarrowRegex=function(e){return pp(this,"_erasNarrowRegex")||fv.call(this),e?this._erasNarrowRegex:this._erasRegex},kv.months=function(e,t){return e?dp(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||D_).test(t)?"format":"standalone"][e.month()]:dp(this._months)?this._months:this._months.standalone},kv.monthsShort=function(e,t){return e?dp(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[D_.test(t)?"format":"standalone"][e.month()]:dp(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},kv.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return A_.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=bp([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},kv.monthsRegex=function(e){return this._monthsParseExact?(pp(this,"_monthsRegex")||Y_.call(this),e?this._monthsStrictRegex:this._monthsRegex):(pp(this,"_monthsRegex")||(this._monthsRegex=M_),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},kv.monthsShortRegex=function(e){return this._monthsParseExact?(pp(this,"_monthsRegex")||Y_.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(pp(this,"_monthsShortRegex")||(this._monthsShortRegex=R_),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},kv.week=function(e){return B_(e,this._week.dow,this._week.doy).week},kv.firstDayOfYear=function(){return this._week.doy},kv.firstDayOfWeek=function(){return this._week.dow},kv.weekdays=function(e,t){var n=dp(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?G_(n,this._week.dow):e?n[e.day()]:n},kv.weekdaysMin=function(e){return!0===e?G_(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},kv.weekdaysShort=function(e){return!0===e?G_(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},kv.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return ey.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=bp([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},kv.weekdaysRegex=function(e){return this._weekdaysParseExact?(pp(this,"_weekdaysRegex")||ty.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(pp(this,"_weekdaysRegex")||(this._weekdaysRegex=Z_),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},kv.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(pp(this,"_weekdaysRegex")||ty.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(pp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=J_),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},kv.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(pp(this,"_weekdaysRegex")||ty.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(pp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=X_),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},kv.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},kv.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},fy("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===e_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),hp.lang=Op("moment.lang is deprecated. Use moment.locale instead.",fy),hp.langData=Op("moment.langData is deprecated. Use moment.localeData instead.",_y);var Pv=Math.abs;function Iv(e,t,n,r){var i=Qy(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ov(e){return e<0?Math.floor(e):Math.ceil(e)}function Dv(e){return 4800*e/146097}function Rv(e){return 146097*e/4800}function Mv(e){return function(){return this.as(e)}}var Av=Mv("ms"),Fv=Mv("s"),Lv=Mv("m"),Yv=Mv("h"),jv=Mv("d"),Wv=Mv("w"),Uv=Mv("M"),qv=Mv("Q"),Vv=Mv("y");function Hv(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bv=Hv("milliseconds"),zv=Hv("seconds"),Gv=Hv("minutes"),$v=Hv("hours"),Qv=Hv("days"),Kv=Hv("months"),Zv=Hv("years");var Jv=Math.round,Xv={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function em(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var tm=Math.abs;function nm(e){return(e>0)-(e<0)||+e}function rm(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,u=tm(this._milliseconds)/1e3,l=tm(this._days),c=tm(this._months),h=this.asSeconds();return h?(e=Xp(u/60),t=Xp(e/60),u%=60,e%=60,n=Xp(c/12),c%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=nm(this._months)!==nm(h)?"-":"",s=nm(this._days)!==nm(h)?"-":"",a=nm(this._milliseconds)!==nm(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(l?s+l+"D":"")+(t||e||u?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(u?a+r+"S":"")):"P0D"}var im=Yy.prototype;im.isValid=function(){return this._isValid},im.abs=function(){var e=this._data;return this._milliseconds=Pv(this._milliseconds),this._days=Pv(this._days),this._months=Pv(this._months),e.milliseconds=Pv(e.milliseconds),e.seconds=Pv(e.seconds),e.minutes=Pv(e.minutes),e.hours=Pv(e.hours),e.months=Pv(e.months),e.years=Pv(e.years),this},im.add=function(e,t){return Iv(this,e,t,1)},im.subtract=function(e,t){return Iv(this,e,t,-1)},im.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=$p(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Dv(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Rv(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},im.asMilliseconds=Av,im.asSeconds=Fv,im.asMinutes=Lv,im.asHours=Yv,im.asDays=jv,im.asWeeks=Wv,im.asMonths=Uv,im.asQuarters=qv,im.asYears=Vv,im.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*e_(this._months/12):NaN},im._bubble=function(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Ov(Rv(a)+s),s=0,a=0),u.milliseconds=o%1e3,e=Xp(o/1e3),u.seconds=e%60,t=Xp(e/60),u.minutes=t%60,n=Xp(t/60),u.hours=n%24,s+=Xp(n/24),a+=i=Xp(Dv(s)),s-=Ov(Rv(i)),r=Xp(a/12),a%=12,u.days=s,u.months=a,u.years=r,this},im.clone=function(){return Qy(this)},im.get=function(e){return e=$p(e),this.isValid()?this[e+"s"]():NaN},im.milliseconds=Bv,im.seconds=zv,im.minutes=Gv,im.hours=$v,im.days=Qv,im.weeks=function(){return Xp(this.days()/7)},im.months=Kv,im.years=Zv,im.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=Xv;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(o=Object.assign({},Xv,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=function(e,t,n,r){var i=Qy(e).abs(),o=Jv(i.as("s")),s=Jv(i.as("m")),a=Jv(i.as("h")),u=Jv(i.as("d")),l=Jv(i.as("M")),c=Jv(i.as("w")),h=Jv(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||l<=1&&["M"]||l<n.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=r,em.apply(null,d)}(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)},im.toISOString=rm,im.toString=rm,im.toJSON=rm,im.locale=sv,im.localeData=uv,im.toIsoString=Op("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rm),im.lang=av,Vp("X",0,0,"unix"),Vp("x",0,0,"valueOf"),b_("x",v_),b_("X",/[+-]?\d+(\.\d{1,3})?/),k_("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),k_("x",(function(e,t,n){n._d=new Date(e_(e))})),
//! moment.js
hp.version="2.29.1",lp=Ry,hp.fn=Sv,hp.min=function(){var e=[].slice.call(arguments,0);return Fy("isBefore",e)},hp.max=function(){var e=[].slice.call(arguments,0);return Fy("isAfter",e)},hp.now=function(){return Date.now?Date.now():+new Date},hp.utc=bp,hp.unix=function(e){return Ry(1e3*e)},hp.months=function(e,t){return xv(e,t,"months")},hp.isDate=mp,hp.locale=fy,hp.invalid=Ep,hp.duration=Qy,hp.isMoment=Pp,hp.weekdays=function(e,t,n){return Nv(e,t,n,"weekdays")},hp.parseZone=function(){return Ry.apply(null,arguments).parseZone()},hp.localeData=_y,hp.isDuration=jy,hp.monthsShort=function(e,t){return xv(e,t,"monthsShort")},hp.weekdaysMin=function(e,t,n){return Nv(e,t,n,"weekdaysMin")},hp.defineLocale=py,hp.updateLocale=function(e,t){if(null!=t){var n,r,i=ay;null!=uy[e]&&null!=uy[e].parentLocale?uy[e].set(Fp(uy[e]._config,t)):(null!=(r=dy(e))&&(i=r._config),t=Fp(i,t),null==r&&(t.abbr=e),(n=new Lp(t)).parentLocale=uy[e],uy[e]=n),fy(e)}else null!=uy[e]&&(null!=uy[e].parentLocale?(uy[e]=uy[e].parentLocale,e===fy()&&fy(e)):null!=uy[e]&&delete uy[e]);return uy[e]},hp.locales=function(){return Dp(uy)},hp.weekdaysShort=function(e,t,n){return Nv(e,t,n,"weekdaysShort")},hp.normalizeUnits=$p,hp.relativeTimeRounding=function(e){return void 0===e?Jv:"function"==typeof e&&(Jv=e,!0)},hp.relativeTimeThreshold=function(e,t){return void 0!==Xv[e]&&(void 0===t?Xv[e]:(Xv[e]=t,"s"===e&&(Xv.ss=t-1),!0))},hp.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},hp.prototype=Sv,hp.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};export{Vn as F,Wn as a,rr as b,Zn as c,bd as d,up as e,Po as f,Ut as g,hp as h,sr as i,qt as j,or as k,Be as l,Mr as m,Fr as n,Qn as o,Wt as p,ai as q,et as r,sp as s,u as t,pd as u,si as v,Nn as w,cf as x,hi as y};
