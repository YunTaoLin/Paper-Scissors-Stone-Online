var d_=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var NS=d_((FS,uo)=>{const c_=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};c_();function m_(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const u_=()=>{},f_=Object.assign,h_=Object.prototype.hasOwnProperty,Qo=(e,t)=>h_.call(e,t),Vn=Array.isArray,ro=e=>eu(e)==="[object Map]",g_=e=>typeof e=="function",__=e=>typeof e=="string",up=e=>typeof e=="symbol",Jo=e=>e!==null&&typeof e=="object",x_=Object.prototype.toString,eu=e=>x_.call(e),b_=e=>eu(e).slice(8,-1),fp=e=>__(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hp=(e,t)=>!Object.is(e,t),v_=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let fi;const Ga=[];class y_{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&fi&&(this.parent=fi,this.index=(fi.scopes||(fi.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(Ga.push(this),fi=this)}off(){this.active&&(Ga.pop(),fi=Ga[Ga.length-1])}stop(t){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function w_(e,t){t=t||fi,t&&t.active&&t.effects.push(e)}const gp=e=>{const t=new Set(e);return t.w=0,t.n=0,t},nu=e=>(e.w&ti)>0,iu=e=>(e.n&ti)>0,C_=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ti},E_=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];nu(r)&&!iu(r)?r.delete(e):t[n++]=r,r.w&=~ti,r.n&=~ti}t.length=n}},bl=new WeakMap;let qr=0,ti=1;const vl=30,zr=[];let wi;const Ci=Symbol(""),yl=Symbol("");class _p{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],w_(this,i)}run(){if(!this.active)return this.fn();if(!zr.includes(this))try{return zr.push(wi=this),S_(),ti=1<<++qr,qr<=vl?C_(this):ec(this),this.fn()}finally{qr<=vl&&E_(this),ti=1<<--qr,Li(),zr.pop();const t=zr.length;wi=t>0?zr[t-1]:void 0}}stop(){this.active&&(ec(this),this.onStop&&this.onStop(),this.active=!1)}}function ec(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let dr=!0;const xp=[];function Cr(){xp.push(dr),dr=!1}function S_(){xp.push(dr),dr=!0}function Li(){const e=xp.pop();dr=e===void 0?!0:e}function Ce(e,t,n){if(!ru())return;let i=bl.get(e);i||bl.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=gp()),au(r)}function ru(){return dr&&wi!==void 0}function au(e,t){let n=!1;qr<=vl?iu(e)||(e.n|=ti,n=!nu(e)):n=!e.has(wi),n&&(e.add(wi),wi.deps.push(e))}function Tn(e,t,n,i,r,a){const o=bl.get(e);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(n==="length"&&Vn(e))o.forEach((l,p)=>{(p==="length"||p>=i)&&s.push(l)});else switch(n!==void 0&&s.push(o.get(n)),t){case"add":Vn(e)?fp(n)&&s.push(o.get("length")):(s.push(o.get(Ci)),ro(e)&&s.push(o.get(yl)));break;case"delete":Vn(e)||(s.push(o.get(Ci)),ro(e)&&s.push(o.get(yl)));break;case"set":ro(e)&&s.push(o.get(Ci));break}if(s.length===1)s[0]&&wl(s[0]);else{const l=[];for(const p of s)p&&l.push(...p);wl(gp(l))}}function wl(e,t){for(const n of Vn(e)?e:[...e])(n!==wi||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const R_=m_("__proto__,__v_isRef,__isVue"),ou=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(up)),k_=bp(),T_=bp(!1,!0),I_=bp(!0),nc=A_();function A_(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=ht(this);for(let a=0,o=this.length;a<o;a++)Ce(i,"get",a+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(ht)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Cr();const i=ht(this)[t].apply(this,n);return Li(),i}}),e}function bp(e=!1,t=!1){return function(i,r,a){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_raw"&&a===(e?t?V_:cu:t?du:pu).get(i))return i;const o=Vn(i);if(!e&&o&&Qo(nc,r))return Reflect.get(nc,r,a);const s=Reflect.get(i,r,a);return(up(r)?ou.has(r):R_(r))||(e||Ce(i,"get",r),t)?s:se(s)?!o||!fp(r)?s.value:s:Jo(s)?e?mu(s):Le(s):s}}const D_=su(),P_=su(!0);function su(e=!1){return function(n,i,r,a){let o=n[i];if(!e&&!Cp(r)&&(r=ht(r),o=ht(o),!Vn(n)&&se(o)&&!se(r)))return o.value=r,!0;const s=Vn(n)&&fp(i)?Number(i)<n.length:Qo(n,i),l=Reflect.set(n,i,r,a);return n===ht(a)&&(s?hp(r,o)&&Tn(n,"set",i,r):Tn(n,"add",i,r)),l}}function O_(e,t){const n=Qo(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Tn(e,"delete",t,void 0),i}function N_(e,t){const n=Reflect.has(e,t);return(!up(t)||!ou.has(t))&&Ce(e,"has",t),n}function M_(e){return Ce(e,"iterate",Vn(e)?"length":Ci),Reflect.ownKeys(e)}const lu={get:k_,set:D_,deleteProperty:O_,has:N_,ownKeys:M_},F_={get:I_,set(e,t){return!0},deleteProperty(e,t){return!0}},L_=f_({},lu,{get:T_,set:P_}),vp=e=>e,Xo=e=>Reflect.getPrototypeOf(e);function Ka(e,t,n=!1,i=!1){e=e.__v_raw;const r=ht(e),a=ht(t);t!==a&&!n&&Ce(r,"get",t),!n&&Ce(r,"get",a);const{has:o}=Xo(r),s=i?vp:n?Ep:da;if(o.call(r,t))return s(e.get(t));if(o.call(r,a))return s(e.get(a));e!==r&&e.get(t)}function qa(e,t=!1){const n=this.__v_raw,i=ht(n),r=ht(e);return e!==r&&!t&&Ce(i,"has",e),!t&&Ce(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function Qa(e,t=!1){return e=e.__v_raw,!t&&Ce(ht(e),"iterate",Ci),Reflect.get(e,"size",e)}function ic(e){e=ht(e);const t=ht(this);return Xo(t).has.call(t,e)||(t.add(e),Tn(t,"add",e,e)),this}function rc(e,t){t=ht(t);const n=ht(this),{has:i,get:r}=Xo(n);let a=i.call(n,e);a||(e=ht(e),a=i.call(n,e));const o=r.call(n,e);return n.set(e,t),a?hp(t,o)&&Tn(n,"set",e,t):Tn(n,"add",e,t),this}function ac(e){const t=ht(this),{has:n,get:i}=Xo(t);let r=n.call(t,e);r||(e=ht(e),r=n.call(t,e)),i&&i.call(t,e);const a=t.delete(e);return r&&Tn(t,"delete",e,void 0),a}function oc(){const e=ht(this),t=e.size!==0,n=e.clear();return t&&Tn(e,"clear",void 0,void 0),n}function Ja(e,t){return function(i,r){const a=this,o=a.__v_raw,s=ht(o),l=t?vp:e?Ep:da;return!e&&Ce(s,"iterate",Ci),o.forEach((p,d)=>i.call(r,l(p),l(d),a))}}function Xa(e,t,n){return function(...i){const r=this.__v_raw,a=ht(r),o=ro(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,p=r[e](...i),d=n?vp:t?Ep:da;return!t&&Ce(a,"iterate",l?yl:Ci),{next(){const{value:c,done:m}=p.next();return m?{value:c,done:m}:{value:s?[d(c[0]),d(c[1])]:d(c),done:m}},[Symbol.iterator](){return this}}}}function Ln(e){return function(...t){return e==="delete"?!1:this}}function z_(){const e={get(a){return Ka(this,a)},get size(){return Qa(this)},has:qa,add:ic,set:rc,delete:ac,clear:oc,forEach:Ja(!1,!1)},t={get(a){return Ka(this,a,!1,!0)},get size(){return Qa(this)},has:qa,add:ic,set:rc,delete:ac,clear:oc,forEach:Ja(!1,!0)},n={get(a){return Ka(this,a,!0)},get size(){return Qa(this,!0)},has(a){return qa.call(this,a,!0)},add:Ln("add"),set:Ln("set"),delete:Ln("delete"),clear:Ln("clear"),forEach:Ja(!0,!1)},i={get(a){return Ka(this,a,!0,!0)},get size(){return Qa(this,!0)},has(a){return qa.call(this,a,!0)},add:Ln("add"),set:Ln("set"),delete:Ln("delete"),clear:Ln("clear"),forEach:Ja(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Xa(a,!1,!1),n[a]=Xa(a,!0,!1),t[a]=Xa(a,!1,!0),i[a]=Xa(a,!0,!0)}),[e,n,t,i]}const[B_,Y_,j_,$_]=z_();function yp(e,t){const n=t?e?$_:j_:e?Y_:B_;return(i,r,a)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Qo(n,r)&&r in i?n:i,r,a)}const W_={get:yp(!1,!1)},U_={get:yp(!1,!0)},H_={get:yp(!0,!1)},pu=new WeakMap,du=new WeakMap,cu=new WeakMap,V_=new WeakMap;function G_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function K_(e){return e.__v_skip||!Object.isExtensible(e)?0:G_(b_(e))}function Le(e){return e&&e.__v_isReadonly?e:wp(e,!1,lu,W_,pu)}function q_(e){return wp(e,!1,L_,U_,du)}function mu(e){return wp(e,!0,F_,H_,cu)}function wp(e,t,n,i,r){if(!Jo(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=r.get(e);if(a)return a;const o=K_(e);if(o===0)return e;const s=new Proxy(e,o===2?i:n);return r.set(e,s),s}function nr(e){return Cp(e)?nr(e.__v_raw):!!(e&&e.__v_isReactive)}function Cp(e){return!!(e&&e.__v_isReadonly)}function uu(e){return nr(e)||Cp(e)}function ht(e){const t=e&&e.__v_raw;return t?ht(t):e}function fu(e){return v_(e,"__v_skip",!0),e}const da=e=>Jo(e)?Le(e):e,Ep=e=>Jo(e)?mu(e):e;function hu(e){ru()&&(e=ht(e),e.dep||(e.dep=gp()),au(e.dep))}function gu(e,t){e=ht(e),e.dep&&wl(e.dep)}function se(e){return Boolean(e&&e.__v_isRef===!0)}function ft(e){return _u(e,!1)}function Q_(e){return _u(e,!0)}function _u(e,t){return se(e)?e:new J_(e,t)}class J_{constructor(t,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ht(t),this._value=n?t:da(t)}get value(){return hu(this),this._value}set value(t){t=this._shallow?t:ht(t),hp(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:da(t),gu(this))}}function Jr(e){return se(e)?e.value:e}const X_={get:(e,t,n)=>Jr(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return se(r)&&!se(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function xu(e){return nr(e)?e:new Proxy(e,X_)}class Z_{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new _p(t,()=>{this._dirty||(this._dirty=!0,gu(this))}),this.effect.active=!r,this.__v_isReadonly=i}get value(){const t=ht(this);return hu(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function bu(e,t,n=!1){let i,r;const a=g_(e);return a?(i=e,r=u_):(i=e.get,r=e.set),new Z_(i,r,a||!r,n)}Promise.resolve();function tx(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function we(e){if(ct(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=ze(i)?ix(i):we(i);if(r)for(const a in r)t[a]=r[a]}return t}else{if(ze(e))return e;if(le(e))return e}}const ex=/;(?![^(]*\))/g,nx=/:(.+)/;function ix(e){const t={};return e.split(ex).forEach(n=>{if(n){const i=n.split(nx);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Dn(e){let t="";if(ze(e))t=e;else if(ct(e))for(let n=0;n<e.length;n++){const i=Dn(e[n]);i&&(t+=i+" ")}else if(le(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Lt=e=>e==null?"":ct(e)||le(e)&&(e.toString===Su||!rt(e.toString))?JSON.stringify(e,vu,2):String(e),vu=(e,t)=>t&&t.__v_isRef?vu(e,t.value):wu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:Cu(t)?{[`Set(${t.size})`]:[...t.values()]}:le(t)&&!ct(t)&&!Ru(t)?String(t):t,wt={},ir=[],dn=()=>{},rx=()=>!1,ax=/^on[^a-z]/,Zo=e=>ax.test(e),yu=e=>e.startsWith("onUpdate:"),Ee=Object.assign,Sp=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ox=Object.prototype.hasOwnProperty,_t=(e,t)=>ox.call(e,t),ct=Array.isArray,wu=e=>Rp(e)==="[object Map]",Cu=e=>Rp(e)==="[object Set]",rt=e=>typeof e=="function",ze=e=>typeof e=="string",le=e=>e!==null&&typeof e=="object",Eu=e=>le(e)&&rt(e.then)&&rt(e.catch),Su=Object.prototype.toString,Rp=e=>Su.call(e),Ru=e=>Rp(e)==="[object Object]",Xr=tx(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ts=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},sx=/-(\w)/g,mn=ts(e=>e.replace(sx,(t,n)=>n?n.toUpperCase():"")),lx=/\B([A-Z])/g,es=ts(e=>e.replace(lx,"-$1").toLowerCase()),kp=ts(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ks=ts(e=>e?`on${kp(e)}`:""),sc=(e,t)=>!Object.is(e,t),qs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Cl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},px=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let lc;const dx=()=>lc||(lc=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Gn(e,t,n,i){let r;try{r=i?e(...i):e()}catch(a){ns(a,t,n)}return r}function Je(e,t,n,i){if(rt(e)){const a=Gn(e,t,n,i);return a&&Eu(a)&&a.catch(o=>{ns(o,t,n)}),a}const r=[];for(let a=0;a<e.length;a++)r.push(Je(e[a],t,n,i));return r}function ns(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let a=t.parent;const o=t.proxy,s=n;for(;a;){const p=a.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](e,o,s)===!1)return}a=a.parent}const l=t.appContext.config.errorHandler;if(l){Gn(l,null,10,[e,o,s]);return}}cx(e,n,r,i)}function cx(e,t,n,i=!0){console.error(e)}let fo=!1,El=!1;const ve=[];let wn=0;const Zr=[];let Qr=null,Qi=0;const ta=[];let Bn=null,Ji=0;const ku=Promise.resolve();let Tp=null,Sl=null;function Tu(e){const t=Tp||ku;return e?t.then(this?e.bind(this):e):t}function mx(e){let t=wn+1,n=ve.length;for(;t<n;){const i=t+n>>>1;ca(ve[i])<e?t=i+1:n=i}return t}function Iu(e){(!ve.length||!ve.includes(e,fo&&e.allowRecurse?wn+1:wn))&&e!==Sl&&(e.id==null?ve.push(e):ve.splice(mx(e.id),0,e),Au())}function Au(){!fo&&!El&&(El=!0,Tp=ku.then(Pu))}function ux(e){const t=ve.indexOf(e);t>wn&&ve.splice(t,1)}function Du(e,t,n,i){ct(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?i+1:i))&&n.push(e),Au()}function fx(e){Du(e,Qr,Zr,Qi)}function hx(e){Du(e,Bn,ta,Ji)}function Ip(e,t=null){if(Zr.length){for(Sl=t,Qr=[...new Set(Zr)],Zr.length=0,Qi=0;Qi<Qr.length;Qi++)Qr[Qi]();Qr=null,Qi=0,Sl=null,Ip(e,t)}}function ho(e){if(ta.length){const t=[...new Set(ta)];if(ta.length=0,Bn){Bn.push(...t);return}for(Bn=t,Bn.sort((n,i)=>ca(n)-ca(i)),Ji=0;Ji<Bn.length;Ji++)Bn[Ji]();Bn=null,Ji=0}}const ca=e=>e.id==null?1/0:e.id;function Pu(e){El=!1,fo=!0,Ip(e),ve.sort((n,i)=>ca(n)-ca(i));const t=dn;try{for(wn=0;wn<ve.length;wn++){const n=ve[wn];n&&n.active!==!1&&Gn(n,null,14)}}finally{wn=0,ve.length=0,ho(),fo=!1,Tp=null,(ve.length||Zr.length||ta.length)&&Pu(e)}}function gx(e,t,...n){const i=e.vnode.props||wt;let r=n;const a=t.startsWith("update:"),o=a&&t.slice(7);if(o&&o in i){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:m}=i[d]||wt;m?r=n.map(f=>f.trim()):c&&(r=n.map(px))}let s,l=i[s=Ks(t)]||i[s=Ks(mn(t))];!l&&a&&(l=i[s=Ks(es(t))]),l&&Je(l,e,6,r);const p=i[s+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Je(p,e,6,r)}}function Ou(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const a=e.emits;let o={},s=!1;if(!rt(e)){const l=p=>{const d=Ou(p,t,!0);d&&(s=!0,Ee(o,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(i.set(e,null),null):(ct(a)?a.forEach(l=>o[l]=null):Ee(o,a),i.set(e,o),o)}function Ap(e,t){return!e||!Zo(t)?!1:(t=t.slice(2).replace(/Once$/,""),_t(e,t[0].toLowerCase()+t.slice(1))||_t(e,es(t))||_t(e,t))}let Ke=null,is=null;function go(e){const t=Ke;return Ke=e,is=e&&e.type.__scopeId||null,t}function Er(e){is=e}function Sr(){is=null}function ao(e,t=Ke,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&xc(-1);const a=go(t),o=e(...r);return go(a),i._d&&xc(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function Qs(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:a,propsOptions:[o],slots:s,attrs:l,emit:p,render:d,renderCache:c,data:m,setupState:f,ctx:g,inheritAttrs:A}=e;let x,v;const P=go(e);try{if(n.shapeFlag&4){const z=r||i;x=Ge(d.call(z,z,c,a,f,m,g)),v=l}else{const z=t;x=Ge(z.length>1?z(a,{attrs:l,slots:s,emit:p}):z(a,null)),v=t.props?l:_x(l)}}catch(z){na.length=0,ns(z,e,1),x=Wt(ni)}let F=x;if(v&&A!==!1){const z=Object.keys(v),{shapeFlag:j}=F;z.length&&j&7&&(o&&z.some(yu)&&(v=xx(v,o)),F=ua(F,v))}return n.dirs&&(F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),x=F,go(P),x}const _x=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zo(n))&&((t||(t={}))[n]=e[n]);return t},xx=(e,t)=>{const n={};for(const i in e)(!yu(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function bx(e,t,n){const{props:i,children:r,component:a}=e,{props:o,children:s,patchFlag:l}=t,p=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?pc(i,o,p):!!o;if(l&8){const d=t.dynamicProps;for(let c=0;c<d.length;c++){const m=d[c];if(o[m]!==i[m]&&!Ap(p,m))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===o?!1:i?o?pc(i,o,p):!0:!!o;return!1}function pc(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(t[a]!==e[a]&&!Ap(n,a))return!0}return!1}function vx({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const yx=e=>e.__isSuspense;function Nu(e,t){t&&t.pendingBranch?ct(e)?t.effects.push(...e):t.effects.push(e):hx(e)}function oo(e,t){if(te){let n=te.provides;const i=te.parent&&te.parent.provides;i===n&&(n=te.provides=Object.create(i)),n[e]=t}}function Xe(e,t,n=!1){const i=te||Ke;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&rt(t)?t.call(i.proxy):t}}function wx(e,t){return Dp(e,null,t)}const dc={};function rr(e,t,n){return Dp(e,t,n)}function Dp(e,t,{immediate:n,deep:i,flush:r,onTrack:a,onTrigger:o}=wt){const s=te;let l,p=!1,d=!1;if(se(e)?(l=()=>e.value,p=!!e._shallow):nr(e)?(l=()=>e,i=!0):ct(e)?(d=!0,p=e.some(nr),l=()=>e.map(v=>{if(se(v))return v.value;if(nr(v))return bi(v);if(rt(v))return Gn(v,s,2)})):rt(e)?t?l=()=>Gn(e,s,2):l=()=>{if(!(s&&s.isUnmounted))return c&&c(),Je(e,s,3,[m])}:l=dn,t&&i){const v=l;l=()=>bi(v())}let c,m=v=>{c=x.onStop=()=>{Gn(v,s,4)}};if(fa)return m=dn,t?n&&Je(t,s,3,[l(),d?[]:void 0,m]):l(),dn;let f=d?[]:dc;const g=()=>{if(!!x.active)if(t){const v=x.run();(i||p||(d?v.some((P,F)=>sc(P,f[F])):sc(v,f)))&&(c&&c(),Je(t,s,3,[v,f===dc?void 0:f,m]),f=v)}else x.run()};g.allowRecurse=!!t;let A;r==="sync"?A=g:r==="post"?A=()=>pe(g,s&&s.suspense):A=()=>{!s||s.isMounted?fx(g):g()};const x=new _p(l,A);return t?n?g():f=x.run():r==="post"?pe(x.run.bind(x),s&&s.suspense):x.run(),()=>{x.stop(),s&&s.scope&&Sp(s.scope.effects,x)}}function Cx(e,t,n){const i=this.proxy,r=ze(e)?e.includes(".")?Mu(i,e):()=>i[e]:e.bind(i,i);let a;rt(t)?a=t:(a=t.handler,n=t);const o=te;mr(this);const s=Dp(r,a.bind(i),n);return o?mr(o):Si(),s}function Mu(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function bi(e,t){if(!le(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),se(e))bi(e.value,t);else if(ct(e))for(let n=0;n<e.length;n++)bi(e[n],t);else if(Cu(e)||wu(e))e.forEach(n=>{bi(n,t)});else if(Ru(e))for(const n in e)bi(e[n],t);return e}function Pp(e){return rt(e)?{setup:e,name:e.name}:e}const _o=e=>!!e.type.__asyncLoader,Fu=e=>e.type.__isKeepAlive;function Ex(e,t){Lu(e,"a",t)}function Sx(e,t){Lu(e,"da",t)}function Lu(e,t,n=te){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(rs(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Fu(r.parent.vnode)&&Rx(i,t,n,r),r=r.parent}}function Rx(e,t,n,i){const r=rs(t,e,i,!0);Yu(()=>{Sp(i[t],r)},n)}function rs(e,t,n=te,i=!1){if(n){const r=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Cr(),mr(n);const s=Je(t,n,e,o);return Si(),Li(),s});return i?r.unshift(a):r.push(a),a}}const Pn=e=>(t,n=te)=>(!fa||e==="sp")&&rs(e,t,n),kx=Pn("bm"),zu=Pn("m"),Tx=Pn("bu"),Ix=Pn("u"),Bu=Pn("bum"),Yu=Pn("um"),Ax=Pn("sp"),Dx=Pn("rtg"),Px=Pn("rtc");function Ox(e,t=te){rs("ec",e,t)}let Rl=!0;function Nx(e){const t=$u(e),n=e.proxy,i=e.ctx;Rl=!1,t.beforeCreate&&cc(t.beforeCreate,e,"bc");const{data:r,computed:a,methods:o,watch:s,provide:l,inject:p,created:d,beforeMount:c,mounted:m,beforeUpdate:f,updated:g,activated:A,deactivated:x,beforeDestroy:v,beforeUnmount:P,destroyed:F,unmounted:z,render:j,renderTracked:Q,renderTriggered:q,errorCaptured:Tt,serverPrefetch:at,expose:It,inheritAttrs:jt,components:it,directives:Bt,filters:Gt}=t;if(p&&Mx(p,i,null,e.appContext.config.unwrapInjectedRef),o)for(const Et in o){const bt=o[Et];rt(bt)&&(i[Et]=bt.bind(n))}if(r){const Et=r.call(n,n);le(Et)&&(e.data=Le(Et))}if(Rl=!0,a)for(const Et in a){const bt=a[Et],Ie=rt(bt)?bt.bind(n,n):rt(bt.get)?bt.get.bind(n,n):dn,Ui=!rt(bt)&&rt(bt.set)?bt.set.bind(n):dn,bn=bu({get:Ie,set:Ui});Object.defineProperty(i,Et,{enumerable:!0,configurable:!0,get:()=>bn.value,set:on=>bn.value=on})}if(s)for(const Et in s)ju(s[Et],i,n,Et);if(l){const Et=rt(l)?l.call(n):l;Reflect.ownKeys(Et).forEach(bt=>{oo(bt,Et[bt])})}d&&cc(d,e,"c");function Ut(Et,bt){ct(bt)?bt.forEach(Ie=>Et(Ie.bind(n))):bt&&Et(bt.bind(n))}if(Ut(kx,c),Ut(zu,m),Ut(Tx,f),Ut(Ix,g),Ut(Ex,A),Ut(Sx,x),Ut(Ox,Tt),Ut(Px,Q),Ut(Dx,q),Ut(Bu,P),Ut(Yu,z),Ut(Ax,at),ct(It))if(It.length){const Et=e.exposed||(e.exposed={});It.forEach(bt=>{Object.defineProperty(Et,bt,{get:()=>n[bt],set:Ie=>n[bt]=Ie})})}else e.exposed||(e.exposed={});j&&e.render===dn&&(e.render=j),jt!=null&&(e.inheritAttrs=jt),it&&(e.components=it),Bt&&(e.directives=Bt)}function Mx(e,t,n=dn,i=!1){ct(e)&&(e=kl(e));for(const r in e){const a=e[r];let o;le(a)?"default"in a?o=Xe(a.from||r,a.default,!0):o=Xe(a.from||r):o=Xe(a),se(o)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function cc(e,t,n){Je(ct(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function ju(e,t,n,i){const r=i.includes(".")?Mu(n,i):()=>n[i];if(ze(e)){const a=t[e];rt(a)&&rr(r,a)}else if(rt(e))rr(r,e.bind(n));else if(le(e))if(ct(e))e.forEach(a=>ju(a,t,n,i));else{const a=rt(e.handler)?e.handler.bind(n):t[e.handler];rt(a)&&rr(r,a,e)}}function $u(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(p=>xo(l,p,o,!0)),xo(l,t,o)),a.set(t,l),l}function xo(e,t,n,i=!1){const{mixins:r,extends:a}=t;a&&xo(e,a,n,!0),r&&r.forEach(o=>xo(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const s=Fx[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const Fx={data:mc,props:hi,emits:hi,methods:hi,computed:hi,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:hi,directives:hi,watch:zx,provide:mc,inject:Lx};function mc(e,t){return t?e?function(){return Ee(rt(e)?e.call(this,this):e,rt(t)?t.call(this,this):t)}:t:e}function Lx(e,t){return hi(kl(e),kl(t))}function kl(e){if(ct(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ae(e,t){return e?[...new Set([].concat(e,t))]:t}function hi(e,t){return e?Ee(Ee(Object.create(null),e),t):t}function zx(e,t){if(!e)return t;if(!t)return e;const n=Ee(Object.create(null),e);for(const i in t)n[i]=ae(e[i],t[i]);return n}function Bx(e,t,n,i=!1){const r={},a={};Cl(a,as,1),e.propsDefaults=Object.create(null),Wu(e,t,r,a);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:q_(r):e.type.props?e.props=r:e.props=a,e.attrs=a}function Yx(e,t,n,i){const{props:r,attrs:a,vnode:{patchFlag:o}}=e,s=ht(r),[l]=e.propsOptions;let p=!1;if((i||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let c=0;c<d.length;c++){let m=d[c];const f=t[m];if(l)if(_t(a,m))f!==a[m]&&(a[m]=f,p=!0);else{const g=mn(m);r[g]=Tl(l,s,g,f,e,!1)}else f!==a[m]&&(a[m]=f,p=!0)}}}else{Wu(e,t,r,a)&&(p=!0);let d;for(const c in s)(!t||!_t(t,c)&&((d=es(c))===c||!_t(t,d)))&&(l?n&&(n[c]!==void 0||n[d]!==void 0)&&(r[c]=Tl(l,s,c,void 0,e,!0)):delete r[c]);if(a!==s)for(const c in a)(!t||!_t(t,c))&&(delete a[c],p=!0)}p&&Tn(e,"set","$attrs")}function Wu(e,t,n,i){const[r,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Xr(l))continue;const p=t[l];let d;r&&_t(r,d=mn(l))?!a||!a.includes(d)?n[d]=p:(s||(s={}))[d]=p:Ap(e.emitsOptions,l)||(!(l in i)||p!==i[l])&&(i[l]=p,o=!0)}if(a){const l=ht(n),p=s||wt;for(let d=0;d<a.length;d++){const c=a[d];n[c]=Tl(r,l,c,p[c],e,!_t(p,c))}}return o}function Tl(e,t,n,i,r,a){const o=e[n];if(o!=null){const s=_t(o,"default");if(s&&i===void 0){const l=o.default;if(o.type!==Function&&rt(l)){const{propsDefaults:p}=r;n in p?i=p[n]:(mr(r),i=p[n]=l.call(null,t),Si())}else i=l}o[0]&&(a&&!s?i=!1:o[1]&&(i===""||i===es(n))&&(i=!0))}return i}function Uu(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const a=e.props,o={},s=[];let l=!1;if(!rt(e)){const d=c=>{l=!0;const[m,f]=Uu(c,t,!0);Ee(o,m),f&&s.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!a&&!l)return i.set(e,ir),ir;if(ct(a))for(let d=0;d<a.length;d++){const c=mn(a[d]);uc(c)&&(o[c]=wt)}else if(a)for(const d in a){const c=mn(d);if(uc(c)){const m=a[d],f=o[c]=ct(m)||rt(m)?{type:m}:m;if(f){const g=gc(Boolean,f.type),A=gc(String,f.type);f[0]=g>-1,f[1]=A<0||g<A,(g>-1||_t(f,"default"))&&s.push(c)}}}const p=[o,s];return i.set(e,p),p}function uc(e){return e[0]!=="$"}function fc(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function hc(e,t){return fc(e)===fc(t)}function gc(e,t){return ct(t)?t.findIndex(n=>hc(n,e)):rt(t)&&hc(t,e)?0:-1}const Hu=e=>e[0]==="_"||e==="$stable",Op=e=>ct(e)?e.map(Ge):[Ge(e)],jx=(e,t,n)=>{const i=ao((...r)=>Op(t(...r)),n);return i._c=!1,i},Vu=(e,t,n)=>{const i=e._ctx;for(const r in e){if(Hu(r))continue;const a=e[r];if(rt(a))t[r]=jx(r,a,i);else if(a!=null){const o=Op(a);t[r]=()=>o}}},Gu=(e,t)=>{const n=Op(t);e.slots.default=()=>n},$x=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ht(t),Cl(t,"_",n)):Vu(t,e.slots={})}else e.slots={},t&&Gu(e,t);Cl(e.slots,as,1)},Wx=(e,t,n)=>{const{vnode:i,slots:r}=e;let a=!0,o=wt;if(i.shapeFlag&32){const s=t._;s?n&&s===1?a=!1:(Ee(r,t),!n&&s===1&&delete r._):(a=!t.$stable,Vu(t,r)),o=t}else t&&(Gu(e,t),o={default:1});if(a)for(const s in r)!Hu(s)&&!(s in o)&&delete r[s]};function Be(e,t){const n=Ke;if(n===null)return e;const i=n.proxy,r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,s,l,p=wt]=t[a];rt(o)&&(o={mounted:o,updated:o}),o.deep&&bi(s),r.push({dir:o,instance:i,value:s,oldValue:void 0,arg:l,modifiers:p})}return e}function ln(e,t,n,i){const r=e.dirs,a=t&&t.dirs;for(let o=0;o<r.length;o++){const s=r[o];a&&(s.oldValue=a[o].value);let l=s.dir[i];l&&(Cr(),Je(l,n,8,[e.el,s,e,t]),Li())}}function Ku(){return{app:null,config:{isNativeTag:rx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ux=0;function Hx(e,t){return function(i,r=null){r!=null&&!le(r)&&(r=null);const a=Ku(),o=new Set;let s=!1;const l=a.app={_uid:Ux++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:f0,get config(){return a.config},set config(p){},use(p,...d){return o.has(p)||(p&&rt(p.install)?(o.add(p),p.install(l,...d)):rt(p)&&(o.add(p),p(l,...d))),l},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),l},component(p,d){return d?(a.components[p]=d,l):a.components[p]},directive(p,d){return d?(a.directives[p]=d,l):a.directives[p]},mount(p,d,c){if(!s){const m=Wt(i,r);return m.appContext=a,d&&t?t(m,p):e(m,p,c),s=!0,l._container=p,p.__vue_app__=l,Fp(m.component)||m.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(p,d){return a.provides[p]=d,l}};return l}}function bo(e,t,n,i,r=!1){if(ct(e)){e.forEach((m,f)=>bo(m,t&&(ct(t)?t[f]:t),n,i,r));return}if(_o(i)&&!r)return;const a=i.shapeFlag&4?Fp(i.component)||i.component.proxy:i.el,o=r?null:a,{i:s,r:l}=e,p=t&&t.r,d=s.refs===wt?s.refs={}:s.refs,c=s.setupState;if(p!=null&&p!==l&&(ze(p)?(d[p]=null,_t(c,p)&&(c[p]=null)):se(p)&&(p.value=null)),rt(l))Gn(l,s,12,[o,d]);else{const m=ze(l),f=se(l);if(m||f){const g=()=>{if(e.f){const A=m?d[l]:l.value;r?ct(A)&&Sp(A,a):ct(A)?A.includes(a)||A.push(a):m?d[l]=[a]:(l.value=[a],e.k&&(d[e.k]=l.value))}else m?(d[l]=o,_t(c,l)&&(c[l]=o)):se(l)&&(l.value=o,e.k&&(d[e.k]=o))};o?(g.id=-1,pe(g,n)):g()}}}let zn=!1;const Za=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Js=e=>e.nodeType===8;function Vx(e){const{mt:t,p:n,o:{patchProp:i,nextSibling:r,parentNode:a,remove:o,insert:s,createComment:l}}=e,p=(x,v)=>{if(!v.hasChildNodes()){n(null,x,v),ho();return}zn=!1,d(v.firstChild,x,null,null,null),ho(),zn&&console.error("Hydration completed but contains mismatches.")},d=(x,v,P,F,z,j=!1)=>{const Q=Js(x)&&x.data==="[",q=()=>g(x,v,P,F,z,Q),{type:Tt,ref:at,shapeFlag:It}=v,jt=x.nodeType;v.el=x;let it=null;switch(Tt){case ma:jt!==3?it=q():(x.data!==v.children&&(zn=!0,x.data=v.children),it=r(x));break;case ni:jt!==8||Q?it=q():it=r(x);break;case ea:if(jt!==1)it=q();else{it=x;const Bt=!v.children.length;for(let Gt=0;Gt<v.staticCount;Gt++)Bt&&(v.children+=it.outerHTML),Gt===v.staticCount-1&&(v.anchor=it),it=r(it);return it}break;case ce:Q?it=f(x,v,P,F,z,j):it=q();break;default:if(It&1)jt!==1||v.type.toLowerCase()!==x.tagName.toLowerCase()?it=q():it=c(x,v,P,F,z,j);else if(It&6){v.slotScopeIds=z;const Bt=a(x);if(t(v,Bt,null,P,F,Za(Bt),j),it=Q?A(x):r(x),_o(v)){let Gt;Q?(Gt=Wt(ce),Gt.anchor=it?it.previousSibling:Bt.lastChild):Gt=x.nodeType===3?Se(""):Wt("div"),Gt.el=x,v.component.subTree=Gt}}else It&64?jt!==8?it=q():it=v.type.hydrate(x,v,P,F,z,j,e,m):It&128&&(it=v.type.hydrate(x,v,P,F,Za(a(x)),z,j,e,d))}return at!=null&&bo(at,null,F,v),it},c=(x,v,P,F,z,j)=>{j=j||!!v.dynamicChildren;const{type:Q,props:q,patchFlag:Tt,shapeFlag:at,dirs:It}=v,jt=Q==="input"&&It||Q==="option";if(jt||Tt!==-1){if(It&&ln(v,null,P,"created"),q)if(jt||!j||Tt&48)for(const Bt in q)(jt&&Bt.endsWith("value")||Zo(Bt)&&!Xr(Bt))&&i(x,Bt,null,q[Bt],!1,void 0,P);else q.onClick&&i(x,"onClick",null,q.onClick,!1,void 0,P);let it;if((it=q&&q.onVnodeBeforeMount)&&De(it,P,v),It&&ln(v,null,P,"beforeMount"),((it=q&&q.onVnodeMounted)||It)&&Nu(()=>{it&&De(it,P,v),It&&ln(v,null,P,"mounted")},F),at&16&&!(q&&(q.innerHTML||q.textContent))){let Bt=m(x.firstChild,v,x,P,F,z,j);for(;Bt;){zn=!0;const Gt=Bt;Bt=Bt.nextSibling,o(Gt)}}else at&8&&x.textContent!==v.children&&(zn=!0,x.textContent=v.children)}return x.nextSibling},m=(x,v,P,F,z,j,Q)=>{Q=Q||!!v.dynamicChildren;const q=v.children,Tt=q.length;for(let at=0;at<Tt;at++){const It=Q?q[at]:q[at]=Ge(q[at]);if(x)x=d(x,It,F,z,j,Q);else{if(It.type===ma&&!It.children)continue;zn=!0,n(null,It,P,null,F,z,Za(P),j)}}return x},f=(x,v,P,F,z,j)=>{const{slotScopeIds:Q}=v;Q&&(z=z?z.concat(Q):Q);const q=a(x),Tt=m(r(x),v,q,P,F,z,j);return Tt&&Js(Tt)&&Tt.data==="]"?r(v.anchor=Tt):(zn=!0,s(v.anchor=l("]"),q,Tt),Tt)},g=(x,v,P,F,z,j)=>{if(zn=!0,v.el=null,j){const Tt=A(x);for(;;){const at=r(x);if(at&&at!==Tt)o(at);else break}}const Q=r(x),q=a(x);return o(x),n(null,v,q,Q,P,F,Za(q),z),Q},A=x=>{let v=0;for(;x;)if(x=r(x),x&&Js(x)&&(x.data==="["&&v++,x.data==="]")){if(v===0)return r(x);v--}return x};return[p,d]}const pe=Nu;function Gx(e){return qu(e)}function Kx(e){return qu(e,Vx)}function qu(e,t){const n=dx();n.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:o,createText:s,createComment:l,setText:p,setElementText:d,parentNode:c,nextSibling:m,setScopeId:f=dn,cloneNode:g,insertStaticContent:A}=e,x=(u,h,b,E=null,w=null,I=null,N=!1,T=null,D=!!h.dynamicChildren)=>{if(u===h)return;u&&!Br(u,h)&&(E=H(u),Ae(u,w,I,!0),u=null),h.patchFlag===-2&&(D=!1,h.dynamicChildren=null);const{type:S,ref:$,shapeFlag:L}=h;switch(S){case ma:v(u,h,b,E);break;case ni:P(u,h,b,E);break;case ea:u==null&&F(h,b,E,N);break;case ce:Bt(u,h,b,E,w,I,N,T,D);break;default:L&1?Q(u,h,b,E,w,I,N,T,D):L&6?Gt(u,h,b,E,w,I,N,T,D):(L&64||L&128)&&S.process(u,h,b,E,w,I,N,T,D,Dt)}$!=null&&w&&bo($,u&&u.ref,I,h||u,!h)},v=(u,h,b,E)=>{if(u==null)i(h.el=s(h.children),b,E);else{const w=h.el=u.el;h.children!==u.children&&p(w,h.children)}},P=(u,h,b,E)=>{u==null?i(h.el=l(h.children||""),b,E):h.el=u.el},F=(u,h,b,E)=>{[u.el,u.anchor]=A(u.children,h,b,E,u.el,u.anchor)},z=({el:u,anchor:h},b,E)=>{let w;for(;u&&u!==h;)w=m(u),i(u,b,E),u=w;i(h,b,E)},j=({el:u,anchor:h})=>{let b;for(;u&&u!==h;)b=m(u),r(u),u=b;r(h)},Q=(u,h,b,E,w,I,N,T,D)=>{N=N||h.type==="svg",u==null?q(h,b,E,w,I,N,T,D):It(u,h,w,I,N,T,D)},q=(u,h,b,E,w,I,N,T)=>{let D,S;const{type:$,props:L,shapeFlag:W,transition:K,patchFlag:pt,dirs:Mt}=u;if(u.el&&g!==void 0&&pt===-1)D=u.el=g(u.el);else{if(D=u.el=o(u.type,I,L&&L.is,L),W&8?d(D,u.children):W&16&&at(u.children,D,null,E,w,I&&$!=="foreignObject",N,T),Mt&&ln(u,null,E,"created"),L){for(const Pt in L)Pt!=="value"&&!Xr(Pt)&&a(D,Pt,null,L[Pt],I,u.children,E,w,O);"value"in L&&a(D,"value",null,L.value),(S=L.onVnodeBeforeMount)&&De(S,E,u)}Tt(D,u,u.scopeId,N,E)}Mt&&ln(u,null,E,"beforeMount");const vt=(!w||w&&!w.pendingBranch)&&K&&!K.persisted;vt&&K.beforeEnter(D),i(D,h,b),((S=L&&L.onVnodeMounted)||vt||Mt)&&pe(()=>{S&&De(S,E,u),vt&&K.enter(D),Mt&&ln(u,null,E,"mounted")},w)},Tt=(u,h,b,E,w)=>{if(b&&f(u,b),E)for(let I=0;I<E.length;I++)f(u,E[I]);if(w){let I=w.subTree;if(h===I){const N=w.vnode;Tt(u,N,N.scopeId,N.slotScopeIds,w.parent)}}},at=(u,h,b,E,w,I,N,T,D=0)=>{for(let S=D;S<u.length;S++){const $=u[S]=T?Yn(u[S]):Ge(u[S]);x(null,$,h,b,E,w,I,N,T)}},It=(u,h,b,E,w,I,N)=>{const T=h.el=u.el;let{patchFlag:D,dynamicChildren:S,dirs:$}=h;D|=u.patchFlag&16;const L=u.props||wt,W=h.props||wt;let K;b&&ci(b,!1),(K=W.onVnodeBeforeUpdate)&&De(K,b,h,u),$&&ln(h,u,b,"beforeUpdate"),b&&ci(b,!0);const pt=w&&h.type!=="foreignObject";if(S?jt(u.dynamicChildren,S,T,b,E,pt,I):N||Ie(u,h,T,null,b,E,pt,I,!1),D>0){if(D&16)it(T,h,L,W,b,E,w);else if(D&2&&L.class!==W.class&&a(T,"class",null,W.class,w),D&4&&a(T,"style",L.style,W.style,w),D&8){const Mt=h.dynamicProps;for(let vt=0;vt<Mt.length;vt++){const Pt=Mt[vt],He=L[Pt],Hi=W[Pt];(Hi!==He||Pt==="value")&&a(T,Pt,He,Hi,w,u.children,b,E,O)}}D&1&&u.children!==h.children&&d(T,h.children)}else!N&&S==null&&it(T,h,L,W,b,E,w);((K=W.onVnodeUpdated)||$)&&pe(()=>{K&&De(K,b,h,u),$&&ln(h,u,b,"updated")},E)},jt=(u,h,b,E,w,I,N)=>{for(let T=0;T<h.length;T++){const D=u[T],S=h[T],$=D.el&&(D.type===ce||!Br(D,S)||D.shapeFlag&70)?c(D.el):b;x(D,S,$,null,E,w,I,N,!0)}},it=(u,h,b,E,w,I,N)=>{if(b!==E){for(const T in E){if(Xr(T))continue;const D=E[T],S=b[T];D!==S&&T!=="value"&&a(u,T,S,D,N,h.children,w,I,O)}if(b!==wt)for(const T in b)!Xr(T)&&!(T in E)&&a(u,T,b[T],null,N,h.children,w,I,O);"value"in E&&a(u,"value",b.value,E.value)}},Bt=(u,h,b,E,w,I,N,T,D)=>{const S=h.el=u?u.el:s(""),$=h.anchor=u?u.anchor:s("");let{patchFlag:L,dynamicChildren:W,slotScopeIds:K}=h;K&&(T=T?T.concat(K):K),u==null?(i(S,b,E),i($,b,E),at(h.children,b,$,w,I,N,T,D)):L>0&&L&64&&W&&u.dynamicChildren?(jt(u.dynamicChildren,W,b,w,I,N,T),(h.key!=null||w&&h===w.subTree)&&Qu(u,h,!0)):Ie(u,h,b,$,w,I,N,T,D)},Gt=(u,h,b,E,w,I,N,T,D)=>{h.slotScopeIds=T,u==null?h.shapeFlag&512?w.ctx.activate(h,b,E,N,D):Wi(h,b,E,w,I,N,D):Ut(u,h,D)},Wi=(u,h,b,E,w,I,N)=>{const T=u.component=s0(u,E,w);if(Fu(u)&&(T.ctx.renderer=Dt),l0(T),T.asyncDep){if(w&&w.registerDep(T,Et),!u.el){const D=T.subTree=Wt(ni);P(null,D,h,b)}return}Et(T,u,h,b,w,I,N)},Ut=(u,h,b)=>{const E=h.component=u.component;if(bx(u,h,b))if(E.asyncDep&&!E.asyncResolved){bt(E,h,b);return}else E.next=h,ux(E.update),E.update();else h.component=u.component,h.el=u.el,E.vnode=h},Et=(u,h,b,E,w,I,N)=>{const T=()=>{if(u.isMounted){let{next:$,bu:L,u:W,parent:K,vnode:pt}=u,Mt=$,vt;ci(u,!1),$?($.el=pt.el,bt(u,$,N)):$=pt,L&&qs(L),(vt=$.props&&$.props.onVnodeBeforeUpdate)&&De(vt,K,$,pt),ci(u,!0);const Pt=Qs(u),He=u.subTree;u.subTree=Pt,x(He,Pt,c(He.el),H(He),u,w,I),$.el=Pt.el,Mt===null&&vx(u,Pt.el),W&&pe(W,w),(vt=$.props&&$.props.onVnodeUpdated)&&pe(()=>De(vt,K,$,pt),w)}else{let $;const{el:L,props:W}=h,{bm:K,m:pt,parent:Mt}=u,vt=_o(h);if(ci(u,!1),K&&qs(K),!vt&&($=W&&W.onVnodeBeforeMount)&&De($,Mt,h),ci(u,!0),L&&st){const Pt=()=>{u.subTree=Qs(u),st(L,u.subTree,u,w,null)};vt?h.type.__asyncLoader().then(()=>!u.isUnmounted&&Pt()):Pt()}else{const Pt=u.subTree=Qs(u);x(null,Pt,b,E,u,w,I),h.el=Pt.el}if(pt&&pe(pt,w),!vt&&($=W&&W.onVnodeMounted)){const Pt=h;pe(()=>De($,Mt,Pt),w)}h.shapeFlag&256&&u.a&&pe(u.a,w),u.isMounted=!0,h=b=E=null}},D=u.effect=new _p(T,()=>Iu(u.update),u.scope),S=u.update=D.run.bind(D);S.id=u.uid,ci(u,!0),S()},bt=(u,h,b)=>{h.component=u;const E=u.vnode.props;u.vnode=h,u.next=null,Yx(u,h.props,E,b),Wx(u,h.children,b),Cr(),Ip(void 0,u.update),Li()},Ie=(u,h,b,E,w,I,N,T,D=!1)=>{const S=u&&u.children,$=u?u.shapeFlag:0,L=h.children,{patchFlag:W,shapeFlag:K}=h;if(W>0){if(W&128){bn(S,L,b,E,w,I,N,T,D);return}else if(W&256){Ui(S,L,b,E,w,I,N,T,D);return}}K&8?($&16&&O(S,w,I),L!==S&&d(b,L)):$&16?K&16?bn(S,L,b,E,w,I,N,T,D):O(S,w,I,!0):($&8&&d(b,""),K&16&&at(L,b,E,w,I,N,T,D))},Ui=(u,h,b,E,w,I,N,T,D)=>{u=u||ir,h=h||ir;const S=u.length,$=h.length,L=Math.min(S,$);let W;for(W=0;W<L;W++){const K=h[W]=D?Yn(h[W]):Ge(h[W]);x(u[W],K,b,null,w,I,N,T,D)}S>$?O(u,w,I,!0,!1,L):at(h,b,E,w,I,N,T,D,L)},bn=(u,h,b,E,w,I,N,T,D)=>{let S=0;const $=h.length;let L=u.length-1,W=$-1;for(;S<=L&&S<=W;){const K=u[S],pt=h[S]=D?Yn(h[S]):Ge(h[S]);if(Br(K,pt))x(K,pt,b,null,w,I,N,T,D);else break;S++}for(;S<=L&&S<=W;){const K=u[L],pt=h[W]=D?Yn(h[W]):Ge(h[W]);if(Br(K,pt))x(K,pt,b,null,w,I,N,T,D);else break;L--,W--}if(S>L){if(S<=W){const K=W+1,pt=K<$?h[K].el:E;for(;S<=W;)x(null,h[S]=D?Yn(h[S]):Ge(h[S]),b,pt,w,I,N,T,D),S++}}else if(S>W)for(;S<=L;)Ae(u[S],w,I,!0),S++;else{const K=S,pt=S,Mt=new Map;for(S=pt;S<=W;S++){const xe=h[S]=D?Yn(h[S]):Ge(h[S]);xe.key!=null&&Mt.set(xe.key,S)}let vt,Pt=0;const He=W-pt+1;let Hi=!1,Xd=0;const Lr=new Array(He);for(S=0;S<He;S++)Lr[S]=0;for(S=K;S<=L;S++){const xe=u[S];if(Pt>=He){Ae(xe,w,I,!0);continue}let sn;if(xe.key!=null)sn=Mt.get(xe.key);else for(vt=pt;vt<=W;vt++)if(Lr[vt-pt]===0&&Br(xe,h[vt])){sn=vt;break}sn===void 0?Ae(xe,w,I,!0):(Lr[sn-pt]=S+1,sn>=Xd?Xd=sn:Hi=!0,x(xe,h[sn],b,null,w,I,N,T,D),Pt++)}const Zd=Hi?qx(Lr):ir;for(vt=Zd.length-1,S=He-1;S>=0;S--){const xe=pt+S,sn=h[xe],tc=xe+1<$?h[xe+1].el:E;Lr[S]===0?x(null,sn,b,tc,w,I,N,T,D):Hi&&(vt<0||S!==Zd[vt]?on(sn,b,tc,2):vt--)}}},on=(u,h,b,E,w=null)=>{const{el:I,type:N,transition:T,children:D,shapeFlag:S}=u;if(S&6){on(u.component.subTree,h,b,E);return}if(S&128){u.suspense.move(h,b,E);return}if(S&64){N.move(u,h,b,Dt);return}if(N===ce){i(I,h,b);for(let L=0;L<D.length;L++)on(D[L],h,b,E);i(u.anchor,h,b);return}if(N===ea){z(u,h,b);return}if(E!==2&&S&1&&T)if(E===0)T.beforeEnter(I),i(I,h,b),pe(()=>T.enter(I),w);else{const{leave:L,delayLeave:W,afterLeave:K}=T,pt=()=>i(I,h,b),Mt=()=>{L(I,()=>{pt(),K&&K()})};W?W(I,pt,Mt):Mt()}else i(I,h,b)},Ae=(u,h,b,E=!1,w=!1)=>{const{type:I,props:N,ref:T,children:D,dynamicChildren:S,shapeFlag:$,patchFlag:L,dirs:W}=u;if(T!=null&&bo(T,null,b,u,!0),$&256){h.ctx.deactivate(u);return}const K=$&1&&W,pt=!_o(u);let Mt;if(pt&&(Mt=N&&N.onVnodeBeforeUnmount)&&De(Mt,h,u),$&6)B(u.component,b,E);else{if($&128){u.suspense.unmount(b,E);return}K&&ln(u,null,h,"beforeUnmount"),$&64?u.type.remove(u,h,b,w,Dt,E):S&&(I!==ce||L>0&&L&64)?O(S,h,b,!1,!0):(I===ce&&L&384||!w&&$&16)&&O(D,h,b),E&&Gs(u)}(pt&&(Mt=N&&N.onVnodeUnmounted)||K)&&pe(()=>{Mt&&De(Mt,h,u),K&&ln(u,null,h,"unmounted")},b)},Gs=u=>{const{type:h,el:b,anchor:E,transition:w}=u;if(h===ce){C(b,E);return}if(h===ea){j(u);return}const I=()=>{r(b),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(u.shapeFlag&1&&w&&!w.persisted){const{leave:N,delayLeave:T}=w,D=()=>N(b,I);T?T(u.el,I,D):D()}else I()},C=(u,h)=>{let b;for(;u!==h;)b=m(u),r(u),u=b;r(h)},B=(u,h,b)=>{const{bum:E,scope:w,update:I,subTree:N,um:T}=u;E&&qs(E),w.stop(),I&&(I.active=!1,Ae(N,u,h,b)),T&&pe(T,h),pe(()=>{u.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},O=(u,h,b,E=!1,w=!1,I=0)=>{for(let N=I;N<u.length;N++)Ae(u[N],h,b,E,w)},H=u=>u.shapeFlag&6?H(u.component.subTree):u.shapeFlag&128?u.suspense.next():m(u.anchor||u.el),At=(u,h,b)=>{u==null?h._vnode&&Ae(h._vnode,null,null,!0):x(h._vnode||null,u,h,null,null,null,b),ho(),h._vnode=u},Dt={p:x,um:Ae,m:on,r:Gs,mt:Wi,mc:at,pc:Ie,pbc:jt,n:H,o:e};let ot,st;return t&&([ot,st]=t(Dt)),{render:At,hydrate:ot,createApp:Hx(At,ot)}}function ci({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Qu(e,t,n=!1){const i=e.children,r=t.children;if(ct(i)&&ct(r))for(let a=0;a<i.length;a++){const o=i[a];let s=r[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[a]=Yn(r[a]),s.el=o.el),n||Qu(o,s))}}function qx(e){const t=e.slice(),n=[0];let i,r,a,o,s;const l=e.length;for(i=0;i<l;i++){const p=e[i];if(p!==0){if(r=n[n.length-1],e[r]<p){t[i]=r,n.push(i);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<p?a=s+1:o=s;p<e[n[a]]&&(a>0&&(t[i]=n[a-1]),n[a]=i)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}const Qx=e=>e.__isTeleport,Ju="components";function ei(e,t){return Xx(Ju,e,!0,t)||e}const Jx=Symbol();function Xx(e,t,n=!0,i=!1){const r=Ke||te;if(r){const a=r.type;if(e===Ju){const s=m0(a);if(s&&(s===t||s===mn(t)||s===kp(mn(t))))return a}const o=_c(r[e]||a[e],t)||_c(r.appContext[e],t);return!o&&i?a:o}}function _c(e,t){return e&&(e[t]||e[mn(t)]||e[kp(mn(t))])}const ce=Symbol(void 0),ma=Symbol(void 0),ni=Symbol(void 0),ea=Symbol(void 0),na=[];let Ei=null;function G(e=!1){na.push(Ei=e?null:[])}function Zx(){na.pop(),Ei=na[na.length-1]||null}let vo=1;function xc(e){vo+=e}function Xu(e){return e.dynamicChildren=vo>0?Ei||ir:null,Zx(),vo>0&&Ei&&Ei.push(e),e}function tt(e,t,n,i,r,a){return Xu(_(e,t,n,i,r,a,!0))}function Ii(e,t,n,i,r){return Xu(Wt(e,t,n,i,r,!0))}function Il(e){return e?e.__v_isVNode===!0:!1}function Br(e,t){return e.type===t.type&&e.key===t.key}const as="__vInternal",Zu=({key:e})=>e!=null?e:null,so=({ref:e,ref_key:t,ref_for:n})=>e!=null?ze(e)||se(e)||rt(e)?{i:Ke,r:e,k:t,f:!!n}:e:null;function _(e,t=null,n=null,i=0,r=null,a=e===ce?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zu(t),ref:t&&so(t),scopeId:is,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return s?(Np(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=ze(n)?8:16),vo>0&&!o&&Ei&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Ei.push(l),l}const Wt=t0;function t0(e,t=null,n=null,i=0,r=null,a=!1){if((!e||e===Jx)&&(e=ni),Il(e)){const s=ua(e,t,!0);return n&&Np(s,n),s}if(u0(e)&&(e=e.__vccOpts),t){t=e0(t);let{class:s,style:l}=t;s&&!ze(s)&&(t.class=Dn(s)),le(l)&&(uu(l)&&!ct(l)&&(l=Ee({},l)),t.style=we(l))}const o=ze(e)?1:yx(e)?128:Qx(e)?64:le(e)?4:rt(e)?2:0;return _(e,t,n,i,r,o,a,!0)}function e0(e){return e?uu(e)||as in e?Ee({},e):e:null}function ua(e,t,n=!1){const{props:i,ref:r,patchFlag:a,children:o}=e,s=t?i0(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Zu(s),ref:t&&t.ref?n&&r?ct(r)?r.concat(so(t)):[r,so(t)]:so(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ce?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ua(e.ssContent),ssFallback:e.ssFallback&&ua(e.ssFallback),el:e.el,anchor:e.anchor}}function Se(e=" ",t=0){return Wt(ma,null,e,t)}function n0(e,t){const n=Wt(ea,null,e);return n.staticCount=t,n}function cr(e="",t=!1){return t?(G(),Ii(ni,null,e)):Wt(ni,null,e)}function Ge(e){return e==null||typeof e=="boolean"?Wt(ni):ct(e)?Wt(ce,null,e.slice()):typeof e=="object"?Yn(e):Wt(ma,null,String(e))}function Yn(e){return e.el===null||e.memo?e:ua(e)}function Np(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ct(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Np(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(as in t)?t._ctx=Ke:r===3&&Ke&&(Ke.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else rt(t)?(t={default:t,_ctx:Ke},n=32):(t=String(t),i&64?(n=16,t=[Se(t)]):n=8);e.children=t,e.shapeFlag|=n}function i0(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Dn([t.class,i.class]));else if(r==="style")t.style=we([t.style,i.style]);else if(Zo(r)){const a=t[r],o=i[r];a!==o&&!(ct(a)&&a.includes(o))&&(t[r]=a?[].concat(a,o):o)}else r!==""&&(t[r]=i[r])}return t}function De(e,t,n,i=null){Je(e,t,7,[n,i])}function Mp(e,t,n,i){let r;const a=n&&n[i];if(ct(e)||ze(e)){r=new Array(e.length);for(let o=0,s=e.length;o<s;o++)r[o]=t(e[o],o,void 0,a&&a[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,a&&a[o])}else if(le(e))if(e[Symbol.iterator])r=Array.from(e,(o,s)=>t(o,s,void 0,a&&a[s]));else{const o=Object.keys(e);r=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const p=o[s];r[s]=t(e[p],p,s,a&&a[s])}}else r=[];return n&&(n[i]=r),r}const Al=e=>e?tf(e)?Fp(e)||e.proxy:Al(e.parent):null,yo=Ee(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Al(e.parent),$root:e=>Al(e.root),$emit:e=>e.emit,$options:e=>$u(e),$forceUpdate:e=>()=>Iu(e.update),$nextTick:e=>Tu.bind(e.proxy),$watch:e=>Cx.bind(e)}),r0={get({_:e},t){const{ctx:n,setupState:i,data:r,props:a,accessCache:o,type:s,appContext:l}=e;let p;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return a[t]}else{if(i!==wt&&_t(i,t))return o[t]=1,i[t];if(r!==wt&&_t(r,t))return o[t]=2,r[t];if((p=e.propsOptions[0])&&_t(p,t))return o[t]=3,a[t];if(n!==wt&&_t(n,t))return o[t]=4,n[t];Rl&&(o[t]=0)}}const d=yo[t];let c,m;if(d)return t==="$attrs"&&Ce(e,"get",t),d(e);if((c=s.__cssModules)&&(c=c[t]))return c;if(n!==wt&&_t(n,t))return o[t]=4,n[t];if(m=l.config.globalProperties,_t(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:a}=e;if(r!==wt&&_t(r,t))r[t]=n;else if(i!==wt&&_t(i,t))i[t]=n;else if(_t(e.props,t))return!1;return t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:a}},o){let s;return!!n[o]||e!==wt&&_t(e,o)||t!==wt&&_t(t,o)||(s=a[0])&&_t(s,o)||_t(i,o)||_t(yo,o)||_t(r.config.globalProperties,o)}},a0=Ku();let o0=0;function s0(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||a0,a={uid:o0++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new y_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Uu(i,r),emitsOptions:Ou(i,r),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:i.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=gx.bind(null,a),e.ce&&e.ce(a),a}let te=null;const mr=e=>{te=e,e.scope.on()},Si=()=>{te&&te.scope.off(),te=null};function tf(e){return e.vnode.shapeFlag&4}let fa=!1;function l0(e,t=!1){fa=t;const{props:n,children:i}=e.vnode,r=tf(e);Bx(e,n,r,t),$x(e,i);const a=r?p0(e,t):void 0;return fa=!1,a}function p0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=fu(new Proxy(e.ctx,r0));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?c0(e):null;mr(e),Cr();const a=Gn(i,e,0,[e.props,r]);if(Li(),Si(),Eu(a)){if(a.then(Si,Si),t)return a.then(o=>{bc(e,o,t)}).catch(o=>{ns(o,e,0)});e.asyncDep=a}else bc(e,a,t)}else ef(e,t)}function bc(e,t,n){rt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:le(t)&&(e.setupState=xu(t)),ef(e,n)}let vc;function ef(e,t,n){const i=e.type;if(!e.render){if(!t&&vc&&!i.render){const r=i.template;if(r){const{isCustomElement:a,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:l}=i,p=Ee(Ee({isCustomElement:a,delimiters:s},o),l);i.render=vc(r,p)}}e.render=i.render||dn}mr(e),Cr(),Nx(e),Li(),Si()}function d0(e){return new Proxy(e.attrs,{get(t,n){return Ce(e,"get","$attrs"),t[n]}})}function c0(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=d0(e))},slots:e.slots,emit:e.emit,expose:t}}function Fp(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(xu(fu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in yo)return yo[n](e)}}))}function m0(e){return rt(e)&&e.displayName||e.name}function u0(e){return rt(e)&&"__vccOpts"in e}const Oe=(e,t)=>bu(e,t,fa);function nf(e,t,n){const i=arguments.length;return i===2?le(t)&&!ct(t)?Il(t)?Wt(e,null,[t]):Wt(e,t):Wt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Il(n)&&(n=[n]),Wt(e,t,n))}const f0="3.2.27";function h0(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const g0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_0=h0(g0);function rf(e){return!!e||e===""}const x0=/^on[^a-z]/,b0=e=>x0.test(e),v0=e=>e.startsWith("onUpdate:"),y0=Object.assign,Lp=Array.isArray,af=e=>typeof e=="function",wo=e=>typeof e=="string",of=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},w0=/\B([A-Z])/g,sf=of(e=>e.replace(w0,"-$1").toLowerCase()),C0=of(e=>e.charAt(0).toUpperCase()+e.slice(1)),E0=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},yc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},S0="http://www.w3.org/2000/svg",xi=typeof document!="undefined"?document:null,wc=xi&&xi.createElement("template"),R0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?xi.createElementNS(S0,e):xi.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>xi.createTextNode(e),createComment:e=>xi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,r,a){const o=n?n.previousSibling:t.lastChild;if(r&&a)for(;t.insertBefore(r.cloneNode(!0),n),!(r===a||!(r=r.nextSibling)););else{wc.innerHTML=i?`<svg>${e}</svg>`:e;const s=wc.content;if(i){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function k0(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function T0(e,t,n){const i=e.style,r=wo(n);if(n&&!r){for(const a in n)Dl(i,a,n[a]);if(t&&!wo(t))for(const a in t)n[a]==null&&Dl(i,a,"")}else{const a=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=a)}}const Cc=/\s*!important$/;function Dl(e,t,n){if(Lp(n))n.forEach(i=>Dl(e,t,i));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=I0(e,t);Cc.test(n)?e.setProperty(sf(i),n.replace(Cc,""),"important"):e[i]=n}}const Ec=["Webkit","Moz","ms"],Xs={};function I0(e,t){const n=Xs[t];if(n)return n;let i=mn(t);if(i!=="filter"&&i in e)return Xs[t]=i;i=C0(i);for(let r=0;r<Ec.length;r++){const a=Ec[r]+i;if(a in e)return Xs[t]=a}return t}const Sc="http://www.w3.org/1999/xlink";function A0(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Sc,t.slice(6,t.length)):e.setAttributeNS(Sc,t,n);else{const a=_0(t);n==null||a&&!rf(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function D0(e,t,n,i,r,a,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,a),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const s=n==null?"":n;(e.value!==s||e.tagName==="OPTION")&&(e.value=s),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const s=typeof e[t];if(s==="boolean"){e[t]=rf(n);return}else if(n==null&&s==="string"){e[t]="",e.removeAttribute(t);return}else if(s==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=n}catch{}}let Co=Date.now,lf=!1;if(typeof window!="undefined"){Co()>document.createEvent("Event").timeStamp&&(Co=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);lf=!!(e&&Number(e[1])<=53)}let Pl=0;const P0=Promise.resolve(),O0=()=>{Pl=0},N0=()=>Pl||(P0.then(O0),Pl=Co());function Xi(e,t,n,i){e.addEventListener(t,n,i)}function M0(e,t,n,i){e.removeEventListener(t,n,i)}function F0(e,t,n,i,r=null){const a=e._vei||(e._vei={}),o=a[t];if(i&&o)o.value=i;else{const[s,l]=L0(t);if(i){const p=a[t]=z0(i,r);Xi(e,s,p,l)}else o&&(M0(e,s,o,l),a[t]=void 0)}}const Rc=/(?:Once|Passive|Capture)$/;function L0(e){let t;if(Rc.test(e)){t={};let n;for(;n=e.match(Rc);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[sf(e.slice(2)),t]}function z0(e,t){const n=i=>{const r=i.timeStamp||Co();(lf||r>=n.attached-1)&&Je(B0(i,n.value),t,5,[i])};return n.value=e,n.attached=N0(),n}function B0(e,t){if(Lp(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i(r))}else return t}const kc=/^on[a-z]/,Y0=(e,t,n,i,r=!1,a,o,s,l)=>{t==="class"?k0(e,i,r):t==="style"?T0(e,n,i):b0(t)?v0(t)||F0(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):j0(e,t,i,r))?D0(e,t,i,a,o,s,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),A0(e,t,i,r))};function j0(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&kc.test(t)&&af(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||kc.test(t)&&wo(n)?!1:t in e}const Tc=e=>{const t=e.props["onUpdate:modelValue"];return Lp(t)?n=>E0(t,n):t};function $0(e){e.target.composing=!0}function Ic(e){const t=e.target;t.composing&&(t.composing=!1,W0(t,"input"))}function W0(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const Rr={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=Tc(r);const a=i||r.props&&r.props.type==="number";Xi(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n?s=s.trim():a&&(s=yc(s)),e._assign(s)}),n&&Xi(e,"change",()=>{e.value=e.value.trim()}),t||(Xi(e,"compositionstart",$0),Xi(e,"compositionend",Ic),Xi(e,"change",Ic))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},a){if(e._assign=Tc(a),e.composing||document.activeElement===e&&(n||i&&e.value.trim()===t||(r||e.type==="number")&&yc(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},ur={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Yr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Yr(e,!0),i.enter(e)):i.leave(e,()=>{Yr(e,!1)}):Yr(e,t))},beforeUnmount(e,{value:t}){Yr(e,t)}};function Yr(e,t){e.style.display=t?e._vod:"none"}const pf=y0({patchProp:Y0},R0);let ia,Ac=!1;function U0(){return ia||(ia=Gx(pf))}function H0(){return ia=Ac?ia:Kx(pf),Ac=!0,ia}const V0=(...e)=>{const t=U0().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=df(i);if(!r)return;const a=t._component;!af(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},G0=(...e)=>{const t=H0().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=df(i);if(r)return n(r,!0,r instanceof SVGElement)},t};function df(e){return wo(e)?document.querySelector(e):e}/*!
  * vue-router v4.0.6
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const cf=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",kr=e=>cf?Symbol(e):"_vr_"+e,K0=kr("rvlm"),Dc=kr("rvd"),os=kr("r"),mf=kr("rl"),Ol=kr("rvl"),Zi=typeof window!="undefined";function q0(e){return e.__esModule||cf&&e[Symbol.toStringTag]==="Module"}const St=Object.assign;function Zs(e,t){const n={};for(const i in t){const r=t[i];n[i]=Array.isArray(r)?r.map(e):e(r)}return n}let lo=()=>{};const Q0=/\/$/,J0=e=>e.replace(Q0,"");function tl(e,t,n="/"){let i,r={},a="",o="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(i=t.slice(0,s),a=t.slice(s+1,l>-1?l:t.length),r=e(a)),l>-1&&(i=i||t.slice(0,l),o=t.slice(l,t.length)),i=e1(i!=null?i:t,n),{fullPath:i+(a&&"?")+a+o,path:i,query:r,hash:o}}function X0(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Pc(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function Z0(e,t,n){let i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&fr(t.matched[i],n.matched[r])&&uf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function fr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function uf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!t1(e[n],t[n]))return!1;return!0}function t1(e,t){return Array.isArray(e)?Oc(e,t):Array.isArray(t)?Oc(t,e):e===t}function Oc(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function e1(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r=n.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var Eo;(function(e){e.pop="pop",e.push="push"})(Eo||(Eo={}));var Ri;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ri||(Ri={}));const Nc="";function n1(e){if(!e)if(Zi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),J0(e)}const i1=/^[^#]+#/;function ff(e,t){return e.replace(i1,"#")+t}function r1(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const ss=()=>({left:window.pageXOffset,top:window.pageYOffset});function a1(e){let t;if("el"in e){let n=e.el;const i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=r1(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Mc(e,t){return(history.state?history.state.position-t:-1)+e}const Nl=new Map;function o1(e,t){Nl.set(e,t)}function s1(e){const t=Nl.get(e);return Nl.delete(e),t}let l1=()=>location.protocol+"//"+location.host;function hf(e,t){const{pathname:n,search:i,hash:r}=t;if(e.indexOf("#")>-1){let s=r.slice(1);return s[0]!=="/"&&(s="/"+s),Pc(s,"")}return Pc(n,e)+i+r}function p1(e,t,n,i){let r=[],a=[],o=null;const s=({state:m})=>{const f=hf(e,location),g=n.value,A=t.value;let x=0;if(m){if(n.value=f,t.value=m,o&&o===g){o=null;return}x=A?m.position-A.position:0}else i(f);r.forEach(v=>{v(n.value,g,{delta:x,type:Eo.pop,direction:x?x>0?Ri.forward:Ri.back:Ri.unknown})})};function l(){o=n.value}function p(m){r.push(m);const f=()=>{const g=r.indexOf(m);g>-1&&r.splice(g,1)};return a.push(f),f}function d(){const{history:m}=window;!m.state||m.replaceState(St({},m.state,{scroll:ss()}),"")}function c(){for(const m of a)m();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",d),{pauseListeners:l,listen:p,destroy:c}}function Fc(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?ss():null}}function d1(e){const{history:t,location:n}=window;let i={value:hf(e,n)},r={value:t.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,p,d){const c=e.indexOf("#"),m=c>-1?(n.host&&document.querySelector("base")?e:e.slice(c))+l:l1()+e+l;try{t[d?"replaceState":"pushState"](p,"",m),r.value=p}catch(f){console.error(f),n[d?"replace":"assign"](m)}}function o(l,p){const d=St({},t.state,Fc(r.value.back,l,r.value.forward,!0),p,{position:r.value.position});a(l,d,!0),i.value=l}function s(l,p){const d=St({},r.value,t.state,{forward:l,scroll:ss()});a(d.current,d,!0);const c=St({},Fc(i.value,l,null),{position:d.position+1},p);a(l,c,!1),i.value=l}return{location:i,state:r,push:s,replace:o}}function c1(e){e=n1(e);const t=d1(e),n=p1(e,t.state,t.location,t.replace);function i(a,o=!0){o||n.pauseListeners(),history.go(a)}const r=St({location:"",base:e,go:i,createHref:ff.bind(null,e)},t,n);return Object.defineProperty(r,"location",{get:()=>t.location.value}),Object.defineProperty(r,"state",{get:()=>t.state.value}),r}function m1(e=""){let t=[],n=[Nc],i=0;function r(s){i++,i===n.length||n.splice(i),n.push(s)}function a(s,l,{direction:p,delta:d}){const c={direction:p,delta:d,type:Eo.pop};for(let m of t)m(s,l,c)}const o={location:Nc,state:{},base:e,createHref:ff.bind(null,e),replace(s){n.splice(i--,1),r(s)},push(s,l){r(s)},listen(s){return t.push(s),()=>{const l=t.indexOf(s);l>-1&&t.splice(l,1)}},destroy(){t=[]},go(s,l=!0){const p=this.location,d=s<0?Ri.back:Ri.forward;i=Math.max(0,Math.min(i+s,n.length-1)),l&&a(this.location,p,{direction:d,delta:s})}};return Object.defineProperty(o,"location",{get:()=>n[i]}),o}function u1(e){return typeof e=="string"||e&&typeof e=="object"}function gf(e){return typeof e=="string"||typeof e=="symbol"}const mi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_f=kr("nf");var Lc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Lc||(Lc={}));function hr(e,t){return St(new Error,{type:e,[_f]:!0},t)}function jr(e,t){return e instanceof Error&&_f in e&&(t==null||!!(e.type&t))}const zc="[^/]+?",f1={sensitive:!1,strict:!1,start:!0,end:!0},h1=/[.+*?^${}()[\]/\\]/g;function g1(e,t){const n=St({},f1,t);let i=[],r=n.start?"^":"";const a=[];for(const p of e){const d=p.length?[]:[90];n.strict&&!p.length&&(r+="/");for(let c=0;c<p.length;c++){const m=p[c];let f=40+(n.sensitive?.25:0);if(m.type===0)c||(r+="/"),r+=m.value.replace(h1,"\\$&"),f+=40;else if(m.type===1){const{value:g,repeatable:A,optional:x,regexp:v}=m;a.push({name:g,repeatable:A,optional:x});const P=v||zc;if(P!==zc){f+=10;try{new RegExp(`(${P})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${g}" (${P}): `+z.message)}}let F=A?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;c||(F=x&&p.length<2?`(?:/${F})`:"/"+F),x&&(F+="?"),r+=F,f+=20,x&&(f+=-8),A&&(f+=-20),P===".*"&&(f+=-50)}d.push(f)}i.push(d)}if(n.strict&&n.end){const p=i.length-1;i[p][i[p].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function s(p){const d=p.match(o),c={};if(!d)return null;for(let m=1;m<d.length;m++){const f=d[m]||"",g=a[m-1];c[g.name]=f&&g.repeatable?f.split("/"):f}return c}function l(p){let d="",c=!1;for(const m of e){(!c||!d.endsWith("/"))&&(d+="/"),c=!1;for(const f of m)if(f.type===0)d+=f.value;else if(f.type===1){const{value:g,repeatable:A,optional:x}=f,v=g in p?p[g]:"";if(Array.isArray(v)&&!A)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const P=Array.isArray(v)?v.join("/"):v;if(!P)if(x)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):c=!0);else throw new Error(`Missing required param "${g}"`);d+=P}}return d}return{re:o,score:i,keys:a,parse:s,stringify:l}}function _1(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function x1(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const a=_1(i[n],r[n]);if(a)return a;n++}return r.length-i.length}const b1={type:0,value:""},v1=/[a-zA-Z0-9_]/;function y1(e){if(!e)return[[]];if(e==="/")return[[b1]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${p}": ${f}`)}let n=0,i=n;const r=[];let a;function o(){a&&r.push(a),a=[]}let s=0,l,p="",d="";function c(){!p||(n===0?a.push({type:0,value:p}):n===1||n===2||n===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:p,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),p="")}function m(){p+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(p&&c(),o()):l===":"?(c(),n=1):m();break;case 4:m(),n=i;break;case 1:l==="("?n=2:v1.test(l)?m():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),c(),o(),r}function w1(e,t,n){const i=g1(y1(e.path),n),r=St(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function C1(e,t){const n=[],i=new Map;t=Yc({strict:!1,end:!0,sensitive:!1},t);function r(d){return i.get(d)}function a(d,c,m){let f=!m,g=S1(d);g.aliasOf=m&&m.record;const A=Yc(t,d),x=[g];if("alias"in d){const F=typeof d.alias=="string"?[d.alias]:d.alias;for(const z of F)x.push(St({},g,{components:m?m.record.components:g.components,path:z,aliasOf:m?m.record:g}))}let v,P;for(const F of x){let{path:z}=F;if(c&&z[0]!=="/"){let j=c.record.path,Q=j[j.length-1]==="/"?"":"/";F.path=c.record.path+(z&&Q+z)}if(v=w1(F,c,A),m?m.alias.push(v):(P=P||v,P!==v&&P.alias.push(v),f&&d.name&&!Bc(v)&&o(d.name)),"children"in g){let j=g.children;for(let Q=0;Q<j.length;Q++)a(j[Q],v,m&&m.children[Q])}m=m||v,l(v)}return P?()=>{o(P)}:lo}function o(d){if(gf(d)){const c=i.get(d);c&&(i.delete(d),n.splice(n.indexOf(c),1),c.children.forEach(o),c.alias.forEach(o))}else{let c=n.indexOf(d);c>-1&&(n.splice(c,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function s(){return n}function l(d){let c=0;for(;c<n.length&&x1(d,n[c])>=0;)c++;n.splice(c,0,d),d.record.name&&!Bc(d)&&i.set(d.record.name,d)}function p(d,c){let m,f={},g,A;if("name"in d&&d.name){if(m=i.get(d.name),!m)throw hr(1,{location:d});A=m.record.name,f=St(E1(c.params,m.keys.filter(P=>!P.optional).map(P=>P.name)),d.params),g=m.stringify(f)}else if("path"in d)g=d.path,m=n.find(P=>P.re.test(g)),m&&(f=m.parse(g),A=m.record.name);else{if(m=c.name?i.get(c.name):n.find(P=>P.re.test(c.path)),!m)throw hr(1,{location:d,currentLocation:c});A=m.record.name,f=St({},c.params,d.params),g=m.stringify(f)}const x=[];let v=m;for(;v;)x.unshift(v.record),v=v.parent;return{name:A,path:g,params:f,matched:x,meta:k1(x)}}return e.forEach(d=>a(d)),{addRoute:a,resolve:p,removeRoute:o,getRoutes:s,getRecordMatcher:r}}function E1(e,t){let n={};for(let i of t)i in e&&(n[i]=e[i]);return n}function S1(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:R1(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function R1(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function Bc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function k1(e){return e.reduce((t,n)=>St(t,n.meta),{})}function Yc(e,t){let n={};for(let i in e)n[i]=i in t?t[i]:e[i];return n}const xf=/#/g,T1=/&/g,I1=/\//g,A1=/=/g,D1=/\?/g,bf=/\+/g,P1=/%5B/g,O1=/%5D/g,vf=/%5E/g,N1=/%60/g,yf=/%7B/g,M1=/%7C/g,wf=/%7D/g,F1=/%20/g;function zp(e){return encodeURI(""+e).replace(M1,"|").replace(P1,"[").replace(O1,"]")}function L1(e){return zp(e).replace(yf,"{").replace(wf,"}").replace(vf,"^")}function Ml(e){return zp(e).replace(bf,"%2B").replace(F1,"+").replace(xf,"%23").replace(T1,"%26").replace(N1,"`").replace(yf,"{").replace(wf,"}").replace(vf,"^")}function z1(e){return Ml(e).replace(A1,"%3D")}function B1(e){return zp(e).replace(xf,"%23").replace(D1,"%3F")}function Y1(e){return B1(e).replace(I1,"%2F")}function So(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function j1(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const a=i[r].replace(bf," ");let o=a.indexOf("="),s=So(o<0?a:a.slice(0,o)),l=o<0?null:So(a.slice(o+1));if(s in t){let p=t[s];Array.isArray(p)||(p=t[s]=[p]),p.push(l)}else t[s]=l}return t}function jc(e){let t="";for(let n in e){t.length&&(t+="&");const i=e[n];if(n=z1(n),i==null){i!==void 0&&(t+=n);continue}let r=Array.isArray(i)?i.map(a=>a&&Ml(a)):[i&&Ml(i)];for(let a=0;a<r.length;a++)t+=(a?"&":"")+n,r[a]!=null&&(t+="="+r[a])}return t}function $1(e){const t={};for(let n in e){let i=e[n];i!==void 0&&(t[n]=Array.isArray(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}function $r(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function jn(e,t,n,i,r){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,s)=>{const l=c=>{c===!1?s(hr(4,{from:n,to:t})):c instanceof Error?s(c):u1(c)?s(hr(2,{from:t,to:c})):(a&&i.enterCallbacks[r]===a&&typeof c=="function"&&a.push(c),o())},p=e.call(i&&i.instances[r],t,n,l);let d=Promise.resolve(p);e.length<3&&(d=d.then(l)),d.catch(c=>s(c))})}function el(e,t,n,i){const r=[];for(const a of e)for(const o in a.components){let s=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(W1(s)){const p=(s.__vccOpts||s)[t];p&&r.push(jn(p,n,i,a,o))}else{let l=s();l=l.catch(console.error),r.push(()=>l.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${a.path}"`));const d=q0(p)?p.default:p;a.components[o]=d;const m=(d.__vccOpts||d)[t];return m&&jn(m,n,i,a,o)()}))}}return r}function W1(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function U1(e){const t=Xe(os),n=Xe(mf),i=Oe(()=>t.resolve(Jr(e.to))),r=Oe(()=>{let{matched:l}=i.value,{length:p}=l;const d=l[p-1];let c=n.matched;if(!d||!c.length)return-1;let m=c.findIndex(fr.bind(null,d));if(m>-1)return m;let f=$c(l[p-2]);return p>1&&$c(d)===f&&c[c.length-1].path!==f?c.findIndex(fr.bind(null,l[p-2])):m}),a=Oe(()=>r.value>-1&&K1(n.params,i.value.params)),o=Oe(()=>r.value>-1&&r.value===n.matched.length-1&&uf(n.params,i.value.params));function s(l={}){return G1(l)?t[Jr(e.replace)?"replace":"push"](Jr(e.to)):Promise.resolve()}return{route:i,href:Oe(()=>i.value.href),isActive:a,isExactActive:o,navigate:s}}const H1=Pp({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t}){const n=Le(U1(e)),{options:i}=Xe(os),r=Oe(()=>({[Wc(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Wc(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&t.default(n);return e.custom?a:nf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},a)}}}),V1=H1;function G1(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function K1(e,t){for(let n in t){let i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Array.isArray(r)||r.length!==i.length||i.some((a,o)=>a!==r[o]))return!1}return!0}function $c(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wc=(e,t,n)=>e!=null?e:t!=null?t:n,q1=Pp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const i=Xe(Ol),r=Oe(()=>e.route||i.value),a=Xe(Dc,0),o=Oe(()=>r.value.matched[a]);oo(Dc,a+1),oo(K0,o),oo(Ol,r);const s=ft();return rr(()=>[s.value,o.value,e.name],([l,p,d],[c,m,f])=>{p&&(p.instances[d]=l,m&&m!==p&&l&&l===c&&(p.leaveGuards.size||(p.leaveGuards=m.leaveGuards),p.updateGuards.size||(p.updateGuards=m.updateGuards))),l&&p&&(!m||!fr(p,m)||!c)&&(p.enterCallbacks[d]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=r.value,p=o.value,d=p&&p.components[e.name],c=e.name;if(!d)return Uc(n.default,{Component:d,route:l});const m=p.props[e.name],f=m?m===!0?l.params:typeof m=="function"?m(l):m:null,A=nf(d,St({},f,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(p.instances[c]=null)},ref:s}));return Uc(n.default,{Component:A,route:l})||A}}});function Uc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Q1=q1;function J1(e){const t=C1(e.routes,e);let n=e.parseQuery||j1,i=e.stringifyQuery||jc,r=e.history;const a=$r(),o=$r(),s=$r(),l=Q_(mi);let p=mi;Zi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Zs.bind(null,C=>""+C),c=Zs.bind(null,Y1),m=Zs.bind(null,So);function f(C,B){let O,H;return gf(C)?(O=t.getRecordMatcher(C),H=B):H=C,t.addRoute(H,O)}function g(C){let B=t.getRecordMatcher(C);B&&t.removeRoute(B)}function A(){return t.getRoutes().map(C=>C.record)}function x(C){return!!t.getRecordMatcher(C)}function v(C,B){if(B=St({},B||l.value),typeof C=="string"){let st=tl(n,C,B.path),u=t.resolve({path:st.path},B),h=r.createHref(st.fullPath);return St(st,u,{params:m(u.params),hash:So(st.hash),redirectedFrom:void 0,href:h})}let O;"path"in C?O=St({},C,{path:tl(n,C.path,B.path).path}):(O=St({},C,{params:c(C.params)}),B.params=c(B.params));let H=t.resolve(O,B);const At=C.hash||"";H.params=d(m(H.params));const Dt=X0(i,St({},C,{hash:L1(At),path:H.path}));let ot=r.createHref(Dt);return St({fullPath:Dt,hash:At,query:i===jc?$1(C.query):C.query},H,{redirectedFrom:void 0,href:ot})}function P(C){return typeof C=="string"?tl(n,C,l.value.path):St({},C)}function F(C,B){if(p!==C)return hr(8,{from:B,to:C})}function z(C){return q(C)}function j(C){return z(St(P(C),{replace:!0}))}function Q(C){const B=C.matched[C.matched.length-1];if(B&&B.redirect){const{redirect:O}=B;let H=typeof O=="function"?O(C):O;return typeof H=="string"&&(H=H.indexOf("?")>-1||H.indexOf("#")>-1?H=P(H):{path:H}),St({query:C.query,hash:C.hash,params:C.params},H)}}function q(C,B){const O=p=v(C),H=l.value,At=C.state,Dt=C.force,ot=C.replace===!0,st=Q(O);if(st)return q(St(P(st),{state:At,force:Dt,replace:ot}),B||O);const u=O;u.redirectedFrom=B;let h;return!Dt&&Z0(i,H,O)&&(h=hr(16,{to:u,from:H}),Ui(H,H,!0,!1)),(h?Promise.resolve(h):at(u,H)).catch(b=>jr(b)?b:Et(b)).then(b=>{if(b){if(jr(b,2))return q(St(P(b.to),{state:At,force:Dt,replace:ot}),B||u)}else b=jt(u,H,!0,ot,At);return It(u,H,b),b})}function Tt(C,B){const O=F(C,B);return O?Promise.reject(O):Promise.resolve()}function at(C,B){let O;const[H,At,Dt]=X1(C,B);O=el(H.reverse(),"beforeRouteLeave",C,B);for(const st of H)st.leaveGuards.forEach(u=>{O.push(jn(u,C,B))});const ot=Tt.bind(null,C,B);return O.push(ot),Vi(O).then(()=>{O=[];for(const st of a.list())O.push(jn(st,C,B));return O.push(ot),Vi(O)}).then(()=>{O=el(At,"beforeRouteUpdate",C,B);for(const st of At)st.updateGuards.forEach(u=>{O.push(jn(u,C,B))});return O.push(ot),Vi(O)}).then(()=>{O=[];for(const st of C.matched)if(st.beforeEnter&&B.matched.indexOf(st)<0)if(Array.isArray(st.beforeEnter))for(const u of st.beforeEnter)O.push(jn(u,C,B));else O.push(jn(st.beforeEnter,C,B));return O.push(ot),Vi(O)}).then(()=>(C.matched.forEach(st=>st.enterCallbacks={}),O=el(Dt,"beforeRouteEnter",C,B),O.push(ot),Vi(O))).then(()=>{O=[];for(const st of o.list())O.push(jn(st,C,B));return O.push(ot),Vi(O)}).catch(st=>jr(st,8)?st:Promise.reject(st))}function It(C,B,O){for(const H of s.list())H(C,B,O)}function jt(C,B,O,H,At){const Dt=F(C,B);if(Dt)return Dt;const ot=B===mi,st=Zi?history.state:{};O&&(H||ot?r.replace(C.fullPath,St({scroll:ot&&st&&st.scroll},At)):r.push(C.fullPath,At)),l.value=C,Ui(C,B,O,ot),Ie()}let it;function Bt(){it=r.listen((C,B,O)=>{let H=v(C);const At=Q(H);if(At){q(St(At,{replace:!0}),H).catch(lo);return}p=H;const Dt=l.value;Zi&&o1(Mc(Dt.fullPath,O.delta),ss()),at(H,Dt).catch(ot=>jr(ot,12)?ot:jr(ot,2)?(q(ot.to,H).catch(lo),Promise.reject()):(O.delta&&r.go(-O.delta,!1),Et(ot))).then(ot=>{ot=ot||jt(H,Dt,!1),ot&&O.delta&&r.go(-O.delta,!1),It(H,Dt,ot)}).catch(lo)})}let Gt=$r(),Wi=$r(),Ut;function Et(C){return Ie(C),Wi.list().forEach(B=>B(C)),Promise.reject(C)}function bt(){return Ut&&l.value!==mi?Promise.resolve():new Promise((C,B)=>{Gt.add([C,B])})}function Ie(C){Ut||(Ut=!0,Bt(),Gt.list().forEach(([B,O])=>C?O(C):B()),Gt.reset())}function Ui(C,B,O,H){const{scrollBehavior:At}=e;if(!Zi||!At)return Promise.resolve();let Dt=!O&&s1(Mc(C.fullPath,0))||(H||!O)&&history.state&&history.state.scroll||null;return Tu().then(()=>At(C,B,Dt)).then(ot=>ot&&a1(ot)).catch(Et)}const bn=C=>r.go(C);let on;const Ae=new Set;return{currentRoute:l,addRoute:f,removeRoute:g,hasRoute:x,getRoutes:A,resolve:v,options:e,push:z,replace:j,go:bn,back:()=>bn(-1),forward:()=>bn(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:Wi.add,isReady:bt,install(C){const B=this;C.component("RouterLink",V1),C.component("RouterView",Q1),C.config.globalProperties.$router=B,Object.defineProperty(C.config.globalProperties,"$route",{get:()=>Jr(l)}),Zi&&!on&&l.value===mi&&(on=!0,z(r.location).catch(At=>{}));const O={};for(let At in mi)O[At]=Oe(()=>l.value[At]);C.provide(os,B),C.provide(mf,Le(O)),C.provide(Ol,l);let H=C.unmount;Ae.add(C),C.unmount=function(){Ae.delete(C),Ae.size<1&&(it(),l.value=mi,on=!1,Ut=!1),H()}}}}function Vi(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function X1(e,t){const n=[],i=[],r=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){const s=t.matched[o];s&&(e.matched.find(p=>fr(p,s))?i.push(s):n.push(s));const l=e.matched[o];l&&(t.matched.find(p=>fr(p,l))||r.push(l))}return[n,i,r]}function On(){return Xe(os)}var Z1=Object.defineProperty,Hc=Object.getOwnPropertySymbols,tb=Object.prototype.hasOwnProperty,eb=Object.prototype.propertyIsEnumerable,Vc=(e,t,n)=>t in e?Z1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nb=(e,t)=>{for(var n in t||(t={}))tb.call(t,n)&&Vc(e,n,t[n]);if(Hc)for(var n of Hc(t))eb.call(t,n)&&Vc(e,n,t[n]);return e},Cf="usehead",Gc="head:count",nl="data-head-attrs",ib=(e,t,n)=>{const i=n.createElement(e);for(const r of Object.keys(t)){let a=t[r];r==="key"||a===!1||(r==="children"?i.textContent=a:i.setAttribute(r,a))}return i};function rb(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const n=t.getAttribute("nonce");if(n&&!e.getAttribute("nonce")){const i=t.cloneNode(!0);return i.setAttribute("nonce",""),i.nonce=n,n===e.nonce&&e.isEqualNode(i)}}return e.isEqualNode(t)}var ab=e=>{const t=["key","id","name","property"];for(const n of t){const i=typeof e.getAttribute=="function"?e.hasAttribute(n)?e.getAttribute(n):void 0:e[n];if(i!==void 0)return{name:n,value:i}}},ob=()=>{const e=Xe(Cf);if(!e)throw new Error("You may forget to apply app.use(head)");return e},sb=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],lb=e=>{const t=[];for(const n of Object.keys(e))if(e[n]!=null){if(n==="title")t.push({tag:n,props:{children:e[n]}});else if(n==="base")t.push({tag:n,props:nb({key:"default"},e[n])});else if(sb.includes(n)){const i=e[n];Array.isArray(i)?i.forEach(r=>{t.push({tag:n,props:r})}):i&&t.push({tag:n,props:i})}}return t},Kc=(e,t)=>{const n=e.getAttribute(nl);if(n)for(const r of n.split(","))r in t||e.removeAttribute(r);const i=[];for(const r in t){const a=t[r];a!=null&&(a===!1?e.removeAttribute(r):e.setAttribute(r,a),i.push(r))}i.length?e.setAttribute(nl,i.join(",")):e.removeAttribute(nl)},pb=(e=window.document,t,n)=>{var i;const r=e.head;let a=r.querySelector(`meta[name="${Gc}"]`);const o=a?Number(a.getAttribute("content")):0,s=[];if(a)for(let p=0,d=a.previousElementSibling;p<o;p++,d=(d==null?void 0:d.previousElementSibling)||null)((i=d==null?void 0:d.tagName)==null?void 0:i.toLowerCase())===t&&s.push(d);else a=e.createElement("meta"),a.setAttribute("name",Gc),a.setAttribute("content","0"),r.append(a);let l=n.map(p=>ib(p.tag,p.props,e));l=l.filter(p=>{for(let d=0;d<s.length;d++){const c=s[d];if(rb(c,p))return s.splice(d,1),!1}return!0}),s.forEach(p=>{var d;return(d=p.parentNode)==null?void 0:d.removeChild(p)}),l.forEach(p=>{r.insertBefore(p,a)}),a.setAttribute("content",""+(o-s.length+l.length))},db=()=>{let e=[],t=new Set;const n={install(i){i.config.globalProperties.$head=n,i.provide(Cf,n)},get headTags(){const i=[];return e.forEach(r=>{lb(r.value).forEach(o=>{if(o.tag==="meta"||o.tag==="base"||o.tag==="script"){const s=ab(o.props);if(s){let l=-1;for(let p=0;p<i.length;p++){const d=i[p],c=d.props[s.name],m=o.props[s.name];if(d.tag===o.tag&&c===m){l=p;break}}l!==-1&&i.splice(l,1)}}i.push(o)})}),i},addHeadObjs(i){e.push(i)},removeHeadObjs(i){e=e.filter(r=>r!==i)},updateDOM(i=window.document){let r,a={},o={};const s={};for(const p of n.headTags){if(p.tag==="title"){r=p.props.children;continue}if(p.tag==="htmlAttrs"){Object.assign(a,p.props);continue}if(p.tag==="bodyAttrs"){Object.assign(o,p.props);continue}s[p.tag]=s[p.tag]||[],s[p.tag].push(p)}r!==void 0&&(i.title=r),Kc(i.documentElement,a),Kc(i.body,o);const l=new Set([...Object.keys(s),...t]);for(const p of l)pb(i,p,s[p]||[]);t.clear(),Object.keys(s).forEach(p=>t.add(p))}};return n},cb=typeof window!="undefined",ls=e=>{const t=ft(e),n=ob();n.addHeadObjs(t),cb&&(wx(()=>{n.updateDOM()}),Bu(()=>{n.removeHeadObjs(t),n.updateDOM()}))};function mb(e){try{return JSON.parse(e||"{}")}catch(t){return console.error("[SSG] On state deserialization -",t,e),{}}}function ub(e){return document.readyState==="loading"?new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>t(e))}):Promise.resolve(e)}const fb=Pp({setup(e,{slots:t}){const n=ft(!1);return zu(()=>n.value=!0),()=>n.value&&t.default&&t.default({})}});function hb(e,t,n,i={}){const{transformState:r,registerComponents:a=!0,useHead:o=!0,rootContainer:s="#app"}=i,l=typeof window!="undefined";async function p(d=!1,c){var q,Tt;const m=d?V0(e):G0(e);let f;o&&(f=db(),m.use(f));const g=J1({history:d?c1(t.base):m1(t.base),...t}),{routes:A}=t;a&&m.component("ClientOnly",d?fb:{render:()=>null});const x=[],F={app:m,head:f,isClient:l,router:g,routes:A,onSSRAppRendered:d?()=>{}:at=>x.push(at),triggerOnSSRAppRendered:()=>Promise.all(x.map(at=>at())),initialState:{},transformState:r,routePath:c};d&&(await ub(),F.initialState=(r==null?void 0:r(window.__INITIAL_STATE__||{}))||mb(window.__INITIAL_STATE__)),await(n==null?void 0:n(F)),m.use(g);let z,j=!0;if(g.beforeEach((at,It,jt)=>{(j||z&&z===at.path)&&(j=!1,z=at.path,at.meta.state=F.initialState),jt()}),!d){const at=(Tt=(q=F.routePath)!=null?q:t.base)!=null?Tt:"/";g.push(at),await g.isReady(),F.initialState=g.currentRoute.value.meta.state||{}}const Q=F.initialState;return{...F,initialState:Q}}return l&&(async()=>{const{app:d,router:c}=await p(!0);await c.isReady(),d.mount(s,!0)})(),p}const gb="AIzaSyB6WCaZsYoGqeotIkZYvMj_EaeP25E7lMI",_b="socket-game-f530e.firebaseapp.com",xb="https://socket-game-f530e-default-rtdb.firebaseio.com",bb="socket-game-f530e",vb="socket-game-f530e.appspot.com",yb="554022480678",wb="1:554022480678:web:a0949656e777278ae5afe7",Cb="G-TN9DBP7TSL";var Eb={apiKey:gb,authDomain:_b,databaseURL:xb,projectId:bb,storageBucket:vb,messagingSenderId:yb,appId:wb,measurementId:Cb};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(e,t){if(!e)throw Tr(t)},Tr=function(e){return new Error("Firebase Database ("+Ef.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Sb=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=e[n++],o=e[n++],s=e[n++],l=((r&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const a=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return t.join("")},Bp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const a=e[r],o=r+1<e.length,s=o?e[r+1]:0,l=r+2<e.length,p=l?e[r+2]:0,d=a>>2,c=(a&3)<<4|s>>4;let m=(s&15)<<2|p>>6,f=p&63;l||(f=64,o||(m=64)),i.push(n[d],n[c],n[m],n[f])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Sf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Sb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const a=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const p=r<e.length?n[e.charAt(r)]:64;++r;const c=r<e.length?n[e.charAt(r)]:64;if(++r,a==null||s==null||p==null||c==null)throw Error();const m=a<<2|s>>4;if(i.push(m),p!==64){const f=s<<4&240|p>>2;if(i.push(f),c!==64){const g=p<<6&192|c;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Rf=function(e){const t=Sf(e);return Bp.encodeByteArray(t,!0)},Ro=function(e){return Rf(e).replace(/\./g,"")},qc=function(e){try{return Bp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(e){return ha(void 0,e)}function ha(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!kb(n)||(e[n]=ha(e[n],t[n]));return e}function kb(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[Ro(JSON.stringify(n)),Ro(JSON.stringify(o)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kf(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ib())}function Ab(){return typeof self=="object"&&self.self===self}function Db(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tf(){return Ef.NODE_ADMIN===!0}function Pb(){return typeof indexedDB=="object"}function Ob(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="FirebaseError";class ps extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Nb,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ds.prototype.create)}}class ds{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,a=this.errors[t],o=a?Mb(a,i):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new ps(r,s,i)}}function Mb(e,t){return e.replace(Fb,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Fb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(e){return JSON.parse(e)}function Ht(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=function(e){let t={},n={},i={},r="";try{const a=e.split(".");t=ga(qc(a[0])||""),n=ga(qc(a[1])||""),r=a[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}},Lb=function(e){const t=If(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},zb=function(e){const t=If(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ai(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Fl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ko(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Ll(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const a=e[r],o=t[r];if(Qc(a)&&Qc(o)){if(!Ll(a,o))return!1}else if(a!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Qc(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)i[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)i[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const m=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=(m<<1|m>>>31)&4294967295}let r=this.chain_[0],a=this.chain_[1],o=this.chain_[2],s=this.chain_[3],l=this.chain_[4],p,d;for(let c=0;c<80;c++){c<40?c<20?(p=s^a&(o^s),d=1518500249):(p=a^o^s,d=1859775393):c<60?(p=a&o|s&(a|o),d=2400959708):(p=a^o^s,d=3395469782);const m=(r<<5|r>>>27)+p+l+d+i[c]&4294967295;l=s,s=o,o=(a<<30|a>>>2)&4294967295,a=r,r=m}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let r=0;const a=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(a[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}else for(;r<n;)if(a[o]=t[r],++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let a=24;a>=0;a-=8)t[i]=this.chain_[r]>>a&255,++i;return t}}function jb(e,t){const n=new $b(e,t);return n.subscribe.bind(n)}class $b{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Wb(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=il),r.error===void 0&&(r.error=il),r.complete===void 0&&(r.complete=il);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wb(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function il(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(e,t,n,i){let r;if(i<t?r="at least "+t:i>n&&(r=n===0?"none":"no more than "+n),r){const a=e+" failed: Was called with "+i+(i===1?" argument.":" arguments.")+" Expects "+r+".";throw new Error(a)}};function fe(e,t){return`${e} failed: ${t} argument `}function qt(e,t,n,i){if(!(i&&!n)&&typeof n!="function")throw new Error(fe(e,t)+"must be a valid function.")}function Jc(e,t,n,i){if(!(i&&!n)&&(typeof n!="object"||n===null))throw new Error(fe(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const a=r-55296;i++,k(i<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(i)-56320;r=65536+(a<<10)+o}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},cs=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(e){return e&&e._delegate?e._delegate:e}class ii{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new me;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Vb(t))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=gi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=gi){return this.instances.has(t)}getOptions(t=gi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);i===s&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&t(o,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Hb(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=gi){return this.component?this.component.multipleInstances?t:gi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hb(e){return e===gi?void 0:e}function Vb(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Af(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=[];var yt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(yt||(yt={}));const Pf={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},Gb=yt.INFO,Kb={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},qb=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Kb[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ms{constructor(t){this.name=t,this._logLevel=Gb,this._logHandler=qb,this._userLogHandler=null,Yp.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Pf[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}function Qb(e){Yp.forEach(t=>{t.setLogLevel(e)})}function Jb(e,t){for(const n of Yp){let i=null;t&&t.level&&(i=Pf[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(r,a,...o)=>{const s=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");a>=(i!=null?i:r.logLevel)&&e({level:yt[a].toLowerCase(),message:s,args:o,type:r.name})}}}const Xb=(e,t)=>t.some(n=>e instanceof n);let Xc,Zc;function Zb(){return Xc||(Xc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tv(){return Zc||(Zc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Of=new WeakMap,zl=new WeakMap,Nf=new WeakMap,rl=new WeakMap,jp=new WeakMap;function ev(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(Kn(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Of.set(n,e)}).catch(()=>{}),jp.set(t,e),t}function nv(e){if(zl.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});zl.set(e,t)}let Bl={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Nf.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function iv(e){Bl=e(Bl)}function rv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(al(this),t,...n);return Nf.set(i,t.sort?t.sort():[t]),Kn(i)}:tv().includes(e)?function(...t){return e.apply(al(this),t),Kn(Of.get(this))}:function(...t){return Kn(e.apply(al(this),t))}}function av(e){return typeof e=="function"?rv(e):(e instanceof IDBTransaction&&nv(e),Xb(e,Zb())?new Proxy(e,Bl):e)}function Kn(e){if(e instanceof IDBRequest)return ev(e);if(rl.has(e))return rl.get(e);const t=av(e);return t!==e&&(rl.set(e,t),jp.set(t,e)),t}const al=e=>jp.get(e);function ov(e,t,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const o=indexedDB.open(e,t),s=Kn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Kn(o.result),l.oldVersion,l.newVersion,Kn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),s.then(l=>{a&&l.addEventListener("close",()=>a()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),s}const sv=["get","getKey","getAll","getAllKeys","count"],lv=["put","add","delete","clear"],ol=new Map;function tm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ol.get(t))return ol.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=lv.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||sv.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,r?"readwrite":"readonly");let p=l.store;return i&&(p=p.index(s.shift())),(await Promise.all([p[n](...s),r&&l.done]))[0]};return ol.set(t,a),a}iv(e=>({...e,get:(t,n,i)=>tm(t,n)||e.get(t,n,i),has:(t,n)=>!!tm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dv(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function dv(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Yl="@firebase/app",em="0.7.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new ms("@firebase/app"),cv="@firebase/app-compat",mv="@firebase/analytics-compat",uv="@firebase/analytics",fv="@firebase/app-check-compat",hv="@firebase/app-check",gv="@firebase/auth",_v="@firebase/auth-compat",xv="@firebase/database",bv="@firebase/database-compat",vv="@firebase/functions",yv="@firebase/functions-compat",wv="@firebase/installations",Cv="@firebase/installations-compat",Ev="@firebase/messaging",Sv="@firebase/messaging-compat",Rv="@firebase/performance",kv="@firebase/performance-compat",Tv="@firebase/remote-config",Iv="@firebase/remote-config-compat",Av="@firebase/storage",Dv="@firebase/storage-compat",Pv="@firebase/firestore",Ov="@firebase/firestore-compat",Nv="firebase",Mv="9.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]",Fv={[Yl]:"fire-core",[cv]:"fire-core-compat",[uv]:"fire-analytics",[mv]:"fire-analytics-compat",[hv]:"fire-app-check",[fv]:"fire-app-check-compat",[gv]:"fire-auth",[_v]:"fire-auth-compat",[xv]:"fire-rtdb",[bv]:"fire-rtdb-compat",[vv]:"fire-fn",[yv]:"fire-fn-compat",[wv]:"fire-iid",[Cv]:"fire-iid-compat",[Ev]:"fire-fcm",[Sv]:"fire-fcm-compat",[Rv]:"fire-perf",[kv]:"fire-perf-compat",[Tv]:"fire-rc",[Iv]:"fire-rc-compat",[Av]:"fire-gcs",[Dv]:"fire-gcs-compat",[Pv]:"fire-fst",[Ov]:"fire-fst-compat","fire-js":"fire-js",[Nv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Map,_a=new Map;function To(e,t){try{e.container.addComponent(t)}catch(n){$p.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Mf(e,t){e.container.addOrOverwriteComponent(t)}function gr(e){const t=e.name;if(_a.has(t))return $p.debug(`There were multiple attempts to register component ${t}.`),!1;_a.set(t,e);for(const n of ri.values())To(n,e);return!0}function Ff(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Lv(e,t,n=Di){Ff(e,t).clearInstance(n)}function zv(){_a.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ai=new ds("app","Firebase",Bv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=Mv;function Lf(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:Di,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});const r=ri.get(i);if(r){if(Ll(e,r.options)&&Ll(n,r.config))return r;throw ai.create("duplicate-app",{appName:i})}const a=new Df(i);for(const s of _a.values())a.addComponent(s);const o=new Yv(e,n,a);return ri.set(i,o),o}function jv(e=Di){const t=ri.get(e);if(!t)throw ai.create("no-app",{appName:e});return t}function $v(){return Array.from(ri.values())}async function zf(e){const t=e.name;ri.has(t)&&(ri.delete(t),await Promise.all(e.container.getProviders().map(n=>n.delete())),e.isDeleted=!0)}function qn(e,t,n){var i;let r=(i=Fv[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const s=[`Unable to register library "${r}" with version "${t}":`];a&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$p.warn(s.join(" "));return}gr(new ii(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function Bf(e,t){if(e!==null&&typeof e!="function")throw ai.create("invalid-log-argument");Jb(e,t)}function Yf(e){Qb(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="firebase-heartbeat-database",Uv=1,xa="firebase-heartbeat-store";let sl=null;function jf(){return sl||(sl=ov(Wv,Uv,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(xa)}}}).catch(e=>{throw ai.create("storage-open",{originalErrorMessage:e.message})})),sl}async function Hv(e){var t;try{return(await jf()).transaction(xa).objectStore(xa).get($f(e))}catch(n){throw ai.create("storage-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message})}}async function nm(e,t){var n;try{const r=(await jf()).transaction(xa,"readwrite");return await r.objectStore(xa).put(t,$f(e)),r.done}catch(i){throw ai.create("storage-set",{originalErrorMessage:(n=i)===null||n===void 0?void 0:n.message})}}function $f(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=1024,Gv=30*24*60*60*1e3;class Kv{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qv(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=im();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const a=new Date(r.date).valueOf();return Date.now()-a<=Gv}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=im(),{heartbeatsToSend:n,unsentEntries:i}=qv(this._heartbeatsCache.heartbeats),r=Ro(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function im(){return new Date().toISOString().substring(0,10)}function qv(e,t=Vv){const n=[];let i=e.slice();for(const r of e){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),rm(n)>t){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),rm(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Qv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pb()?Ob().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Hv(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function rm(e){return Ro(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(e){gr(new ii("platform-logger",t=>new pv(t),"PRIVATE")),gr(new ii("heartbeat",t=>new Kv(t),"PRIVATE")),qn(Yl,em,e),qn(Yl,em,"esm2017"),qn("fire-js","")}Jv("");var Xv=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:Wp,_DEFAULT_ENTRY_NAME:Di,_addComponent:To,_addOrOverwriteComponent:Mf,_apps:ri,_clearComponents:zv,_components:_a,_getProvider:Ff,_registerComponent:gr,_removeServiceInstance:Lv,deleteApp:zf,getApp:jv,getApps:$v,initializeApp:Lf,onLog:Bf,registerVersion:qn,setLogLevel:Yf,FirebaseError:ps},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t,n){this._delegate=t,this.firebase=n,To(t,new ii("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),zf(this._delegate)))}_getService(t,n=Di){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(t,n=Di){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){To(this._delegate,t)}_addOrOverwriteComponent(t){Mf(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},am=new ds("app-compat","Firebase",t2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(e){const t={},n={__esModule:!0,initializeApp:a,app:r,registerVersion:qn,setLogLevel:Yf,onLog:Bf,apps:null,SDK_VERSION:Wp,INTERNAL:{registerComponent:s,removeApp:i,useAsService:l,modularAPIs:Xv}};n.default=n,Object.defineProperty(n,"apps",{get:o});function i(p){delete t[p]}function r(p){if(p=p||Di,!Re(t,p))throw am.create("no-app",{appName:p});return t[p]}r.App=e;function a(p,d={}){const c=Lf(p,d);if(Re(t,c.name))return t[c.name];const m=new e(c,n);return t[c.name]=m,m}function o(){return Object.keys(t).map(p=>t[p])}function s(p){const d=p.name,c=d.replace("-compat","");if(gr(p)&&p.type==="PUBLIC"){const m=(f=r())=>{if(typeof f[c]!="function")throw am.create("invalid-app-argument",{appName:d});return f[c]()};p.serviceProps!==void 0&&ha(m,p.serviceProps),n[c]=m,e.prototype[c]=function(...f){return this._getService.bind(this,d).apply(this,p.multipleInstances?f:[])}}return p.type==="PUBLIC"?n[c]:null}function l(p,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){const e=e2(Zv);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:Wf,extendNamespace:t,createSubscribe:jb,ErrorFactory:ds,deepExtend:ha});function t(n){ha(e,n)}return e}const n2=Wf();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new ms("@firebase/app-compat"),i2="@firebase/app-compat",r2="0.1.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(e){qn(i2,r2,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Ab()&&self.firebase!==void 0){om.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&om.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const je=n2;a2();var o2="firebase",s2="9.8.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */je.registerVersion(o2,s2,"app-compat");const sm="@firebase/database",lm="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf="";function Hf(e){Uf=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ht(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ga(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Re(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=function(e){try{if(typeof window!="undefined"&&typeof window[e]!="undefined"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l2(t)}}catch{}return new p2},vi=Vf("localStorage"),jl=Vf("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new ms("@firebase/database"),Gf=function(){let e=1;return function(){return e++}}(),Kf=function(e){const t=Ub(e),n=new Yb;n.update(t);const i=n.digest();return Bp.encodeByteArray(i)},Da=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Da.apply(null,i):typeof i=="object"?t+=Ht(i):t+=i,t+=" "}return t};let ki=null,pm=!0;const qf=function(e,t){k(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(ar.logLevel=yt.VERBOSE,ki=ar.log.bind(ar),t&&jl.set("logging_enabled",!0)):typeof e=="function"?ki=e:(ki=null,jl.remove("logging_enabled"))},Jt=function(...e){if(pm===!0&&(pm=!1,ki===null&&jl.get("logging_enabled")===!0&&qf(!0)),ki){const t=Da.apply(null,e);ki(t)}},Pa=function(e){return function(...t){Jt(e,...t)}},$l=function(...e){const t="FIREBASE INTERNAL ERROR: "+Da(...e);ar.error(t)},un=function(...e){const t=`FIREBASE FATAL ERROR: ${Da(...e)}`;throw ar.error(t),new Error(t)},ee=function(...e){const t="FIREBASE WARNING: "+Da(...e);ar.warn(t)},d2=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ee("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},us=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},c2=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},In="[MIN_NAME]",fn="[MAX_NAME]",zi=function(e,t){if(e===t)return 0;if(e===In||t===fn)return-1;if(t===In||e===fn)return 1;{const n=Io(e),i=Io(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},m2=function(e,t){return e===t?0:e<t?-1:1},Wr=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ht(t))},Up=function(e){if(typeof e!="object"||e===null)return Ht(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=Ht(t[i]),n+=":",n+=Up(e[t[i]]);return n+="}",n},Qf=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Xt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Jf=function(e){k(!us(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,a,o,s,l;e===0?(a=0,o=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),i),a=s+i,o=Math.round(e*Math.pow(2,n-s)-Math.pow(2,n))):(a=0,o=Math.round(e/Math.pow(2,1-i-n))));const p=[];for(l=n;l;l-=1)p.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(r?1:0),p.reverse();const d=p.join("");let c="";for(l=0;l<64;l+=8){let m=parseInt(d.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),c=c+m}return c.toLowerCase()},u2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},f2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function h2(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const g2=new RegExp("^-?(0*)\\d{1,10}$"),Xf=-2147483648,Hp=2147483647,Io=function(e){if(g2.test(e)){const t=Number(e);if(t>=Xf&&t<=Hp)return t}return null},Ir=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw ee("Exception was thrown by user callback.",n),t},Math.floor(0))}},_2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ra=function(e,t){const n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ee(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ee(t)}}class or{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}or.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="5",Zf="v",th="s",eh="r",nh="f",ih=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rh="ls",ah="p",Wl="ac",oh="websocket",sh="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n,i,r,a=!1,o="",s=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&vi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function v2(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ph(e,t,n){k(typeof t=="string","typeof type must == string"),k(typeof n=="object","typeof params must == object");let i;if(t===oh)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===sh)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);v2(e)&&(n.ns=e.namespace);const r=[];return Xt(n,(a,o)=>{r.push(a+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.counters_={}}incrementCounter(t,n=1){Re(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Rb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll={},pl={};function Gp(e){const t=e.toString();return ll[t]||(ll[t]=new y2),ll[t]}function w2(e,t){const n=e.toString();return pl[n]||(pl[n]=t()),pl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ir(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="start",E2="close",S2="pLPCommand",R2="pRTLPCB",dh="id",ch="pw",mh="ser",k2="cb",T2="seg",I2="ts",A2="d",D2="dframe",uh=1870,fh=30,P2=uh-fh,O2=25e3,N2=3e4;class $n{constructor(t,n,i,r,a,o,s){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pa(t),this.stats_=Gp(n),this.urlFn=l=>(this.appCheckToken&&(l[Wl]=this.appCheckToken),ph(n,sh,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new C2(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(N2)),c2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kp((...a)=>{const[o,s,l,p,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===dm)this.id=s,this.password=l;else if(o===E2)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,s]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,s)},()=>{this.onClosed_()},this.urlFn);const i={};i[dm]="t",i[mh]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[k2]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Zf]=Vp,this.transportSessionId&&(i[th]=this.transportSessionId),this.lastSessionId&&(i[rh]=this.lastSessionId),this.applicationId&&(i[ah]=this.applicationId),this.appCheckToken&&(i[Wl]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&ih.test(location.hostname)&&(i[eh]=nh);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$n.forceAllow_=!0}static forceDisallow(){$n.forceDisallow_=!0}static isAvailable(){return $n.forceAllow_?!0:!$n.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!u2()&&!f2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ht(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Rf(n),r=Qf(i,P2);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[D2]="t",i[dh]=t,i[ch]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ht(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Kp{constructor(t,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Gf(),window[S2+this.uniqueCallbackIdentifier]=t,window[R2+this.uniqueCallbackIdentifier]=n,this.myIFrame=Kp.createIFrame_();let a="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const s=document.domain;a='<script>document.domain="'+s+'";<\/script>'}const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Jt("frame writing exception"),s.stack&&Jt(s.stack),Jt(s)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Jt("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[dh]=this.myID,t[ch]=this.myPW,t[mh]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fh+i.length<=uh;){const o=this.pendingSegs.shift();i=i+"&"+T2+r+"="+o.seg+"&"+I2+r+"="+o.ts+"&"+A2+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(O2)),a=()=>{clearTimeout(r),i()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Jt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=16384,F2=45e3;let Ao=null;typeof MozWebSocket!="undefined"?Ao=MozWebSocket:typeof WebSocket!="undefined"&&(Ao=WebSocket);class Ne{constructor(t,n,i,r,a,o,s){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pa(this.connId),this.stats_=Gp(n),this.connURL=Ne.connectionURL_(n,o,s,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,r,a){const o={};return o[Zf]=Vp,typeof location!="undefined"&&location.hostname&&ih.test(location.hostname)&&(o[eh]=nh),n&&(o[th]=n),i&&(o[rh]=i),r&&(o[Wl]=r),a&&(o[ah]=a),ph(t,oh,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vi.set("previous_websocket_failure",!0);try{let i;Tf(),this.mySock=new Ao(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ne.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Ao!==null&&!Ne.forceDisallow_}static previouslyFailed(){return vi.isInMemoryStorage||vi.get("previous_websocket_failure")===!0}markConnectionHealthy(){vi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ga(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(k(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=Ht(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Qf(n,M2);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(F2))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ne.responsesRequiredToBeHealthy=2;Ne.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[$n,Ne]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Ne&&Ne.isAvailable();let i=n&&!Ne.previouslyFailed();if(t.webSocketOnly&&(n||ee("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ne];else{const r=this.transports_=[];for(const a of _r.ALL_TRANSPORTS)a&&a.isAvailable()&&r.push(a);_r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_r.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=6e4,z2=5e3,B2=10*1024,Y2=100*1024,dl="t",cm="d",j2="s",mm="r",$2="e",um="o",fm="a",hm="n",gm="p",W2="h";class U2{constructor(t,n,i,r,a,o,s,l,p,d){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=l,this.onKill_=p,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pa("c:"+this.id+":"),this.transportManager_=new _r(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=ra(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Y2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>B2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(dl in t){const n=t[dl];n===fm?this.upgradeIfSecondaryHealthy_():n===mm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===um&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Wr("t",t),i=Wr("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:gm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:hm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Wr("t",t),i=Wr("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Wr(dl,t);if(cm in t){const i=t[cm];if(n===W2)this.onHandshake_(i);else if(n===hm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===j2?this.onConnectionShutdown_(i):n===mm?this.onReset_(i):n===$2?$l("Server Error: "+i):n===um?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$l("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vp!==i&&ee("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ra(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(L2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ra(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(z2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:gm,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t){this.allowedEvents_=t,this.listeners_={},k(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let a=0;a<r.length;a++)if(r[a].callback===n&&(!i||i===r[a].context)){r.splice(a,1);return}}validateEventType_(t){k(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends gh{constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!kf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Do}getInitialEvent(t){return k(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=32,xm=768;class gt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function dt(){return new gt("")}function X(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function oi(e){return e.pieces_.length-e.pieceNum_}function Ct(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new gt(e.pieces_,t)}function qp(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function H2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ba(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function _h(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new gt(t,0)}function zt(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof gt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new gt(n,0)}function Z(e){return e.pieceNum_>=e.pieces_.length}function oe(e,t){const n=X(e),i=X(t);if(n===null)return t;if(n===i)return oe(Ct(e),Ct(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function V2(e,t){const n=ba(e,0),i=ba(t,0);for(let r=0;r<n.length&&r<i.length;r++){const a=zi(n[r],i[r]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Qp(e,t){if(oi(e)!==oi(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Me(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(oi(e)>oi(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class G2{constructor(t,n){this.errorPrefix_=n,this.parts_=ba(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=cs(this.parts_[i]);xh(this)}}function K2(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=cs(t),xh(e)}function q2(e){const t=e.parts_.pop();e.byteLength_-=cs(t),e.parts_.length>0&&(e.byteLength_-=1)}function xh(e){if(e.byteLength_>xm)throw new Error(e.errorPrefix_+"has a key path longer than "+xm+" bytes ("+e.byteLength_+").");if(e.parts_.length>_m)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_m+") or object contains a cycle "+_i(e))}function _i(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends gh{constructor(){super(["visible"]);let t,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",t="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Jp}getInitialEvent(t){return k(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=1e3,Q2=60*5*1e3,J2=3*1e3,bm=30*1e3,X2=1.3,Z2=3e4,t6="server_kill",vm=3;class Rn extends hh{constructor(t,n,i,r,a,o,s,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=l,this.id=Rn.nextPersistentConnectionId_++,this.log_=Pa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ur,this.maxReconnectDelay_=Q2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Tf())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Do.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const r=++this.requestNumber_,a={r,a:t,b:n};this.log_(Ht(a)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const n=new me,i={p:t._path.toString(),q:t._queryObject},r={action:"g",request:i,onComplete:o=>{const s=o.d;o.s==="ok"?n.resolve(s):n.reject(s)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const o=this.outstandingGets_[a];o===void 0||r!==o||(delete this.outstandingGets_[a],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},J2),this.connected_&&this.sendGet_(a),n.promise}listen(t,n,i,r){this.initConnection_();const a=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),k(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:n,query:t,tag:i};this.listens.get(o).set(a,s),this.connected_&&this.sendListen_(s)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const a={p:i},o="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(o,a,s=>{const l=s.d,p=s.s;Rn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",s),p!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(p,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Re(t,"w")){const i=Ai(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();ee(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||zb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Lb(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const a=r.s,o=r.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),k(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,n)}sendUnlisten_(t,n,i,r){this.log_("Unlisten on "+t+" for "+n);const a={p:t},o="n";r&&(a.q=i,a.t=r),this.sendRequest(o,a)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,r){const a={p:n,d:i};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(t,n,i,r){this.putInternal("p",t,n,i,r)}merge(t,n,i,r){this.putInternal("m",t,n,i,r)}putInternal(t,n,i,r,a){this.initConnection_();const o={p:n,d:i};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ht(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):$l("Unrecognized action received from server: "+Ht(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ur,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ur,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Z2&&(this.reconnectDelay_=Ur),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*X2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Rn.nextConnectionId_++,a=this.lastSessionId;let o=!1,s=null;const l=function(){s?s.close():(o=!0,i())},p=function(c){k(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(c)};this.realtime_={close:l,sendRequest:p};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,m]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Jt("getToken() completed but was canceled"):(Jt("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=m&&m.token,s=new U2(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,f=>{ee(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(t6)},a))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&ee(c),l())}}}interrupt(t){Jt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Jt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Fl(this.interruptReasons_)&&(this.reconnectDelay_=Ur,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(a=>Up(a)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,n){const i=new gt(t).toString();let r;if(this.listens.has(i)){const a=this.listens.get(i);r=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,n){Jt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vm&&(this.reconnectDelay_=bm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Jt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Uf.replace(/\./g,"-")]=1,kf()?t["framework.cordova"]=1:Db()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Do.getInstance().currentlyOnline();return Fl(this.interruptReasons_)&&t}}Rn.nextPersistentConnectionId_=0;Rn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new et(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new et(In,t),r=new et(In,n);return this.compare(i,r)!==0}minPost(){return et.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to;class bh extends fs{static get __EMPTY_NODE(){return to}static set __EMPTY_NODE(t){to=t}compare(t,n){return zi(t.name,n.name)}isDefinedOn(t){throw Tr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return et.MIN}maxPost(){return new et(fn,to)}makePost(t,n){return k(typeof t=="string","KeyIndex indexValue must always be a string."),new et(t,to)}toString(){return".key"}}const cn=new bh;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n,i,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,r&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Qt{constructor(t,n,i,r,a){this.key=t,this.value=n,this.color=i!=null?i:Qt.RED,this.left=r!=null?r:ue.EMPTY_NODE,this.right=a!=null?a:ue.EMPTY_NODE}copy(t,n,i,r,a){return new Qt(t!=null?t:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,a!=null?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const a=i(t,r.key);return a<0?r=r.copy(null,null,null,r.left.insert(t,n,i),null):a===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ue.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,r;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return ue.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Qt.RED=!0;Qt.BLACK=!1;class e6{copy(t,n,i,r,a){return this}insert(t,n,i){return new Qt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ue{constructor(t,n=ue.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ue(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Qt.BLACK,null,null))}remove(t){return new ue(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new eo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new eo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new eo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new eo(this.root_,null,this.comparator_,!0,t)}}ue.EMPTY_NODE=new e6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(e,t){return zi(e.name,t.name)}function Xp(e,t){return zi(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul;function i6(e){Ul=e}const vh=function(e){return typeof e=="number"?"number:"+Jf(e):"string:"+e},yh=function(e){if(e.isLeafNode()){const t=e.val();k(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Re(t,".sv"),"Priority must be a string or number.")}else k(e===Ul||e.isEmpty(),"priority of unexpected type.");k(e===Ul||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym;class Kt{constructor(t,n=Kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yh(this.priorityNode_)}static set __childrenNodeConstructor(t){ym=t}static get __childrenNodeConstructor(){return ym}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Kt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Z(t)?this:X(t)===".priority"?this.priorityNode_:Kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=X(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(k(i!==".priority"||oi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ct(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+vh(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Jf(this.value_):t+=this.value_,this.lazyHash_=Kf(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Kt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Kt.__childrenNodeConstructor?-1:(k(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=Kt.VALUE_TYPE_ORDER.indexOf(n),a=Kt.VALUE_TYPE_ORDER.indexOf(i);return k(r>=0,"Unknown leaf type: "+n),k(a>=0,"Unknown leaf type: "+i),r===a?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh,Ch;function r6(e){wh=e}function a6(e){Ch=e}class o6 extends fs{compare(t,n){const i=t.node.getPriority(),r=n.node.getPriority(),a=i.compareTo(r);return a===0?zi(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return et.MIN}maxPost(){return new et(fn,new Kt("[PRIORITY-POST]",Ch))}makePost(t,n){const i=wh(t);return new et(n,new Kt("[PRIORITY-POST]",i))}toString(){return".priority"}}const kt=new o6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=Math.log(2);class l6{constructor(t){const n=a=>parseInt(Math.log(a)/s6,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Po=function(e,t,n,i){e.sort(t);const r=function(l,p){const d=p-l;let c,m;if(d===0)return null;if(d===1)return c=e[l],m=n?n(c):c,new Qt(m,c.node,Qt.BLACK,null,null);{const f=parseInt(d/2,10)+l,g=r(l,f),A=r(f+1,p);return c=e[f],m=n?n(c):c,new Qt(m,c.node,Qt.BLACK,g,A)}},a=function(l){let p=null,d=null,c=e.length;const m=function(g,A){const x=c-g,v=c;c-=g;const P=r(x+1,v),F=e[x],z=n?n(F):F;f(new Qt(z,F.node,A,null,P))},f=function(g){p?(p.left=g,p=g):(d=g,p=g)};for(let g=0;g<l.count;++g){const A=l.nextBitIsOne(),x=Math.pow(2,l.count-(g+1));A?m(x,Qt.BLACK):(m(x,Qt.BLACK),m(x,Qt.RED))}return d},o=new l6(e.length),s=a(o);return new ue(i||t,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl;const Gi={};class Cn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return k(Gi&&kt,"ChildrenNode.ts has not been loaded"),cl=cl||new Cn({".priority":Gi},{".priority":kt}),cl}get(t){const n=Ai(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ue?n:null}hasIndex(t){return Re(this.indexSet_,t.toString())}addIndex(t,n){k(t!==cn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const a=n.getIterator(et.Wrap);let o=a.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=a.getNext();let s;r?s=Po(i,t.getCompare()):s=Gi;const l=t.toString(),p=Object.assign({},this.indexSet_);p[l]=t;const d=Object.assign({},this.indexes_);return d[l]=s,new Cn(d,p)}addToIndexes(t,n){const i=ko(this.indexes_,(r,a)=>{const o=Ai(this.indexSet_,a);if(k(o,"Missing index implementation for "+a),r===Gi)if(o.isDefinedOn(t.node)){const s=[],l=n.getIterator(et.Wrap);let p=l.getNext();for(;p;)p.name!==t.name&&s.push(p),p=l.getNext();return s.push(t),Po(s,o.getCompare())}else return Gi;else{const s=n.get(t.name);let l=r;return s&&(l=l.remove(new et(t.name,s))),l.insert(t,t.node)}});return new Cn(i,this.indexSet_)}removeFromIndexes(t,n){const i=ko(this.indexes_,r=>{if(r===Gi)return r;{const a=n.get(t.name);return a?r.remove(new et(t.name,a)):r}});return new Cn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr;class U{constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&yh(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hr||(Hr=new U(new ue(Xp),null,Cn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hr}updatePriority(t){return this.children_.isEmpty()?this:new U(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Hr:n}}getChild(t){const n=X(t);return n===null?this:this.getImmediateChild(n).getChild(Ct(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(k(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new et(t,n);let r,a;n.isEmpty()?(r=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Hr:this.priorityNode_;return new U(r,o,a)}}updateChild(t,n){const i=X(t);if(i===null)return n;{k(X(t)!==".priority"||oi(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Ct(t),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,a=!0;if(this.forEachChild(kt,(o,s)=>{n[o]=s.val(t),i++,a&&U.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):a=!1}),!t&&a&&r<2*i){const o=[];for(const s in n)o[s]=n[s];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+vh(this.getPriority().val())+":"),this.forEachChild(kt,(n,i)=>{const r=i.hash();r!==""&&(t+=":"+n+":"+r)}),this.lazyHash_=t===""?"":Kf(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const r=this.resolveIndex_(i);if(r){const a=r.getPredecessorKey(new et(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new et(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new et(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,et.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,t)<0;)r.getNext(),a=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,et.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,t)>0;)r.getNext(),a=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Oa?-1:0}withIndex(t){if(t===cn||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new U(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===cn||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(kt),r=n.getIterator(kt);let a=i.getNext(),o=r.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=i.getNext(),o=r.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===cn?null:this.indexMap_.get(t.toString())}}U.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class p6 extends U{constructor(){super(new ue(Xp),U.EMPTY_NODE,Cn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return U.EMPTY_NODE}isEmpty(){return!1}}const Oa=new p6;Object.defineProperties(et,{MIN:{value:new et(In,U.EMPTY_NODE)},MAX:{value:new et(fn,Oa)}});bh.__EMPTY_NODE=U.EMPTY_NODE;Kt.__childrenNodeConstructor=U;i6(Oa);a6(Oa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=!0;function Yt(e,t=null){if(e===null)return U.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),k(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Kt(n,Yt(t))}if(!(e instanceof Array)&&d6){const n=[];let i=!1;if(Xt(e,(o,s)=>{if(o.substring(0,1)!=="."){const l=Yt(s);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new et(o,l)))}}),n.length===0)return U.EMPTY_NODE;const a=Po(n,n6,o=>o.name,Xp);if(i){const o=Po(n,kt.getCompare());return new U(a,Yt(t),new Cn({".priority":o},{".priority":kt}))}else return new U(a,Yt(t),Cn.Default)}else{let n=U.EMPTY_NODE;return Xt(e,(i,r)=>{if(Re(e,i)&&i.substring(0,1)!=="."){const a=Yt(r);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(Yt(t))}}r6(Yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends fs{constructor(t){super(),this.indexPath_=t,k(!Z(t)&&X(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),r=this.extractChild(n.node),a=i.compareTo(r);return a===0?zi(t.name,n.name):a}makePost(t,n){const i=Yt(t),r=U.EMPTY_NODE.updateChild(this.indexPath_,i);return new et(n,r)}maxPost(){const t=U.EMPTY_NODE.updateChild(this.indexPath_,Oa);return new et(fn,t)}toString(){return ba(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6 extends fs{compare(t,n){const i=t.node.compareTo(n.node);return i===0?zi(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return et.MIN}maxPost(){return et.MAX}makePost(t,n){const i=Yt(t);return new et(n,i)}toString(){return".value"}}const td=new c6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Hl="-",Eh="z",Sh=786,m6=function(){let e=0;const t=[];return function(n){const i=n===e;e=n;let r;const a=new Array(8);for(r=7;r>=0;r--)a[r]=xr.charAt(n%64),n=Math.floor(n/64);k(n===0,"Cannot push at time == 0");let o=a.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=xr.charAt(t[r]);return k(o.length===20,"nextPushId: Length should be 20."),o}}(),wm=function(e){if(e===""+Hp)return Hl;const t=Io(e);if(t!=null)return""+(t+1);const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e.charAt(o);if(n.length<Sh)return n.push(Hl),n.join("");let i=n.length-1;for(;i>=0&&n[i]===Eh;)i--;if(i===-1)return fn;const r=n[i],a=xr.charAt(xr.indexOf(r)+1);return n[i]=a,n.slice(0,i+1).join("")},Cm=function(e){if(e===""+Xf)return In;const t=Io(e);if(t!=null)return""+(t-1);const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e.charAt(i);return n[n.length-1]===Hl?n.length===1?""+Hp:(delete n[n.length-1],n.join("")):(n[n.length-1]=xr.charAt(xr.indexOf(n[n.length-1])-1),n.join("")+Eh.repeat(Sh-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(e){return{type:"value",snapshotNode:e}}function br(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function va(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ya(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function u6(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t){this.index_=t}updateChild(t,n,i,r,a,o){k(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=t.getImmediateChild(n);return s.getChild(r).equals(i.getChild(r))&&s.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?t.hasChild(n)?o.trackChildChange(va(n,s)):k(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(br(n,i)):o.trackChildChange(ya(n,i,s))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(kt,(r,a)=>{n.hasChild(r)||i.trackChildChange(va(r,a))}),n.isLeafNode()||n.forEachChild(kt,(r,a)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(a)||i.trackChildChange(ya(r,a,o))}else i.trackChildChange(br(r,a))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?U.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t){this.indexedFilter_=new ed(t.getIndex()),this.index_=t.getIndex(),this.startPost_=wa.getStartPost_(t),this.endPost_=wa.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,n,i,r,a,o){return this.matches(new et(n,i))||(i=U.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,a,o)}updateFullNode(t,n,i){n.isLeafNode()&&(n=U.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(U.EMPTY_NODE);const a=this;return n.forEachChild(kt,(o,s)=>{a.matches(new et(o,s))||(r=r.updateImmediateChild(o,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(t){this.rangedFilter_=new wa(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,n,i,r,a,o){return this.rangedFilter_.matches(new et(n,i))||(i=U.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,a,o):this.fullLimitUpdateChild_(t,n,i,a,o)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=U.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;a.hasNext()&&o<this.limit_;){const s=a.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:l=this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,l)r=r.updateImmediateChild(s.name,s.node),o++;else break}}else{r=n.withIndex(this.index_),r=r.updatePriority(U.EMPTY_NODE);let a,o,s,l;if(this.reverse_){l=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const c=this.index_.getCompare();s=(m,f)=>c(f,m)}else l=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),s=this.index_.getCompare();let p=0,d=!1;for(;l.hasNext();){const c=l.getNext();!d&&s(a,c)<=0&&(d=!0),d&&p<this.limit_&&s(c,o)<=0?p++:r=r.updateImmediateChild(c.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,a){let o;if(this.reverse_){const c=this.index_.getCompare();o=(m,f)=>c(f,m)}else o=this.index_.getCompare();const s=t;k(s.numChildren()===this.limit_,"");const l=new et(n,i),p=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(s.hasChild(n)){const c=s.getImmediateChild(n);let m=r.getChildAfterChild(this.index_,p,this.reverse_);for(;m!=null&&(m.name===n||s.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const f=m==null?1:o(m,l);if(d&&!i.isEmpty()&&f>=0)return a!=null&&a.trackChildChange(ya(n,i,c)),s.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(va(n,c));const A=s.updateImmediateChild(n,U.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(a!=null&&a.trackChildChange(br(m.name,m.node)),A.updateImmediateChild(m.name,m.node)):A}}else return i.isEmpty()?t:d&&o(p,l)>=0?(a!=null&&(a.trackChildChange(va(p.name,p.node)),a.trackChildChange(br(n,i))),s.updateImmediateChild(n,i).updateImmediateChild(p.name,U.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:In}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kt}copy(){const t=new hs;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function h6(e){return e.loadsAllData()?new ed(e.getIndex()):e.hasLimit()?new f6(e):new wa(e)}function g6(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function _6(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Vl(e,t,n){const i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function x6(e,t,n){let i;if(e.index_===cn)typeof t=="string"&&(t=wm(t)),i=Vl(e,t,n);else{let r;n==null?r=fn:r=wm(n),i=Vl(e,t,r)}return i.startAfterSet_=!0,i}function Gl(e,t,n){const i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function b6(e,t,n){let i,r;return e.index_===cn?(typeof t=="string"&&(t=Cm(t)),r=Gl(e,t,n)):(n==null?i=In:i=Cm(n),r=Gl(e,t,i)),r.endBeforeSet_=!0,r}function gs(e,t){const n=e.copy();return n.index_=t,n}function Em(e){const t={};if(e.isDefault())return t;let n;return e.index_===kt?n="$priority":e.index_===td?n="$value":e.index_===cn?n="$key":(k(e.index_ instanceof Zp,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ht(n),e.startSet_&&(t.startAt=Ht(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Ht(e.indexStartName_))),e.endSet_&&(t.endAt=Ht(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Ht(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Sm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==kt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends hh{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Pa("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(k(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const o=Oo.getListenId_(t,i),s={};this.listens_[o]=s;const l=Em(t._queryParams);this.restRequest_(a+".json",l,(p,d)=>{let c=d;if(p===404&&(c=null,p=null),p===null&&this.onDataUpdate_(a,c,!1,i),Ai(this.listens_,o)===s){let m;p?p===401?m="permission_denied":m="rest_error:"+p:m="ok",r(m,null)}})}unlisten(t,n){const i=Oo.getListenId_(t,n);delete this.listens_[i]}get(t){const n=Em(t._queryParams),i=t._path.toString(),r=new me;return this.restRequest_(i+".json",n,(a,o)=>{let s=o;a===404&&(s=null,a=null),a===null?(this.onDataUpdate_(i,s,!1,null),r.resolve(s)):r.reject(new Error(s))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(n.auth=r.accessToken),a&&a.token&&(n.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Bb(n);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(i&&s.readyState===4){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let l=null;if(s.status>=200&&s.status<300){try{l=ga(s.responseText)}catch{ee("Failed to parse JSON response for "+o+": "+s.responseText)}i(null,l)}else s.status!==401&&s.status!==404&&ee("Got unsuccessful REST response for "+o+" Status: "+s.status),i(s.status);i=null}},s.open("GET",o,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(){return{value:null,children:new Map}}function Ar(e,t,n){if(Z(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=X(t);e.children.has(i)||e.children.set(i,No());const r=e.children.get(i);t=Ct(t),Ar(r,t,n)}}function Kl(e,t){if(Z(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(kt,(i,r)=>{Ar(e,new gt(i),r)}),Kl(e,t)}}else if(e.children.size>0){const n=X(t);return t=Ct(t),e.children.has(n)&&Kl(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function ql(e,t,n){e.value!==null?n(t,e.value):y6(e,(i,r)=>{const a=new gt(t.toString()+"/"+i);ql(r,a,n)})}function y6(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Xt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=10*1e3,C6=30*1e3,E6=5*60*1e3;class S6{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new w6(t);const i=Rm+(C6-Rm)*Math.random();ra(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Xt(t,(r,a)=>{a>0&&Re(this.statsToReport_,r)&&(n[r]=a,i=!0)}),i&&this.server_.reportStats(n),ra(this.reportStats_.bind(this),Math.floor(Math.random()*2*E6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qe||(qe={}));function nd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function id(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=qe.ACK_USER_WRITE,this.source=nd()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new gt(t));return new Mo(dt(),n,this.revert)}}else return k(X(this.path)===t,"operationForChild called for unrelated child."),new Mo(Ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,n){this.source=t,this.path=n,this.type=qe.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new Ca(this.source,dt()):new Ca(this.source,Ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=qe.OVERWRITE}operationForChild(t){return Z(this.path)?new Pi(this.source,dt(),this.snap.getImmediateChild(t)):new Pi(this.source,Ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=qe.MERGE}operationForChild(t){if(Z(this.path)){const n=this.children.subtree(new gt(t));return n.isEmpty()?null:n.value?new Pi(this.source,dt(),n.value):new vr(this.source,dt(),n)}else return k(X(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new vr(this.source,Ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;const n=X(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function k6(e,t,n,i){const r=[],a=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(u6(o.childName,o.snapshotNode))}),Vr(e,r,"child_removed",t,i,n),Vr(e,r,"child_added",t,i,n),Vr(e,r,"child_moved",a,i,n),Vr(e,r,"child_changed",t,i,n),Vr(e,r,"value",t,i,n),r}function Vr(e,t,n,i,r,a){const o=i.filter(s=>s.type===n);o.sort((s,l)=>I6(e,s,l)),o.forEach(s=>{const l=T6(e,s,a);r.forEach(p=>{p.respondsTo(s.type)&&t.push(p.createEvent(l,e.query_))})})}function T6(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function I6(e,t,n){if(t.childName==null||n.childName==null)throw Tr("Should only compare child_ events.");const i=new et(t.childName,t.snapshotNode),r=new et(n.childName,n.snapshotNode);return e.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(e,t){return{eventCache:e,serverCache:t}}function aa(e,t,n,i){return _s(new si(t,n,i),e.serverCache)}function kh(e,t,n,i){return _s(e.eventCache,new si(t,n,i))}function Fo(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Oi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml;const A6=()=>(ml||(ml=new ue(m2)),ml);class Rt{constructor(t,n=A6()){this.value=t,this.children=n}static fromObject(t){let n=new Rt(null);return Xt(t,(i,r)=>{n=n.set(new gt(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:dt(),value:this.value};if(Z(t))return null;{const i=X(t),r=this.children.get(i);if(r!==null){const a=r.findRootMostMatchingPathAndValue(Ct(t),n);return a!=null?{path:zt(new gt(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{const n=X(t),i=this.children.get(n);return i!==null?i.subtree(Ct(t)):new Rt(null)}}set(t,n){if(Z(t))return new Rt(n,this.children);{const i=X(t),a=(this.children.get(i)||new Rt(null)).set(Ct(t),n),o=this.children.insert(i,a);return new Rt(this.value,o)}}remove(t){if(Z(t))return this.children.isEmpty()?new Rt(null):new Rt(null,this.children);{const n=X(t),i=this.children.get(n);if(i){const r=i.remove(Ct(t));let a;return r.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,r),this.value===null&&a.isEmpty()?new Rt(null):new Rt(this.value,a)}else return this}}get(t){if(Z(t))return this.value;{const n=X(t),i=this.children.get(n);return i?i.get(Ct(t)):null}}setTree(t,n){if(Z(t))return n;{const i=X(t),a=(this.children.get(i)||new Rt(null)).setTree(Ct(t),n);let o;return a.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,a),new Rt(this.value,o)}}fold(t){return this.fold_(dt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((r,a)=>{i[r]=a.fold_(zt(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,dt(),n)}findOnPath_(t,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Z(t))return null;{const a=X(t),o=this.children.get(a);return o?o.findOnPath_(Ct(t),zt(n,a),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,dt(),n)}foreachOnPath_(t,n,i){if(Z(t))return this;{this.value&&i(n,this.value);const r=X(t),a=this.children.get(r);return a?a.foreachOnPath_(Ct(t),zt(n,r),i):new Rt(null)}}foreach(t){this.foreach_(dt(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(zt(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.writeTree_=t}static empty(){return new Ze(new Rt(null))}}function oa(e,t,n){if(Z(t))return new Ze(new Rt(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let a=i.value;const o=oe(r,t);return a=a.updateChild(o,n),new Ze(e.writeTree_.set(r,a))}else{const r=new Rt(n),a=e.writeTree_.setTree(t,r);return new Ze(a)}}}function Ql(e,t,n){let i=e;return Xt(n,(r,a)=>{i=oa(i,zt(t,r),a)}),i}function km(e,t){if(Z(t))return Ze.empty();{const n=e.writeTree_.setTree(t,new Rt(null));return new Ze(n)}}function Jl(e,t){return Bi(e,t)!=null}function Bi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(oe(n.path,t)):null}function Tm(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(kt,(i,r)=>{t.push(new et(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new et(i,r.value))}),t}function Qn(e,t){if(Z(t))return e;{const n=Bi(e,t);return n!=null?new Ze(new Rt(n)):new Ze(e.writeTree_.subtree(t))}}function Xl(e){return e.writeTree_.isEmpty()}function yr(e,t){return Th(dt(),e.writeTree_,t)}function Th(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,a)=>{r===".priority"?(k(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=Th(zt(e,r),a,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(zt(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(e,t){return Ph(t,e)}function D6(e,t,n,i,r){k(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=oa(e.visibleWrites,t,n)),e.lastWriteId=i}function P6(e,t,n,i){k(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Ql(e.visibleWrites,t,n),e.lastWriteId=i}function O6(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function N6(e,t){const n=e.allWrites.findIndex(s=>s.writeId===t);k(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,a=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const s=e.allWrites[o];s.visible&&(o>=n&&M6(s,i.path)?r=!1:Me(i.path,s.path)&&(a=!0)),o--}if(r){if(a)return F6(e),!0;if(i.snap)e.visibleWrites=km(e.visibleWrites,i.path);else{const s=i.children;Xt(s,l=>{e.visibleWrites=km(e.visibleWrites,zt(i.path,l))})}return!0}else return!1}function M6(e,t){if(e.snap)return Me(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Me(zt(e.path,n),t))return!0;return!1}function F6(e){e.visibleWrites=Ih(e.allWrites,L6,dt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function L6(e){return e.visible}function Ih(e,t,n){let i=Ze.empty();for(let r=0;r<e.length;++r){const a=e[r];if(t(a)){const o=a.path;let s;if(a.snap)Me(n,o)?(s=oe(n,o),i=oa(i,s,a.snap)):Me(o,n)&&(s=oe(o,n),i=oa(i,dt(),a.snap.getChild(s)));else if(a.children){if(Me(n,o))s=oe(n,o),i=Ql(i,s,a.children);else if(Me(o,n))if(s=oe(o,n),Z(s))i=Ql(i,dt(),a.children);else{const l=Ai(a.children,X(s));if(l){const p=l.getChild(Ct(s));i=oa(i,dt(),p)}}}else throw Tr("WriteRecord should have .snap or .children")}}return i}function Ah(e,t,n,i,r){if(!i&&!r){const a=Bi(e.visibleWrites,t);if(a!=null)return a;{const o=Qn(e.visibleWrites,t);if(Xl(o))return n;if(n==null&&!Jl(o,dt()))return null;{const s=n||U.EMPTY_NODE;return yr(o,s)}}}else{const a=Qn(e.visibleWrites,t);if(!r&&Xl(a))return n;if(!r&&n==null&&!Jl(a,dt()))return null;{const o=function(p){return(p.visible||r)&&(!i||!~i.indexOf(p.writeId))&&(Me(p.path,t)||Me(t,p.path))},s=Ih(e.allWrites,o,t),l=n||U.EMPTY_NODE;return yr(s,l)}}}function z6(e,t,n){let i=U.EMPTY_NODE;const r=Bi(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(kt,(a,o)=>{i=i.updateImmediateChild(a,o)}),i;if(n){const a=Qn(e.visibleWrites,t);return n.forEachChild(kt,(o,s)=>{const l=yr(Qn(a,new gt(o)),s);i=i.updateImmediateChild(o,l)}),Tm(a).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const a=Qn(e.visibleWrites,t);return Tm(a).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function B6(e,t,n,i,r){k(i||r,"Either existingEventSnap or existingServerSnap must exist");const a=zt(t,n);if(Jl(e.visibleWrites,a))return null;{const o=Qn(e.visibleWrites,a);return Xl(o)?r.getChild(n):yr(o,r.getChild(n))}}function Y6(e,t,n,i){const r=zt(t,n),a=Bi(e.visibleWrites,r);if(a!=null)return a;if(i.isCompleteForChild(n)){const o=Qn(e.visibleWrites,r);return yr(o,i.getNode().getImmediateChild(n))}else return null}function j6(e,t){return Bi(e.visibleWrites,t)}function $6(e,t,n,i,r,a,o){let s;const l=Qn(e.visibleWrites,t),p=Bi(l,dt());if(p!=null)s=p;else if(n!=null)s=yr(l,n);else return[];if(s=s.withIndex(o),!s.isEmpty()&&!s.isLeafNode()){const d=[],c=o.getCompare(),m=a?s.getReverseIteratorFrom(i,o):s.getIteratorFrom(i,o);let f=m.getNext();for(;f&&d.length<r;)c(f,i)!==0&&d.push(f),f=m.getNext();return d}else return[]}function W6(){return{visibleWrites:Ze.empty(),allWrites:[],lastWriteId:-1}}function Lo(e,t,n,i){return Ah(e.writeTree,e.treePath,t,n,i)}function ad(e,t){return z6(e.writeTree,e.treePath,t)}function Im(e,t,n,i){return B6(e.writeTree,e.treePath,t,n,i)}function zo(e,t){return j6(e.writeTree,zt(e.treePath,t))}function U6(e,t,n,i,r,a){return $6(e.writeTree,e.treePath,t,n,i,r,a)}function od(e,t,n){return Y6(e.writeTree,e.treePath,t,n)}function Dh(e,t){return Ph(zt(e.treePath,t),e.writeTree)}function Ph(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;k(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),k(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const a=r.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,ya(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,va(i,r.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,br(i,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,ya(i,t.snapshotNode,r.oldSnap));else throw Tr("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const Oh=new V6;class sd{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return od(this.writes_,t,i)}}getChildAfterChild(t,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Oi(this.viewCache_),a=U6(this.writes_,r,n,1,i,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(e){return{filter:e}}function K6(e,t){k(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),k(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function q6(e,t,n,i,r){const a=new H6;let o,s;if(n.type===qe.OVERWRITE){const p=n;p.source.fromUser?o=Zl(e,t,p.path,p.snap,i,r,a):(k(p.source.fromServer,"Unknown source."),s=p.source.tagged||t.serverCache.isFiltered()&&!Z(p.path),o=Bo(e,t,p.path,p.snap,i,r,s,a))}else if(n.type===qe.MERGE){const p=n;p.source.fromUser?o=J6(e,t,p.path,p.children,i,r,a):(k(p.source.fromServer,"Unknown source."),s=p.source.tagged||t.serverCache.isFiltered(),o=tp(e,t,p.path,p.children,i,r,s,a))}else if(n.type===qe.ACK_USER_WRITE){const p=n;p.revert?o=ty(e,t,p.path,i,r,a):o=X6(e,t,p.path,p.affectedTree,i,r,a)}else if(n.type===qe.LISTEN_COMPLETE)o=Z6(e,t,n.path,i,a);else throw Tr("Unknown operation type: "+n.type);const l=a.getChanges();return Q6(t,o,l),{viewCache:o,changes:l}}function Q6(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Fo(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(Rh(Fo(t)))}}function Nh(e,t,n,i,r,a){const o=t.eventCache;if(zo(i,n)!=null)return t;{let s,l;if(Z(n))if(k(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=Oi(t),d=p instanceof U?p:U.EMPTY_NODE,c=ad(i,d);s=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{const p=Lo(i,Oi(t));s=e.filter.updateFullNode(t.eventCache.getNode(),p,a)}else{const p=X(n);if(p===".priority"){k(oi(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=t.serverCache.getNode();const c=Im(i,n,d,l);c!=null?s=e.filter.updatePriority(d,c):s=o.getNode()}else{const d=Ct(n);let c;if(o.isCompleteForChild(p)){l=t.serverCache.getNode();const m=Im(i,n,o.getNode(),l);m!=null?c=o.getNode().getImmediateChild(p).updateChild(d,m):c=o.getNode().getImmediateChild(p)}else c=od(i,p,t.serverCache);c!=null?s=e.filter.updateChild(o.getNode(),p,c,d,r,a):s=o.getNode()}}return aa(t,s,o.isFullyInitialized()||Z(n),e.filter.filtersNodes())}}function Bo(e,t,n,i,r,a,o,s){const l=t.serverCache;let p;const d=o?e.filter:e.filter.getIndexedFilter();if(Z(n))p=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);p=d.updateFullNode(l.getNode(),f,null)}else{const f=X(n);if(!l.isCompleteForPath(n)&&oi(n)>1)return t;const g=Ct(n),x=l.getNode().getImmediateChild(f).updateChild(g,i);f===".priority"?p=d.updatePriority(l.getNode(),x):p=d.updateChild(l.getNode(),f,x,g,Oh,null)}const c=kh(t,p,l.isFullyInitialized()||Z(n),d.filtersNodes()),m=new sd(r,c,a);return Nh(e,c,n,r,m,s)}function Zl(e,t,n,i,r,a,o){const s=t.eventCache;let l,p;const d=new sd(r,t,a);if(Z(n))p=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=aa(t,p,!0,e.filter.filtersNodes());else{const c=X(n);if(c===".priority")p=e.filter.updatePriority(t.eventCache.getNode(),i),l=aa(t,p,s.isFullyInitialized(),s.isFiltered());else{const m=Ct(n),f=s.getNode().getImmediateChild(c);let g;if(Z(m))g=i;else{const A=d.getCompleteChild(c);A!=null?qp(m)===".priority"&&A.getChild(_h(m)).isEmpty()?g=A:g=A.updateChild(m,i):g=U.EMPTY_NODE}if(f.equals(g))l=t;else{const A=e.filter.updateChild(s.getNode(),c,g,m,d,o);l=aa(t,A,s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Am(e,t){return e.eventCache.isCompleteForChild(t)}function J6(e,t,n,i,r,a,o){let s=t;return i.foreach((l,p)=>{const d=zt(n,l);Am(t,X(d))&&(s=Zl(e,s,d,p,r,a,o))}),i.foreach((l,p)=>{const d=zt(n,l);Am(t,X(d))||(s=Zl(e,s,d,p,r,a,o))}),s}function Dm(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function tp(e,t,n,i,r,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,p;Z(n)?p=i:p=new Rt(null).setTree(n,i);const d=t.serverCache.getNode();return p.children.inorderTraversal((c,m)=>{if(d.hasChild(c)){const f=t.serverCache.getNode().getImmediateChild(c),g=Dm(e,f,m);l=Bo(e,l,new gt(c),g,r,a,o,s)}}),p.children.inorderTraversal((c,m)=>{const f=!t.serverCache.isCompleteForChild(c)&&m.value===void 0;if(!d.hasChild(c)&&!f){const g=t.serverCache.getNode().getImmediateChild(c),A=Dm(e,g,m);l=Bo(e,l,new gt(c),A,r,a,o,s)}}),l}function X6(e,t,n,i,r,a,o){if(zo(r,n)!=null)return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bo(e,t,n,l.getNode().getChild(n),r,a,s,o);if(Z(n)){let p=new Rt(null);return l.getNode().forEachChild(cn,(d,c)=>{p=p.set(new gt(d),c)}),tp(e,t,n,p,r,a,s,o)}else return t}else{let p=new Rt(null);return i.foreach((d,c)=>{const m=zt(n,d);l.isCompleteForPath(m)&&(p=p.set(d,l.getNode().getChild(m)))}),tp(e,t,n,p,r,a,s,o)}}function Z6(e,t,n,i,r){const a=t.serverCache,o=kh(t,a.getNode(),a.isFullyInitialized()||Z(n),a.isFiltered());return Nh(e,o,n,i,Oh,r)}function ty(e,t,n,i,r,a){let o;if(zo(i,n)!=null)return t;{const s=new sd(i,t,r),l=t.eventCache.getNode();let p;if(Z(n)||X(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=Lo(i,Oi(t));else{const c=t.serverCache.getNode();k(c instanceof U,"serverChildren would be complete if leaf node"),d=ad(i,c)}d=d,p=e.filter.updateFullNode(l,d,a)}else{const d=X(n);let c=od(i,d,t.serverCache);c==null&&t.serverCache.isCompleteForChild(d)&&(c=l.getImmediateChild(d)),c!=null?p=e.filter.updateChild(l,d,c,Ct(n),s,a):t.eventCache.getNode().hasChild(d)?p=e.filter.updateChild(l,d,U.EMPTY_NODE,Ct(n),s,a):p=l,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Lo(i,Oi(t)),o.isLeafNode()&&(p=e.filter.updateFullNode(p,o,a)))}return o=t.serverCache.isFullyInitialized()||zo(i,dt())!=null,aa(t,p,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new ed(i.getIndex()),a=h6(i);this.processor_=G6(a);const o=n.serverCache,s=n.eventCache,l=r.updateFullNode(U.EMPTY_NODE,o.getNode(),null),p=a.updateFullNode(U.EMPTY_NODE,s.getNode(),null),d=new si(l,o.isFullyInitialized(),r.filtersNodes()),c=new si(p,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=_s(c,d),this.eventGenerator_=new R6(this.query_)}get query(){return this.query_}}function ny(e){return e.viewCache_.serverCache.getNode()}function iy(e){return Fo(e.viewCache_)}function ry(e,t){const n=Oi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Z(t)&&!n.getImmediateChild(X(t)).isEmpty())?n.getChild(t):null}function Pm(e){return e.eventRegistrations_.length===0}function ay(e,t){e.eventRegistrations_.push(t)}function Om(e,t,n){const i=[];if(n){k(t==null,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(a=>{const o=a.createCancelEvent(n,r);o&&i.push(o)})}if(t){let r=[];for(let a=0;a<e.eventRegistrations_.length;++a){const o=e.eventRegistrations_[a];if(!o.matches(t))r.push(o);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function Nm(e,t,n,i){t.type===qe.MERGE&&t.source.queryId!==null&&(k(Oi(e.viewCache_),"We should always have a full cache before handling merges"),k(Fo(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,a=q6(e.processor_,r,t,n,i);return K6(e.processor_,a.viewCache),k(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Mh(e,a.changes,a.viewCache.eventCache.getNode(),null)}function oy(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(kt,(a,o)=>{i.push(br(a,o))}),n.isFullyInitialized()&&i.push(Rh(n.getNode())),Mh(e,i,n.getNode(),t)}function Mh(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return k6(e.eventGenerator_,t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo;class Fh{constructor(){this.views=new Map}}function sy(e){k(!Yo,"__referenceConstructor has already been defined"),Yo=e}function ly(){return k(Yo,"Reference.ts has not been loaded"),Yo}function py(e){return e.views.size===0}function ld(e,t,n,i){const r=t.source.queryId;if(r!==null){const a=e.views.get(r);return k(a!=null,"SyncTree gave us an op for an invalid query."),Nm(a,t,n,i)}else{let a=[];for(const o of e.views.values())a=a.concat(Nm(o,t,n,i));return a}}function pd(e,t,n,i,r){const a=t._queryIdentifier,o=e.views.get(a);if(!o){let s=Lo(n,r?i:null),l=!1;s?l=!0:i instanceof U?(s=ad(n,i),l=!1):(s=U.EMPTY_NODE,l=!1);const p=_s(new si(s,l,!1),new si(i,r,!1));return new ey(t,p)}return o}function dy(e,t,n,i,r,a){const o=pd(e,t,i,r,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),ay(o,n),oy(o,n)}function cy(e,t,n,i){const r=t._queryIdentifier,a=[];let o=[];const s=li(e);if(r==="default")for(const[l,p]of e.views.entries())o=o.concat(Om(p,n,i)),Pm(p)&&(e.views.delete(l),p.query._queryParams.loadsAllData()||a.push(p.query));else{const l=e.views.get(r);l&&(o=o.concat(Om(l,n,i)),Pm(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||a.push(l.query)))}return s&&!li(e)&&a.push(new(ly())(t._repo,t._path)),{removed:a,events:o}}function Lh(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Jn(e,t){let n=null;for(const i of e.views.values())n=n||ry(i,t);return n}function zh(e,t){if(t._queryParams.loadsAllData())return bs(e);{const i=t._queryIdentifier;return e.views.get(i)}}function Bh(e,t){return zh(e,t)!=null}function li(e){return bs(e)!=null}function bs(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo;function my(e){k(!jo,"__referenceConstructor has already been defined"),jo=e}function uy(){return k(jo,"Reference.ts has not been loaded"),jo}let fy=1;class Mm{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Rt(null),this.pendingWriteTree_=W6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dd(e,t,n,i,r){return D6(e.pendingWriteTree_,t,n,i,r),r?Dr(e,new Pi(nd(),t,n)):[]}function hy(e,t,n,i){P6(e.pendingWriteTree_,t,n,i);const r=Rt.fromObject(n);return Dr(e,new vr(nd(),t,r))}function Wn(e,t,n=!1){const i=O6(e.pendingWriteTree_,t);if(N6(e.pendingWriteTree_,t)){let a=new Rt(null);return i.snap!=null?a=a.set(dt(),!0):Xt(i.children,o=>{a=a.set(new gt(o),!0)}),Dr(e,new Mo(i.path,a,n))}else return[]}function Na(e,t,n){return Dr(e,new Pi(id(),t,n))}function gy(e,t,n){const i=Rt.fromObject(n);return Dr(e,new vr(id(),t,i))}function _y(e,t){return Dr(e,new Ca(id(),t))}function xy(e,t,n){const i=cd(e,n);if(i){const r=md(i),a=r.path,o=r.queryId,s=oe(a,t),l=new Ca(rd(o),s);return ud(e,a,l)}else return[]}function $o(e,t,n,i){const r=t._path,a=e.syncPointTree_.get(r);let o=[];if(a&&(t._queryIdentifier==="default"||Bh(a,t))){const s=cy(a,t,n,i);py(a)&&(e.syncPointTree_=e.syncPointTree_.remove(r));const l=s.removed;o=s.events;const p=l.findIndex(c=>c._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(r,(c,m)=>li(m));if(p&&!d){const c=e.syncPointTree_.subtree(r);if(!c.isEmpty()){const m=wy(c);for(let f=0;f<m.length;++f){const g=m[f],A=g.query,x=Uh(e,g);e.listenProvider_.startListening(sa(A),Ea(e,A),x.hashFn,x.onComplete)}}}!d&&l.length>0&&!i&&(p?e.listenProvider_.stopListening(sa(t),null):l.forEach(c=>{const m=e.queryToTagMap.get(ys(c));e.listenProvider_.stopListening(sa(c),m)})),Cy(e,l)}return o}function by(e,t){const{syncPoint:n,serverCache:i,writesCache:r,serverCacheComplete:a}=jh(t,e),o=pd(n,t,r,i,a);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),t._queryParams.loadsAllData()?null:Ea(e,t)}function Yh(e,t,n,i){const r=cd(e,i);if(r!=null){const a=md(r),o=a.path,s=a.queryId,l=oe(o,t),p=new Pi(rd(s),l,n);return ud(e,o,p)}else return[]}function vy(e,t,n,i){const r=cd(e,i);if(r){const a=md(r),o=a.path,s=a.queryId,l=oe(o,t),p=Rt.fromObject(n),d=new vr(rd(s),l,p);return ud(e,o,d)}else return[]}function jh(e,t){const n=e._path;let i=null,r=!1;t.syncPointTree_.foreachOnPath(n,(p,d)=>{const c=oe(p,n);i=i||Jn(d,c),r=r||li(d)});let a=t.syncPointTree_.get(n);a?(r=r||li(a),i=i||Jn(a,dt())):(a=new Fh,t.syncPointTree_=t.syncPointTree_.set(n,a));let o;i!=null?o=!0:(o=!1,i=U.EMPTY_NODE,t.syncPointTree_.subtree(n).foreachChild((d,c)=>{const m=Jn(c,dt());m&&(i=i.updateImmediateChild(d,m))}));const s=Bh(a,e);if(!s&&!e._queryParams.loadsAllData()){const p=ys(e);k(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const d=Ey();t.queryToTagMap.set(p,d),t.tagToQueryMap.set(d,p)}const l=xs(t.pendingWriteTree_,n);return{syncPoint:a,writesCache:l,serverCache:i,serverCacheComplete:o,foundAncestorDefaultView:r,viewAlreadyExists:s}}function Fm(e,t,n){const{syncPoint:i,serverCache:r,writesCache:a,serverCacheComplete:o,viewAlreadyExists:s,foundAncestorDefaultView:l}=jh(t,e);let p=dy(i,t,n,a,r,o);if(!s&&!l){const d=zh(i,t);p=p.concat(Sy(e,t,d))}return p}function vs(e,t,n){const r=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(o,s)=>{const l=oe(o,t),p=Jn(s,l);if(p)return p});return Ah(r,t,a,n,!0)}function yy(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(p,d)=>{const c=oe(p,n);i=i||Jn(d,c)});let r=e.syncPointTree_.get(n);r?i=i||Jn(r,dt()):(r=new Fh,e.syncPointTree_=e.syncPointTree_.set(n,r));const a=i!=null,o=a?new si(i,!0,!1):null,s=xs(e.pendingWriteTree_,t._path),l=pd(r,t,s,a?o.getNode():U.EMPTY_NODE,a);return iy(l)}function Dr(e,t){return $h(t,e.syncPointTree_,null,xs(e.pendingWriteTree_,dt()))}function $h(e,t,n,i){if(Z(e.path))return Wh(e,t,n,i);{const r=t.get(dt());n==null&&r!=null&&(n=Jn(r,dt()));let a=[];const o=X(e.path),s=e.operationForChild(o),l=t.children.get(o);if(l&&s){const p=n?n.getImmediateChild(o):null,d=Dh(i,o);a=a.concat($h(s,l,p,d))}return r&&(a=a.concat(ld(r,e,i,n))),a}}function Wh(e,t,n,i){const r=t.get(dt());n==null&&r!=null&&(n=Jn(r,dt()));let a=[];return t.children.inorderTraversal((o,s)=>{const l=n?n.getImmediateChild(o):null,p=Dh(i,o),d=e.operationForChild(o);d&&(a=a.concat(Wh(d,s,l,p)))}),r&&(a=a.concat(ld(r,e,i,n))),a}function Uh(e,t){const n=t.query,i=Ea(e,n);return{hashFn:()=>(ny(t)||U.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?xy(e,n._path,i):_y(e,n._path);{const a=h2(r,n);return $o(e,n,null,a)}}}}function Ea(e,t){const n=ys(t);return e.queryToTagMap.get(n)}function ys(e){return e._path.toString()+"$"+e._queryIdentifier}function cd(e,t){return e.tagToQueryMap.get(t)}function md(e){const t=e.indexOf("$");return k(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new gt(e.substr(0,t))}}function ud(e,t,n){const i=e.syncPointTree_.get(t);k(i,"Missing sync point for query tag that we're tracking");const r=xs(e.pendingWriteTree_,t);return ld(i,n,r,null)}function wy(e){return e.fold((t,n,i)=>{if(n&&li(n))return[bs(n)];{let r=[];return n&&(r=Lh(n)),Xt(i,(a,o)=>{r=r.concat(o)}),r}})}function sa(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(uy())(e._repo,e._path):e}function Cy(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const r=ys(i),a=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(a)}}}function Ey(){return fy++}function Sy(e,t,n){const i=t._path,r=Ea(e,t),a=Uh(e,n),o=e.listenProvider_.startListening(sa(t),r,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(i);if(r)k(!li(s.value),"If we're adding a query, it shouldn't be shadowed");else{const l=s.fold((p,d,c)=>{if(!Z(p)&&d&&li(d))return[bs(d).query];{let m=[];return d&&(m=m.concat(Lh(d).map(f=>f.query))),Xt(c,(f,g)=>{m=m.concat(g)}),m}});for(let p=0;p<l.length;++p){const d=l[p];e.listenProvider_.stopListening(sa(d),Ea(e,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new fd(n)}node(){return this.node_}}class hd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=zt(this.path_,t);return new hd(this.syncTree_,n)}node(){return vs(this.syncTree_,this.path_)}}const Ry=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Lm=function(e,t,n){if(!e||typeof e!="object")return e;if(k(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return ky(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Ty(e[".sv"],t);k(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},ky=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:k(!1,"Unexpected server value: "+e)}},Ty=function(e,t,n){e.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&k(!1,"Unexpected increment value: "+i);const r=t.node();if(k(r!==null&&typeof r!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},Hh=function(e,t,n,i){return _d(t,new hd(n,e),i)},gd=function(e,t,n){return _d(e,new fd(t),n)};function _d(e,t,n){const i=e.getPriority().val(),r=Lm(i,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const o=e,s=Lm(o.getValue(),t,n);return s!==o.getValue()||r!==o.getPriority().val()?new Kt(s,Yt(r)):e}else{const o=e;return a=o,r!==o.getPriority().val()&&(a=a.updatePriority(new Kt(r))),o.forEachChild(kt,(s,l)=>{const p=_d(l,t.getImmediateChild(s),n);p!==l&&(a=a.updateImmediateChild(s,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function ws(e,t){let n=t instanceof gt?t:new gt(t),i=e,r=X(n);for(;r!==null;){const a=Ai(i.node.children,r)||{children:{},childCount:0};i=new xd(r,i,a),n=Ct(n),r=X(n)}return i}function Yi(e){return e.node.value}function bd(e,t){e.node.value=t,ep(e)}function Vh(e){return e.node.childCount>0}function Iy(e){return Yi(e)===void 0&&!Vh(e)}function Cs(e,t){Xt(e.node.children,(n,i)=>{t(new xd(n,e,i))})}function Gh(e,t,n,i){n&&!i&&t(e),Cs(e,r=>{Gh(r,t,!0,i)}),n&&i&&t(e)}function Ay(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ma(e){return new gt(e.parent===null?e.name:Ma(e.parent)+"/"+e.name)}function ep(e){e.parent!==null&&Dy(e.parent,e.name,e)}function Dy(e,t,n){const i=Iy(n),r=Re(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,ep(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,ep(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=/[\[\].#$\/\u0000-\u001F\u007F]/,Oy=/[\[\].#$\u0000-\u001F\u007F]/,ul=10*1024*1024,Es=function(e){return typeof e=="string"&&e.length!==0&&!Py.test(e)},Kh=function(e){return typeof e=="string"&&e.length!==0&&!Oy.test(e)},Ny=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Kh(e)},Sa=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!us(e)||e&&typeof e=="object"&&Re(e,".sv")},hn=function(e,t,n,i){i&&t===void 0||Fa(fe(e,"value"),t,n)},Fa=function(e,t,n){const i=n instanceof gt?new G2(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+_i(i));if(typeof t=="function")throw new Error(e+"contains a function "+_i(i)+" with contents = "+t.toString());if(us(t))throw new Error(e+"contains "+t.toString()+" "+_i(i));if(typeof t=="string"&&t.length>ul/3&&cs(t)>ul)throw new Error(e+"contains a string greater than "+ul+" utf8 bytes "+_i(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,a=!1;if(Xt(t,(o,s)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!Es(o)))throw new Error(e+" contains an invalid key ("+o+") "+_i(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);K2(i,o),Fa(e,s,i),q2(i)}),r&&a)throw new Error(e+' contains ".value" child '+_i(i)+" in addition to actual children.")}},My=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const a=ba(i);for(let o=0;o<a.length;o++)if(!(a[o]===".priority"&&o===a.length-1)){if(!Es(a[o]))throw new Error(e+"contains an invalid key ("+a[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(V2);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&Me(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},qh=function(e,t,n,i){if(i&&t===void 0)return;const r=fe(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const a=[];Xt(t,(o,s)=>{const l=new gt(o);if(Fa(r,s,zt(n,l)),qp(l)===".priority"&&!Sa(s))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(l)}),My(r,a)},vd=function(e,t,n){if(!(n&&t===void 0)){if(us(t))throw new Error(fe(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sa(t))throw new Error(fe(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},La=function(e,t,n,i){if(!(i&&n===void 0)&&!Es(n))throw new Error(fe(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ra=function(e,t,n,i){if(!(i&&n===void 0)&&!Kh(n))throw new Error(fe(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Fy=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ra(e,t,n,i)},Fe=function(e,t){if(X(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Qh=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Es(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ny(n))throw new Error(fe(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ss(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],a=r.getPath();n!==null&&!Qp(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(r)}n&&e.eventLists_.push(n)}function Jh(e,t,n){Ss(e,n),Xh(e,i=>Qp(i,t))}function Ye(e,t,n){Ss(e,n),Xh(e,i=>Me(i,t)||Me(t,i))}function Xh(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const a=r.path;t(a)?(zy(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function zy(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();ki&&Jt("event: "+n.toString()),Ir(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="repo_interrupt",By=25;class Yy{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ly,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=No(),this.transactionQueueTree_=new xd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jy(e,t,n){if(e.stats_=Gp(e.repoInfo_),e.forceRestClient_||_2())e.server_=new Oo(e.repoInfo_,(i,r,a,o)=>{zm(e,i,r,a,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Bm(e,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ht(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Rn(e.repoInfo_,t,(i,r,a,o)=>{zm(e,i,r,a,o)},i=>{Bm(e,i)},i=>{$y(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=w2(e.repoInfo_,()=>new S6(e.stats_,e.server_)),e.infoData_=new v6,e.infoSyncTree_=new Mm({startListening:(i,r,a,o)=>{let s=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(s=Na(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),s},stopListening:()=>{}}),yd(e,"connected",!1),e.serverSyncTree_=new Mm({startListening:(i,r,a,o)=>(e.server_.listen(i,a,r,(s,l)=>{const p=o(s,l);Ye(e.eventQueue_,i._path,p)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function tg(e){const n=e.infoData_.getNode(new gt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function za(e){return Ry({timestamp:tg(e)})}function zm(e,t,n,i,r){e.dataUpdateCount++;const a=new gt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const l=ko(n,p=>Yt(p));o=vy(e.serverSyncTree_,a,l,r)}else{const l=Yt(n);o=Yh(e.serverSyncTree_,a,l,r)}else if(i){const l=ko(n,p=>Yt(p));o=gy(e.serverSyncTree_,a,l)}else{const l=Yt(n);o=Na(e.serverSyncTree_,a,l)}let s=a;o.length>0&&(s=wr(e,a)),Ye(e.eventQueue_,s,o)}function Bm(e,t){yd(e,"connected",t),t===!1&&Hy(e)}function $y(e,t){Xt(t,(n,i)=>{yd(e,n,i)})}function yd(e,t,n){const i=new gt("/.info/"+t),r=Yt(n);e.infoData_.updateSnapshot(i,r);const a=Na(e.infoSyncTree_,i,r);Ye(e.eventQueue_,i,a)}function Rs(e){return e.nextWriteId_++}function Wy(e,t){const n=yy(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(i=>{const r=Yt(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())Na(e.serverSyncTree_,t._path,r);else{const o=by(e.serverSyncTree_,t);Yh(e.serverSyncTree_,t._path,r,o)}return $o(e.serverSyncTree_,t,null).length>0&&Ni(e,"unexpected cancel events in repoGetValue"),r},i=>(Ni(e,"get for query "+Ht(t)+" failed: "+i),Promise.reject(new Error(i))))}function wd(e,t,n,i,r){Ni(e,"set",{path:t.toString(),value:n,priority:i});const a=za(e),o=Yt(n,i),s=vs(e.serverSyncTree_,t),l=gd(o,s,a),p=Rs(e),d=dd(e.serverSyncTree_,t,l,p,!0);Ss(e.eventQueue_,d),e.server_.put(t.toString(),o.val(!0),(m,f)=>{const g=m==="ok";g||ee("set at "+t+" failed: "+m);const A=Wn(e.serverSyncTree_,p,!g);Ye(e.eventQueue_,t,A),pi(e,r,m,f)});const c=Ed(e,t);wr(e,c),Ye(e.eventQueue_,c,[])}function Uy(e,t,n,i){Ni(e,"update",{path:t.toString(),value:n});let r=!0;const a=za(e),o={};if(Xt(n,(s,l)=>{r=!1,o[s]=Hh(zt(t,s),Yt(l),e.serverSyncTree_,a)}),r)Jt("update() called with empty data.  Don't do anything."),pi(e,i,"ok",void 0);else{const s=Rs(e),l=hy(e.serverSyncTree_,t,o,s);Ss(e.eventQueue_,l),e.server_.merge(t.toString(),n,(p,d)=>{const c=p==="ok";c||ee("update at "+t+" failed: "+p);const m=Wn(e.serverSyncTree_,s,!c),f=m.length>0?wr(e,t):t;Ye(e.eventQueue_,f,m),pi(e,i,p,d)}),Xt(n,p=>{const d=Ed(e,zt(t,p));wr(e,d)}),Ye(e.eventQueue_,t,[])}}function Hy(e){Ni(e,"onDisconnectEvents");const t=za(e),n=No();ql(e.onDisconnect_,dt(),(r,a)=>{const o=Hh(r,a,e.serverSyncTree_,t);Ar(n,r,o)});let i=[];ql(n,dt(),(r,a)=>{i=i.concat(Na(e.serverSyncTree_,r,a));const o=Ed(e,r);wr(e,o)}),e.onDisconnect_=No(),Ye(e.eventQueue_,dt(),i)}function Vy(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&Kl(e.onDisconnect_,t),pi(e,n,i,r)})}function Ym(e,t,n,i){const r=Yt(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(a,o)=>{a==="ok"&&Ar(e.onDisconnect_,t,r),pi(e,i,a,o)})}function Gy(e,t,n,i,r){const a=Yt(n,i);e.server_.onDisconnectPut(t.toString(),a.val(!0),(o,s)=>{o==="ok"&&Ar(e.onDisconnect_,t,a),pi(e,r,o,s)})}function Ky(e,t,n,i){if(Fl(n)){Jt("onDisconnect().update() called with empty data.  Don't do anything."),pi(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,a)=>{r==="ok"&&Xt(n,(o,s)=>{const l=Yt(s);Ar(e.onDisconnect_,zt(t,o),l)}),pi(e,i,r,a)})}function qy(e,t,n){let i;X(t._path)===".info"?i=Fm(e.infoSyncTree_,t,n):i=Fm(e.serverSyncTree_,t,n),Jh(e.eventQueue_,t._path,i)}function np(e,t,n){let i;X(t._path)===".info"?i=$o(e.infoSyncTree_,t,n):i=$o(e.serverSyncTree_,t,n),Jh(e.eventQueue_,t._path,i)}function eg(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Zh)}function Qy(e){e.persistentConnection_&&e.persistentConnection_.resume(Zh)}function Ni(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Jt(n,...t)}function pi(e,t,n,i){t&&Ir(()=>{if(n==="ok")t(null);else{const r=(n||"error").toUpperCase();let a=r;i&&(a+=": "+i);const o=new Error(a);o.code=r,t(o)}})}function Jy(e,t,n,i,r,a){Ni(e,"transaction on "+t);const o={path:t,update:n,onComplete:i,status:null,order:Gf(),applyLocally:a,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Cd(e,t,void 0);o.currentInputSnapshot=s;const l=o.update(s.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Fa("transaction failed: Data returned ",l,o.path),o.status=0;const p=ws(e.transactionQueueTree_,t),d=Yi(p)||[];d.push(o),bd(p,d);let c;typeof l=="object"&&l!==null&&Re(l,".priority")?(c=Ai(l,".priority"),k(Sa(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(vs(e.serverSyncTree_,t)||U.EMPTY_NODE).getPriority().val();const m=za(e),f=Yt(l,c),g=gd(f,s,m);o.currentOutputSnapshotRaw=f,o.currentOutputSnapshotResolved=g,o.currentWriteId=Rs(e);const A=dd(e.serverSyncTree_,t,g,o.currentWriteId,o.applyLocally);Ye(e.eventQueue_,t,A),ks(e,e.transactionQueueTree_)}}function Cd(e,t,n){return vs(e.serverSyncTree_,t,n)||U.EMPTY_NODE}function ks(e,t=e.transactionQueueTree_){if(t||Ts(e,t),Yi(t)){const n=ig(e,t);k(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&Xy(e,Ma(t),n)}else Vh(t)&&Cs(t,n=>{ks(e,n)})}function Xy(e,t,n){const i=n.map(p=>p.currentWriteId),r=Cd(e,t,i);let a=r;const o=r.hash();for(let p=0;p<n.length;p++){const d=n[p];k(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=oe(t,d.path);a=a.updateChild(c,d.currentOutputSnapshotRaw)}const s=a.val(!0),l=t;e.server_.put(l.toString(),s,p=>{Ni(e,"transaction put response",{path:l.toString(),status:p});let d=[];if(p==="ok"){const c=[];for(let m=0;m<n.length;m++)n[m].status=2,d=d.concat(Wn(e.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&c.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();Ts(e,ws(e.transactionQueueTree_,t)),ks(e,e.transactionQueueTree_),Ye(e.eventQueue_,t,d);for(let m=0;m<c.length;m++)Ir(c[m])}else{if(p==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{ee("transaction at "+l.toString()+" failed: "+p);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=p}wr(e,t)}},o)}function wr(e,t){const n=ng(e,t),i=Ma(n),r=ig(e,n);return Zy(e,r,i),i}function Zy(e,t,n){if(t.length===0)return;const i=[];let r=[];const o=t.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<t.length;s++){const l=t[s],p=oe(n,l.path);let d=!1,c;if(k(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,c=l.abortReason,r=r.concat(Wn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=By)d=!0,c="maxretry",r=r.concat(Wn(e.serverSyncTree_,l.currentWriteId,!0));else{const m=Cd(e,l.path,o);l.currentInputSnapshot=m;const f=t[s].update(m.val());if(f!==void 0){Fa("transaction failed: Data returned ",f,l.path);let g=Yt(f);typeof f=="object"&&f!=null&&Re(f,".priority")||(g=g.updatePriority(m.getPriority()));const x=l.currentWriteId,v=za(e),P=gd(g,m,v);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=P,l.currentWriteId=Rs(e),o.splice(o.indexOf(x),1),r=r.concat(dd(e.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),r=r.concat(Wn(e.serverSyncTree_,x,!0))}else d=!0,c="nodata",r=r.concat(Wn(e.serverSyncTree_,l.currentWriteId,!0))}Ye(e.eventQueue_,n,r),r=[],d&&(t[s].status=2,function(m){setTimeout(m,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&(c==="nodata"?i.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):i.push(()=>t[s].onComplete(new Error(c),!1,null))))}Ts(e,e.transactionQueueTree_);for(let s=0;s<i.length;s++)Ir(i[s]);ks(e,e.transactionQueueTree_)}function ng(e,t){let n,i=e.transactionQueueTree_;for(n=X(t);n!==null&&Yi(i)===void 0;)i=ws(i,n),t=Ct(t),n=X(t);return i}function ig(e,t){const n=[];return rg(e,t,n),n.sort((i,r)=>i.order-r.order),n}function rg(e,t,n){const i=Yi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Cs(t,r=>{rg(e,r,n)})}function Ts(e,t){const n=Yi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,bd(t,n.length>0?n:void 0)}Cs(t,i=>{Ts(e,i)})}function Ed(e,t){const n=Ma(ng(e,t)),i=ws(e.transactionQueueTree_,t);return Ay(i,r=>{fl(e,r)}),fl(e,i),Gh(i,r=>{fl(e,r)}),n}function fl(e,t){const n=Yi(t);if(n){const i=[];let r=[],a=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(k(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(k(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Wn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?bd(t,void 0):n.length=a+1,Ye(e.eventQueue_,Ma(t),r);for(let o=0;o<i.length;o++)Ir(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function e3(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ee(`Invalid query segment '${n}' in query '${e}'`)}return t}const ip=function(e,t){const n=n3(e),i=n.namespace;n.domain==="firebase.com"&&un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||d2();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lh(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new gt(n.pathString)}},n3=function(e){let t="",n="",i="",r="",a="",o=!0,s="https",l=443;if(typeof e=="string"){let p=e.indexOf("//");p>=0&&(s=e.substring(0,p-1),e=e.substring(p+2));let d=e.indexOf("/");d===-1&&(d=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(d,c)),d<c&&(r=t3(e.substring(d,c)));const m=e3(e.substring(Math.min(e.length,c)));p=t.indexOf(":"),p>=0?(o=s==="https"||s==="wss",l=parseInt(t.substring(p+1),10)):p=t.length;const f=t.slice(0,p);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const g=t.indexOf(".");i=t.substring(0,g).toLowerCase(),n=t.substring(g+1),a=i}"ns"in m&&(a=m.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:s,pathString:r,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ht(this.snapshot.exportVal())}}class og{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new me;return Vy(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Fe("OnDisconnect.remove",this._path);const t=new me;return Ym(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Fe("OnDisconnect.set",this._path),hn("OnDisconnect.set",t,this._path,!1);const n=new me;return Ym(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Fe("OnDisconnect.setWithPriority",this._path),hn("OnDisconnect.setWithPriority",t,this._path,!1),vd("OnDisconnect.setWithPriority",n,!1);const i=new me;return Gy(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){Fe("OnDisconnect.update",this._path),qh("OnDisconnect.update",t,this._path,!1);const n=new me;return Ky(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Z(this._path)?null:qp(this._path)}get ref(){return new $e(this._repo,this._path)}get _queryIdentifier(){const t=Sm(this._queryParams),n=Up(t);return n==="{}"?"default":n}get _queryObject(){return Sm(this._queryParams)}isEqual(t){if(t=ke(t),!(t instanceof he))return!1;const n=this._repo===t._repo,i=Qp(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+H2(this._path)}}function Is(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function di(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===cn){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==In)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==fn)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===kt){if(t!=null&&!Sa(t)||n!=null&&!Sa(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(k(e.getIndex()instanceof Zp||e.getIndex()===td,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function As(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class $e extends he{constructor(t,n){super(t,n,new hs,!1)}get parent(){const t=_h(this._path);return t===null?null:new $e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Mi{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new gt(t),i=Fi(this.ref,t);return new Mi(this._node.getChild(n),i,kt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new Mi(r,Fi(this.ref,i),kt)))}hasChild(t){const n=new gt(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function lg(e,t){return e=ke(e),e._checkNotDeleted("ref"),t!==void 0?Fi(e._root,t):e._root}function jm(e,t){e=ke(e),e._checkNotDeleted("refFromURL");const n=ip(t,e._repo.repoInfo_.nodeAdmin);Qh("refFromURL",n);const i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&un("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),lg(e,n.path.toString())}function Fi(e,t){return e=ke(e),X(e._path)===null?Fy("child","path",t,!1):Ra("child","path",t,!1),new $e(e._repo,zt(e._path,t))}function r3(e,t){e=ke(e),Fe("push",e._path),hn("push",t,e._path,!0);const n=tg(e._repo),i=m6(n),r=Fi(e,i),a=Fi(e,i);let o;return t!=null?o=Sd(a,t).then(()=>a):o=Promise.resolve(a),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function a3(e){return Fe("remove",e._path),Sd(e,null)}function Sd(e,t){e=ke(e),Fe("set",e._path),hn("set",t,e._path,!1);const n=new me;return wd(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function o3(e,t){e=ke(e),Fe("setPriority",e._path),vd("setPriority",t,!1);const n=new me;return wd(e._repo,zt(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function s3(e,t,n){if(Fe("setWithPriority",e._path),hn("setWithPriority",t,e._path,!1),vd("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new me;return wd(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function l3(e,t){qh("update",t,e._path,!1);const n=new me;return Uy(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function p3(e){return e=ke(e),Wy(e._repo,e).then(t=>new Mi(t,new $e(e._repo,e._path),e._queryParams.getIndex()))}class Ds{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new ag("value",this,new Mi(t.snapshotNode,new $e(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new og(this,t,n):null}matches(t){return t instanceof Ds?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ps{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new og(this,t,n):null}createEvent(t,n){k(t.childName!=null,"Child events should have a childName.");const i=Fi(new $e(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new ag(t.type,this,new Mi(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ps?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ba(e,t,n,i,r){let a;if(typeof i=="object"&&(a=void 0,r=i),typeof i=="function"&&(a=i),r&&r.onlyOnce){const l=n,p=(d,c)=>{np(e._repo,e,s),l(d,c)};p.userCallback=n.userCallback,p.context=n.context,n=p}const o=new sg(n,a||void 0),s=t==="value"?new Ds(o):new Ps(t,o);return qy(e._repo,e,s),()=>np(e._repo,e,s)}function rp(e,t,n,i){return Ba(e,"value",t,n,i)}function $m(e,t,n,i){return Ba(e,"child_added",t,n,i)}function Wm(e,t,n,i){return Ba(e,"child_changed",t,n,i)}function Um(e,t,n,i){return Ba(e,"child_moved",t,n,i)}function Hm(e,t,n,i){return Ba(e,"child_removed",t,n,i)}function Vm(e,t,n){let i=null;const r=n?new sg(n):null;t==="value"?i=new Ds(r):t&&(i=new Ps(t,r)),np(e._repo,e,i)}class nn{}class pg extends nn{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){hn("endAt",this._value,t._path,!0);const n=Gl(t._queryParams,this._value,this._key);if(As(n),di(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new he(t._repo,t._path,n,t._orderByCalled)}}function d3(e,t){return La("endAt","key",t,!0),new pg(e,t)}class c3 extends nn{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){hn("endBefore",this._value,t._path,!1);const n=b6(t._queryParams,this._value,this._key);if(As(n),di(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new he(t._repo,t._path,n,t._orderByCalled)}}function m3(e,t){return La("endBefore","key",t,!0),new c3(e,t)}class dg extends nn{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){hn("startAt",this._value,t._path,!0);const n=Vl(t._queryParams,this._value,this._key);if(As(n),di(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new he(t._repo,t._path,n,t._orderByCalled)}}function u3(e=null,t){return La("startAt","key",t,!0),new dg(e,t)}class f3 extends nn{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){hn("startAfter",this._value,t._path,!1);const n=x6(t._queryParams,this._value,this._key);if(As(n),di(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new he(t._repo,t._path,n,t._orderByCalled)}}function h3(e,t){return La("startAfter","key",t,!0),new f3(e,t)}class g3 extends nn{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new he(t._repo,t._path,g6(t._queryParams,this._limit),t._orderByCalled)}}function _3(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new g3(e)}class x3 extends nn{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new he(t._repo,t._path,_6(t._queryParams,this._limit),t._orderByCalled)}}function b3(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new x3(e)}class v3 extends nn{constructor(t){super(),this._path=t}_apply(t){Is(t,"orderByChild");const n=new gt(this._path);if(Z(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Zp(n),r=gs(t._queryParams,i);return di(r),new he(t._repo,t._path,r,!0)}}function y3(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ra("orderByChild","path",e,!1),new v3(e)}class w3 extends nn{_apply(t){Is(t,"orderByKey");const n=gs(t._queryParams,cn);return di(n),new he(t._repo,t._path,n,!0)}}function C3(){return new w3}class E3 extends nn{_apply(t){Is(t,"orderByPriority");const n=gs(t._queryParams,kt);return di(n),new he(t._repo,t._path,n,!0)}}function S3(){return new E3}class R3 extends nn{_apply(t){Is(t,"orderByValue");const n=gs(t._queryParams,td);return di(n),new he(t._repo,t._path,n,!0)}}function k3(){return new R3}class T3 extends nn{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(hn("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pg(this._value,this._key)._apply(new dg(this._value,this._key)._apply(t))}}function I3(e,t){return La("equalTo","key",t,!0),new T3(e,t)}function Ve(e,...t){let n=ke(e);for(const i of t)n=i._apply(n);return n}sy($e);my($e);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="FIREBASE_DATABASE_EMULATOR_HOST",ap={};let D3=!1;function P3(e,t,n,i){e.repoInfo_=new lh(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),i&&(e.authTokenProvider_=i)}function cg(e,t,n,i,r){let a=i||e.options.databaseURL;a===void 0&&(e.options.projectId||un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jt("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=ip(a,r),s=o.repoInfo,l,p;typeof process!="undefined"&&process.env&&(p=process.env[A3]),p?(l=!0,a=`http://${p}?ns=${s.namespace}`,o=ip(a,r),s=o.repoInfo):l=!o.repoInfo.secure;const d=r&&l?new or(or.OWNER):new b2(e.name,e.options,t);Qh("Invalid Firebase Database URL",o),Z(o.path)||un("Database URL must point to the root of a Firebase Database (not including a child path).");const c=N3(s,e,d,new x2(e.name,n));return new M3(c,e)}function O3(e,t){const n=ap[t];(!n||n[e.key]!==e)&&un(`Database ${t}(${e.repoInfo_}) has already been deleted.`),eg(e),delete n[e.key]}function N3(e,t,n,i){let r=ap[t.name];r||(r={},ap[t.name]=r);let a=r[e.toURLString()];return a&&un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Yy(e,D3,n,i),r[e.toURLString()]=a,a}class M3{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jy(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $e(this._repo,dt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(O3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&un("Cannot call "+t+" on a deleted database.")}}function mg(){_r.IS_TRANSPORT_INITIALIZED&&ee("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function F3(){mg(),$n.forceDisallow()}function L3(){mg(),Ne.forceDisallow(),$n.forceAllow()}function z3(e,t,n,i={}){e=ke(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&un("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new or(or.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:Tb(i.mockUserToken,e.app.options.projectId);a=new or(o)}P3(r,t,n,a)}function B3(e){e=ke(e),e._checkNotDeleted("goOffline"),eg(e._repo)}function Y3(e){e=ke(e),e._checkNotDeleted("goOnline"),Qy(e._repo)}function j3(e,t){qf(e,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(e){Hf(Wp),gr(new ii("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return cg(i,r,a,n)},"PUBLIC").setMultipleInstances(!0)),qn(sm,lm,e),qn(sm,lm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3={".sv":"timestamp"};function U3(){return W3}function H3(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function G3(e,t,n){var i;if(e=ke(e),Fe("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=(i=n==null?void 0:n.applyLocally)!==null&&i!==void 0?i:!0,a=new me,o=(l,p,d)=>{let c=null;l?a.reject(l):(c=new Mi(d,new $e(e._repo,e._path),kt),a.resolve(new V3(p,c)))},s=rp(e,()=>{});return Jy(e._repo,e._path,t,o,s,r),a.promise}Rn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Rn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};$3();const K3="@firebase/database-compat",q3="0.2.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new ms("@firebase/database-compat"),ug=function(e){const t="FIREBASE WARNING: "+e;Q3.warn(t)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(fe(e,t)+"must be a boolean.")},X3=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(fe(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t){this._delegate=t}cancel(t){V("OnDisconnect.cancel",0,1,arguments.length),qt("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){V("OnDisconnect.remove",0,1,arguments.length),qt("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){V("OnDisconnect.set",1,2,arguments.length),qt("OnDisconnect.set","onComplete",n,!0);const i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){V("OnDisconnect.setWithPriority",2,3,arguments.length),qt("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),a=>i(a)),r}update(t,n){if(V("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,ug("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qt("OnDisconnect.update","onComplete",n,!0);const i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return V("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,n){this._database=t,this._delegate=n}val(){return V("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return V("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return V("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return V("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return V("DataSnapshot.child",0,1,arguments.length),t=String(t),Ra("DataSnapshot.child","path",t,!1),new Xn(this._database,this._delegate.child(t))}hasChild(t){return V("DataSnapshot.hasChild",1,1,arguments.length),Ra("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return V("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return V("DataSnapshot.forEach",1,1,arguments.length),qt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new Xn(this._database,n)))}hasChildren(){return V("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return V("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return V("DataSnapshot.ref",0,0,arguments.length),new ye(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Zt{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var a;V("Query.on",2,4,arguments.length),qt("Query.on","callback",n,!1);const o=Zt.getCancelAndContextArgs_("Query.on",i,r),s=(p,d)=>{n.call(o.context,new Xn(this.database,p),d)};s.userCallback=n,s.context=o.context;const l=(a=o.cancel)===null||a===void 0?void 0:a.bind(o.context);switch(t){case"value":return rp(this._delegate,s,l),n;case"child_added":return $m(this._delegate,s,l),n;case"child_removed":return Hm(this._delegate,s,l),n;case"child_changed":return Wm(this._delegate,s,l),n;case"child_moved":return Um(this._delegate,s,l),n;default:throw new Error(fe("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(V("Query.off",0,3,arguments.length),X3("Query.off",t,!0),qt("Query.off","callback",n,!0),Jc("Query.off","context",i,!0),n){const r=()=>{};r.userCallback=n,r.context=i,Vm(this._delegate,t,r)}else Vm(this._delegate,t)}get(){return p3(this._delegate).then(t=>new Xn(this.database,t))}once(t,n,i,r){V("Query.once",1,4,arguments.length),qt("Query.once","callback",n,!0);const a=Zt.getCancelAndContextArgs_("Query.once",i,r),o=new me,s=(p,d)=>{const c=new Xn(this.database,p);n&&n.call(a.context,c,d),o.resolve(c)};s.userCallback=n,s.context=a.context;const l=p=>{a.cancel&&a.cancel.call(a.context,p),o.reject(p)};switch(t){case"value":rp(this._delegate,s,l,{onlyOnce:!0});break;case"child_added":$m(this._delegate,s,l,{onlyOnce:!0});break;case"child_removed":Hm(this._delegate,s,l,{onlyOnce:!0});break;case"child_changed":Wm(this._delegate,s,l,{onlyOnce:!0});break;case"child_moved":Um(this._delegate,s,l,{onlyOnce:!0});break;default:throw new Error(fe("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return V("Query.limitToFirst",1,1,arguments.length),new Zt(this.database,Ve(this._delegate,_3(t)))}limitToLast(t){return V("Query.limitToLast",1,1,arguments.length),new Zt(this.database,Ve(this._delegate,b3(t)))}orderByChild(t){return V("Query.orderByChild",1,1,arguments.length),new Zt(this.database,Ve(this._delegate,y3(t)))}orderByKey(){return V("Query.orderByKey",0,0,arguments.length),new Zt(this.database,Ve(this._delegate,C3()))}orderByPriority(){return V("Query.orderByPriority",0,0,arguments.length),new Zt(this.database,Ve(this._delegate,S3()))}orderByValue(){return V("Query.orderByValue",0,0,arguments.length),new Zt(this.database,Ve(this._delegate,k3()))}startAt(t=null,n){return V("Query.startAt",0,2,arguments.length),new Zt(this.database,Ve(this._delegate,u3(t,n)))}startAfter(t=null,n){return V("Query.startAfter",0,2,arguments.length),new Zt(this.database,Ve(this._delegate,h3(t,n)))}endAt(t=null,n){return V("Query.endAt",0,2,arguments.length),new Zt(this.database,Ve(this._delegate,d3(t,n)))}endBefore(t=null,n){return V("Query.endBefore",0,2,arguments.length),new Zt(this.database,Ve(this._delegate,m3(t,n)))}equalTo(t,n){return V("Query.equalTo",1,2,arguments.length),new Zt(this.database,Ve(this._delegate,I3(t,n)))}toString(){return V("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return V("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(V("Query.isEqual",1,1,arguments.length),!(t instanceof Zt)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){const r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,qt(t,"cancel",r.cancel,!0),r.context=i,Jc(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(fe(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new ye(this.database,new $e(this._delegate._repo,this._delegate._path))}}class ye extends Zt{constructor(t,n){super(t,new he(n._repo,n._path,new hs,!1)),this.database=t,this._delegate=n}getKey(){return V("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return V("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new ye(this.database,Fi(this._delegate,t))}getParent(){V("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ye(this.database,t):null}getRoot(){return V("Reference.root",0,0,arguments.length),new ye(this.database,this._delegate.root)}set(t,n){V("Reference.set",1,2,arguments.length),qt("Reference.set","onComplete",n,!0);const i=Sd(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(V("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,ug("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fe("Reference.update",this._delegate._path),qt("Reference.update","onComplete",n,!0);const i=l3(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){V("Reference.setWithPriority",2,3,arguments.length),qt("Reference.setWithPriority","onComplete",i,!0);const r=s3(this._delegate,t,n);return i&&r.then(()=>i(null),a=>i(a)),r}remove(t){V("Reference.remove",0,1,arguments.length),qt("Reference.remove","onComplete",t,!0);const n=a3(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){V("Reference.transaction",1,3,arguments.length),qt("Reference.transaction","transactionUpdate",t,!1),qt("Reference.transaction","onComplete",n,!0),J3("Reference.transaction","applyLocally",i,!0);const r=G3(this._delegate,t,{applyLocally:i}).then(a=>new t4(a.committed,new Xn(this.database,a.snapshot)));return n&&r.then(a=>n(null,a.committed,a.snapshot),a=>n(a,!1,null)),r}setPriority(t,n){V("Reference.setPriority",1,2,arguments.length),qt("Reference.setPriority","onComplete",n,!0);const i=o3(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){V("Reference.push",0,2,arguments.length),qt("Reference.push","onComplete",n,!0);const i=r3(this._delegate,t),r=i.then(o=>new ye(this.database,o));n&&r.then(()=>n(null),o=>n(o));const a=new ye(this.database,i);return a.then=r.then.bind(r),a.catch=r.catch.bind(r,void 0),a}onDisconnect(){return Fe("Reference.onDisconnect",this._delegate._path),new Z3(new i3(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:F3,forceLongPolling:L3}}useEmulator(t,n,i={}){z3(this._delegate,t,n,i)}ref(t){if(V("database.ref",0,1,arguments.length),t instanceof ye){const n=jm(this._delegate,t.toString());return new ye(this,n)}else{const n=lg(this._delegate,t);return new ye(this,n)}}refFromURL(t){V("database.refFromURL",1,1,arguments.length);const i=jm(this._delegate,t);return new ye(this,i)}goOffline(){return V("database.goOffline",0,0,arguments.length),B3(this._delegate)}goOnline(){return V("database.goOnline",0,0,arguments.length),Y3(this._delegate)}}ka.ServerValue={TIMESTAMP:U3(),increment:e=>H3(e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4({app:e,url:t,version:n,customAuthImpl:i,namespace:r,nodeAdmin:a=!1}){Hf(n);const o=new Af("auth-internal",new Df("database-standalone"));return o.setComponent(new ii("auth-internal",()=>i,"PRIVATE")),{instance:new ka(cg(e,o,void 0,t,a),e),namespace:r}}var n4=Object.freeze({__proto__:null,initStandalone:e4});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=ka.ServerValue;function r4(e){e.INTERNAL.registerComponent(new ii("database-compat",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new ka(r,i)},"PUBLIC").setServiceProps({Reference:ye,Query:Zt,Database:ka,DataSnapshot:Xn,enableLogging:j3,INTERNAL:n4,ServerValue:i4}).setMultipleInstances(!0)),e.registerVersion(K3,q3)}r4(je);var ge=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n};const a4={setup(){je.initializeApp(Eb);let e=document.documentElement.clientHeight,t=ft(!1),n=document.documentElement.clientHeight;return/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&(t.value=!1),{appHeihgt:e,isSafari:t,mainHeihgt:n}}},o4={class:"footer"},s4={class:"footer__langBtn"},l4=Se("English"),p4=Se(" | "),d4=Se("\u7E41\u9AD4\u4E2D\u6587"),c4=Se(" | "),m4=Se("\u7B80\u4F53\u4E2D\u6587"),u4=_("div",null,[Se(" Copyright 2022 by "),_("a",{href:"https://www.begoodtool.com/",title:"author"},"Be Good Tool "),Se(" . All Rights Reserved. ")],-1);function f4(e,t,n,i,r,a){const o=ei("router-view"),s=ei("router-link");return G(),tt("div",{style:we({height:i.isSafari?`${i.mainHeihgt}px`:"100vh"})},[Wt(o),_("footer",o4,[_("div",s4,[Wt(s,{to:"/en"},{default:ao(()=>[l4]),_:1}),p4,Wt(s,{to:"/tw"},{default:ao(()=>[d4]),_:1}),c4,Wt(s,{to:"/cn"},{default:ao(()=>[m4]),_:1})]),u4])],4)}var h4=ge(a4,[["render",f4]]);/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */var fg="store";function Nn(e){return e===void 0&&(e=null),Xe(e!==null?e:fg)}var g4=typeof window!="undefined"?window:typeof global!="undefined"?global:{},Ki=g4.__VUE_DEVTOOLS_GLOBAL_HOOK__;function _4(e){!Ki||(e._devtoolHook=Ki,Ki.emit("vuex:init",e),Ki.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(t,n){Ki.emit("vuex:mutation",t,n)},{prepend:!0}),e.subscribeAction(function(t,n){Ki.emit("vuex:action",t,n)},{prepend:!0}))}function Pr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function x4(e){return e!==null&&typeof e=="object"}function b4(e){return e&&typeof e.then=="function"}function v4(e,t){return function(){return e(t)}}var rn=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},hg={namespaced:{configurable:!0}};hg.namespaced.get=function(){return!!this._rawModule.namespaced};rn.prototype.addChild=function(t,n){this._children[t]=n};rn.prototype.removeChild=function(t){delete this._children[t]};rn.prototype.getChild=function(t){return this._children[t]};rn.prototype.hasChild=function(t){return t in this._children};rn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};rn.prototype.forEachChild=function(t){Pr(this._children,t)};rn.prototype.forEachGetter=function(t){this._rawModule.getters&&Pr(this._rawModule.getters,t)};rn.prototype.forEachAction=function(t){this._rawModule.actions&&Pr(this._rawModule.actions,t)};rn.prototype.forEachMutation=function(t){this._rawModule.mutations&&Pr(this._rawModule.mutations,t)};Object.defineProperties(rn.prototype,hg);var ji=function(t){this.register([],t,!1)};ji.prototype.get=function(t){return t.reduce(function(n,i){return n.getChild(i)},this.root)};ji.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(i,r){return n=n.getChild(r),i+(n.namespaced?r+"/":"")},"")};ji.prototype.update=function(t){gg([],this.root,t)};ji.prototype.register=function(t,n,i){var r=this;i===void 0&&(i=!0);var a=new rn(n,i);if(t.length===0)this.root=a;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],a)}n.modules&&Pr(n.modules,function(s,l){r.register(t.concat(l),s,i)})};ji.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1],r=n.getChild(i);!r||!r.runtime||n.removeChild(i)};ji.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1];return n?n.hasChild(i):!1};function gg(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;gg(e.concat(i),t.getChild(i),n.modules[i])}}function y4(e){return new _e(e)}var _e=function(t){var n=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var r=t.strict;r===void 0&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ji(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var a=this,o=this,s=o.dispatch,l=o.commit;this.dispatch=function(m,f){return s.call(a,m,f)},this.commit=function(m,f,g){return l.call(a,m,f,g)},this.strict=r;var p=this._modules.root.state;Os(this,p,[],this._modules.root),kd(this,p),i.forEach(function(c){return c(n)});var d=t.devtools!==void 0?t.devtools:!0;d&&_4(this)},Rd={state:{configurable:!0}};_e.prototype.install=function(t,n){t.provide(n||fg,this),t.config.globalProperties.$store=this};Rd.state.get=function(){return this._state.data};Rd.state.set=function(e){};_e.prototype.commit=function(t,n,i){var r=this,a=Wo(t,n,i),o=a.type,s=a.payload,l={type:o,payload:s},p=this._mutations[o];!p||(this._withCommit(function(){p.forEach(function(c){c(s)})}),this._subscribers.slice().forEach(function(d){return d(l,r.state)}))};_e.prototype.dispatch=function(t,n){var i=this,r=Wo(t,n),a=r.type,o=r.payload,s={type:a,payload:o},l=this._actions[a];if(!!l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(s,i.state)})}catch{}var p=l.length>1?Promise.all(l.map(function(d){return d(o)})):l[0](o);return new Promise(function(d,c){p.then(function(m){try{i._actionSubscribers.filter(function(f){return f.after}).forEach(function(f){return f.after(s,i.state)})}catch{}d(m)},function(m){try{i._actionSubscribers.filter(function(f){return f.error}).forEach(function(f){return f.error(s,i.state,m)})}catch{}c(m)})})}};_e.prototype.subscribe=function(t,n){return _g(t,this._subscribers,n)};_e.prototype.subscribeAction=function(t,n){var i=typeof t=="function"?{before:t}:t;return _g(i,this._actionSubscribers,n)};_e.prototype.watch=function(t,n,i){var r=this;return rr(function(){return t(r.state,r.getters)},n,Object.assign({},i))};_e.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};_e.prototype.registerModule=function(t,n,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Os(this,this.state,t,this._modules.get(t),i.preserveState),kd(this,this.state)};_e.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=Td(n.state,t.slice(0,-1));delete i[t[t.length-1]]}),xg(this)};_e.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};_e.prototype.hotUpdate=function(t){this._modules.update(t),xg(this,!0)};_e.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(_e.prototype,Rd);function _g(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function xg(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Os(e,n,[],e._modules.root,!0),kd(e,n,t)}function kd(e,t,n){var i=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,a={};Pr(r,function(o,s){a[s]=v4(o,e),Object.defineProperty(e.getters,s,{get:function(){return a[s]()},enumerable:!0})}),e._state=Le({data:t}),e.strict&&k4(e),i&&n&&e._withCommit(function(){i.data=null})}function Os(e,t,n,i,r){var a=!n.length,o=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=i),!a&&!r){var s=Td(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){s[l]=i.state})}var p=i.context=w4(e,o,n);i.forEachMutation(function(d,c){var m=o+c;E4(e,m,d,p)}),i.forEachAction(function(d,c){var m=d.root?c:o+c,f=d.handler||d;S4(e,m,f,p)}),i.forEachGetter(function(d,c){var m=o+c;R4(e,m,d,p)}),i.forEachChild(function(d,c){Os(e,t,n.concat(c),d,r)})}function w4(e,t,n){var i=t==="",r={dispatch:i?e.dispatch:function(a,o,s){var l=Wo(a,o,s),p=l.payload,d=l.options,c=l.type;return(!d||!d.root)&&(c=t+c),e.dispatch(c,p)},commit:i?e.commit:function(a,o,s){var l=Wo(a,o,s),p=l.payload,d=l.options,c=l.type;(!d||!d.root)&&(c=t+c),e.commit(c,p,d)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return C4(e,t)}},state:{get:function(){return Td(e.state,n)}}}),r}function C4(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach(function(r){if(r.slice(0,i)===t){var a=r.slice(i);Object.defineProperty(n,a,{get:function(){return e.getters[r]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function E4(e,t,n,i){var r=e._mutations[t]||(e._mutations[t]=[]);r.push(function(o){n.call(e,i.state,o)})}function S4(e,t,n,i){var r=e._actions[t]||(e._actions[t]=[]);r.push(function(o){var s=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},o);return b4(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):s})}function R4(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(a){return n(i.state,i.getters,a.state,a.getters)})}function k4(e){rr(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Td(e,t){return t.reduce(function(n,i){return n[i]},e)}function Wo(e,t,n){return x4(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var T4=y4({state:{linkedRoom:"",role:""},mutations:{setLinkedRoom(e,t){e.linkedRoom=t},setRole(e,t){e.role=t}},actions:{}});const I4={setup(){ls({title:"Rock Paper Scissors Online \u7DDA\u4E0A\u731C\u62F3 | Be Good Tool",link:[{rel:"canonical",href:"https://yuntaolin.github.io/Rock-Paper-Scissors-Online/"}],meta:[{name:"og:title",content:"Rock Paper Scissors Online \u7DDA\u4E0A\u731C\u62F3 | Be Good Tool"},{name:"og:description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely.\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"},{name:"description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely.\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"},{name:"twitter:title",content:"Rock Paper Scissors Online \u7DDA\u4E0A\u731C\u62F3 | Be Good Tool"},{name:"twitter:description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely.\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"}]})}},A4={id:"EnterPage"},D4=n0('<h1 data-v-037b79ea>Rock Paper Scissors<br class="hidden-pad-up" data-v-037b79ea>\u7DDA\u4E0A\u731C\u62F3</h1><nav class="btn_group" data-v-037b79ea><a title="play game with english" href="https://yuntaolin.github.io/Rock-Paper-Scissors-Online/en" class="btn" data-v-037b79ea> English </a><a title="\u4EE5\u7B80\u4F53\u4E2D\u6587\u8FDB\u884C\u6E38\u620F" href="https://yuntaolin.github.io/Rock-Paper-Scissors-Online/cn" class="btn" data-v-037b79ea> \u7B80\u4F53\u4E2D\u6587 </a><a title="\u4EE5\u7E41\u9AD4\u4E2D\u6587\u9032\u884C\u904A\u6232" href="https://yuntaolin.github.io/Rock-Paper-Scissors-Online/zh-tw" class="btn" data-v-037b79ea> \u7E41\u9AD4\u4E2D\u6587 </a></nav><div class="other" data-v-037b79ea></div>',3),P4=[D4];function O4(e,t,n,i,r,a){return G(),tt("div",A4,P4)}var N4=ge(I4,[["render",O4],["__scopeId","data-v-037b79ea"]]);//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var bg;function y(){return bg.apply(null,arguments)}function M4(e){bg=e}function tn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ti(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Id(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(mt(e,t))return!1;return!0}function de(e){return e===void 0}function An(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Ya(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function vg(e,t){var n=[],i,r=e.length;for(i=0;i<r;++i)n.push(t(e[i],i));return n}function Un(e,t){for(var n in t)mt(t,n)&&(e[n]=t[n]);return mt(t,"toString")&&(e.toString=t.toString),mt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _n(e,t,n,i){return Ug(e,t,n,i,!0).utc()}function F4(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function J(e){return e._pf==null&&(e._pf=F4()),e._pf}var op;Array.prototype.some?op=Array.prototype.some:op=function(e){var t=Object(this),n=t.length>>>0,i;for(i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};function Ad(e){if(e._isValid==null){var t=J(e),n=op.call(t.parsedDateParts,function(r){return r!=null}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i}return e._isValid}function Ns(e){var t=_n(NaN);return e!=null?Un(J(t),e):J(t).userInvalidated=!0,t}var Gm=y.momentProperties=[],hl=!1;function Dd(e,t){var n,i,r,a=Gm.length;if(de(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),de(t._i)||(e._i=t._i),de(t._f)||(e._f=t._f),de(t._l)||(e._l=t._l),de(t._strict)||(e._strict=t._strict),de(t._tzm)||(e._tzm=t._tzm),de(t._isUTC)||(e._isUTC=t._isUTC),de(t._offset)||(e._offset=t._offset),de(t._pf)||(e._pf=J(t)),de(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)i=Gm[n],r=t[i],de(r)||(e[i]=r);return e}function ja(e){Dd(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),hl===!1&&(hl=!0,y.updateOffset(this),hl=!1)}function en(e){return e instanceof ja||e!=null&&e._isAMomentObject!=null}function yg(e){y.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function We(e,t){var n=!0;return Un(function(){if(y.deprecationHandler!=null&&y.deprecationHandler(null,e),n){var i=[],r,a,o,s=arguments.length;for(a=0;a<s;a++){if(r="",typeof arguments[a]=="object"){r+=`
[`+a+"] ";for(o in arguments[0])mt(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[a];i.push(r)}yg(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var Km={};function wg(e,t){y.deprecationHandler!=null&&y.deprecationHandler(e,t),Km[e]||(yg(t),Km[e]=!0)}y.suppressDeprecationWarnings=!1;y.deprecationHandler=null;function xn(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function L4(e){var t,n;for(n in e)mt(e,n)&&(t=e[n],xn(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function sp(e,t){var n=Un({},e),i;for(i in t)mt(t,i)&&(Ti(e[i])&&Ti(t[i])?(n[i]={},Un(n[i],e[i]),Un(n[i],t[i])):t[i]!=null?n[i]=t[i]:delete n[i]);for(i in e)mt(e,i)&&!mt(t,i)&&Ti(e[i])&&(n[i]=Un({},n[i]));return n}function Pd(e){e!=null&&this.set(e)}var lp;Object.keys?lp=Object.keys:lp=function(e){var t,n=[];for(t in e)mt(e,t)&&n.push(t);return n};var z4={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function B4(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return xn(i)?i.call(t,n):i}function gn(e,t,n){var i=""+Math.abs(e),r=t-i.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var Od=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,no=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,gl={},sr={};function Y(e,t,n,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),e&&(sr[e]=r),t&&(sr[t[0]]=function(){return gn(r.apply(this,arguments),t[1],t[2])}),n&&(sr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function Y4(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j4(e){var t=e.match(Od),n,i;for(n=0,i=t.length;n<i;n++)sr[t[n]]?t[n]=sr[t[n]]:t[n]=Y4(t[n]);return function(r){var a="",o;for(o=0;o<i;o++)a+=xn(t[o])?t[o].call(r,e):t[o];return a}}function po(e,t){return e.isValid()?(t=Cg(t,e.localeData()),gl[t]=gl[t]||j4(t),gl[t](e)):e.localeData().invalidDate()}function Cg(e,t){var n=5;function i(r){return t.longDateFormat(r)||r}for(no.lastIndex=0;n>=0&&no.test(e);)e=e.replace(no,i),no.lastIndex=0,n-=1;return e}var $4={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W4(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Od).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var U4="Invalid date";function H4(){return this._invalidDate}var V4="%d",G4=/\d{1,2}/;function K4(e){return this._ordinal.replace("%d",e)}var q4={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q4(e,t,n,i){var r=this._relativeTime[n];return xn(r)?r(e,t,n,i):r.replace(/%d/i,e)}function J4(e,t){var n=this._relativeTime[e>0?"future":"past"];return xn(n)?n(t):n.replace(/%s/i,t)}var la={};function ie(e,t){var n=e.toLowerCase();la[n]=la[n+"s"]=la[t]=e}function Ue(e){return typeof e=="string"?la[e]||la[e.toLowerCase()]:void 0}function Nd(e){var t={},n,i;for(i in e)mt(e,i)&&(n=Ue(i),n&&(t[n]=e[i]));return t}var Eg={};function re(e,t){Eg[e]=t}function X4(e){var t=[],n;for(n in e)mt(e,n)&&t.push({unit:n,priority:Eg[n]});return t.sort(function(i,r){return i.priority-r.priority}),t}function Ms(e){return e%4===0&&e%100!==0||e%400===0}function Pe(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function nt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Pe(t)),n}function Or(e,t){return function(n){return n!=null?(Sg(this,e,n),y.updateOffset(this,t),this):Uo(this,e)}}function Uo(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Sg(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Ms(e.year())&&e.month()===1&&e.date()===29?(n=nt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),js(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Z4(e){return e=Ue(e),xn(this[e])?this[e]():this}function t7(e,t){if(typeof e=="object"){e=Nd(e);var n=X4(e),i,r=n.length;for(i=0;i<r;i++)this[n[i].unit](e[n[i].unit])}else if(e=Ue(e),xn(this[e]))return this[e](t);return this}var Rg=/\d/,Te=/\d\d/,kg=/\d{3}/,Md=/\d{4}/,Fs=/[+-]?\d{6}/,Nt=/\d\d?/,Tg=/\d\d\d\d?/,Ig=/\d\d\d\d\d\d?/,Ls=/\d{1,3}/,Fd=/\d{1,4}/,zs=/[+-]?\d{1,6}/,Nr=/\d+/,Bs=/[+-]?\d+/,e7=/Z|[+-]\d\d:?\d\d/gi,Ys=/Z|[+-]\d\d(?::?\d\d)?/gi,n7=/[+-]?\d+(\.\d{1,3})?/,$a=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ho;Ho={};function M(e,t,n){Ho[e]=xn(t)?t:function(i,r){return i&&n?n:t}}function i7(e,t){return mt(Ho,e)?Ho[e](t._strict,t._locale):new RegExp(r7(e))}function r7(e){return be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,i,r,a){return n||i||r||a}))}function be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pp={};function xt(e,t){var n,i=t,r;for(typeof e=="string"&&(e=[e]),An(t)&&(i=function(a,o){o[t]=nt(a)}),r=e.length,n=0;n<r;n++)pp[e[n]]=i}function Wa(e,t){xt(e,function(n,i,r,a){r._w=r._w||{},t(n,r._w,r,a)})}function a7(e,t,n){t!=null&&mt(pp,e)&&pp[e](t,n._a,n,e)}var ne=0,En=1,pn=2,Vt=3,Qe=4,Sn=5,yi=6,o7=7,s7=8;function l7(e,t){return(e%t+t)%t}var $t;Array.prototype.indexOf?$t=Array.prototype.indexOf:$t=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function js(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=l7(t,12);return e+=(t-n)/12,n===1?Ms(e)?29:28:31-n%7%2}Y("M",["MM",2],"Mo",function(){return this.month()+1});Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Y("MMMM",0,0,function(e){return this.localeData().months(this,e)});ie("month","M");re("month",8);M("M",Nt);M("MM",Nt,Te);M("MMM",function(e,t){return t.monthsShortRegex(e)});M("MMMM",function(e,t){return t.monthsRegex(e)});xt(["M","MM"],function(e,t){t[En]=nt(e)-1});xt(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);r!=null?t[En]=r:J(n).invalidMonth=e});var p7="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ag="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Dg=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,d7=$a,c7=$a;function m7(e,t){return e?tn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Dg).test(t)?"format":"standalone"][e.month()]:tn(this._months)?this._months:this._months.standalone}function u7(e,t){return e?tn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Dg.test(t)?"format":"standalone"][e.month()]:tn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function f7(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=_n([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?t==="MMM"?(r=$t.call(this._shortMonthsParse,o),r!==-1?r:null):(r=$t.call(this._longMonthsParse,o),r!==-1?r:null):t==="MMM"?(r=$t.call(this._shortMonthsParse,o),r!==-1?r:(r=$t.call(this._longMonthsParse,o),r!==-1?r:null)):(r=$t.call(this._longMonthsParse,o),r!==-1?r:(r=$t.call(this._shortMonthsParse,o),r!==-1?r:null))}function h7(e,t,n){var i,r,a;if(this._monthsParseExact)return f7.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=_n([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(n&&t==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function Pg(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=nt(t);else if(t=e.localeData().monthsParse(t),!An(t))return e}return n=Math.min(e.date(),js(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Og(e){return e!=null?(Pg(this,e),y.updateOffset(this,!0),this):Uo(this,"Month")}function g7(){return js(this.year(),this.month())}function _7(e){return this._monthsParseExact?(mt(this,"_monthsRegex")||Ng.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(mt(this,"_monthsShortRegex")||(this._monthsShortRegex=d7),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function x7(e){return this._monthsParseExact?(mt(this,"_monthsRegex")||Ng.call(this),e?this._monthsStrictRegex:this._monthsRegex):(mt(this,"_monthsRegex")||(this._monthsRegex=c7),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Ng(){function e(o,s){return s.length-o.length}var t=[],n=[],i=[],r,a;for(r=0;r<12;r++)a=_n([2e3,r]),t.push(this.monthsShort(a,"")),n.push(this.months(a,"")),i.push(this.months(a,"")),i.push(this.monthsShort(a,""));for(t.sort(e),n.sort(e),i.sort(e),r=0;r<12;r++)t[r]=be(t[r]),n[r]=be(n[r]);for(r=0;r<24;r++)i[r]=be(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}Y("Y",0,0,function(){var e=this.year();return e<=9999?gn(e,4):"+"+e});Y(0,["YY",2],0,function(){return this.year()%100});Y(0,["YYYY",4],0,"year");Y(0,["YYYYY",5],0,"year");Y(0,["YYYYYY",6,!0],0,"year");ie("year","y");re("year",1);M("Y",Bs);M("YY",Nt,Te);M("YYYY",Fd,Md);M("YYYYY",zs,Fs);M("YYYYYY",zs,Fs);xt(["YYYYY","YYYYYY"],ne);xt("YYYY",function(e,t){t[ne]=e.length===2?y.parseTwoDigitYear(e):nt(e)});xt("YY",function(e,t){t[ne]=y.parseTwoDigitYear(e)});xt("Y",function(e,t){t[ne]=parseInt(e,10)});function pa(e){return Ms(e)?366:365}y.parseTwoDigitYear=function(e){return nt(e)+(nt(e)>68?1900:2e3)};var Mg=Or("FullYear",!0);function b7(){return Ms(this.year())}function v7(e,t,n,i,r,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,a,o),s}function Ta(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Vo(e,t,n){var i=7+t-n,r=(7+Ta(e,0,i).getUTCDay()-t)%7;return-r+i-1}function Fg(e,t,n,i,r){var a=(7+n-i)%7,o=Vo(e,i,r),s=1+7*(t-1)+a+o,l,p;return s<=0?(l=e-1,p=pa(l)+s):s>pa(e)?(l=e+1,p=s-pa(e)):(l=e,p=s),{year:l,dayOfYear:p}}function Ia(e,t,n){var i=Vo(e.year(),t,n),r=Math.floor((e.dayOfYear()-i-1)/7)+1,a,o;return r<1?(o=e.year()-1,a=r+kn(o,t,n)):r>kn(e.year(),t,n)?(a=r-kn(e.year(),t,n),o=e.year()+1):(o=e.year(),a=r),{week:a,year:o}}function kn(e,t,n){var i=Vo(e,t,n),r=Vo(e+1,t,n);return(pa(e)-i+r)/7}Y("w",["ww",2],"wo","week");Y("W",["WW",2],"Wo","isoWeek");ie("week","w");ie("isoWeek","W");re("week",5);re("isoWeek",5);M("w",Nt);M("ww",Nt,Te);M("W",Nt);M("WW",Nt,Te);Wa(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=nt(e)});function y7(e){return Ia(e,this._week.dow,this._week.doy).week}var w7={dow:0,doy:6};function C7(){return this._week.dow}function E7(){return this._week.doy}function S7(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function R7(e){var t=Ia(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Y("d",0,"do","day");Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Y("e",0,0,"weekday");Y("E",0,0,"isoWeekday");ie("day","d");ie("weekday","e");ie("isoWeekday","E");re("day",11);re("weekday",11);re("isoWeekday",11);M("d",Nt);M("e",Nt);M("E",Nt);M("dd",function(e,t){return t.weekdaysMinRegex(e)});M("ddd",function(e,t){return t.weekdaysShortRegex(e)});M("dddd",function(e,t){return t.weekdaysRegex(e)});Wa(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);r!=null?t.d=r:J(n).invalidWeekday=e});Wa(["d","e","E"],function(e,t,n,i){t[i]=nt(e)});function k7(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function T7(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ld(e,t){return e.slice(t,7).concat(e.slice(0,t))}var I7="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lg="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),A7="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),D7=$a,P7=$a,O7=$a;function N7(e,t){var n=tn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Ld(n,this._week.dow):e?n[e.day()]:n}function M7(e){return e===!0?Ld(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function F7(e){return e===!0?Ld(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function L7(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=_n([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?t==="dddd"?(r=$t.call(this._weekdaysParse,o),r!==-1?r:null):t==="ddd"?(r=$t.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=$t.call(this._minWeekdaysParse,o),r!==-1?r:null):t==="dddd"?(r=$t.call(this._weekdaysParse,o),r!==-1||(r=$t.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=$t.call(this._minWeekdaysParse,o),r!==-1?r:null)):t==="ddd"?(r=$t.call(this._shortWeekdaysParse,o),r!==-1||(r=$t.call(this._weekdaysParse,o),r!==-1)?r:(r=$t.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=$t.call(this._minWeekdaysParse,o),r!==-1||(r=$t.call(this._weekdaysParse,o),r!==-1)?r:(r=$t.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function z7(e,t,n){var i,r,a;if(this._weekdaysParseExact)return L7.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=_n([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(n&&t==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(n&&t==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function B7(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=k7(e,this.localeData()),this.add(e-t,"d")):t}function Y7(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function j7(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=T7(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function $7(e){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||zd.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(mt(this,"_weekdaysRegex")||(this._weekdaysRegex=D7),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function W7(e){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||zd.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(mt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=P7),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function U7(e){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||zd.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(mt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=O7),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function zd(){function e(d,c){return c.length-d.length}var t=[],n=[],i=[],r=[],a,o,s,l,p;for(a=0;a<7;a++)o=_n([2e3,1]).day(a),s=be(this.weekdaysMin(o,"")),l=be(this.weekdaysShort(o,"")),p=be(this.weekdays(o,"")),t.push(s),n.push(l),i.push(p),r.push(s),r.push(l),r.push(p);t.sort(e),n.sort(e),i.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Bd(){return this.hours()%12||12}function H7(){return this.hours()||24}Y("H",["HH",2],0,"hour");Y("h",["hh",2],0,Bd);Y("k",["kk",2],0,H7);Y("hmm",0,0,function(){return""+Bd.apply(this)+gn(this.minutes(),2)});Y("hmmss",0,0,function(){return""+Bd.apply(this)+gn(this.minutes(),2)+gn(this.seconds(),2)});Y("Hmm",0,0,function(){return""+this.hours()+gn(this.minutes(),2)});Y("Hmmss",0,0,function(){return""+this.hours()+gn(this.minutes(),2)+gn(this.seconds(),2)});function zg(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}zg("a",!0);zg("A",!1);ie("hour","h");re("hour",13);function Bg(e,t){return t._meridiemParse}M("a",Bg);M("A",Bg);M("H",Nt);M("h",Nt);M("k",Nt);M("HH",Nt,Te);M("hh",Nt,Te);M("kk",Nt,Te);M("hmm",Tg);M("hmmss",Ig);M("Hmm",Tg);M("Hmmss",Ig);xt(["H","HH"],Vt);xt(["k","kk"],function(e,t,n){var i=nt(e);t[Vt]=i===24?0:i});xt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});xt(["h","hh"],function(e,t,n){t[Vt]=nt(e),J(n).bigHour=!0});xt("hmm",function(e,t,n){var i=e.length-2;t[Vt]=nt(e.substr(0,i)),t[Qe]=nt(e.substr(i)),J(n).bigHour=!0});xt("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Vt]=nt(e.substr(0,i)),t[Qe]=nt(e.substr(i,2)),t[Sn]=nt(e.substr(r)),J(n).bigHour=!0});xt("Hmm",function(e,t,n){var i=e.length-2;t[Vt]=nt(e.substr(0,i)),t[Qe]=nt(e.substr(i))});xt("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Vt]=nt(e.substr(0,i)),t[Qe]=nt(e.substr(i,2)),t[Sn]=nt(e.substr(r))});function V7(e){return(e+"").toLowerCase().charAt(0)==="p"}var G7=/[ap]\.?m?\.?/i,K7=Or("Hours",!0);function q7(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var Yg={calendar:z4,longDateFormat:$4,invalidDate:U4,ordinal:V4,dayOfMonthOrdinalParse:G4,relativeTime:q4,months:p7,monthsShort:Ag,week:w7,weekdays:I7,weekdaysMin:A7,weekdaysShort:Lg,meridiemParse:G7},Ft={},Gr={},Aa;function Q7(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function qm(e){return e&&e.toLowerCase().replace("_","-")}function J7(e){for(var t=0,n,i,r,a;t<e.length;){for(a=qm(e[t]).split("-"),n=a.length,i=qm(e[t+1]),i=i?i.split("-"):null;n>0;){if(r=$s(a.slice(0,n).join("-")),r)return r;if(i&&i.length>=n&&Q7(a,i)>=n-1)break;n--}t++}return Aa}function X7(e){return e.match("^[^/\\\\]*$")!=null}function $s(e){var t=null,n;if(Ft[e]===void 0&&typeof uo!="undefined"&&uo&&uo.exports&&X7(e))try{t=Aa._abbr,n=require,n("./locale/"+e),Zn(t)}catch{Ft[e]=null}return Ft[e]}function Zn(e,t){var n;return e&&(de(t)?n=Mn(e):n=Yd(e,t),n?Aa=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Aa._abbr}function Yd(e,t){if(t!==null){var n,i=Yg;if(t.abbr=e,Ft[e]!=null)wg("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Ft[e]._config;else if(t.parentLocale!=null)if(Ft[t.parentLocale]!=null)i=Ft[t.parentLocale]._config;else if(n=$s(t.parentLocale),n!=null)i=n._config;else return Gr[t.parentLocale]||(Gr[t.parentLocale]=[]),Gr[t.parentLocale].push({name:e,config:t}),null;return Ft[e]=new Pd(sp(i,t)),Gr[e]&&Gr[e].forEach(function(r){Yd(r.name,r.config)}),Zn(e),Ft[e]}else return delete Ft[e],null}function Z7(e,t){if(t!=null){var n,i,r=Yg;Ft[e]!=null&&Ft[e].parentLocale!=null?Ft[e].set(sp(Ft[e]._config,t)):(i=$s(e),i!=null&&(r=i._config),t=sp(r,t),i==null&&(t.abbr=e),n=new Pd(t),n.parentLocale=Ft[e],Ft[e]=n),Zn(e)}else Ft[e]!=null&&(Ft[e].parentLocale!=null?(Ft[e]=Ft[e].parentLocale,e===Zn()&&Zn(e)):Ft[e]!=null&&delete Ft[e]);return Ft[e]}function Mn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Aa;if(!tn(e)){if(t=$s(e),t)return t;e=[e]}return J7(e)}function tw(){return lp(Ft)}function jd(e){var t,n=e._a;return n&&J(e).overflow===-2&&(t=n[En]<0||n[En]>11?En:n[pn]<1||n[pn]>js(n[ne],n[En])?pn:n[Vt]<0||n[Vt]>24||n[Vt]===24&&(n[Qe]!==0||n[Sn]!==0||n[yi]!==0)?Vt:n[Qe]<0||n[Qe]>59?Qe:n[Sn]<0||n[Sn]>59?Sn:n[yi]<0||n[yi]>999?yi:-1,J(e)._overflowDayOfYear&&(t<ne||t>pn)&&(t=pn),J(e)._overflowWeeks&&t===-1&&(t=o7),J(e)._overflowWeekday&&t===-1&&(t=s7),J(e).overflow=t),e}var ew=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,iw=/Z|[+-]\d\d(?::?\d\d)?/,io=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_l=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rw=/^\/?Date\((-?\d+)/i,aw=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ow={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function jg(e){var t,n,i=e._i,r=ew.exec(i)||nw.exec(i),a,o,s,l,p=io.length,d=_l.length;if(r){for(J(e).iso=!0,t=0,n=p;t<n;t++)if(io[t][1].exec(r[1])){o=io[t][0],a=io[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(r[3]){for(t=0,n=d;t<n;t++)if(_l[t][1].exec(r[3])){s=(r[2]||" ")+_l[t][0];break}if(s==null){e._isValid=!1;return}}if(!a&&s!=null){e._isValid=!1;return}if(r[4])if(iw.exec(r[4]))l="Z";else{e._isValid=!1;return}e._f=o+(s||"")+(l||""),Wd(e)}else e._isValid=!1}function sw(e,t,n,i,r,a){var o=[lw(e),Ag.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&o.push(parseInt(a,10)),o}function lw(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function pw(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function dw(e,t,n){if(e){var i=Lg.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(i!==r)return J(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function cw(e,t,n){if(e)return ow[e];if(t)return 0;var i=parseInt(n,10),r=i%100,a=(i-r)/100;return a*60+r}function $g(e){var t=aw.exec(pw(e._i)),n;if(t){if(n=sw(t[4],t[3],t[2],t[5],t[6],t[7]),!dw(t[1],n,e))return;e._a=n,e._tzm=cw(t[8],t[9],t[10]),e._d=Ta.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),J(e).rfc2822=!0}else e._isValid=!1}function mw(e){var t=rw.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(jg(e),e._isValid===!1)delete e._isValid;else return;if($g(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:y.createFromInputFallback(e)}y.createFromInputFallback=We("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function tr(e,t,n){return e!=null?e:t!=null?t:n}function uw(e){var t=new Date(y.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function $d(e){var t,n,i=[],r,a,o;if(!e._d){for(r=uw(e),e._w&&e._a[pn]==null&&e._a[En]==null&&fw(e),e._dayOfYear!=null&&(o=tr(e._a[ne],r[ne]),(e._dayOfYear>pa(o)||e._dayOfYear===0)&&(J(e)._overflowDayOfYear=!0),n=Ta(o,0,e._dayOfYear),e._a[En]=n.getUTCMonth(),e._a[pn]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Vt]===24&&e._a[Qe]===0&&e._a[Sn]===0&&e._a[yi]===0&&(e._nextDay=!0,e._a[Vt]=0),e._d=(e._useUTC?Ta:v7).apply(null,i),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Vt]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==a&&(J(e).weekdayMismatch=!0)}}function fw(e){var t,n,i,r,a,o,s,l,p;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,o=4,n=tr(t.GG,e._a[ne],Ia(Ot(),1,4).year),i=tr(t.W,1),r=tr(t.E,1),(r<1||r>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,p=Ia(Ot(),a,o),n=tr(t.gg,e._a[ne],p.year),i=tr(t.w,p.week),t.d!=null?(r=t.d,(r<0||r>6)&&(l=!0)):t.e!=null?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a),i<1||i>kn(n,a,o)?J(e)._overflowWeeks=!0:l!=null?J(e)._overflowWeekday=!0:(s=Fg(n,i,r,a,o),e._a[ne]=s.year,e._dayOfYear=s.dayOfYear)}y.ISO_8601=function(){};y.RFC_2822=function(){};function Wd(e){if(e._f===y.ISO_8601){jg(e);return}if(e._f===y.RFC_2822){$g(e);return}e._a=[],J(e).empty=!0;var t=""+e._i,n,i,r,a,o,s=t.length,l=0,p,d;for(r=Cg(e._f,e._locale).match(Od)||[],d=r.length,n=0;n<d;n++)a=r[n],i=(t.match(i7(a,e))||[])[0],i&&(o=t.substr(0,t.indexOf(i)),o.length>0&&J(e).unusedInput.push(o),t=t.slice(t.indexOf(i)+i.length),l+=i.length),sr[a]?(i?J(e).empty=!1:J(e).unusedTokens.push(a),a7(a,i,e)):e._strict&&!i&&J(e).unusedTokens.push(a);J(e).charsLeftOver=s-l,t.length>0&&J(e).unusedInput.push(t),e._a[Vt]<=12&&J(e).bigHour===!0&&e._a[Vt]>0&&(J(e).bigHour=void 0),J(e).parsedDateParts=e._a.slice(0),J(e).meridiem=e._meridiem,e._a[Vt]=hw(e._locale,e._a[Vt],e._meridiem),p=J(e).era,p!==null&&(e._a[ne]=e._locale.erasConvertYear(p,e._a[ne])),$d(e),jd(e)}function hw(e,t,n){var i;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(i=e.isPM(n),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function gw(e){var t,n,i,r,a,o,s=!1,l=e._f.length;if(l===0){J(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<l;r++)a=0,o=!1,t=Dd({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],Wd(t),Ad(t)&&(o=!0),a+=J(t).charsLeftOver,a+=J(t).unusedTokens.length*10,J(t).score=a,s?a<i&&(i=a,n=t):(i==null||a<i||o)&&(i=a,n=t,o&&(s=!0));Un(e,n||t)}function _w(e){if(!e._d){var t=Nd(e._i),n=t.day===void 0?t.date:t.day;e._a=vg([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),$d(e)}}function xw(e){var t=new ja(jd(Wg(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wg(e){var t=e._i,n=e._f;return e._locale=e._locale||Mn(e._l),t===null||n===void 0&&t===""?Ns({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),en(t)?new ja(jd(t)):(Ya(t)?e._d=t:tn(n)?gw(e):n?Wd(e):bw(e),Ad(e)||(e._d=null),e))}function bw(e){var t=e._i;de(t)?e._d=new Date(y.now()):Ya(t)?e._d=new Date(t.valueOf()):typeof t=="string"?mw(e):tn(t)?(e._a=vg(t.slice(0),function(n){return parseInt(n,10)}),$d(e)):Ti(t)?_w(e):An(t)?e._d=new Date(t):y.createFromInputFallback(e)}function Ug(e,t,n,i,r){var a={};return(t===!0||t===!1)&&(i=t,t=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(Ti(e)&&Id(e)||tn(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,xw(a)}function Ot(e,t,n,i){return Ug(e,t,n,i,!1)}var vw=We("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ns()}),yw=We("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Ns()});function Hg(e,t){var n,i;if(t.length===1&&tn(t[0])&&(t=t[0]),!t.length)return Ot();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function ww(){var e=[].slice.call(arguments,0);return Hg("isBefore",e)}function Cw(){var e=[].slice.call(arguments,0);return Hg("isAfter",e)}var Ew=function(){return Date.now?Date.now():+new Date},Kr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Sw(e){var t,n=!1,i,r=Kr.length;for(t in e)if(mt(e,t)&&!($t.call(Kr,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(i=0;i<r;++i)if(e[Kr[i]]){if(n)return!1;parseFloat(e[Kr[i]])!==nt(e[Kr[i]])&&(n=!0)}return!0}function Rw(){return this._isValid}function kw(){return an(NaN)}function Ws(e){var t=Nd(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,p=t.second||0,d=t.millisecond||0;this._isValid=Sw(t),this._milliseconds=+d+p*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+r+i*3+n*12,this._data={},this._locale=Mn(),this._bubble()}function co(e){return e instanceof Ws}function dp(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Tw(e,t,n){var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0,o;for(o=0;o<i;o++)(n&&e[o]!==t[o]||!n&&nt(e[o])!==nt(t[o]))&&a++;return a+r}function Vg(e,t){Y(e,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+gn(~~(n/60),2)+t+gn(~~n%60,2)})}Vg("Z",":");Vg("ZZ","");M("Z",Ys);M("ZZ",Ys);xt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ud(Ys,e)});var Iw=/([\+\-]|\d\d)/gi;function Ud(e,t){var n=(t||"").match(e),i,r,a;return n===null?null:(i=n[n.length-1]||[],r=(i+"").match(Iw)||["-",0,0],a=+(r[1]*60)+nt(r[2]),a===0?0:r[0]==="+"?a:-a)}function Hd(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(en(e)||Ya(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),y.updateOffset(n,!1),n):Ot(e).local()}function cp(e){return-Math.round(e._d.getTimezoneOffset())}y.updateOffset=function(){};function Aw(e,t,n){var i=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Ud(Ys,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(r=cp(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?qg(this,an(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,y.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:cp(this)}function Dw(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Pw(e){return this.utcOffset(0,e)}function Ow(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(cp(this),"m")),this}function Nw(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Ud(e7,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Mw(e){return this.isValid()?(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Fw(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Lw(){if(!de(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Dd(e,this),e=Wg(e),e._a?(t=e._isUTC?_n(e._a):Ot(e._a),this._isDSTShifted=this.isValid()&&Tw(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function zw(){return this.isValid()?!this._isUTC:!1}function Bw(){return this.isValid()?this._isUTC:!1}function Gg(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Yw=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,jw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function an(e,t){var n=e,i=null,r,a,o;return co(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:An(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(i=Yw.exec(e))?(r=i[1]==="-"?-1:1,n={y:0,d:nt(i[pn])*r,h:nt(i[Vt])*r,m:nt(i[Qe])*r,s:nt(i[Sn])*r,ms:nt(dp(i[yi]*1e3))*r}):(i=jw.exec(e))?(r=i[1]==="-"?-1:1,n={y:ui(i[2],r),M:ui(i[3],r),w:ui(i[4],r),d:ui(i[5],r),h:ui(i[6],r),m:ui(i[7],r),s:ui(i[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=$w(Ot(n.from),Ot(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),a=new Ws(n),co(e)&&mt(e,"_locale")&&(a._locale=e._locale),co(e)&&mt(e,"_isValid")&&(a._isValid=e._isValid),a}an.fn=Ws.prototype;an.invalid=kw;function ui(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Qm(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $w(e,t){var n;return e.isValid()&&t.isValid()?(t=Hd(t,e),e.isBefore(t)?n=Qm(e,t):(n=Qm(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Kg(e,t){return function(n,i){var r,a;return i!==null&&!isNaN(+i)&&(wg(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),r=an(n,i),qg(this,r,e),this}}function qg(e,t,n,i){var r=t._milliseconds,a=dp(t._days),o=dp(t._months);!e.isValid()||(i=i==null?!0:i,o&&Pg(e,Uo(e,"Month")+o*n),a&&Sg(e,"Date",Uo(e,"Date")+a*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&y.updateOffset(e,a||o))}var Ww=Kg(1,"add"),Uw=Kg(-1,"subtract");function Qg(e){return typeof e=="string"||e instanceof String}function Hw(e){return en(e)||Ya(e)||Qg(e)||An(e)||Gw(e)||Vw(e)||e===null||e===void 0}function Vw(e){var t=Ti(e)&&!Id(e),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,a,o=i.length;for(r=0;r<o;r+=1)a=i[r],n=n||mt(e,a);return t&&n}function Gw(e){var t=tn(e),n=!1;return t&&(n=e.filter(function(i){return!An(i)&&Qg(e)}).length===0),t&&n}function Kw(e){var t=Ti(e)&&!Id(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,a;for(r=0;r<i.length;r+=1)a=i[r],n=n||mt(e,a);return t&&n}function qw(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Qw(e,t){arguments.length===1&&(arguments[0]?Hw(arguments[0])?(e=arguments[0],t=void 0):Kw(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Ot(),i=Hd(n,this).startOf("day"),r=y.calendarFormat(this,i)||"sameElse",a=t&&(xn(t[r])?t[r].call(this,n):t[r]);return this.format(a||this.localeData().calendar(r,this,Ot(n)))}function Jw(){return new ja(this)}function Xw(e,t){var n=en(e)?e:Ot(e);return this.isValid()&&n.isValid()?(t=Ue(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Zw(e,t){var n=en(e)?e:Ot(e);return this.isValid()&&n.isValid()?(t=Ue(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function t9(e,t,n,i){var r=en(e)?e:Ot(e),a=en(t)?t:Ot(t);return this.isValid()&&r.isValid()&&a.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(i[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function e9(e,t){var n=en(e)?e:Ot(e),i;return this.isValid()&&n.isValid()?(t=Ue(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function n9(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function i9(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function r9(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(i=Hd(e,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,t=Ue(t),t){case"year":a=mo(this,i)/12;break;case"month":a=mo(this,i);break;case"quarter":a=mo(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:Pe(a)}function mo(e,t){if(e.date()<t.date())return-mo(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(n,"months"),r,a;return t-i<0?(r=e.clone().add(n-1,"months"),a=(t-i)/(i-r)):(r=e.clone().add(n+1,"months"),a=(t-i)/(r-i)),-(n+a)||0}y.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";y.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function a9(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function o9(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?po(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):xn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",po(n,"Z")):po(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function s9(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,i,r,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(n+i+r+a)}function l9(e){e||(e=this.isUtc()?y.defaultFormatUtc:y.defaultFormat);var t=po(this,e);return this.localeData().postformat(t)}function p9(e,t){return this.isValid()&&(en(e)&&e.isValid()||Ot(e).isValid())?an({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function d9(e){return this.from(Ot(),e)}function c9(e,t){return this.isValid()&&(en(e)&&e.isValid()||Ot(e).isValid())?an({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function m9(e){return this.to(Ot(),e)}function Jg(e){var t;return e===void 0?this._locale._abbr:(t=Mn(e),t!=null&&(this._locale=t),this)}var Xg=We("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Zg(){return this._locale}var Go=1e3,lr=60*Go,Ko=60*lr,t_=(365*400+97)*24*Ko;function pr(e,t){return(e%t+t)%t}function e_(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-t_:new Date(e,t,n).valueOf()}function n_(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-t_:Date.UTC(e,t,n)}function u9(e){var t,n;if(e=Ue(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?n_:e_,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pr(t+(this._isUTC?0:this.utcOffset()*lr),Ko);break;case"minute":t=this._d.valueOf(),t-=pr(t,lr);break;case"second":t=this._d.valueOf(),t-=pr(t,Go);break}return this._d.setTime(t),y.updateOffset(this,!0),this}function f9(e){var t,n;if(e=Ue(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?n_:e_,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ko-pr(t+(this._isUTC?0:this.utcOffset()*lr),Ko)-1;break;case"minute":t=this._d.valueOf(),t+=lr-pr(t,lr)-1;break;case"second":t=this._d.valueOf(),t+=Go-pr(t,Go)-1;break}return this._d.setTime(t),y.updateOffset(this,!0),this}function h9(){return this._d.valueOf()-(this._offset||0)*6e4}function g9(){return Math.floor(this.valueOf()/1e3)}function _9(){return new Date(this.valueOf())}function x9(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function b9(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function v9(){return this.isValid()?this.toISOString():null}function y9(){return Ad(this)}function w9(){return Un({},J(this))}function C9(){return J(this).overflow}function E9(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Y("N",0,0,"eraAbbr");Y("NN",0,0,"eraAbbr");Y("NNN",0,0,"eraAbbr");Y("NNNN",0,0,"eraName");Y("NNNNN",0,0,"eraNarrow");Y("y",["y",1],"yo","eraYear");Y("y",["yy",2],0,"eraYear");Y("y",["yyy",3],0,"eraYear");Y("y",["yyyy",4],0,"eraYear");M("N",Vd);M("NN",Vd);M("NNN",Vd);M("NNNN",M9);M("NNNNN",F9);xt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?J(n).era=r:J(n).invalidEra=e});M("y",Nr);M("yy",Nr);M("yyy",Nr);M("yyyy",Nr);M("yo",L9);xt(["y","yy","yyy","yyyy"],ne);xt(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ne]=n._locale.eraYearOrdinalParse(e,r):t[ne]=parseInt(e,10)});function S9(e,t){var n,i,r,a=this._eras||Mn("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":r=y(a[n].since).startOf("day"),a[n].since=r.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":r=y(a[n].until).startOf("day").valueOf(),a[n].until=r.valueOf();break}}return a}function R9(e,t,n){var i,r,a=this.eras(),o,s,l;for(e=e.toUpperCase(),i=0,r=a.length;i<r;++i)if(o=a[i].name.toUpperCase(),s=a[i].abbr.toUpperCase(),l=a[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return a[i];break;case"NNNN":if(o===e)return a[i];break;case"NNNNN":if(l===e)return a[i];break}else if([o,s,l].indexOf(e)>=0)return a[i]}function k9(e,t){var n=e.since<=e.until?1:-1;return t===void 0?y(e.since).year():y(e.since).year()+(t-e.offset)*n}function T9(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].name;return""}function I9(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].narrow;return""}function A9(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].abbr;return""}function D9(){var e,t,n,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=r[e].since<=r[e].until?1:-1,i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return(this.year()-y(r[e].since).year())*n+r[e].offset;return this.year()}function P9(e){return mt(this,"_erasNameRegex")||Gd.call(this),e?this._erasNameRegex:this._erasRegex}function O9(e){return mt(this,"_erasAbbrRegex")||Gd.call(this),e?this._erasAbbrRegex:this._erasRegex}function N9(e){return mt(this,"_erasNarrowRegex")||Gd.call(this),e?this._erasNarrowRegex:this._erasRegex}function Vd(e,t){return t.erasAbbrRegex(e)}function M9(e,t){return t.erasNameRegex(e)}function F9(e,t){return t.erasNarrowRegex(e)}function L9(e,t){return t._eraYearOrdinalRegex||Nr}function Gd(){var e=[],t=[],n=[],i=[],r,a,o=this.eras();for(r=0,a=o.length;r<a;++r)t.push(be(o[r].name)),e.push(be(o[r].abbr)),n.push(be(o[r].narrow)),i.push(be(o[r].name)),i.push(be(o[r].abbr)),i.push(be(o[r].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Y(0,["gg",2],0,function(){return this.weekYear()%100});Y(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Us(e,t){Y(0,[e,e.length],0,t)}Us("gggg","weekYear");Us("ggggg","weekYear");Us("GGGG","isoWeekYear");Us("GGGGG","isoWeekYear");ie("weekYear","gg");ie("isoWeekYear","GG");re("weekYear",1);re("isoWeekYear",1);M("G",Bs);M("g",Bs);M("GG",Nt,Te);M("gg",Nt,Te);M("GGGG",Fd,Md);M("gggg",Fd,Md);M("GGGGG",zs,Fs);M("ggggg",zs,Fs);Wa(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=nt(e)});Wa(["gg","GG"],function(e,t,n,i){t[i]=y.parseTwoDigitYear(e)});function z9(e){return i_.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function B9(e){return i_.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Y9(){return kn(this.year(),1,4)}function j9(){return kn(this.isoWeekYear(),1,4)}function $9(){var e=this.localeData()._week;return kn(this.year(),e.dow,e.doy)}function W9(){var e=this.localeData()._week;return kn(this.weekYear(),e.dow,e.doy)}function i_(e,t,n,i,r){var a;return e==null?Ia(this,i,r).year:(a=kn(e,i,r),t>a&&(t=a),U9.call(this,e,t,n,i,r))}function U9(e,t,n,i,r){var a=Fg(e,t,n,i,r),o=Ta(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Y("Q",0,"Qo","quarter");ie("quarter","Q");re("quarter",7);M("Q",Rg);xt("Q",function(e,t){t[En]=(nt(e)-1)*3});function H9(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Y("D",["DD",2],"Do","date");ie("date","D");re("date",9);M("D",Nt);M("DD",Nt,Te);M("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});xt(["D","DD"],pn);xt("Do",function(e,t){t[pn]=nt(e.match(Nt)[0])});var r_=Or("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear");ie("dayOfYear","DDD");re("dayOfYear",4);M("DDD",Ls);M("DDDD",kg);xt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=nt(e)});function V9(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Y("m",["mm",2],0,"minute");ie("minute","m");re("minute",14);M("m",Nt);M("mm",Nt,Te);xt(["m","mm"],Qe);var G9=Or("Minutes",!1);Y("s",["ss",2],0,"second");ie("second","s");re("second",15);M("s",Nt);M("ss",Nt,Te);xt(["s","ss"],Sn);var K9=Or("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)});Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Y(0,["SSS",3],0,"millisecond");Y(0,["SSSS",4],0,function(){return this.millisecond()*10});Y(0,["SSSSS",5],0,function(){return this.millisecond()*100});Y(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Y(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Y(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Y(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ie("millisecond","ms");re("millisecond",16);M("S",Ls,Rg);M("SS",Ls,Te);M("SSS",Ls,kg);var Hn,a_;for(Hn="SSSS";Hn.length<=9;Hn+="S")M(Hn,Nr);function q9(e,t){t[yi]=nt(("0."+e)*1e3)}for(Hn="S";Hn.length<=9;Hn+="S")xt(Hn,q9);a_=Or("Milliseconds",!1);Y("z",0,0,"zoneAbbr");Y("zz",0,0,"zoneName");function Q9(){return this._isUTC?"UTC":""}function J9(){return this._isUTC?"Coordinated Universal Time":""}var R=ja.prototype;R.add=Ww;R.calendar=Qw;R.clone=Jw;R.diff=r9;R.endOf=f9;R.format=l9;R.from=p9;R.fromNow=d9;R.to=c9;R.toNow=m9;R.get=Z4;R.invalidAt=C9;R.isAfter=Xw;R.isBefore=Zw;R.isBetween=t9;R.isSame=e9;R.isSameOrAfter=n9;R.isSameOrBefore=i9;R.isValid=y9;R.lang=Xg;R.locale=Jg;R.localeData=Zg;R.max=yw;R.min=vw;R.parsingFlags=w9;R.set=t7;R.startOf=u9;R.subtract=Uw;R.toArray=x9;R.toObject=b9;R.toDate=_9;R.toISOString=o9;R.inspect=s9;typeof Symbol!="undefined"&&Symbol.for!=null&&(R[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});R.toJSON=v9;R.toString=a9;R.unix=g9;R.valueOf=h9;R.creationData=E9;R.eraName=T9;R.eraNarrow=I9;R.eraAbbr=A9;R.eraYear=D9;R.year=Mg;R.isLeapYear=b7;R.weekYear=z9;R.isoWeekYear=B9;R.quarter=R.quarters=H9;R.month=Og;R.daysInMonth=g7;R.week=R.weeks=S7;R.isoWeek=R.isoWeeks=R7;R.weeksInYear=$9;R.weeksInWeekYear=W9;R.isoWeeksInYear=Y9;R.isoWeeksInISOWeekYear=j9;R.date=r_;R.day=R.days=B7;R.weekday=Y7;R.isoWeekday=j7;R.dayOfYear=V9;R.hour=R.hours=K7;R.minute=R.minutes=G9;R.second=R.seconds=K9;R.millisecond=R.milliseconds=a_;R.utcOffset=Aw;R.utc=Pw;R.local=Ow;R.parseZone=Nw;R.hasAlignedHourOffset=Mw;R.isDST=Fw;R.isLocal=zw;R.isUtcOffset=Bw;R.isUtc=Gg;R.isUTC=Gg;R.zoneAbbr=Q9;R.zoneName=J9;R.dates=We("dates accessor is deprecated. Use date instead.",r_);R.months=We("months accessor is deprecated. Use month instead",Og);R.years=We("years accessor is deprecated. Use year instead",Mg);R.zone=We("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Dw);R.isDSTShifted=We("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Lw);function X9(e){return Ot(e*1e3)}function Z9(){return Ot.apply(null,arguments).parseZone()}function o_(e){return e}var ut=Pd.prototype;ut.calendar=B4;ut.longDateFormat=W4;ut.invalidDate=H4;ut.ordinal=K4;ut.preparse=o_;ut.postformat=o_;ut.relativeTime=Q4;ut.pastFuture=J4;ut.set=L4;ut.eras=S9;ut.erasParse=R9;ut.erasConvertYear=k9;ut.erasAbbrRegex=O9;ut.erasNameRegex=P9;ut.erasNarrowRegex=N9;ut.months=m7;ut.monthsShort=u7;ut.monthsParse=h7;ut.monthsRegex=x7;ut.monthsShortRegex=_7;ut.week=y7;ut.firstDayOfYear=E7;ut.firstDayOfWeek=C7;ut.weekdays=N7;ut.weekdaysMin=F7;ut.weekdaysShort=M7;ut.weekdaysParse=z7;ut.weekdaysRegex=$7;ut.weekdaysShortRegex=W7;ut.weekdaysMinRegex=U7;ut.isPM=V7;ut.meridiem=q7;function qo(e,t,n,i){var r=Mn(),a=_n().set(i,t);return r[n](a,e)}function s_(e,t,n){if(An(e)&&(t=e,e=void 0),e=e||"",t!=null)return qo(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=qo(e,i,n,"month");return r}function Kd(e,t,n,i){typeof e=="boolean"?(An(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,An(t)&&(n=t,t=void 0),t=t||"");var r=Mn(),a=e?r._week.dow:0,o,s=[];if(n!=null)return qo(t,(n+a)%7,i,"day");for(o=0;o<7;o++)s[o]=qo(t,(o+a)%7,i,"day");return s}function tC(e,t){return s_(e,t,"months")}function eC(e,t){return s_(e,t,"monthsShort")}function nC(e,t,n){return Kd(e,t,n,"weekdays")}function iC(e,t,n){return Kd(e,t,n,"weekdaysShort")}function rC(e,t,n){return Kd(e,t,n,"weekdaysMin")}Zn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=nt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});y.lang=We("moment.lang is deprecated. Use moment.locale instead.",Zn);y.langData=We("moment.langData is deprecated. Use moment.localeData instead.",Mn);var vn=Math.abs;function aC(){var e=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),e.milliseconds=vn(e.milliseconds),e.seconds=vn(e.seconds),e.minutes=vn(e.minutes),e.hours=vn(e.hours),e.months=vn(e.months),e.years=vn(e.years),this}function l_(e,t,n,i){var r=an(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function oC(e,t){return l_(this,e,t,1)}function sC(e,t){return l_(this,e,t,-1)}function Jm(e){return e<0?Math.floor(e):Math.ceil(e)}function lC(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data,r,a,o,s,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=Jm(mp(n)+t)*864e5,t=0,n=0),i.milliseconds=e%1e3,r=Pe(e/1e3),i.seconds=r%60,a=Pe(r/60),i.minutes=a%60,o=Pe(a/60),i.hours=o%24,t+=Pe(o/24),l=Pe(p_(t)),n+=l,t-=Jm(mp(l)),s=Pe(n/12),n%=12,i.days=t,i.months=n,i.years=s,this}function p_(e){return e*4800/146097}function mp(e){return e*146097/4800}function pC(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if(e=Ue(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+i/864e5,n=this._months+p_(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(mp(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}function dC(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+nt(this._months/12)*31536e6:NaN}function Fn(e){return function(){return this.as(e)}}var cC=Fn("ms"),mC=Fn("s"),uC=Fn("m"),fC=Fn("h"),hC=Fn("d"),gC=Fn("w"),_C=Fn("M"),xC=Fn("Q"),bC=Fn("y");function vC(){return an(this)}function yC(e){return e=Ue(e),this.isValid()?this[e+"s"]():NaN}function $i(e){return function(){return this.isValid()?this._data[e]:NaN}}var wC=$i("milliseconds"),CC=$i("seconds"),EC=$i("minutes"),SC=$i("hours"),RC=$i("days"),kC=$i("months"),TC=$i("years");function IC(){return Pe(this.days()/7)}var yn=Math.round,er={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function AC(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function DC(e,t,n,i){var r=an(e).abs(),a=yn(r.as("s")),o=yn(r.as("m")),s=yn(r.as("h")),l=yn(r.as("d")),p=yn(r.as("M")),d=yn(r.as("w")),c=yn(r.as("y")),m=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(m=m||d<=1&&["w"]||d<n.w&&["ww",d]),m=m||p<=1&&["M"]||p<n.M&&["MM",p]||c<=1&&["y"]||["yy",c],m[2]=t,m[3]=+e>0,m[4]=i,AC.apply(null,m)}function PC(e){return e===void 0?yn:typeof e=="function"?(yn=e,!0):!1}function OC(e,t){return er[e]===void 0?!1:t===void 0?er[e]:(er[e]=t,e==="s"&&(er.ss=t-1),!0)}function NC(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=er,r,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(i=Object.assign({},er,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),r=this.localeData(),a=DC(this,!n,i,r),n&&(a=r.pastFuture(+this,a)),r.postformat(a)}var xl=Math.abs;function qi(e){return(e>0)-(e<0)||+e}function Hs(){if(!this.isValid())return this.localeData().invalidDate();var e=xl(this._milliseconds)/1e3,t=xl(this._days),n=xl(this._months),i,r,a,o,s=this.asSeconds(),l,p,d,c;return s?(i=Pe(e/60),r=Pe(i/60),e%=60,i%=60,a=Pe(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",p=qi(this._months)!==qi(s)?"-":"",d=qi(this._days)!==qi(s)?"-":"",c=qi(this._milliseconds)!==qi(s)?"-":"",l+"P"+(a?p+a+"Y":"")+(n?p+n+"M":"")+(t?d+t+"D":"")+(r||i||e?"T":"")+(r?c+r+"H":"")+(i?c+i+"M":"")+(e?c+o+"S":"")):"P0D"}var lt=Ws.prototype;lt.isValid=Rw;lt.abs=aC;lt.add=oC;lt.subtract=sC;lt.as=pC;lt.asMilliseconds=cC;lt.asSeconds=mC;lt.asMinutes=uC;lt.asHours=fC;lt.asDays=hC;lt.asWeeks=gC;lt.asMonths=_C;lt.asQuarters=xC;lt.asYears=bC;lt.valueOf=dC;lt._bubble=lC;lt.clone=vC;lt.get=yC;lt.milliseconds=wC;lt.seconds=CC;lt.minutes=EC;lt.hours=SC;lt.days=RC;lt.weeks=IC;lt.months=kC;lt.years=TC;lt.humanize=NC;lt.toISOString=Hs;lt.toString=Hs;lt.toJSON=Hs;lt.locale=Jg;lt.localeData=Zg;lt.toIsoString=We("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hs);lt.lang=Xg;Y("X",0,0,"unix");Y("x",0,0,"valueOf");M("x",Bs);M("X",n7);xt("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});xt("x",function(e,t,n){n._d=new Date(nt(e))});//! moment.js
y.version="2.29.3";M4(Ot);y.fn=R;y.min=ww;y.max=Cw;y.now=Ew;y.utc=_n;y.unix=X9;y.months=tC;y.isDate=Ya;y.locale=Zn;y.invalid=Ns;y.duration=an;y.isMoment=en;y.weekdays=nC;y.parseZone=Z9;y.localeData=Mn;y.isDuration=co;y.monthsShort=eC;y.weekdaysMin=rC;y.defineLocale=Yd;y.updateLocale=Z7;y.locales=tw;y.weekdaysShort=iC;y.normalizeUnits=Ue;y.relativeTimeRounding=PC;y.relativeTimeThreshold=OC;y.calendarFormat=qw;y.prototype=R;y.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const MC={setup(e,t){const n=Nn(),i=On(),r=ft(null),a=ft(!1),o=je.database();return{createRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("\u8ACB\u8F38\u5165\u623F\u865F");const d=o.ref(`/room/${r.value}`);d.once("value").then(function(c){if(c.val()){const m=y(c.val().play_A.lastConnect).isAfter(y().add(-2,"m").format("YYYY/MM/DD hh:mm")),f=y(c.val().play_B.lastConnect).isAfter(y().add(-2,"m").format("YYYY/MM/DD hh:mm"));if(m&&f)return a.value=!1,alert("\u5DF2\u7D93\u5B58\u5728\u8A72\u623F\u9593\u56C9\uFF0C\u8ACB\u63DB\u4E00\u500B\u623F\u865F")}d.set({play_A:{join:!0,select:null,lastConnect:y(new Date).format("YYYY/MM/DD hh:mm")},play_B:{join:!1,select:null,lastConnect:null}}).then(()=>{a.value=!1,n.commit("setLinkedRoom",r.value),n.commit("setRole","play_A"),setInterval(()=>{o.ref(`/room/${r.value}/play_A`).update({lastConnect:y(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/zh-tw/gameRoom")})})},createRoomId:r,close:()=>t.emit("close"),loading:a,reset:()=>{window.scrollTo(0,0)}}}},FC={class:"overlay"},LC={class:"popup"},zC={class:"createRoom"},BC=_("strong",{class:"mb_16"},"\u5275\u5EFA\u623F\u9593",-1);function YC(e,t,n,i,r,a){return G(),tt("div",FC,[_("div",LC,[_("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),_("div",zC,[BC,Be(_("input",{type:"phone",placeholder:"\u8ACB\u81EA\u8A02\u623F\u9593ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.createRoomId=o),onBlur:t[2]||(t[2]=o=>i.reset())},null,544),[[Rr,i.createRoomId]]),_("div",{class:Dn(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[3]||(t[3]=(...o)=>i.createRoom&&i.createRoom(...o))},Lt(i.loading?"\u8ACB\u7A0D\u5F8C...":"\u5275\u5EFA"),3)])])])}var jC=ge(MC,[["render",YC]]);const $C={setup(e,t){const n=Nn(),i=On(),r=ft(null),a=ft(!1),o=je.database();return{joinRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("\u8ACB\u8F38\u5165\u623F\u865F");o.ref(`/room/${r.value}`).once("value").then(c=>{const m=c.val();if(!m)return a.value=!1,alert("\u8A72\u623F\u9593\u4E0D\u5B58\u5728\u5594");if(!m.play_B.lastConnect||y(m.play_B.lastConnect).isBefore(y().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_B");else if(!m.play_A.lastConnect||y(m.play_A.lastConnect).isBefore(y().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_A");else return a.value=!1,alert("\u8A72\u623F\u9593\u4EBA\u6578\u5DF2\u984D\u6EFF");n.commit("setLinkedRoom",r.value),o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:y(new Date).format("YYYY/MM/DD hh:mm"),join:!0}).then(()=>{a.value=!1,setInterval(()=>{o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:y(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/zh-tw/gameRoom")})})},joinRoomId:r,close:()=>t.emit("close"),loading:a,reset:()=>{window.scrollTo(0,0)}}}},WC={class:"overlay"},UC={class:"popup"},HC={class:"joinRoom"},VC=_("strong",{class:"mb_16"},"\u52A0\u5165\u623F\u9593",-1);function GC(e,t,n,i,r,a){return G(),tt("div",WC,[_("div",UC,[_("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),_("div",HC,[VC,Be(_("input",{type:"phone",placeholder:"\u8ACB\u8F38\u5165\u623F\u9593ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.joinRoomId=o),onBlur:t[2]||(t[2]=o=>i.reset())},null,544),[[Rr,i.joinRoomId]]),_("div",{class:Dn(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[3]||(t[3]=(...o)=>i.joinRoom&&i.joinRoom(...o))},Lt(i.loading?"\u8ACB\u7A0D\u5F8C...":"\u52A0\u5165"),3)])])])}var KC=ge($C,[["render",GC]]);const qC={components:{CreateRoom:jC,JoinRoom:KC},setup(){ls({title:"\u7DDA\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u982D\u5E03 - \u662F\u500B\u597D\u5DE5\u5177",htmlAttrs:{lang:"zh-tw"},link:[{rel:"canonical",href:"https://yuntaolin.github.io/Rock-Paper-Scissors-Online/zh-tw"}],meta:[{name:"og:title",content:"\u7DDA\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u982D\u5E03 - \u662F\u500B\u597D\u5DE5\u5177"},{name:"og:description",content:"\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"},{name:"description",content:"\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"},{name:"twitter:title",content:"\u7DDA\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u982D\u5E03 - \u662F\u500B\u597D\u5DE5\u5177"},{name:"twitter:description",content:"\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"}]});const e=ft(!1),t=ft(!1);return{openCreateRoom:e,openJoinRoom:t}}},Mr=e=>(Er("data-v-7fd16464"),e=e(),Sr(),e),QC={id:"EnterPage"},JC=Mr(()=>_("h1",null,"\u7DDA\u4E0A\u731C\u62F3",-1)),XC={class:"btn_group"},ZC=Mr(()=>_("div",null,"\u5275\u5EFA\u623F\u9593+",-1)),tE=Mr(()=>_("div",{class:"btn--secondaryTitle"},null,-1)),eE=[ZC,tE],nE=Mr(()=>_("div",null,"\u52A0\u5165\u623F\u9593",-1)),iE=Mr(()=>_("div",{class:"btn--secondaryTitle"},null,-1)),rE=[nE,iE],aE=Mr(()=>_("div",{class:"other"},null,-1));function oE(e,t,n,i,r,a){const o=ei("CreateRoom"),s=ei("JoinRoom");return G(),tt("header",QC,[JC,_("nav",XC,[_("div",{class:"btn",onClick:t[0]||(t[0]=l=>i.openCreateRoom=!0)},eE),_("div",{class:"btn",onClick:t[1]||(t[1]=l=>i.openJoinRoom=!0)},rE)]),aE,i.openCreateRoom?(G(),Ii(o,{key:0,onClose:t[2]||(t[2]=l=>i.openCreateRoom=!1)})):cr("",!0),i.openJoinRoom?(G(),Ii(s,{key:1,onClose:t[3]||(t[3]=l=>i.openJoinRoom=!1)})):cr("",!0)])}var sE=ge(qC,[["render",oE],["__scopeId","data-v-7fd16464"]]),qd="/Rock-Paper-Scissors-Online/assets/\u526A\u5200.3781ad54.png",Qd="/Rock-Paper-Scissors-Online/assets/\u77F3\u982D.401cfcbe.png",Jd="/Rock-Paper-Scissors-Online/assets/\u5E03.2b9332b0.png";const Xm=[{name:"\u526A\u5200",img:qd,color:"#86bebb",en:"Scissors"},{name:"\u77F3\u982D",img:Qd,color:"#e0808b",en:"Rock"},{name:"\u5E03",img:Jd,color:"#84bc7f",en:"Paper"}],lE={setup(){const e=Nn(),t=On(),n=je.database(),i=Le({name:"",img:"",color:"",en:""}),r=Le({name:"",img:"",color:"",en:""}),a=ft(!1),o=ft(!1),s=ft(""),l=["\u4F60\u8D0F\u4E86","\u4F60\u8F38\u4E86","\u5E73\u624B"];e.state.linkedRoom||t.replace("/zh-tw");const p=()=>{let f=i.name,g=r.name;switch(f){case"\u526A\u5200":g=="\u526A\u5200"&&(s.value=l[2]),g=="\u77F3\u982D"&&(s.value=l[1]),g=="\u5E03"&&(s.value=l[0]);break;case"\u77F3\u982D":g=="\u526A\u5200"&&(s.value=l[0]),g=="\u77F3\u982D"&&(s.value=l[2]),g=="\u5E03"&&(s.value=l[1]);break;case"\u5E03":g=="\u526A\u5200"&&(s.value=l[1]),g=="\u77F3\u982D"&&(s.value=l[0]),g=="\u5E03"&&(s.value=l[2]);break}o.value=!1};e.state.linkedRoom&&n.ref(`/room/${e.state.linkedRoom}/`).on("value",f=>{var A,x,v,P;let g=f.val();if(((A=g.play_A)==null?void 0:A.join)&&((x=g.play_B)==null?void 0:x.join)&&(a.value=!0),((v=g.play_A)==null?void 0:v.select)&&((P=g.play_B)==null?void 0:P.select)){const F=e.state.role==="play_A"?"play_B":"play_A",z=g[F].select,j=Xm.find(Q=>Q.name==z);j&&(r.name=j.name,r.img=j.img,r.color=j.color,r.en=j.en,p())}});const d=f=>{i.name=f.name,i.img=f.img,i.color=f.color,i.en=f.en,o.value=!0,n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:f.name,join:!1})},c=()=>{i.name="",i.img="",i.color="",i.en="",r.name="",r.img="",r.color="",r.en="",a.value=!1,s.value="",n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:null,join:!0})},m=Oe(()=>e.state.linkedRoom);return{selectHandler:d,selectList:Xm,selected:i,startGame:a,waiting:o,roomId:m,opponentSelected:r,result:s,again:c}}},Ua=e=>(Er("data-v-537b9092"),e=e(),Sr(),e),pE={class:"wrap"},dE={class:"roomId"},cE={class:"container"},mE={class:"player self"},uE={class:"box"},fE=["src"],hE={key:1},gE=Ua(()=>_("h2",null,"\u81EA\u5DF1",-1)),_E=Ua(()=>_("div",{class:"vs"},"VS",-1)),xE={class:"player other"},bE={class:"box"},vE=["src"],yE={key:1},wE=Ua(()=>_("h2",null,"\u5C0D\u624B",-1)),CE={key:0,class:"select"},EE=Ua(()=>_("div",{class:"select_title"},"\u9078\u64C7\u51FA\u62F3",-1)),SE={class:"group"},RE=["onClick"],kE=["src"],TE={key:1,class:"result"},IE={class:"result_title"},AE=Ua(()=>_("div",{class:"space"},null,-1)),DE={class:"loading"},PE={class:"loading"};function OE(e,t,n,i,r,a){return G(),tt("div",pE,[_("div",dE,"\u623F\u865F\uFF1A"+Lt(i.roomId),1),_("div",cE,[_("div",mE,[_("div",uE,[i.selected.name?(G(),tt("div",{key:0,class:"selectItem",style:we({backgroundColor:i.selected.color})},[_("figure",null,[_("img",{src:i.selected.img,alt:""},null,8,fE),_("figcaption",null,[Se(Lt(i.selected.name)+" ",1),_("span",null,Lt(i.selected.en),1)])])],4)):(G(),tt("div",hE,"?"))]),gE]),_E,_("div",xE,[_("div",bE,[i.opponentSelected.name?(G(),tt("div",{key:0,class:"selectItem",style:we({backgroundColor:i.opponentSelected.color})},[_("figure",null,[_("img",{src:i.opponentSelected.img,alt:""},null,8,vE),_("figcaption",null,Lt(i.opponentSelected.name),1)])],4)):(G(),tt("div",yE,"?"))]),wE])]),i.result?(G(),tt("div",TE,[_("div",IE,Lt(i.result),1),_("div",{class:"refreshBtn",onClick:t[0]||(t[0]=o=>i.again())},"\u518D\u4F86\u4E00\u6B21\uFF01")])):(G(),tt("div",CE,[EE,_("div",SE,[(G(!0),tt(ce,null,Mp(i.selectList,o=>(G(),tt("div",{class:"selectItem",style:we({backgroundColor:o.color}),key:o.name,onClick:s=>i.selectHandler(o)},[_("figure",null,[_("img",{src:o.img,alt:""},null,8,kE),_("figcaption",null,Lt(o.name),1)])],12,RE))),128))])])),AE,Be(_("div",DE,"\u7B49\u5F85\u5C0D\u624B\u52A0\u5165\u4E2D...",512),[[ur,!i.startGame]]),Be(_("div",PE,"\u7B49\u5F85\u5C0D\u624B\u51FA\u62F3...",512),[[ur,i.waiting]])])}var NE=ge(lE,[["render",OE],["__scopeId","data-v-537b9092"]]);const ME={setup(e,t){const n=Nn(),i=On(),r=ft(null),a=ft(!1),o=je.database();return{createRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("input room id pleace!");const d=o.ref(`/room/${r.value}`);d.once("value").then(function(c){if(console.log("XXX",c),c.val()){const m=y(c.val().play_A.lastConnect).isAfter(y().add(-2,"m").format("YYYY/MM/DD hh:mm")),f=y(c.val().play_B.lastConnect).isAfter(y().add(-2,"m").format("YYYY/MM/DD hh:mm"));if(m&&f)return a.value=!1,alert("This room already exists, please change the room id")}d.set({play_A:{join:!0,select:null,lastConnect:y(new Date).format("YYYY/MM/DD hh:mm")},play_B:{join:!1,select:null,lastConnect:null}}).then(()=>{a.value=!1,n.commit("setLinkedRoom",r.value),n.commit("setRole","play_A"),setInterval(()=>{o.ref(`/room/${r.value}/play_A`).update({lastConnect:y(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/en/gameRoom")})})},createRoomId:r,close:()=>t.emit("close"),loading:a,reset:()=>{window.scrollTo(0,0)}}}},FE={class:"overlay"},LE={class:"popup"},zE={class:"createRoom"},BE=_("strong",{class:"mb_16"},"Create Room",-1);function YE(e,t,n,i,r,a){return G(),tt("div",FE,[_("div",LE,[_("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),_("div",zE,[BE,Be(_("input",{type:"phone",placeholder:"Create Room ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.createRoomId=o),onBlur:t[2]||(t[2]=o=>i.reset())},null,544),[[Rr,i.createRoomId]]),_("div",{class:Dn(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[3]||(t[3]=(...o)=>i.createRoom&&i.createRoom(...o))},Lt(i.loading?"Loading...":"Go!"),3)])])])}var jE=ge(ME,[["render",YE]]);const $E={setup(e,t){const n=Nn(),i=On(),r=ft(null),a=ft(!1),o=je.database();return{joinRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("input room id pleace!");o.ref(`/room/${r.value}`).once("value").then(c=>{const m=c.val();if(!m)return a.value=!1,alert("This room doesn't exist");if(!m.play_B.lastConnect||y(m.play_B.lastConnect).isBefore(y().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_B");else if(!m.play_A.lastConnect||y(m.play_A.lastConnect).isBefore(y().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_A");else return a.value=!1,alert("The room is full");n.commit("setLinkedRoom",r.value),o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:y(new Date).format("YYYY/MM/DD hh:mm"),join:!0}).then(()=>{a.value=!1,setInterval(()=>{o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:y(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/en/gameRoom")})})},joinRoomId:r,close:()=>t.emit("close"),loading:a,reset:()=>{window.scrollTo(0,0)}}}},WE={class:"overlay"},UE={class:"popup"},HE={class:"joinRoom"},VE=_("strong",{class:"mb_16"},"Join Room",-1);function GE(e,t,n,i,r,a){return G(),tt("div",WE,[_("div",UE,[_("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),_("div",HE,[VE,Be(_("input",{type:"phone",placeholder:"Join Room ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.joinRoomId=o),onBlur:t[2]||(t[2]=o=>i.reset())},null,544),[[Rr,i.joinRoomId]]),_("div",{class:Dn(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[3]||(t[3]=(...o)=>i.joinRoom&&i.joinRoom(...o))},Lt(i.loading?"Loading...":"Go!"),3)])])])}var KE=ge($E,[["render",GE]]);const qE={components:{CreateRoom:jE,JoinRoom:KE},setup(){ls({title:"Rock Paper Scissors Online - Be Good Tool",htmlAttrs:{lang:"en"},link:[{rel:"canonical",href:"https://yuntaolin.github.io/Rock-Paper-Scissors-Online/en"}],meta:[{name:"og:title",content:"Rock Paper Scissors Online - Be Good Tool"},{name:"og:description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely."},{name:"description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely."},{name:"twitter:title",content:"Rock Paper Scissors Online - Be Good Tool"},{name:"twitter:description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely."}]});const e=ft(!1),t=ft(!1);return{openCreateRoom:e,openJoinRoom:t}}},Vs=e=>(Er("data-v-57793874"),e=e(),Sr(),e),QE={id:"EnterPage"},JE=Vs(()=>_("h1",null,[Se("Rock Paper Scissors Online"),_("br",{class:"hidden-pad-up"})],-1)),XE={class:"btn_group"},ZE=Vs(()=>_("div",null,"Create Room +",-1)),t5=[ZE],e5=Vs(()=>_("div",null,"Join Room",-1)),n5=[e5],i5=Vs(()=>_("div",{class:"other"},null,-1));function r5(e,t,n,i,r,a){const o=ei("CreateRoom"),s=ei("JoinRoom");return G(),tt("div",QE,[JE,_("nav",XE,[_("div",{class:"btn",onClick:t[0]||(t[0]=l=>i.openCreateRoom=!0)},t5),_("div",{class:"btn",onClick:t[1]||(t[1]=l=>i.openJoinRoom=!0)},n5)]),i5,i.openCreateRoom?(G(),Ii(o,{key:0,onClose:t[2]||(t[2]=l=>i.openCreateRoom=!1)})):cr("",!0),i.openJoinRoom?(G(),Ii(s,{key:1,onClose:t[3]||(t[3]=l=>i.openJoinRoom=!1)})):cr("",!0)])}var a5=ge(qE,[["render",r5],["__scopeId","data-v-57793874"]]);const Zm=[{name:"\u526A\u5200",img:qd,color:"#86bebb",en:"Scissors"},{name:"\u77F3\u982D",img:Qd,color:"#e0808b",en:"Rock"},{name:"\u5E03",img:Jd,color:"#84bc7f",en:"Paper"}],o5={setup(){const e=Nn(),t=On(),n=je.database(),i=Le({name:"",img:"",color:"",en:""}),r=Le({name:"",img:"",color:"",en:""}),a=ft(!1),o=ft(!1),s=ft(""),l=["Win","Lose","Draw"];e.state.linkedRoom||t.replace("/en");const p=()=>{let f=i.name,g=r.name;switch(f){case"\u526A\u5200":g=="\u526A\u5200"&&(s.value=l[2]),g=="\u77F3\u982D"&&(s.value=l[1]),g=="\u5E03"&&(s.value=l[0]);break;case"\u77F3\u982D":g=="\u526A\u5200"&&(s.value=l[0]),g=="\u77F3\u982D"&&(s.value=l[2]),g=="\u5E03"&&(s.value=l[1]);break;case"\u5E03":g=="\u526A\u5200"&&(s.value=l[1]),g=="\u77F3\u982D"&&(s.value=l[0]),g=="\u5E03"&&(s.value=l[2]);break}o.value=!1};e.state.linkedRoom&&n.ref(`/room/${e.state.linkedRoom}/`).on("value",f=>{var A,x,v,P;let g=f.val();if(((A=g.play_A)==null?void 0:A.join)&&((x=g.play_B)==null?void 0:x.join)&&(a.value=!0),((v=g.play_A)==null?void 0:v.select)&&((P=g.play_B)==null?void 0:P.select)){const F=e.state.role==="play_A"?"play_B":"play_A",z=g[F].select,j=Zm.find(Q=>Q.name==z);j&&(r.name=j.name,r.img=j.img,r.color=j.color,r.en=j.en,p())}});const d=f=>{i.name=f.name,i.img=f.img,i.color=f.color,i.en=f.en,o.value=!0,n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:f.name,join:!1})},c=()=>{i.name="",i.img="",i.color="",i.en="",r.name="",r.img="",r.color="",r.en="",a.value=!1,s.value="",n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:null,join:!0})},m=Oe(()=>e.state.linkedRoom);return{selectHandler:d,selectList:Zm,selected:i,startGame:a,waiting:o,roomId:m,opponentSelected:r,result:s,again:c}}},Ha=e=>(Er("data-v-de06663a"),e=e(),Sr(),e),s5={class:"wrap"},l5={class:"roomId"},p5={class:"container"},d5={class:"player self"},c5={class:"box"},m5=["src"],u5={key:1},f5=Ha(()=>_("h2",null,"You",-1)),h5=Ha(()=>_("div",{class:"vs"},"VS",-1)),g5={class:"player other"},_5={class:"box"},x5=["src"],b5={key:1},v5=Ha(()=>_("h2",null,"Opponent",-1)),y5={key:0,class:"select"},w5=Ha(()=>_("div",{class:"select_title"},"Choose",-1)),C5={class:"group"},E5=["onClick"],S5=["src"],R5={key:1,class:"result"},k5={class:"result_title"},T5=Ha(()=>_("div",{class:"space"},null,-1)),I5={class:"loading"},A5={class:"loading"};function D5(e,t,n,i,r,a){return G(),tt("div",s5,[_("div",l5,"Room ID\uFF1A"+Lt(i.roomId),1),_("div",p5,[_("div",d5,[_("div",c5,[i.selected.name?(G(),tt("div",{key:0,class:"selectItem",style:we({backgroundColor:i.selected.color})},[_("figure",null,[_("img",{src:i.selected.img,alt:""},null,8,m5),_("figcaption",null,Lt(i.selected.en),1)])],4)):(G(),tt("div",u5,"?"))]),f5]),h5,_("div",g5,[_("div",_5,[i.opponentSelected.name?(G(),tt("div",{key:0,class:"selectItem",style:we({backgroundColor:i.opponentSelected.color})},[_("figure",null,[_("img",{src:i.opponentSelected.img,alt:""},null,8,x5),_("figcaption",null,[Se(Lt(i.opponentSelected.name)+" ",1),_("span",null,Lt(i.opponentSelected.en),1)])])],4)):(G(),tt("div",b5,"?"))]),v5])]),i.result?(G(),tt("div",R5,[_("div",k5,Lt(i.result),1),_("div",{class:"refreshBtn",onClick:t[0]||(t[0]=o=>i.again())},"Play Again\uFF01")])):(G(),tt("div",y5,[w5,_("div",C5,[(G(!0),tt(ce,null,Mp(i.selectList,o=>(G(),tt("div",{class:"selectItem",style:we({backgroundColor:o.color}),key:o.name,onClick:s=>i.selectHandler(o)},[_("figure",null,[_("img",{src:o.img,alt:""},null,8,S5),_("figcaption",null,Lt(o.en),1)])],12,E5))),128))])])),T5,Be(_("div",I5,"Waiting Opponent Join...",512),[[ur,!i.startGame]]),Be(_("div",A5,"Waiting Opponent Choose...",512),[[ur,i.waiting]])])}var P5=ge(o5,[["render",D5],["__scopeId","data-v-de06663a"]]);const O5={setup(e,t){const n=Nn(),i=On(),r=ft(null),a=ft(!1),o=je.database();return{createRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("\u8BF7\u8F93\u5165\u623F\u53F7");const d=o.ref(`/room/${r.value}`);d.once("value").then(function(c){if(c.val()){const m=y(c.val().play_A.lastConnect).isAfter(y().add(-2,"m").format("YYYY/MM/DD hh:mm")),f=y(c.val().play_B.lastConnect).isAfter(y().add(-2,"m").format("YYYY/MM/DD hh:mm"));if(m&&f)return a.value=!1,alert("\u5DF2\u7ECF\u5B58\u5728\u8BE5\u623F\u95F4\u5570\uFF0C\u8BF7\u6362\u4E00\u4E2A\u623F\u53F7")}d.set({play_A:{join:!0,select:null,lastConnect:y(new Date).format("YYYY/MM/DD hh:mm")},play_B:{join:!1,select:null,lastConnect:null}}).then(()=>{a.value=!1,n.commit("setLinkedRoom",r.value),n.commit("setRole","play_A"),setInterval(()=>{o.ref(`/room/${r.value}/play_A`).update({lastConnect:y(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/cn/gameRoom")})})},createRoomId:r,close:()=>t.emit("close"),loading:a,reset:()=>{window.scrollTo(0,0)}}}},N5={class:"overlay"},M5={class:"popup"},F5={class:"createRoom"},L5=_("strong",{class:"mb_16"},"\u521B\u5EFA\u623F\u95F4",-1);function z5(e,t,n,i,r,a){return G(),tt("div",N5,[_("div",M5,[_("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),_("div",F5,[L5,Be(_("input",{type:"phone",placeholder:"\u8BF7\u81EA\u8BA2\u623F\u95F4ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.createRoomId=o),onBlur:t[2]||(t[2]=o=>i.reset())},null,544),[[Rr,i.createRoomId]]),_("div",{class:Dn(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[3]||(t[3]=(...o)=>i.createRoom&&i.createRoom(...o))},Lt(i.loading?"\u8BF7\u7A0D\u540E...":"\u521B\u5EFA"),3)])])])}var B5=ge(O5,[["render",z5]]);const Y5={setup(e,t){const n=Nn(),i=On(),r=ft(null),a=ft(!1),o=je.database();return{joinRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("\u8BF7\u8F93\u5165\u623F\u53F7");o.ref(`/room/${r.value}`).once("value").then(c=>{const m=c.val();if(!m)return a.value=!1,alert("\u8BE5\u623F\u95F4\u4E0D\u5B58\u5728\u5594");if(!m.play_B.lastConnect||y(m.play_B.lastConnect).isBefore(y().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_B");else if(!m.play_A.lastConnect||y(m.play_A.lastConnect).isBefore(y().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_A");else return a.value=!1,alert("\u8BE5\u623F\u95F4\u4EBA\u6570\u5DF2\u989D\u6EE1");n.commit("setLinkedRoom",r.value),o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:y(new Date).format("YYYY/MM/DD hh:mm"),join:!0}).then(()=>{a.value=!1,setInterval(()=>{o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:y(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/cn/gameRoom")})})},joinRoomId:r,close:()=>t.emit("close"),loading:a,reset:()=>{window.scrollTo(0,0)}}}},j5={class:"overlay"},$5={class:"popup"},W5={class:"joinRoom"},U5=_("strong",{class:"mb_16"},"\u52A0\u5165\u623F\u95F4",-1);function H5(e,t,n,i,r,a){return G(),tt("div",j5,[_("div",$5,[_("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),_("div",W5,[U5,Be(_("input",{type:"phone",placeholder:"\u8BF7\u8F93\u5165\u623F\u95F4ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.joinRoomId=o),onBlur:t[2]||(t[2]=o=>i.reset())},null,544),[[Rr,i.joinRoomId]]),_("div",{class:Dn(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[3]||(t[3]=(...o)=>i.joinRoom&&i.joinRoom(...o))},Lt(i.loading?"\u8BF7\u7A0D\u540E...":"\u52A0\u5165"),3)])])])}var V5=ge(Y5,[["render",H5]]);const G5={components:{CreateRoom:B5,JoinRoom:V5},setup(){ls({title:"\u7EBF\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u5934\u5E03 - \u662F\u4E2A\u597D\u5DE5\u5177",htmlAttrs:{lang:"zh-cn"},link:[{rel:"canonical",href:"https://yuntaolin.github.io/Rock-Paper-Scissors-Online/cn"}],meta:[{name:"og:title",content:"\u7EBF\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u5934\u5E03 - \u662F\u4E2A\u597D\u5DE5\u5177"},{name:"og:description",content:"\u514D\u8D39\u7EBF\u4E0A\u5373\u65F6\u731C\u62F3\u6E38\u620F\uFF0C\u53EF\u521B\u5EFA\u72EC\u7ACB\u623F\u53F7\u548C\u670B\u53CB\u8FDC\u7AEF\u8FDB\u884C\u7EBF\u4E0A\u5373\u65F6\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8D39\u3002"},{name:"description",content:"\u514D\u8D39\u7EBF\u4E0A\u5373\u65F6\u731C\u62F3\u6E38\u620F\uFF0C\u53EF\u521B\u5EFA\u72EC\u7ACB\u623F\u53F7\u548C\u670B\u53CB\u8FDC\u7AEF\u8FDB\u884C\u7EBF\u4E0A\u5373\u65F6\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8D39\u3002"},{name:"twitter:title",content:"\u7EBF\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u5934\u5E03 - \u662F\u4E2A\u597D\u5DE5\u5177"},{name:"twitter:description",content:"\u514D\u8D39\u7EBF\u4E0A\u5373\u65F6\u731C\u62F3\u6E38\u620F\uFF0C\u53EF\u521B\u5EFA\u72EC\u7ACB\u623F\u53F7\u548C\u670B\u53CB\u8FDC\u7AEF\u8FDB\u884C\u7EBF\u4E0A\u5373\u65F6\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8D39\u3002"}]});const e=ft(!1),t=ft(!1);return{openCreateRoom:e,openJoinRoom:t}}},Fr=e=>(Er("data-v-6ce96199"),e=e(),Sr(),e),K5={id:"EnterPage"},q5=Fr(()=>_("h1",null,"\u7EBF\u4E0A\u731C\u62F3",-1)),Q5={class:"btn_group"},J5=Fr(()=>_("div",null,"\u521B\u5EFA\u623F\u95F4+",-1)),X5=Fr(()=>_("div",{class:"btn--secondaryTitle"},null,-1)),Z5=[J5,X5],tS=Fr(()=>_("div",null,"\u52A0\u5165\u623F\u95F4",-1)),eS=Fr(()=>_("div",{class:"btn--secondaryTitle"},null,-1)),nS=[tS,eS],iS=Fr(()=>_("div",{class:"other"},null,-1));function rS(e,t,n,i,r,a){const o=ei("CreateRoom"),s=ei("JoinRoom");return G(),tt("header",K5,[q5,_("nav",Q5,[_("div",{class:"btn",onClick:t[0]||(t[0]=l=>i.openCreateRoom=!0)},Z5),_("div",{class:"btn",onClick:t[1]||(t[1]=l=>i.openJoinRoom=!0)},nS)]),iS,i.openCreateRoom?(G(),Ii(o,{key:0,onClose:t[2]||(t[2]=l=>i.openCreateRoom=!1)})):cr("",!0),i.openJoinRoom?(G(),Ii(s,{key:1,onClose:t[3]||(t[3]=l=>i.openJoinRoom=!1)})):cr("",!0)])}var aS=ge(G5,[["render",rS],["__scopeId","data-v-6ce96199"]]);const tu=[{name:"\u526A\u5200",img:qd,color:"#86bebb",en:"Scissors"},{name:"\u77F3\u5934",img:Qd,color:"#e0808b",en:"Rock"},{name:"\u5E03",img:Jd,color:"#84bc7f",en:"Paper"}],oS={setup(){const e=Nn(),t=On(),n=je.database(),i=Le({name:"",img:"",color:"",en:""}),r=Le({name:"",img:"",color:"",en:""}),a=ft(!1),o=ft(!1),s=ft(""),l=["\u80DC\u5229","\u82AD\u6BD4Q\u4E86","\u5E73\u624B"];e.state.linkedRoom||t.replace("/cn");const p=()=>{let f=i.name,g=r.name;switch(f){case"\u526A\u5200":g=="\u526A\u5200"&&(s.value=l[2]),g=="\u77F3\u5934"&&(s.value=l[1]),g=="\u5E03"&&(s.value=l[0]);break;case"\u77F3\u5934":g=="\u526A\u5200"&&(s.value=l[0]),g=="\u77F3\u5934"&&(s.value=l[2]),g=="\u5E03"&&(s.value=l[1]);break;case"\u5E03":g=="\u526A\u5200"&&(s.value=l[1]),g=="\u77F3\u5934"&&(s.value=l[0]),g=="\u5E03"&&(s.value=l[2]);break}o.value=!1};e.state.linkedRoom&&n.ref(`/room/${e.state.linkedRoom}/`).on("value",f=>{var A,x,v,P;let g=f.val();if(((A=g.play_A)==null?void 0:A.join)&&((x=g.play_B)==null?void 0:x.join)&&(a.value=!0),((v=g.play_A)==null?void 0:v.select)&&((P=g.play_B)==null?void 0:P.select)){const F=e.state.role==="play_A"?"play_B":"play_A",z=g[F].select,j=tu.find(Q=>Q.name==z);j&&(r.name=j.name,r.img=j.img,r.color=j.color,r.en=j.en,p())}});const d=f=>{i.name=f.name,i.img=f.img,i.color=f.color,i.en=f.en,o.value=!0,n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:f.name,join:!1})},c=()=>{i.name="",i.img="",i.color="",i.en="",r.name="",r.img="",r.color="",r.en="",a.value=!1,s.value="",n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:null,join:!0})},m=Oe(()=>e.state.linkedRoom);return{selectHandler:d,selectList:tu,selected:i,startGame:a,waiting:o,roomId:m,opponentSelected:r,result:s,again:c}}},Va=e=>(Er("data-v-42d3a5bf"),e=e(),Sr(),e),sS={class:"wrap"},lS={class:"roomId"},pS={class:"container"},dS={class:"player self"},cS={class:"box"},mS=["src"],uS={key:1},fS=Va(()=>_("h2",null," \u81EA\u5DF1 ",-1)),hS=Va(()=>_("div",{class:"vs"},"VS",-1)),gS={class:"player other"},_S={class:"box"},xS=["src"],bS={key:1},vS=Va(()=>_("h2",null,"\u5BF9\u624B",-1)),yS={key:0,class:"select"},wS=Va(()=>_("div",{class:"select_title"},"\u9009\u62E9\u51FA\u62F3",-1)),CS={class:"group"},ES=["onClick"],SS=["src"],RS={key:1,class:"result"},kS={class:"result_title"},TS=Va(()=>_("div",{class:"space"},null,-1)),IS={class:"loading"},AS={class:"loading"};function DS(e,t,n,i,r,a){return G(),tt("div",sS,[_("div",lS,"\u623F\u53F7\uFF1A"+Lt(i.roomId),1),_("div",pS,[_("div",dS,[_("div",cS,[i.selected.name?(G(),tt("div",{key:0,class:"selectItem",style:we({backgroundColor:i.selected.color})},[_("figure",null,[_("img",{src:i.selected.img,alt:""},null,8,mS),_("figcaption",null,[Se(Lt(i.selected.name)+" ",1),_("span",null,Lt(i.selected.en),1)])])],4)):(G(),tt("div",uS,"?"))]),fS]),hS,_("div",gS,[_("div",_S,[i.opponentSelected.name?(G(),tt("div",{key:0,class:"selectItem",style:we({backgroundColor:i.opponentSelected.color})},[_("figure",null,[_("img",{src:i.opponentSelected.img,alt:""},null,8,xS),_("figcaption",null,Lt(i.opponentSelected.name),1)])],4)):(G(),tt("div",bS,"?"))]),vS])]),i.result?(G(),tt("div",RS,[_("div",kS,Lt(i.result),1),_("div",{class:"refreshBtn",onClick:t[0]||(t[0]=o=>i.again())},"\u518D\u6765\u4E00\u6B21\uFF01")])):(G(),tt("div",yS,[wS,_("div",CS,[(G(!0),tt(ce,null,Mp(i.selectList,o=>(G(),tt("div",{class:"selectItem",style:we({backgroundColor:o.color}),key:o.name,onClick:s=>i.selectHandler(o)},[_("figure",null,[_("img",{src:o.img,alt:""},null,8,SS),_("figcaption",null,Lt(o.name),1)])],12,ES))),128))])])),TS,Be(_("div",IS,"\u7B49\u5F85\u5BF9\u624B\u52A0\u5165\u4E2D...",512),[[ur,!i.startGame]]),Be(_("div",AS,"\u7B49\u5F85\u5BF9\u624B\u51FA\u62F3...",512),[[ur,i.waiting]])])}var PS=ge(oS,[["render",DS],["__scopeId","data-v-42d3a5bf"]]);const OS=[{path:"/",name:"Index",component:N4},{path:"/tw",redirect:"/zh-tw"},{path:"/zh-tw",name:"Enter",component:sE},{path:"/zh-tw/gameRoom",name:"Gameroom",component:NE},{path:"/en-us",redirect:"/en"},{path:"/en",name:"EnterUS",component:a5},{path:"/en/gameRoom",name:"GameroomUS",component:P5},{path:"/cn",name:"EnterCN",component:aS},{path:"/cn/gameRoom",name:"GameroomCN",component:PS},{path:"/:pathMatch(.*)*",redirect:{path:"/"}}];hb(h4,{routes:OS,base:"/Rock-Paper-Scissors-Online/"},({app:e,router:t,routes:n,isClient:i,initialState:r})=>{Object.values({}).map(a=>{var o;return(o=a.install)==null?void 0:o.call(a,e)}),e.use(T4),e.config.performance=!1,Object.values({}).map(a=>{var o;return(o=a.install)==null?void 0:o.call(a,e)})})});export default NS();
