var lg=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var R5=lg((k5,aa)=>{const dg=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};dg();function cg(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const pg=()=>{},ug=Object.assign,fg=Object.prototype.hasOwnProperty,Ha=(e,t)=>fg.call(e,t),jn=Array.isArray,Zo=e=>Ku(e)==="[object Map]",hg=e=>typeof e=="function",mg=e=>typeof e=="string",dd=e=>typeof e=="symbol",Va=e=>e!==null&&typeof e=="object",_g=Object.prototype.toString,Ku=e=>_g.call(e),gg=e=>Ku(e).slice(8,-1),cd=e=>mg(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pd=(e,t)=>!Object.is(e,t),xg=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let ci;const Wo=[];class vg{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&ci&&(this.parent=ci,this.index=(ci.scopes||(ci.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(Wo.push(this),ci=this)}off(){this.active&&(Wo.pop(),ci=Wo[Wo.length-1])}stop(t){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function bg(e,t){t=t||ci,t&&t.active&&t.effects.push(e)}const ud=e=>{const t=new Set(e);return t.w=0,t.n=0,t},qu=e=>(e.w&Qn)>0,Qu=e=>(e.n&Qn)>0,yg=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Qn},wg=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];qu(r)&&!Qu(r)?r.delete(e):t[n++]=r,r.w&=~Qn,r.n&=~Qn}t.length=n}},hl=new WeakMap;let Wr=0,Qn=1;const ml=30,Ar=[];let xi;const vi=Symbol(""),_l=Symbol("");class fd{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],bg(this,i)}run(){if(!this.active)return this.fn();if(!Ar.includes(this))try{return Ar.push(xi=this),Cg(),Qn=1<<++Wr,Wr<=ml?yg(this):qc(this),this.fn()}finally{Wr<=ml&&wg(this),Qn=1<<--Wr,Pi(),Ar.pop();const t=Ar.length;xi=t>0?Ar[t-1]:void 0}}stop(){this.active&&(qc(this),this.onStop&&this.onStop(),this.active=!1)}}function qc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let or=!0;const hd=[];function gr(){hd.push(or),or=!1}function Cg(){hd.push(or),or=!0}function Pi(){const e=hd.pop();or=e===void 0?!0:e}function be(e,t,n){if(!Ju())return;let i=hl.get(e);i||hl.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=ud()),Zu(r)}function Ju(){return or&&xi!==void 0}function Zu(e,t){let n=!1;Wr<=ml?Qu(e)||(e.n|=Qn,n=!qu(e)):n=!e.has(xi),n&&(e.add(xi),xi.deps.push(e))}function Sn(e,t,n,i,r,o){const a=hl.get(e);if(!a)return;let s=[];if(t==="clear")s=[...a.values()];else if(n==="length"&&jn(e))a.forEach((l,d)=>{(d==="length"||d>=i)&&s.push(l)});else switch(n!==void 0&&s.push(a.get(n)),t){case"add":jn(e)?cd(n)&&s.push(a.get("length")):(s.push(a.get(vi)),Zo(e)&&s.push(a.get(_l)));break;case"delete":jn(e)||(s.push(a.get(vi)),Zo(e)&&s.push(a.get(_l)));break;case"set":Zo(e)&&s.push(a.get(vi));break}if(s.length===1)s[0]&&gl(s[0]);else{const l=[];for(const d of s)d&&l.push(...d);gl(ud(l))}}function gl(e,t){for(const n of jn(e)?e:[...e])(n!==xi||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const Eg=cg("__proto__,__v_isRef,__isVue"),Xu=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(dd)),Sg=md(),Rg=md(!1,!0),Tg=md(!0),Qc=kg();function kg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=ft(this);for(let o=0,a=this.length;o<a;o++)be(i,"get",o+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(ft)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){gr();const i=ft(this)[t].apply(this,n);return Pi(),i}}),e}function md(e=!1,t=!1){return function(i,r,o){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_raw"&&o===(e?t?Ug:of:t?rf:nf).get(i))return i;const a=jn(i);if(!e&&a&&Ha(Qc,r))return Reflect.get(Qc,r,o);const s=Reflect.get(i,r,o);return(dd(r)?Xu.has(r):Eg(r))||(e||be(i,"get",r),t)?s:ae(s)?!a||!cd(r)?s.value:s:Va(s)?e?af(s):sn(s):s}}const Ig=tf(),Ag=tf(!0);function tf(e=!1){return function(n,i,r,o){let a=n[i];if(!e&&!vd(r)&&(r=ft(r),a=ft(a),!jn(n)&&ae(a)&&!ae(r)))return a.value=r,!0;const s=jn(n)&&cd(i)?Number(i)<n.length:Ha(n,i),l=Reflect.set(n,i,r,o);return n===ft(o)&&(s?pd(r,a)&&Sn(n,"set",i,r):Sn(n,"add",i,r)),l}}function Og(e,t){const n=Ha(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Sn(e,"delete",t,void 0),i}function Pg(e,t){const n=Reflect.has(e,t);return(!dd(t)||!Xu.has(t))&&be(e,"has",t),n}function Dg(e){return be(e,"iterate",jn(e)?"length":vi),Reflect.ownKeys(e)}const ef={get:Sg,set:Ig,deleteProperty:Og,has:Pg,ownKeys:Dg},Ng={get:Tg,set(e,t){return!0},deleteProperty(e,t){return!0}},Mg=ug({},ef,{get:Rg,set:Ag}),_d=e=>e,Ga=e=>Reflect.getPrototypeOf(e);function jo(e,t,n=!1,i=!1){e=e.__v_raw;const r=ft(e),o=ft(t);t!==o&&!n&&be(r,"get",t),!n&&be(r,"get",o);const{has:a}=Ga(r),s=i?_d:n?bd:eo;if(a.call(r,t))return s(e.get(t));if(a.call(r,o))return s(e.get(o));e!==r&&e.get(t)}function Bo(e,t=!1){const n=this.__v_raw,i=ft(n),r=ft(e);return e!==r&&!t&&be(i,"has",e),!t&&be(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function Uo(e,t=!1){return e=e.__v_raw,!t&&be(ft(e),"iterate",vi),Reflect.get(e,"size",e)}function Jc(e){e=ft(e);const t=ft(this);return Ga(t).has.call(t,e)||(t.add(e),Sn(t,"add",e,e)),this}function Zc(e,t){t=ft(t);const n=ft(this),{has:i,get:r}=Ga(n);let o=i.call(n,e);o||(e=ft(e),o=i.call(n,e));const a=r.call(n,e);return n.set(e,t),o?pd(t,a)&&Sn(n,"set",e,t):Sn(n,"add",e,t),this}function Xc(e){const t=ft(this),{has:n,get:i}=Ga(t);let r=n.call(t,e);r||(e=ft(e),r=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return r&&Sn(t,"delete",e,void 0),o}function tp(){const e=ft(this),t=e.size!==0,n=e.clear();return t&&Sn(e,"clear",void 0,void 0),n}function Ho(e,t){return function(i,r){const o=this,a=o.__v_raw,s=ft(a),l=t?_d:e?bd:eo;return!e&&be(s,"iterate",vi),a.forEach((d,c)=>i.call(r,l(d),l(c),o))}}function Vo(e,t,n){return function(...i){const r=this.__v_raw,o=ft(r),a=Zo(o),s=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,d=r[e](...i),c=n?_d:t?bd:eo;return!t&&be(o,"iterate",l?_l:vi),{next(){const{value:p,done:u}=d.next();return u?{value:p,done:u}:{value:s?[c(p[0]),c(p[1])]:c(p),done:u}},[Symbol.iterator](){return this}}}}function Dn(e){return function(...t){return e==="delete"?!1:this}}function Fg(){const e={get(o){return jo(this,o)},get size(){return Uo(this)},has:Bo,add:Jc,set:Zc,delete:Xc,clear:tp,forEach:Ho(!1,!1)},t={get(o){return jo(this,o,!1,!0)},get size(){return Uo(this)},has:Bo,add:Jc,set:Zc,delete:Xc,clear:tp,forEach:Ho(!1,!0)},n={get(o){return jo(this,o,!0)},get size(){return Uo(this,!0)},has(o){return Bo.call(this,o,!0)},add:Dn("add"),set:Dn("set"),delete:Dn("delete"),clear:Dn("clear"),forEach:Ho(!0,!1)},i={get(o){return jo(this,o,!0,!0)},get size(){return Uo(this,!0)},has(o){return Bo.call(this,o,!0)},add:Dn("add"),set:Dn("set"),delete:Dn("delete"),clear:Dn("clear"),forEach:Ho(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Vo(o,!1,!1),n[o]=Vo(o,!0,!1),t[o]=Vo(o,!1,!0),i[o]=Vo(o,!0,!0)}),[e,n,t,i]}const[Lg,zg,Yg,$g]=Fg();function gd(e,t){const n=t?e?$g:Yg:e?zg:Lg;return(i,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Ha(n,r)&&r in i?n:i,r,o)}const Wg={get:gd(!1,!1)},jg={get:gd(!1,!0)},Bg={get:gd(!0,!1)},nf=new WeakMap,rf=new WeakMap,of=new WeakMap,Ug=new WeakMap;function Hg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vg(e){return e.__v_skip||!Object.isExtensible(e)?0:Hg(gg(e))}function sn(e){return e&&e.__v_isReadonly?e:xd(e,!1,ef,Wg,nf)}function Gg(e){return xd(e,!1,Mg,jg,rf)}function af(e){return xd(e,!0,Ng,Bg,of)}function xd(e,t,n,i,r){if(!Va(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const a=Vg(e);if(a===0)return e;const s=new Proxy(e,a===2?i:n);return r.set(e,s),s}function Ji(e){return vd(e)?Ji(e.__v_raw):!!(e&&e.__v_isReactive)}function vd(e){return!!(e&&e.__v_isReadonly)}function sf(e){return Ji(e)||vd(e)}function ft(e){const t=e&&e.__v_raw;return t?ft(t):e}function lf(e){return xg(e,"__v_skip",!0),e}const eo=e=>Va(e)?sn(e):e,bd=e=>Va(e)?af(e):e;function df(e){Ju()&&(e=ft(e),e.dep||(e.dep=ud()),Zu(e.dep))}function cf(e,t){e=ft(e),e.dep&&gl(e.dep)}function ae(e){return Boolean(e&&e.__v_isRef===!0)}function Qt(e){return pf(e,!1)}function Kg(e){return pf(e,!0)}function pf(e,t){return ae(e)?e:new qg(e,t)}class qg{constructor(t,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ft(t),this._value=n?t:eo(t)}get value(){return df(this),this._value}set value(t){t=this._shallow?t:ft(t),pd(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:eo(t),cf(this))}}function Br(e){return ae(e)?e.value:e}const Qg={get:(e,t,n)=>Br(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return ae(r)&&!ae(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function uf(e){return Ji(e)?e:new Proxy(e,Qg)}class Jg{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new fd(t,()=>{this._dirty||(this._dirty=!0,cf(this))}),this.effect.active=!r,this.__v_isReadonly=i}get value(){const t=ft(this);return df(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ff(e,t,n=!1){let i,r;const o=hg(e);return o?(i=e,r=pg):(i=e.get,r=e.set),new Jg(i,r,o||!r,n)}Promise.resolve();function Zg(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function rn(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=De(i)?e1(i):rn(i);if(r)for(const o in r)t[o]=r[o]}return t}else{if(De(e))return e;if(se(e))return e}}const Xg=/;(?![^(]*\))/g,t1=/:(.+)/;function e1(e){const t={};return e.split(Xg).forEach(n=>{if(n){const i=n.split(t1);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function yd(e){let t="";if(De(e))t=e;else if(dt(e))for(let n=0;n<e.length;n++){const i=yd(e[n]);i&&(t+=i+" ")}else if(se(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ke=e=>e==null?"":dt(e)||se(e)&&(e.toString===vf||!nt(e.toString))?JSON.stringify(e,hf,2):String(e),hf=(e,t)=>t&&t.__v_isRef?hf(e,t.value):_f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:gf(t)?{[`Set(${t.size})`]:[...t.values()]}:se(t)&&!dt(t)&&!bf(t)?String(t):t,bt={},Zi=[],on=()=>{},n1=()=>!1,i1=/^on[^a-z]/,Ka=e=>i1.test(e),mf=e=>e.startsWith("onUpdate:"),ye=Object.assign,wd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},r1=Object.prototype.hasOwnProperty,mt=(e,t)=>r1.call(e,t),dt=Array.isArray,_f=e=>Cd(e)==="[object Map]",gf=e=>Cd(e)==="[object Set]",nt=e=>typeof e=="function",De=e=>typeof e=="string",se=e=>e!==null&&typeof e=="object",xf=e=>se(e)&&nt(e.then)&&nt(e.catch),vf=Object.prototype.toString,Cd=e=>vf.call(e),bf=e=>Cd(e)==="[object Object]",Ur=Zg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qa=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},o1=/-(\w)/g,ln=qa(e=>e.replace(o1,(t,n)=>n?n.toUpperCase():"")),a1=/\B([A-Z])/g,Qa=qa(e=>e.replace(a1,"-$1").toLowerCase()),Ed=qa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bs=qa(e=>e?`on${Ed(e)}`:""),ep=(e,t)=>!Object.is(e,t),Us=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},xl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},s1=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let np;const l1=()=>np||(np=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Bn(e,t,n,i){let r;try{r=i?e(...i):e()}catch(o){Ja(o,t,n)}return r}function He(e,t,n,i){if(nt(e)){const o=Bn(e,t,n,i);return o&&xf(o)&&o.catch(a=>{Ja(a,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(He(e[o],t,n,i));return r}function Ja(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,s=n;for(;o;){const d=o.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](e,a,s)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){Bn(l,null,10,[e,a,s]);return}}d1(e,n,r,i)}function d1(e,t,n,i=!0){console.error(e)}let sa=!1,vl=!1;const xe=[];let vn=0;const Hr=[];let jr=null,Hi=0;const Vr=[];let Mn=null,Vi=0;const yf=Promise.resolve();let Sd=null,bl=null;function wf(e){const t=Sd||yf;return e?t.then(this?e.bind(this):e):t}function c1(e){let t=vn+1,n=xe.length;for(;t<n;){const i=t+n>>>1;no(xe[i])<e?t=i+1:n=i}return t}function Cf(e){(!xe.length||!xe.includes(e,sa&&e.allowRecurse?vn+1:vn))&&e!==bl&&(e.id==null?xe.push(e):xe.splice(c1(e.id),0,e),Ef())}function Ef(){!sa&&!vl&&(vl=!0,Sd=yf.then(Rf))}function p1(e){const t=xe.indexOf(e);t>vn&&xe.splice(t,1)}function Sf(e,t,n,i){dt(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?i+1:i))&&n.push(e),Ef()}function u1(e){Sf(e,jr,Hr,Hi)}function f1(e){Sf(e,Mn,Vr,Vi)}function Rd(e,t=null){if(Hr.length){for(bl=t,jr=[...new Set(Hr)],Hr.length=0,Hi=0;Hi<jr.length;Hi++)jr[Hi]();jr=null,Hi=0,bl=null,Rd(e,t)}}function la(e){if(Vr.length){const t=[...new Set(Vr)];if(Vr.length=0,Mn){Mn.push(...t);return}for(Mn=t,Mn.sort((n,i)=>no(n)-no(i)),Vi=0;Vi<Mn.length;Vi++)Mn[Vi]();Mn=null,Vi=0}}const no=e=>e.id==null?1/0:e.id;function Rf(e){vl=!1,sa=!0,Rd(e),xe.sort((n,i)=>no(n)-no(i));const t=on;try{for(vn=0;vn<xe.length;vn++){const n=xe[vn];n&&n.active!==!1&&Bn(n,null,14)}}finally{vn=0,xe.length=0,la(),sa=!1,Sd=null,(xe.length||Hr.length||Vr.length)&&Rf(e)}}function h1(e,t,...n){const i=e.vnode.props||bt;let r=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in i){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:u}=i[c]||bt;u?r=n.map(h=>h.trim()):p&&(r=n.map(s1))}let s,l=i[s=Bs(t)]||i[s=Bs(ln(t))];!l&&o&&(l=i[s=Bs(Qa(t))]),l&&He(l,e,6,r);const d=i[s+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,He(d,e,6,r)}}function Tf(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const o=e.emits;let a={},s=!1;if(!nt(e)){const l=d=>{const c=Tf(d,t,!0);c&&(s=!0,ye(a,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!s?(i.set(e,null),null):(dt(o)?o.forEach(l=>a[l]=null):ye(a,o),i.set(e,a),a)}function Td(e,t){return!e||!Ka(t)?!1:(t=t.slice(2).replace(/Once$/,""),mt(e,t[0].toLowerCase()+t.slice(1))||mt(e,Qa(t))||mt(e,t))}let je=null,Za=null;function da(e){const t=je;return je=e,Za=e&&e.type.__scopeId||null,t}function Eo(e){Za=e}function So(){Za=null}function yl(e,t=je,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&up(-1);const o=da(t),a=e(...r);return da(o),i._d&&up(1),a};return i._n=!0,i._c=!0,i._d=!0,i}function Hs(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[a],slots:s,attrs:l,emit:d,render:c,renderCache:p,data:u,setupState:h,ctx:_,inheritAttrs:O}=e;let g,v;const P=da(e);try{if(n.shapeFlag&4){const Y=r||i;g=$e(c.call(Y,Y,p,o,h,u,_)),v=l}else{const Y=t;g=$e(Y.length>1?Y(o,{attrs:l,slots:s,emit:d}):Y(o,null)),v=t.props?l:m1(l)}}catch(Y){Gr.length=0,Ja(Y,e,1),g=qt(Zn)}let F=g;if(v&&O!==!1){const Y=Object.keys(v),{shapeFlag:V}=F;Y.length&&V&7&&(a&&Y.some(mf)&&(v=_1(v,a)),F=oo(F,v))}return n.dirs&&(F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),g=F,da(P),g}const m1=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ka(n))&&((t||(t={}))[n]=e[n]);return t},_1=(e,t)=>{const n={};for(const i in e)(!mf(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function g1(e,t,n){const{props:i,children:r,component:o}=e,{props:a,children:s,patchFlag:l}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?ip(i,a,d):!!a;if(l&8){const c=t.dynamicProps;for(let p=0;p<c.length;p++){const u=c[p];if(a[u]!==i[u]&&!Td(d,u))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===a?!1:i?a?ip(i,a,d):!0:!!a;return!1}function ip(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!Td(n,o))return!0}return!1}function x1({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const v1=e=>e.__isSuspense;function kf(e,t){t&&t.pendingBranch?dt(e)?t.effects.push(...e):t.effects.push(e):f1(e)}function Xo(e,t){if(Xt){let n=Xt.provides;const i=Xt.parent&&Xt.parent.provides;i===n&&(n=Xt.provides=Object.create(i)),n[e]=t}}function Ve(e,t,n=!1){const i=Xt||je;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&nt(t)?t.call(i.proxy):t}}function b1(e,t){return kd(e,null,t)}const rp={};function Xi(e,t,n){return kd(e,t,n)}function kd(e,t,{immediate:n,deep:i,flush:r,onTrack:o,onTrigger:a}=bt){const s=Xt;let l,d=!1,c=!1;if(ae(e)?(l=()=>e.value,d=!!e._shallow):Ji(e)?(l=()=>e,i=!0):dt(e)?(c=!0,d=e.some(Ji),l=()=>e.map(v=>{if(ae(v))return v.value;if(Ji(v))return mi(v);if(nt(v))return Bn(v,s,2)})):nt(e)?t?l=()=>Bn(e,s,2):l=()=>{if(!(s&&s.isUnmounted))return p&&p(),He(e,s,3,[u])}:l=on,t&&i){const v=l;l=()=>mi(v())}let p,u=v=>{p=g.onStop=()=>{Bn(v,s,4)}};if(ao)return u=on,t?n&&He(t,s,3,[l(),c?[]:void 0,u]):l(),on;let h=c?[]:rp;const _=()=>{if(!!g.active)if(t){const v=g.run();(i||d||(c?v.some((P,F)=>ep(P,h[F])):ep(v,h)))&&(p&&p(),He(t,s,3,[v,h===rp?void 0:h,u]),h=v)}else g.run()};_.allowRecurse=!!t;let O;r==="sync"?O=_:r==="post"?O=()=>le(_,s&&s.suspense):O=()=>{!s||s.isMounted?u1(_):_()};const g=new fd(l,O);return t?n?_():h=g.run():r==="post"?le(g.run.bind(g),s&&s.suspense):g.run(),()=>{g.stop(),s&&s.scope&&wd(s.scope.effects,g)}}function y1(e,t,n){const i=this.proxy,r=De(e)?e.includes(".")?If(i,e):()=>i[e]:e.bind(i,i);let o;nt(t)?o=t:(o=t.handler,n=t);const a=Xt;sr(this);const s=kd(r,o.bind(i),n);return a?sr(a):yi(),s}function If(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function mi(e,t){if(!se(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ae(e))mi(e.value,t);else if(dt(e))for(let n=0;n<e.length;n++)mi(e[n],t);else if(gf(e)||_f(e))e.forEach(n=>{mi(n,t)});else if(bf(e))for(const n in e)mi(e[n],t);return e}function Id(e){return nt(e)?{setup:e,name:e.name}:e}const ca=e=>!!e.type.__asyncLoader,Af=e=>e.type.__isKeepAlive;function w1(e,t){Of(e,"a",t)}function C1(e,t){Of(e,"da",t)}function Of(e,t,n=Xt){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Xa(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Af(r.parent.vnode)&&E1(i,t,n,r),r=r.parent}}function E1(e,t,n,i){const r=Xa(t,e,i,!0);Nf(()=>{wd(i[t],r)},n)}function Xa(e,t,n=Xt,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;gr(),sr(n);const s=He(t,n,e,a);return yi(),Pi(),s});return i?r.unshift(o):r.push(o),o}}const In=e=>(t,n=Xt)=>(!ao||e==="sp")&&Xa(e,t,n),S1=In("bm"),Pf=In("m"),R1=In("bu"),T1=In("u"),Df=In("bum"),Nf=In("um"),k1=In("sp"),I1=In("rtg"),A1=In("rtc");function O1(e,t=Xt){Xa("ec",e,t)}let wl=!0;function P1(e){const t=Ff(e),n=e.proxy,i=e.ctx;wl=!1,t.beforeCreate&&op(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:a,watch:s,provide:l,inject:d,created:c,beforeMount:p,mounted:u,beforeUpdate:h,updated:_,activated:O,deactivated:g,beforeDestroy:v,beforeUnmount:P,destroyed:F,unmounted:Y,render:V,renderTracked:Q,renderTriggered:K,errorCaptured:Tt,serverPrefetch:it,expose:kt,inheritAttrs:Yt,components:et,directives:Lt,filters:Ut}=t;if(d&&D1(d,i,null,e.appContext.config.unwrapInjectedRef),a)for(const wt in a){const gt=a[wt];nt(gt)&&(i[wt]=gt.bind(n))}if(r){const wt=r.call(n,n);se(wt)&&(e.data=sn(wt))}if(wl=!0,o)for(const wt in o){const gt=o[wt],Se=nt(gt)?gt.bind(n,n):nt(gt.get)?gt.get.bind(n,n):on,Yi=!nt(gt)&&nt(gt.set)?gt.set.bind(n):on,_n=ff({get:Se,set:Yi});Object.defineProperty(i,wt,{enumerable:!0,configurable:!0,get:()=>_n.value,set:Xe=>_n.value=Xe})}if(s)for(const wt in s)Mf(s[wt],i,n,wt);if(l){const wt=nt(l)?l.call(n):l;Reflect.ownKeys(wt).forEach(gt=>{Xo(gt,wt[gt])})}c&&op(c,e,"c");function Wt(wt,gt){dt(gt)?gt.forEach(Se=>wt(Se.bind(n))):gt&&wt(gt.bind(n))}if(Wt(S1,p),Wt(Pf,u),Wt(R1,h),Wt(T1,_),Wt(w1,O),Wt(C1,g),Wt(O1,Tt),Wt(A1,Q),Wt(I1,K),Wt(Df,P),Wt(Nf,Y),Wt(k1,it),dt(kt))if(kt.length){const wt=e.exposed||(e.exposed={});kt.forEach(gt=>{Object.defineProperty(wt,gt,{get:()=>n[gt],set:Se=>n[gt]=Se})})}else e.exposed||(e.exposed={});V&&e.render===on&&(e.render=V),Yt!=null&&(e.inheritAttrs=Yt),et&&(e.components=et),Lt&&(e.directives=Lt)}function D1(e,t,n=on,i=!1){dt(e)&&(e=Cl(e));for(const r in e){const o=e[r];let a;se(o)?"default"in o?a=Ve(o.from||r,o.default,!0):a=Ve(o.from||r):a=Ve(o),ae(a)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[r]=a}}function op(e,t,n){He(dt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Mf(e,t,n,i){const r=i.includes(".")?If(n,i):()=>n[i];if(De(e)){const o=t[e];nt(o)&&Xi(r,o)}else if(nt(e))Xi(r,e.bind(n));else if(se(e))if(dt(e))e.forEach(o=>Mf(o,t,n,i));else{const o=nt(e.handler)?e.handler.bind(n):t[e.handler];nt(o)&&Xi(r,o,e)}}function Ff(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let l;return s?l=s:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(d=>pa(l,d,a,!0)),pa(l,t,a)),o.set(t,l),l}function pa(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&pa(e,o,n,!0),r&&r.forEach(a=>pa(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const s=N1[a]||n&&n[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const N1={data:ap,props:pi,emits:pi,methods:pi,computed:pi,beforeCreate:re,created:re,beforeMount:re,mounted:re,beforeUpdate:re,updated:re,beforeDestroy:re,beforeUnmount:re,destroyed:re,unmounted:re,activated:re,deactivated:re,errorCaptured:re,serverPrefetch:re,components:pi,directives:pi,watch:F1,provide:ap,inject:M1};function ap(e,t){return t?e?function(){return ye(nt(e)?e.call(this,this):e,nt(t)?t.call(this,this):t)}:t:e}function M1(e,t){return pi(Cl(e),Cl(t))}function Cl(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function re(e,t){return e?[...new Set([].concat(e,t))]:t}function pi(e,t){return e?ye(ye(Object.create(null),e),t):t}function F1(e,t){if(!e)return t;if(!t)return e;const n=ye(Object.create(null),e);for(const i in t)n[i]=re(e[i],t[i]);return n}function L1(e,t,n,i=!1){const r={},o={};xl(o,ts,1),e.propsDefaults=Object.create(null),Lf(e,t,r,o);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=i?r:Gg(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function z1(e,t,n,i){const{props:r,attrs:o,vnode:{patchFlag:a}}=e,s=ft(r),[l]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let p=0;p<c.length;p++){let u=c[p];const h=t[u];if(l)if(mt(o,u))h!==o[u]&&(o[u]=h,d=!0);else{const _=ln(u);r[_]=El(l,s,_,h,e,!1)}else h!==o[u]&&(o[u]=h,d=!0)}}}else{Lf(e,t,r,o)&&(d=!0);let c;for(const p in s)(!t||!mt(t,p)&&((c=Qa(p))===p||!mt(t,c)))&&(l?n&&(n[p]!==void 0||n[c]!==void 0)&&(r[p]=El(l,s,p,void 0,e,!0)):delete r[p]);if(o!==s)for(const p in o)(!t||!mt(t,p))&&(delete o[p],d=!0)}d&&Sn(e,"set","$attrs")}function Lf(e,t,n,i){const[r,o]=e.propsOptions;let a=!1,s;if(t)for(let l in t){if(Ur(l))continue;const d=t[l];let c;r&&mt(r,c=ln(l))?!o||!o.includes(c)?n[c]=d:(s||(s={}))[c]=d:Td(e.emitsOptions,l)||(!(l in i)||d!==i[l])&&(i[l]=d,a=!0)}if(o){const l=ft(n),d=s||bt;for(let c=0;c<o.length;c++){const p=o[c];n[p]=El(r,l,p,d[p],e,!mt(d,p))}}return a}function El(e,t,n,i,r,o){const a=e[n];if(a!=null){const s=mt(a,"default");if(s&&i===void 0){const l=a.default;if(a.type!==Function&&nt(l)){const{propsDefaults:d}=r;n in d?i=d[n]:(sr(r),i=d[n]=l.call(null,t),yi())}else i=l}a[0]&&(o&&!s?i=!1:a[1]&&(i===""||i===Qa(n))&&(i=!0))}return i}function zf(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const o=e.props,a={},s=[];let l=!1;if(!nt(e)){const c=p=>{l=!0;const[u,h]=zf(p,t,!0);ye(a,u),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return i.set(e,Zi),Zi;if(dt(o))for(let c=0;c<o.length;c++){const p=ln(o[c]);sp(p)&&(a[p]=bt)}else if(o)for(const c in o){const p=ln(c);if(sp(p)){const u=o[c],h=a[p]=dt(u)||nt(u)?{type:u}:u;if(h){const _=cp(Boolean,h.type),O=cp(String,h.type);h[0]=_>-1,h[1]=O<0||_<O,(_>-1||mt(h,"default"))&&s.push(p)}}}const d=[a,s];return i.set(e,d),d}function sp(e){return e[0]!=="$"}function lp(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function dp(e,t){return lp(e)===lp(t)}function cp(e,t){return dt(t)?t.findIndex(n=>dp(n,e)):nt(t)&&dp(t,e)?0:-1}const Yf=e=>e[0]==="_"||e==="$stable",Ad=e=>dt(e)?e.map($e):[$e(e)],Y1=(e,t,n)=>{const i=yl((...r)=>Ad(t(...r)),n);return i._c=!1,i},$f=(e,t,n)=>{const i=e._ctx;for(const r in e){if(Yf(r))continue;const o=e[r];if(nt(o))t[r]=Y1(r,o,i);else if(o!=null){const a=Ad(o);t[r]=()=>a}}},Wf=(e,t)=>{const n=Ad(t);e.slots.default=()=>n},$1=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ft(t),xl(t,"_",n)):$f(t,e.slots={})}else e.slots={},t&&Wf(e,t);xl(e.slots,ts,1)},W1=(e,t,n)=>{const{vnode:i,slots:r}=e;let o=!0,a=bt;if(i.shapeFlag&32){const s=t._;s?n&&s===1?o=!1:(ye(r,t),!n&&s===1&&delete r._):(o=!t.$stable,$f(t,r)),a=t}else t&&(Wf(e,t),a={default:1});if(o)for(const s in r)!Yf(s)&&!(s in a)&&delete r[s]};function Jn(e,t){const n=je;if(n===null)return e;const i=n.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,s,l,d=bt]=t[o];nt(a)&&(a={mounted:a,updated:a}),a.deep&&mi(s),r.push({dir:a,instance:i,value:s,oldValue:void 0,arg:l,modifiers:d})}return e}function en(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let a=0;a<r.length;a++){const s=r[a];o&&(s.oldValue=o[a].value);let l=s.dir[i];l&&(gr(),He(l,n,8,[e.el,s,e,t]),Pi())}}function jf(){return{app:null,config:{isNativeTag:n1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let j1=0;function B1(e,t){return function(i,r=null){r!=null&&!se(r)&&(r=null);const o=jf(),a=new Set;let s=!1;const l=o.app={_uid:j1++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:px,get config(){return o.config},set config(d){},use(d,...c){return a.has(d)||(d&&nt(d.install)?(a.add(d),d.install(l,...c)):nt(d)&&(a.add(d),d(l,...c))),l},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),l},component(d,c){return c?(o.components[d]=c,l):o.components[d]},directive(d,c){return c?(o.directives[d]=c,l):o.directives[d]},mount(d,c,p){if(!s){const u=qt(i,r);return u.appContext=o,c&&t?t(u,d):e(u,d,p),s=!0,l._container=d,d.__vue_app__=l,Pd(u.component)||u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(d,c){return o.provides[d]=c,l}};return l}}function ua(e,t,n,i,r=!1){if(dt(e)){e.forEach((u,h)=>ua(u,t&&(dt(t)?t[h]:t),n,i,r));return}if(ca(i)&&!r)return;const o=i.shapeFlag&4?Pd(i.component)||i.component.proxy:i.el,a=r?null:o,{i:s,r:l}=e,d=t&&t.r,c=s.refs===bt?s.refs={}:s.refs,p=s.setupState;if(d!=null&&d!==l&&(De(d)?(c[d]=null,mt(p,d)&&(p[d]=null)):ae(d)&&(d.value=null)),nt(l))Bn(l,s,12,[a,c]);else{const u=De(l),h=ae(l);if(u||h){const _=()=>{if(e.f){const O=u?c[l]:l.value;r?dt(O)&&wd(O,o):dt(O)?O.includes(o)||O.push(o):u?c[l]=[o]:(l.value=[o],e.k&&(c[e.k]=l.value))}else u?(c[l]=a,mt(p,l)&&(p[l]=a)):ae(l)&&(l.value=a,e.k&&(c[e.k]=a))};a?(_.id=-1,le(_,n)):_()}}}let Nn=!1;const Go=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Vs=e=>e.nodeType===8;function U1(e){const{mt:t,p:n,o:{patchProp:i,nextSibling:r,parentNode:o,remove:a,insert:s,createComment:l}}=e,d=(g,v)=>{if(!v.hasChildNodes()){n(null,g,v),la();return}Nn=!1,c(v.firstChild,g,null,null,null),la(),Nn&&console.error("Hydration completed but contains mismatches.")},c=(g,v,P,F,Y,V=!1)=>{const Q=Vs(g)&&g.data==="[",K=()=>_(g,v,P,F,Y,Q),{type:Tt,ref:it,shapeFlag:kt}=v,Yt=g.nodeType;v.el=g;let et=null;switch(Tt){case io:Yt!==3?et=K():(g.data!==v.children&&(Nn=!0,g.data=v.children),et=r(g));break;case Zn:Yt!==8||Q?et=K():et=r(g);break;case ta:if(Yt!==1)et=K();else{et=g;const Lt=!v.children.length;for(let Ut=0;Ut<v.staticCount;Ut++)Lt&&(v.children+=et.outerHTML),Ut===v.staticCount-1&&(v.anchor=et),et=r(et);return et}break;case _e:Q?et=h(g,v,P,F,Y,V):et=K();break;default:if(kt&1)Yt!==1||v.type.toLowerCase()!==g.tagName.toLowerCase()?et=K():et=p(g,v,P,F,Y,V);else if(kt&6){v.slotScopeIds=Y;const Lt=o(g);if(t(v,Lt,null,P,F,Go(Lt),V),et=Q?O(g):r(g),ca(v)){let Ut;Q?(Ut=qt(_e),Ut.anchor=et?et.previousSibling:Lt.lastChild):Ut=g.nodeType===3?Rn(""):qt("div"),Ut.el=g,v.component.subTree=Ut}}else kt&64?Yt!==8?et=K():et=v.type.hydrate(g,v,P,F,Y,V,e,u):kt&128&&(et=v.type.hydrate(g,v,P,F,Go(o(g)),Y,V,e,c))}return it!=null&&ua(it,null,F,v),et},p=(g,v,P,F,Y,V)=>{V=V||!!v.dynamicChildren;const{type:Q,props:K,patchFlag:Tt,shapeFlag:it,dirs:kt}=v,Yt=Q==="input"&&kt||Q==="option";if(Yt||Tt!==-1){if(kt&&en(v,null,P,"created"),K)if(Yt||!V||Tt&48)for(const Lt in K)(Yt&&Lt.endsWith("value")||Ka(Lt)&&!Ur(Lt))&&i(g,Lt,null,K[Lt],!1,void 0,P);else K.onClick&&i(g,"onClick",null,K.onClick,!1,void 0,P);let et;if((et=K&&K.onVnodeBeforeMount)&&Te(et,P,v),kt&&en(v,null,P,"beforeMount"),((et=K&&K.onVnodeMounted)||kt)&&kf(()=>{et&&Te(et,P,v),kt&&en(v,null,P,"mounted")},F),it&16&&!(K&&(K.innerHTML||K.textContent))){let Lt=u(g.firstChild,v,g,P,F,Y,V);for(;Lt;){Nn=!0;const Ut=Lt;Lt=Lt.nextSibling,a(Ut)}}else it&8&&g.textContent!==v.children&&(Nn=!0,g.textContent=v.children)}return g.nextSibling},u=(g,v,P,F,Y,V,Q)=>{Q=Q||!!v.dynamicChildren;const K=v.children,Tt=K.length;for(let it=0;it<Tt;it++){const kt=Q?K[it]:K[it]=$e(K[it]);if(g)g=c(g,kt,F,Y,V,Q);else{if(kt.type===io&&!kt.children)continue;Nn=!0,n(null,kt,P,null,F,Y,Go(P),V)}}return g},h=(g,v,P,F,Y,V)=>{const{slotScopeIds:Q}=v;Q&&(Y=Y?Y.concat(Q):Q);const K=o(g),Tt=u(r(g),v,K,P,F,Y,V);return Tt&&Vs(Tt)&&Tt.data==="]"?r(v.anchor=Tt):(Nn=!0,s(v.anchor=l("]"),K,Tt),Tt)},_=(g,v,P,F,Y,V)=>{if(Nn=!0,v.el=null,V){const Tt=O(g);for(;;){const it=r(g);if(it&&it!==Tt)a(it);else break}}const Q=r(g),K=o(g);return a(g),n(null,v,K,Q,P,F,Go(K),Y),Q},O=g=>{let v=0;for(;g;)if(g=r(g),g&&Vs(g)&&(g.data==="["&&v++,g.data==="]")){if(v===0)return r(g);v--}return g};return[d,c]}const le=kf;function H1(e){return Bf(e)}function V1(e){return Bf(e,U1)}function Bf(e,t){const n=l1();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:a,createText:s,createComment:l,setText:d,setElementText:c,parentNode:p,nextSibling:u,setScopeId:h=on,cloneNode:_,insertStaticContent:O}=e,g=(f,m,x,w=null,b=null,I=null,N=!1,k=null,A=!!m.dynamicChildren)=>{if(f===m)return;f&&!Or(f,m)&&(w=U(f),Re(f,b,I,!0),f=null),m.patchFlag===-2&&(A=!1,m.dynamicChildren=null);const{type:S,ref:W,shapeFlag:L}=m;switch(S){case io:v(f,m,x,w);break;case Zn:P(f,m,x,w);break;case ta:f==null&&F(m,x,w,N);break;case _e:Lt(f,m,x,w,b,I,N,k,A);break;default:L&1?Q(f,m,x,w,b,I,N,k,A):L&6?Ut(f,m,x,w,b,I,N,k,A):(L&64||L&128)&&S.process(f,m,x,w,b,I,N,k,A,At)}W!=null&&b&&ua(W,f&&f.ref,I,m||f,!m)},v=(f,m,x,w)=>{if(f==null)i(m.el=s(m.children),x,w);else{const b=m.el=f.el;m.children!==f.children&&d(b,m.children)}},P=(f,m,x,w)=>{f==null?i(m.el=l(m.children||""),x,w):m.el=f.el},F=(f,m,x,w)=>{[f.el,f.anchor]=O(f.children,m,x,w,f.el,f.anchor)},Y=({el:f,anchor:m},x,w)=>{let b;for(;f&&f!==m;)b=u(f),i(f,x,w),f=b;i(m,x,w)},V=({el:f,anchor:m})=>{let x;for(;f&&f!==m;)x=u(f),r(f),f=x;r(m)},Q=(f,m,x,w,b,I,N,k,A)=>{N=N||m.type==="svg",f==null?K(m,x,w,b,I,N,k,A):kt(f,m,b,I,N,k,A)},K=(f,m,x,w,b,I,N,k)=>{let A,S;const{type:W,props:L,shapeFlag:j,transition:G,patchFlag:st,dirs:Nt}=f;if(f.el&&_!==void 0&&st===-1)A=f.el=_(f.el);else{if(A=f.el=a(f.type,I,L&&L.is,L),j&8?c(A,f.children):j&16&&it(f.children,A,null,w,b,I&&W!=="foreignObject",N,k),Nt&&en(f,null,w,"created"),L){for(const Ot in L)Ot!=="value"&&!Ur(Ot)&&o(A,Ot,null,L[Ot],I,f.children,w,b,D);"value"in L&&o(A,"value",null,L.value),(S=L.onVnodeBeforeMount)&&Te(S,w,f)}Tt(A,f,f.scopeId,N,w)}Nt&&en(f,null,w,"beforeMount");const xt=(!b||b&&!b.pendingBranch)&&G&&!G.persisted;xt&&G.beforeEnter(A),i(A,m,x),((S=L&&L.onVnodeMounted)||xt||Nt)&&le(()=>{S&&Te(S,w,f),xt&&G.enter(A),Nt&&en(f,null,w,"mounted")},b)},Tt=(f,m,x,w,b)=>{if(x&&h(f,x),w)for(let I=0;I<w.length;I++)h(f,w[I]);if(b){let I=b.subTree;if(m===I){const N=b.vnode;Tt(f,N,N.scopeId,N.slotScopeIds,b.parent)}}},it=(f,m,x,w,b,I,N,k,A=0)=>{for(let S=A;S<f.length;S++){const W=f[S]=k?Fn(f[S]):$e(f[S]);g(null,W,m,x,w,b,I,N,k)}},kt=(f,m,x,w,b,I,N)=>{const k=m.el=f.el;let{patchFlag:A,dynamicChildren:S,dirs:W}=m;A|=f.patchFlag&16;const L=f.props||bt,j=m.props||bt;let G;x&&si(x,!1),(G=j.onVnodeBeforeUpdate)&&Te(G,x,m,f),W&&en(m,f,x,"beforeUpdate"),x&&si(x,!0);const st=b&&m.type!=="foreignObject";if(S?Yt(f.dynamicChildren,S,k,x,w,st,I):N||Se(f,m,k,null,x,w,st,I,!1),A>0){if(A&16)et(k,m,L,j,x,w,b);else if(A&2&&L.class!==j.class&&o(k,"class",null,j.class,b),A&4&&o(k,"style",L.style,j.style,b),A&8){const Nt=m.dynamicProps;for(let xt=0;xt<Nt.length;xt++){const Ot=Nt[xt],ze=L[Ot],$i=j[Ot];($i!==ze||Ot==="value")&&o(k,Ot,ze,$i,b,f.children,x,w,D)}}A&1&&f.children!==m.children&&c(k,m.children)}else!N&&S==null&&et(k,m,L,j,x,w,b);((G=j.onVnodeUpdated)||W)&&le(()=>{G&&Te(G,x,m,f),W&&en(m,f,x,"updated")},w)},Yt=(f,m,x,w,b,I,N)=>{for(let k=0;k<m.length;k++){const A=f[k],S=m[k],W=A.el&&(A.type===_e||!Or(A,S)||A.shapeFlag&70)?p(A.el):x;g(A,S,W,null,w,b,I,N,!0)}},et=(f,m,x,w,b,I,N)=>{if(x!==w){for(const k in w){if(Ur(k))continue;const A=w[k],S=x[k];A!==S&&k!=="value"&&o(f,k,S,A,N,m.children,b,I,D)}if(x!==bt)for(const k in x)!Ur(k)&&!(k in w)&&o(f,k,x[k],null,N,m.children,b,I,D);"value"in w&&o(f,"value",x.value,w.value)}},Lt=(f,m,x,w,b,I,N,k,A)=>{const S=m.el=f?f.el:s(""),W=m.anchor=f?f.anchor:s("");let{patchFlag:L,dynamicChildren:j,slotScopeIds:G}=m;G&&(k=k?k.concat(G):G),f==null?(i(S,x,w),i(W,x,w),it(m.children,x,W,b,I,N,k,A)):L>0&&L&64&&j&&f.dynamicChildren?(Yt(f.dynamicChildren,j,x,b,I,N,k),(m.key!=null||b&&m===b.subTree)&&Uf(f,m,!0)):Se(f,m,x,W,b,I,N,k,A)},Ut=(f,m,x,w,b,I,N,k,A)=>{m.slotScopeIds=k,f==null?m.shapeFlag&512?b.ctx.activate(m,x,w,N,A):zi(m,x,w,b,I,N,A):Wt(f,m,A)},zi=(f,m,x,w,b,I,N)=>{const k=f.component=rx(f,w,b);if(Af(f)&&(k.ctx.renderer=At),ox(k),k.asyncDep){if(b&&b.registerDep(k,wt),!f.el){const A=k.subTree=qt(Zn);P(null,A,m,x)}return}wt(k,f,m,x,b,I,N)},Wt=(f,m,x)=>{const w=m.component=f.component;if(g1(f,m,x))if(w.asyncDep&&!w.asyncResolved){gt(w,m,x);return}else w.next=m,p1(w.update),w.update();else m.component=f.component,m.el=f.el,w.vnode=m},wt=(f,m,x,w,b,I,N)=>{const k=()=>{if(f.isMounted){let{next:W,bu:L,u:j,parent:G,vnode:st}=f,Nt=W,xt;si(f,!1),W?(W.el=st.el,gt(f,W,N)):W=st,L&&Us(L),(xt=W.props&&W.props.onVnodeBeforeUpdate)&&Te(xt,G,W,st),si(f,!0);const Ot=Hs(f),ze=f.subTree;f.subTree=Ot,g(ze,Ot,p(ze.el),U(ze),f,b,I),W.el=Ot.el,Nt===null&&x1(f,Ot.el),j&&le(j,b),(xt=W.props&&W.props.onVnodeUpdated)&&le(()=>Te(xt,G,W,st),b)}else{let W;const{el:L,props:j}=m,{bm:G,m:st,parent:Nt}=f,xt=ca(m);if(si(f,!1),G&&Us(G),!xt&&(W=j&&j.onVnodeBeforeMount)&&Te(W,Nt,m),si(f,!0),L&&ot){const Ot=()=>{f.subTree=Hs(f),ot(L,f.subTree,f,b,null)};xt?m.type.__asyncLoader().then(()=>!f.isUnmounted&&Ot()):Ot()}else{const Ot=f.subTree=Hs(f);g(null,Ot,x,w,f,b,I),m.el=Ot.el}if(st&&le(st,b),!xt&&(W=j&&j.onVnodeMounted)){const Ot=m;le(()=>Te(W,Nt,Ot),b)}m.shapeFlag&256&&f.a&&le(f.a,b),f.isMounted=!0,m=x=w=null}},A=f.effect=new fd(k,()=>Cf(f.update),f.scope),S=f.update=A.run.bind(A);S.id=f.uid,si(f,!0),S()},gt=(f,m,x)=>{m.component=f;const w=f.vnode.props;f.vnode=m,f.next=null,z1(f,m.props,w,x),W1(f,m.children,x),gr(),Rd(void 0,f.update),Pi()},Se=(f,m,x,w,b,I,N,k,A=!1)=>{const S=f&&f.children,W=f?f.shapeFlag:0,L=m.children,{patchFlag:j,shapeFlag:G}=m;if(j>0){if(j&128){_n(S,L,x,w,b,I,N,k,A);return}else if(j&256){Yi(S,L,x,w,b,I,N,k,A);return}}G&8?(W&16&&D(S,b,I),L!==S&&c(x,L)):W&16?G&16?_n(S,L,x,w,b,I,N,k,A):D(S,b,I,!0):(W&8&&c(x,""),G&16&&it(L,x,w,b,I,N,k,A))},Yi=(f,m,x,w,b,I,N,k,A)=>{f=f||Zi,m=m||Zi;const S=f.length,W=m.length,L=Math.min(S,W);let j;for(j=0;j<L;j++){const G=m[j]=A?Fn(m[j]):$e(m[j]);g(f[j],G,x,null,b,I,N,k,A)}S>W?D(f,b,I,!0,!1,L):it(m,x,w,b,I,N,k,A,L)},_n=(f,m,x,w,b,I,N,k,A)=>{let S=0;const W=m.length;let L=f.length-1,j=W-1;for(;S<=L&&S<=j;){const G=f[S],st=m[S]=A?Fn(m[S]):$e(m[S]);if(Or(G,st))g(G,st,x,null,b,I,N,k,A);else break;S++}for(;S<=L&&S<=j;){const G=f[L],st=m[j]=A?Fn(m[j]):$e(m[j]);if(Or(G,st))g(G,st,x,null,b,I,N,k,A);else break;L--,j--}if(S>L){if(S<=j){const G=j+1,st=G<W?m[G].el:w;for(;S<=j;)g(null,m[S]=A?Fn(m[S]):$e(m[S]),x,st,b,I,N,k,A),S++}}else if(S>j)for(;S<=L;)Re(f[S],b,I,!0),S++;else{const G=S,st=S,Nt=new Map;for(S=st;S<=j;S++){const me=m[S]=A?Fn(m[S]):$e(m[S]);me.key!=null&&Nt.set(me.key,S)}let xt,Ot=0;const ze=j-st+1;let $i=!1,Vc=0;const Ir=new Array(ze);for(S=0;S<ze;S++)Ir[S]=0;for(S=G;S<=L;S++){const me=f[S];if(Ot>=ze){Re(me,b,I,!0);continue}let tn;if(me.key!=null)tn=Nt.get(me.key);else for(xt=st;xt<=j;xt++)if(Ir[xt-st]===0&&Or(me,m[xt])){tn=xt;break}tn===void 0?Re(me,b,I,!0):(Ir[tn-st]=S+1,tn>=Vc?Vc=tn:$i=!0,g(me,m[tn],x,null,b,I,N,k,A),Ot++)}const Gc=$i?G1(Ir):Zi;for(xt=Gc.length-1,S=ze-1;S>=0;S--){const me=st+S,tn=m[me],Kc=me+1<W?m[me+1].el:w;Ir[S]===0?g(null,tn,x,Kc,b,I,N,k,A):$i&&(xt<0||S!==Gc[xt]?Xe(tn,x,Kc,2):xt--)}}},Xe=(f,m,x,w,b=null)=>{const{el:I,type:N,transition:k,children:A,shapeFlag:S}=f;if(S&6){Xe(f.component.subTree,m,x,w);return}if(S&128){f.suspense.move(m,x,w);return}if(S&64){N.move(f,m,x,At);return}if(N===_e){i(I,m,x);for(let L=0;L<A.length;L++)Xe(A[L],m,x,w);i(f.anchor,m,x);return}if(N===ta){Y(f,m,x);return}if(w!==2&&S&1&&k)if(w===0)k.beforeEnter(I),i(I,m,x),le(()=>k.enter(I),b);else{const{leave:L,delayLeave:j,afterLeave:G}=k,st=()=>i(I,m,x),Nt=()=>{L(I,()=>{st(),G&&G()})};j?j(I,st,Nt):Nt()}else i(I,m,x)},Re=(f,m,x,w=!1,b=!1)=>{const{type:I,props:N,ref:k,children:A,dynamicChildren:S,shapeFlag:W,patchFlag:L,dirs:j}=f;if(k!=null&&ua(k,null,x,f,!0),W&256){m.ctx.deactivate(f);return}const G=W&1&&j,st=!ca(f);let Nt;if(st&&(Nt=N&&N.onVnodeBeforeUnmount)&&Te(Nt,m,f),W&6)z(f.component,x,w);else{if(W&128){f.suspense.unmount(x,w);return}G&&en(f,null,m,"beforeUnmount"),W&64?f.type.remove(f,m,x,b,At,w):S&&(I!==_e||L>0&&L&64)?D(S,m,x,!1,!0):(I===_e&&L&384||!b&&W&16)&&D(A,m,x),w&&js(f)}(st&&(Nt=N&&N.onVnodeUnmounted)||G)&&le(()=>{Nt&&Te(Nt,m,f),G&&en(f,null,m,"unmounted")},x)},js=f=>{const{type:m,el:x,anchor:w,transition:b}=f;if(m===_e){y(x,w);return}if(m===ta){V(f);return}const I=()=>{r(x),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(f.shapeFlag&1&&b&&!b.persisted){const{leave:N,delayLeave:k}=b,A=()=>N(x,I);k?k(f.el,I,A):A()}else I()},y=(f,m)=>{let x;for(;f!==m;)x=u(f),r(f),f=x;r(m)},z=(f,m,x)=>{const{bum:w,scope:b,update:I,subTree:N,um:k}=f;w&&Us(w),b.stop(),I&&(I.active=!1,Re(N,f,m,x)),k&&le(k,m),le(()=>{f.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},D=(f,m,x,w=!1,b=!1,I=0)=>{for(let N=I;N<f.length;N++)Re(f[N],m,x,w,b)},U=f=>f.shapeFlag&6?U(f.component.subTree):f.shapeFlag&128?f.suspense.next():u(f.anchor||f.el),It=(f,m,x)=>{f==null?m._vnode&&Re(m._vnode,null,null,!0):g(m._vnode||null,f,m,null,null,null,x),la(),m._vnode=f},At={p:g,um:Re,m:Xe,r:js,mt:zi,mc:it,pc:Se,pbc:Yt,n:U,o:e};let rt,ot;return t&&([rt,ot]=t(At)),{render:It,hydrate:rt,createApp:B1(It,rt)}}function si({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Uf(e,t,n=!1){const i=e.children,r=t.children;if(dt(i)&&dt(r))for(let o=0;o<i.length;o++){const a=i[o];let s=r[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[o]=Fn(r[o]),s.el=a.el),n||Uf(a,s))}}function G1(e){const t=e.slice(),n=[0];let i,r,o,a,s;const l=e.length;for(i=0;i<l;i++){const d=e[i];if(d!==0){if(r=n[n.length-1],e[r]<d){t[i]=r,n.push(i);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,e[n[s]]<d?o=s+1:a=s;d<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}const K1=e=>e.__isTeleport,Hf="components";function ar(e,t){return Q1(Hf,e,!0,t)||e}const q1=Symbol();function Q1(e,t,n=!0,i=!1){const r=je||Xt;if(r){const o=r.type;if(e===Hf){const s=dx(o);if(s&&(s===t||s===ln(t)||s===Ed(ln(t))))return o}const a=pp(r[e]||o[e],t)||pp(r.appContext[e],t);return!a&&i?o:a}}function pp(e,t){return e&&(e[t]||e[ln(t)]||e[Ed(ln(t))])}const _e=Symbol(void 0),io=Symbol(void 0),Zn=Symbol(void 0),ta=Symbol(void 0),Gr=[];let bi=null;function ut(e=!1){Gr.push(bi=e?null:[])}function J1(){Gr.pop(),bi=Gr[Gr.length-1]||null}let fa=1;function up(e){fa+=e}function Vf(e){return e.dynamicChildren=fa>0?bi||Zi:null,J1(),fa>0&&bi&&bi.push(e),e}function St(e,t,n,i,r,o){return Vf(C(e,t,n,i,r,o,!0))}function ro(e,t,n,i,r){return Vf(qt(e,t,n,i,r,!0))}function Sl(e){return e?e.__v_isVNode===!0:!1}function Or(e,t){return e.type===t.type&&e.key===t.key}const ts="__vInternal",Gf=({key:e})=>e!=null?e:null,ea=({ref:e,ref_key:t,ref_for:n})=>e!=null?De(e)||ae(e)||nt(e)?{i:je,r:e,k:t,f:!!n}:e:null;function C(e,t=null,n=null,i=0,r=null,o=e===_e?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Gf(t),ref:t&&ea(t),scopeId:Za,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return s?(Od(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=De(n)?8:16),fa>0&&!a&&bi&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&bi.push(l),l}const qt=Z1;function Z1(e,t=null,n=null,i=0,r=null,o=!1){if((!e||e===q1)&&(e=Zn),Sl(e)){const s=oo(e,t,!0);return n&&Od(s,n),s}if(cx(e)&&(e=e.__vccOpts),t){t=X1(t);let{class:s,style:l}=t;s&&!De(s)&&(t.class=yd(s)),se(l)&&(sf(l)&&!dt(l)&&(l=ye({},l)),t.style=rn(l))}const a=De(e)?1:v1(e)?128:K1(e)?64:se(e)?4:nt(e)?2:0;return C(e,t,n,i,r,a,o,!0)}function X1(e){return e?sf(e)||ts in e?ye({},e):e:null}function oo(e,t,n=!1){const{props:i,ref:r,patchFlag:o,children:a}=e,s=t?tx(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Gf(s),ref:t&&t.ref?n&&r?dt(r)?r.concat(ea(t)):[r,ea(t)]:ea(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_e?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&oo(e.ssContent),ssFallback:e.ssFallback&&oo(e.ssFallback),el:e.el,anchor:e.anchor}}function Rn(e=" ",t=0){return qt(io,null,e,t)}function ha(e="",t=!1){return t?(ut(),ro(Zn,null,e)):qt(Zn,null,e)}function $e(e){return e==null||typeof e=="boolean"?qt(Zn):dt(e)?qt(_e,null,e.slice()):typeof e=="object"?Fn(e):qt(io,null,String(e))}function Fn(e){return e.el===null||e.memo?e:oo(e)}function Od(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(dt(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Od(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(ts in t)?t._ctx=je:r===3&&je&&(je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else nt(t)?(t={default:t,_ctx:je},n=32):(t=String(t),i&64?(n=16,t=[Rn(t)]):n=8);e.children=t,e.shapeFlag|=n}function tx(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=yd([t.class,i.class]));else if(r==="style")t.style=rn([t.style,i.style]);else if(Ka(r)){const o=t[r],a=i[r];o!==a&&!(dt(o)&&o.includes(a))&&(t[r]=o?[].concat(o,a):a)}else r!==""&&(t[r]=i[r])}return t}function Te(e,t,n,i=null){He(e,t,7,[n,i])}function Kf(e,t,n,i){let r;const o=n&&n[i];if(dt(e)||De(e)){r=new Array(e.length);for(let a=0,s=e.length;a<s;a++)r[a]=t(e[a],a,void 0,o&&o[a])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,o&&o[a])}else if(se(e))if(e[Symbol.iterator])r=Array.from(e,(a,s)=>t(a,s,void 0,o&&o[s]));else{const a=Object.keys(e);r=new Array(a.length);for(let s=0,l=a.length;s<l;s++){const d=a[s];r[s]=t(e[d],d,s,o&&o[s])}}else r=[];return n&&(n[i]=r),r}const Rl=e=>e?qf(e)?Pd(e)||e.proxy:Rl(e.parent):null,ma=ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Rl(e.parent),$root:e=>Rl(e.root),$emit:e=>e.emit,$options:e=>Ff(e),$forceUpdate:e=>()=>Cf(e.update),$nextTick:e=>wf.bind(e.proxy),$watch:e=>y1.bind(e)}),ex={get({_:e},t){const{ctx:n,setupState:i,data:r,props:o,accessCache:a,type:s,appContext:l}=e;let d;if(t[0]!=="$"){const h=a[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(i!==bt&&mt(i,t))return a[t]=1,i[t];if(r!==bt&&mt(r,t))return a[t]=2,r[t];if((d=e.propsOptions[0])&&mt(d,t))return a[t]=3,o[t];if(n!==bt&&mt(n,t))return a[t]=4,n[t];wl&&(a[t]=0)}}const c=ma[t];let p,u;if(c)return t==="$attrs"&&be(e,"get",t),c(e);if((p=s.__cssModules)&&(p=p[t]))return p;if(n!==bt&&mt(n,t))return a[t]=4,n[t];if(u=l.config.globalProperties,mt(u,t))return u[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:o}=e;if(r!==bt&&mt(r,t))r[t]=n;else if(i!==bt&&mt(i,t))i[t]=n;else if(mt(e.props,t))return!1;return t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:o}},a){let s;return!!n[a]||e!==bt&&mt(e,a)||t!==bt&&mt(t,a)||(s=o[0])&&mt(s,a)||mt(i,a)||mt(ma,a)||mt(r.config.globalProperties,a)}},nx=jf();let ix=0;function rx(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||nx,o={uid:ix++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new vg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zf(i,r),emitsOptions:Tf(i,r),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:i.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=h1.bind(null,o),e.ce&&e.ce(o),o}let Xt=null;const sr=e=>{Xt=e,e.scope.on()},yi=()=>{Xt&&Xt.scope.off(),Xt=null};function qf(e){return e.vnode.shapeFlag&4}let ao=!1;function ox(e,t=!1){ao=t;const{props:n,children:i}=e.vnode,r=qf(e);L1(e,n,r,t),$1(e,i);const o=r?ax(e,t):void 0;return ao=!1,o}function ax(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=lf(new Proxy(e.ctx,ex));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?lx(e):null;sr(e),gr();const o=Bn(i,e,0,[e.props,r]);if(Pi(),yi(),xf(o)){if(o.then(yi,yi),t)return o.then(a=>{fp(e,a,t)}).catch(a=>{Ja(a,e,0)});e.asyncDep=o}else fp(e,o,t)}else Qf(e,t)}function fp(e,t,n){nt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:se(t)&&(e.setupState=uf(t)),Qf(e,n)}let hp;function Qf(e,t,n){const i=e.type;if(!e.render){if(!t&&hp&&!i.render){const r=i.template;if(r){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:s,compilerOptions:l}=i,d=ye(ye({isCustomElement:o,delimiters:s},a),l);i.render=hp(r,d)}}e.render=i.render||on}sr(e),gr(),P1(e),Pi(),yi()}function sx(e){return new Proxy(e.attrs,{get(t,n){return be(e,"get","$attrs"),t[n]}})}function lx(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=sx(e))},slots:e.slots,emit:e.emit,expose:t}}function Pd(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(uf(lf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ma)return ma[n](e)}}))}function dx(e){return nt(e)&&e.displayName||e.name}function cx(e){return nt(e)&&"__vccOpts"in e}const We=(e,t)=>ff(e,t,ao);function Jf(e,t,n){const i=arguments.length;return i===2?se(t)&&!dt(t)?Sl(t)?qt(e,null,[t]):qt(e,t):qt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Sl(n)&&(n=[n]),qt(e,t,n))}const px="3.2.27";function ux(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const fx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hx=ux(fx);function Zf(e){return!!e||e===""}const mx=/^on[^a-z]/,_x=e=>mx.test(e),gx=e=>e.startsWith("onUpdate:"),xx=Object.assign,Dd=Array.isArray,Xf=e=>typeof e=="function",_a=e=>typeof e=="string",th=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vx=/\B([A-Z])/g,eh=th(e=>e.replace(vx,"-$1").toLowerCase()),bx=th(e=>e.charAt(0).toUpperCase()+e.slice(1)),yx=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},mp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},wx="http://www.w3.org/2000/svg",hi=typeof document!="undefined"?document:null,_p=hi&&hi.createElement("template"),Cx={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?hi.createElementNS(wx,e):hi.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>hi.createTextNode(e),createComment:e=>hi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>hi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,r,o){const a=n?n.previousSibling:t.lastChild;if(r&&o)for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{_p.innerHTML=i?`<svg>${e}</svg>`:e;const s=_p.content;if(i){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Ex(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Sx(e,t,n){const i=e.style,r=_a(n);if(n&&!r){for(const o in n)Tl(i,o,n[o]);if(t&&!_a(t))for(const o in t)n[o]==null&&Tl(i,o,"")}else{const o=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=o)}}const gp=/\s*!important$/;function Tl(e,t,n){if(Dd(n))n.forEach(i=>Tl(e,t,i));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=Rx(e,t);gp.test(n)?e.setProperty(eh(i),n.replace(gp,""),"important"):e[i]=n}}const xp=["Webkit","Moz","ms"],Gs={};function Rx(e,t){const n=Gs[t];if(n)return n;let i=ln(t);if(i!=="filter"&&i in e)return Gs[t]=i;i=bx(i);for(let r=0;r<xp.length;r++){const o=xp[r]+i;if(o in e)return Gs[t]=o}return t}const vp="http://www.w3.org/1999/xlink";function Tx(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(vp,t.slice(6,t.length)):e.setAttributeNS(vp,t,n);else{const o=hx(t);n==null||o&&!Zf(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function kx(e,t,n,i,r,o,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,r,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const s=n==null?"":n;(e.value!==s||e.tagName==="OPTION")&&(e.value=s),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const s=typeof e[t];if(s==="boolean"){e[t]=Zf(n);return}else if(n==null&&s==="string"){e[t]="",e.removeAttribute(t);return}else if(s==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=n}catch{}}let ga=Date.now,nh=!1;if(typeof window!="undefined"){ga()>document.createEvent("Event").timeStamp&&(ga=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);nh=!!(e&&Number(e[1])<=53)}let kl=0;const Ix=Promise.resolve(),Ax=()=>{kl=0},Ox=()=>kl||(Ix.then(Ax),kl=ga());function Gi(e,t,n,i){e.addEventListener(t,n,i)}function Px(e,t,n,i){e.removeEventListener(t,n,i)}function Dx(e,t,n,i,r=null){const o=e._vei||(e._vei={}),a=o[t];if(i&&a)a.value=i;else{const[s,l]=Nx(t);if(i){const d=o[t]=Mx(i,r);Gi(e,s,d,l)}else a&&(Px(e,s,a,l),o[t]=void 0)}}const bp=/(?:Once|Passive|Capture)$/;function Nx(e){let t;if(bp.test(e)){t={};let n;for(;n=e.match(bp);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[eh(e.slice(2)),t]}function Mx(e,t){const n=i=>{const r=i.timeStamp||ga();(nh||r>=n.attached-1)&&He(Fx(i,n.value),t,5,[i])};return n.value=e,n.attached=Ox(),n}function Fx(e,t){if(Dd(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i(r))}else return t}const yp=/^on[a-z]/,Lx=(e,t,n,i,r=!1,o,a,s,l)=>{t==="class"?Ex(e,i,r):t==="style"?Sx(e,n,i):_x(t)?gx(t)||Dx(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zx(e,t,i,r))?kx(e,t,i,o,a,s,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Tx(e,t,i,r))};function zx(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&yp.test(t)&&Xf(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||yp.test(t)&&_a(n)?!1:t in e}const wp=e=>{const t=e.props["onUpdate:modelValue"];return Dd(t)?n=>yx(t,n):t};function Yx(e){e.target.composing=!0}function Cp(e){const t=e.target;t.composing&&(t.composing=!1,$x(t,"input"))}function $x(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const es={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=wp(r);const o=i||r.props&&r.props.type==="number";Gi(e,t?"change":"input",a=>{if(a.target.composing)return;let s=e.value;n?s=s.trim():o&&(s=mp(s)),e._assign(s)}),n&&Gi(e,"change",()=>{e.value=e.value.trim()}),t||(Gi(e,"compositionstart",Yx),Gi(e,"compositionend",Cp),Gi(e,"change",Cp))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},o){if(e._assign=wp(o),e.composing||document.activeElement===e&&(n||i&&e.value.trim()===t||(r||e.type==="number")&&mp(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},xa={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Pr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Pr(e,!0),i.enter(e)):i.leave(e,()=>{Pr(e,!1)}):Pr(e,t))},beforeUnmount(e,{value:t}){Pr(e,t)}};function Pr(e,t){e.style.display=t?e._vod:"none"}const ih=xx({patchProp:Lx},Cx);let Kr,Ep=!1;function Wx(){return Kr||(Kr=H1(ih))}function jx(){return Kr=Ep?Kr:V1(ih),Ep=!0,Kr}const Bx=(...e)=>{const t=Wx().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=rh(i);if(!r)return;const o=t._component;!Xf(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t},Ux=(...e)=>{const t=jx().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=rh(i);if(r)return n(r,!0,r instanceof SVGElement)},t};function rh(e){return _a(e)?document.querySelector(e):e}/*!
  * vue-router v4.0.6
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const oh=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",xr=e=>oh?Symbol(e):"_vr_"+e,Hx=xr("rvlm"),Sp=xr("rvd"),ns=xr("r"),ah=xr("rl"),Il=xr("rvl"),Ki=typeof window!="undefined";function Vx(e){return e.__esModule||oh&&e[Symbol.toStringTag]==="Module"}const Ct=Object.assign;function Ks(e,t){const n={};for(const i in t){const r=t[i];n[i]=Array.isArray(r)?r.map(e):e(r)}return n}let na=()=>{};const Gx=/\/$/,Kx=e=>e.replace(Gx,"");function qs(e,t,n="/"){let i,r={},o="",a="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(i=t.slice(0,s),o=t.slice(s+1,l>-1?l:t.length),r=e(o)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=Zx(i!=null?i:t,n),{fullPath:i+(o&&"?")+o+a,path:i,query:r,hash:a}}function qx(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Rp(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function Qx(e,t,n){let i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&lr(t.matched[i],n.matched[r])&&sh(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function lr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function sh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!Jx(e[n],t[n]))return!1;return!0}function Jx(e,t){return Array.isArray(e)?Tp(e,t):Array.isArray(t)?Tp(t,e):e===t}function Tp(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Zx(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],!(r===1||a==="."))if(a==="..")r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var va;(function(e){e.pop="pop",e.push="push"})(va||(va={}));var wi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(wi||(wi={}));const kp="";function Xx(e){if(!e)if(Ki){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Kx(e)}const t0=/^[^#]+#/;function lh(e,t){return e.replace(t0,"#")+t}function e0(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const is=()=>({left:window.pageXOffset,top:window.pageYOffset});function n0(e){let t;if("el"in e){let n=e.el;const i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=e0(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Ip(e,t){return(history.state?history.state.position-t:-1)+e}const Al=new Map;function i0(e,t){Al.set(e,t)}function r0(e){const t=Al.get(e);return Al.delete(e),t}let o0=()=>location.protocol+"//"+location.host;function dh(e,t){const{pathname:n,search:i,hash:r}=t;if(e.indexOf("#")>-1){let s=r.slice(1);return s[0]!=="/"&&(s="/"+s),Rp(s,"")}return Rp(n,e)+i+r}function a0(e,t,n,i){let r=[],o=[],a=null;const s=({state:u})=>{const h=dh(e,location),_=n.value,O=t.value;let g=0;if(u){if(n.value=h,t.value=u,a&&a===_){a=null;return}g=O?u.position-O.position:0}else i(h);r.forEach(v=>{v(n.value,_,{delta:g,type:va.pop,direction:g?g>0?wi.forward:wi.back:wi.unknown})})};function l(){a=n.value}function d(u){r.push(u);const h=()=>{const _=r.indexOf(u);_>-1&&r.splice(_,1)};return o.push(h),h}function c(){const{history:u}=window;!u.state||u.replaceState(Ct({},u.state,{scroll:is()}),"")}function p(){for(const u of o)u();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:d,destroy:p}}function Ap(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?is():null}}function s0(e){const{history:t,location:n}=window;let i={value:dh(e,n)},r={value:t.state};r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,d,c){const p=e.indexOf("#"),u=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+l:o0()+e+l;try{t[c?"replaceState":"pushState"](d,"",u),r.value=d}catch(h){console.error(h),n[c?"replace":"assign"](u)}}function a(l,d){const c=Ct({},t.state,Ap(r.value.back,l,r.value.forward,!0),d,{position:r.value.position});o(l,c,!0),i.value=l}function s(l,d){const c=Ct({},r.value,t.state,{forward:l,scroll:is()});o(c.current,c,!0);const p=Ct({},Ap(i.value,l,null),{position:c.position+1},d);o(l,p,!1),i.value=l}return{location:i,state:r,push:s,replace:a}}function l0(e){e=Xx(e);const t=s0(e),n=a0(e,t.state,t.location,t.replace);function i(o,a=!0){a||n.pauseListeners(),history.go(o)}const r=Ct({location:"",base:e,go:i,createHref:lh.bind(null,e)},t,n);return Object.defineProperty(r,"location",{get:()=>t.location.value}),Object.defineProperty(r,"state",{get:()=>t.state.value}),r}function d0(e=""){let t=[],n=[kp],i=0;function r(s){i++,i===n.length||n.splice(i),n.push(s)}function o(s,l,{direction:d,delta:c}){const p={direction:d,delta:c,type:va.pop};for(let u of t)u(s,l,p)}const a={location:kp,state:{},base:e,createHref:lh.bind(null,e),replace(s){n.splice(i--,1),r(s)},push(s,l){r(s)},listen(s){return t.push(s),()=>{const l=t.indexOf(s);l>-1&&t.splice(l,1)}},destroy(){t=[]},go(s,l=!0){const d=this.location,c=s<0?wi.back:wi.forward;i=Math.max(0,Math.min(i+s,n.length-1)),l&&o(this.location,d,{direction:c,delta:s})}};return Object.defineProperty(a,"location",{get:()=>n[i]}),a}function c0(e){return typeof e=="string"||e&&typeof e=="object"}function ch(e){return typeof e=="string"||typeof e=="symbol"}const li={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ph=xr("nf");var Op;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Op||(Op={}));function dr(e,t){return Ct(new Error,{type:e,[ph]:!0},t)}function Dr(e,t){return e instanceof Error&&ph in e&&(t==null||!!(e.type&t))}const Pp="[^/]+?",p0={sensitive:!1,strict:!1,start:!0,end:!0},u0=/[.+*?^${}()[\]/\\]/g;function f0(e,t){const n=Ct({},p0,t);let i=[],r=n.start?"^":"";const o=[];for(const d of e){const c=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let p=0;p<d.length;p++){const u=d[p];let h=40+(n.sensitive?.25:0);if(u.type===0)p||(r+="/"),r+=u.value.replace(u0,"\\$&"),h+=40;else if(u.type===1){const{value:_,repeatable:O,optional:g,regexp:v}=u;o.push({name:_,repeatable:O,optional:g});const P=v||Pp;if(P!==Pp){h+=10;try{new RegExp(`(${P})`)}catch(Y){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+Y.message)}}let F=O?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;p||(F=g&&d.length<2?`(?:/${F})`:"/"+F),g&&(F+="?"),r+=F,h+=20,g&&(h+=-8),O&&(h+=-20),P===".*"&&(h+=-50)}c.push(h)}i.push(c)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function s(d){const c=d.match(a),p={};if(!c)return null;for(let u=1;u<c.length;u++){const h=c[u]||"",_=o[u-1];p[_.name]=h&&_.repeatable?h.split("/"):h}return p}function l(d){let c="",p=!1;for(const u of e){(!p||!c.endsWith("/"))&&(c+="/"),p=!1;for(const h of u)if(h.type===0)c+=h.value;else if(h.type===1){const{value:_,repeatable:O,optional:g}=h,v=_ in d?d[_]:"";if(Array.isArray(v)&&!O)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=Array.isArray(v)?v.join("/"):v;if(!P)if(g)u.length<2&&(c.endsWith("/")?c=c.slice(0,-1):p=!0);else throw new Error(`Missing required param "${_}"`);c+=P}}return c}return{re:a,score:i,keys:o,parse:s,stringify:l}}function h0(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function m0(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const o=h0(i[n],r[n]);if(o)return o;n++}return r.length-i.length}const _0={type:0,value:""},g0=/[a-zA-Z0-9_]/;function x0(e){if(!e)return[[]];if(e==="/")return[[_0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${d}": ${h}`)}let n=0,i=n;const r=[];let o;function a(){o&&r.push(o),o=[]}let s=0,l,d="",c="";function p(){!d||(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),d="")}function u(){d+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(d&&p(),a()):l===":"?(p(),n=1):u();break;case 4:u(),n=i;break;case 1:l==="("?n=2:g0.test(l)?u():(p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),p(),a(),r}function v0(e,t,n){const i=f0(x0(e.path),n),r=Ct(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function b0(e,t){const n=[],i=new Map;t=Np({strict:!1,end:!0,sensitive:!1},t);function r(c){return i.get(c)}function o(c,p,u){let h=!u,_=w0(c);_.aliasOf=u&&u.record;const O=Np(t,c),g=[_];if("alias"in c){const F=typeof c.alias=="string"?[c.alias]:c.alias;for(const Y of F)g.push(Ct({},_,{components:u?u.record.components:_.components,path:Y,aliasOf:u?u.record:_}))}let v,P;for(const F of g){let{path:Y}=F;if(p&&Y[0]!=="/"){let V=p.record.path,Q=V[V.length-1]==="/"?"":"/";F.path=p.record.path+(Y&&Q+Y)}if(v=v0(F,p,O),u?u.alias.push(v):(P=P||v,P!==v&&P.alias.push(v),h&&c.name&&!Dp(v)&&a(c.name)),"children"in _){let V=_.children;for(let Q=0;Q<V.length;Q++)o(V[Q],v,u&&u.children[Q])}u=u||v,l(v)}return P?()=>{a(P)}:na}function a(c){if(ch(c)){const p=i.get(c);p&&(i.delete(c),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{let p=n.indexOf(c);p>-1&&(n.splice(p,1),c.record.name&&i.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function s(){return n}function l(c){let p=0;for(;p<n.length&&m0(c,n[p])>=0;)p++;n.splice(p,0,c),c.record.name&&!Dp(c)&&i.set(c.record.name,c)}function d(c,p){let u,h={},_,O;if("name"in c&&c.name){if(u=i.get(c.name),!u)throw dr(1,{location:c});O=u.record.name,h=Ct(y0(p.params,u.keys.filter(P=>!P.optional).map(P=>P.name)),c.params),_=u.stringify(h)}else if("path"in c)_=c.path,u=n.find(P=>P.re.test(_)),u&&(h=u.parse(_),O=u.record.name);else{if(u=p.name?i.get(p.name):n.find(P=>P.re.test(p.path)),!u)throw dr(1,{location:c,currentLocation:p});O=u.record.name,h=Ct({},p.params,c.params),_=u.stringify(h)}const g=[];let v=u;for(;v;)g.unshift(v.record),v=v.parent;return{name:O,path:_,params:h,matched:g,meta:E0(g)}}return e.forEach(c=>o(c)),{addRoute:o,resolve:d,removeRoute:a,getRoutes:s,getRecordMatcher:r}}function y0(e,t){let n={};for(let i of t)i in e&&(n[i]=e[i]);return n}function w0(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:C0(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function C0(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function Dp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function E0(e){return e.reduce((t,n)=>Ct(t,n.meta),{})}function Np(e,t){let n={};for(let i in e)n[i]=i in t?t[i]:e[i];return n}const uh=/#/g,S0=/&/g,R0=/\//g,T0=/=/g,k0=/\?/g,fh=/\+/g,I0=/%5B/g,A0=/%5D/g,hh=/%5E/g,O0=/%60/g,mh=/%7B/g,P0=/%7C/g,_h=/%7D/g,D0=/%20/g;function Nd(e){return encodeURI(""+e).replace(P0,"|").replace(I0,"[").replace(A0,"]")}function N0(e){return Nd(e).replace(mh,"{").replace(_h,"}").replace(hh,"^")}function Ol(e){return Nd(e).replace(fh,"%2B").replace(D0,"+").replace(uh,"%23").replace(S0,"%26").replace(O0,"`").replace(mh,"{").replace(_h,"}").replace(hh,"^")}function M0(e){return Ol(e).replace(T0,"%3D")}function F0(e){return Nd(e).replace(uh,"%23").replace(k0,"%3F")}function L0(e){return F0(e).replace(R0,"%2F")}function ba(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function z0(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const o=i[r].replace(fh," ");let a=o.indexOf("="),s=ba(a<0?o:o.slice(0,a)),l=a<0?null:ba(o.slice(a+1));if(s in t){let d=t[s];Array.isArray(d)||(d=t[s]=[d]),d.push(l)}else t[s]=l}return t}function Mp(e){let t="";for(let n in e){t.length&&(t+="&");const i=e[n];if(n=M0(n),i==null){i!==void 0&&(t+=n);continue}let r=Array.isArray(i)?i.map(o=>o&&Ol(o)):[i&&Ol(i)];for(let o=0;o<r.length;o++)t+=(o?"&":"")+n,r[o]!=null&&(t+="="+r[o])}return t}function Y0(e){const t={};for(let n in e){let i=e[n];i!==void 0&&(t[n]=Array.isArray(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}function Nr(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ln(e,t,n,i,r){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,s)=>{const l=p=>{p===!1?s(dr(4,{from:n,to:t})):p instanceof Error?s(p):c0(p)?s(dr(2,{from:t,to:p})):(o&&i.enterCallbacks[r]===o&&typeof p=="function"&&o.push(p),a())},d=e.call(i&&i.instances[r],t,n,l);let c=Promise.resolve(d);e.length<3&&(c=c.then(l)),c.catch(p=>s(p))})}function Qs(e,t,n,i){const r=[];for(const o of e)for(const a in o.components){let s=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if($0(s)){const d=(s.__vccOpts||s)[t];d&&r.push(Ln(d,n,i,o,a))}else{let l=s();l=l.catch(console.error),r.push(()=>l.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const c=Vx(d)?d.default:d;o.components[a]=c;const u=(c.__vccOpts||c)[t];return u&&Ln(u,n,i,o,a)()}))}}return r}function $0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function W0(e){const t=Ve(ns),n=Ve(ah),i=We(()=>t.resolve(Br(e.to))),r=We(()=>{let{matched:l}=i.value,{length:d}=l;const c=l[d-1];let p=n.matched;if(!c||!p.length)return-1;let u=p.findIndex(lr.bind(null,c));if(u>-1)return u;let h=Fp(l[d-2]);return d>1&&Fp(c)===h&&p[p.length-1].path!==h?p.findIndex(lr.bind(null,l[d-2])):u}),o=We(()=>r.value>-1&&H0(n.params,i.value.params)),a=We(()=>r.value>-1&&r.value===n.matched.length-1&&sh(n.params,i.value.params));function s(l={}){return U0(l)?t[Br(e.replace)?"replace":"push"](Br(e.to)):Promise.resolve()}return{route:i,href:We(()=>i.value.href),isActive:o,isExactActive:a,navigate:s}}const j0=Id({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t}){const n=sn(W0(e)),{options:i}=Ve(ns),r=We(()=>({[Lp(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Lp(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Jf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),B0=j0;function U0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function H0(e,t){for(let n in t){let i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Array.isArray(r)||r.length!==i.length||i.some((o,a)=>o!==r[a]))return!1}return!0}function Fp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Lp=(e,t,n)=>e!=null?e:t!=null?t:n,V0=Id({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const i=Ve(Il),r=We(()=>e.route||i.value),o=Ve(Sp,0),a=We(()=>r.value.matched[o]);Xo(Sp,o+1),Xo(Hx,a),Xo(Il,r);const s=Qt();return Xi(()=>[s.value,a.value,e.name],([l,d,c],[p,u,h])=>{d&&(d.instances[c]=l,u&&u!==d&&l&&l===p&&(d.leaveGuards.size||(d.leaveGuards=u.leaveGuards),d.updateGuards.size||(d.updateGuards=u.updateGuards))),l&&d&&(!u||!lr(d,u)||!p)&&(d.enterCallbacks[c]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=r.value,d=a.value,c=d&&d.components[e.name],p=e.name;if(!c)return zp(n.default,{Component:c,route:l});const u=d.props[e.name],h=u?u===!0?l.params:typeof u=="function"?u(l):u:null,O=Jf(c,Ct({},h,t,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(d.instances[p]=null)},ref:s}));return zp(n.default,{Component:O,route:l})||O}}});function zp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const G0=V0;function K0(e){const t=b0(e.routes,e);let n=e.parseQuery||z0,i=e.stringifyQuery||Mp,r=e.history;const o=Nr(),a=Nr(),s=Nr(),l=Kg(li);let d=li;Ki&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ks.bind(null,y=>""+y),p=Ks.bind(null,L0),u=Ks.bind(null,ba);function h(y,z){let D,U;return ch(y)?(D=t.getRecordMatcher(y),U=z):U=y,t.addRoute(U,D)}function _(y){let z=t.getRecordMatcher(y);z&&t.removeRoute(z)}function O(){return t.getRoutes().map(y=>y.record)}function g(y){return!!t.getRecordMatcher(y)}function v(y,z){if(z=Ct({},z||l.value),typeof y=="string"){let ot=qs(n,y,z.path),f=t.resolve({path:ot.path},z),m=r.createHref(ot.fullPath);return Ct(ot,f,{params:u(f.params),hash:ba(ot.hash),redirectedFrom:void 0,href:m})}let D;"path"in y?D=Ct({},y,{path:qs(n,y.path,z.path).path}):(D=Ct({},y,{params:p(y.params)}),z.params=p(z.params));let U=t.resolve(D,z);const It=y.hash||"";U.params=c(u(U.params));const At=qx(i,Ct({},y,{hash:N0(It),path:U.path}));let rt=r.createHref(At);return Ct({fullPath:At,hash:It,query:i===Mp?Y0(y.query):y.query},U,{redirectedFrom:void 0,href:rt})}function P(y){return typeof y=="string"?qs(n,y,l.value.path):Ct({},y)}function F(y,z){if(d!==y)return dr(8,{from:z,to:y})}function Y(y){return K(y)}function V(y){return Y(Ct(P(y),{replace:!0}))}function Q(y){const z=y.matched[y.matched.length-1];if(z&&z.redirect){const{redirect:D}=z;let U=typeof D=="function"?D(y):D;return typeof U=="string"&&(U=U.indexOf("?")>-1||U.indexOf("#")>-1?U=P(U):{path:U}),Ct({query:y.query,hash:y.hash,params:y.params},U)}}function K(y,z){const D=d=v(y),U=l.value,It=y.state,At=y.force,rt=y.replace===!0,ot=Q(D);if(ot)return K(Ct(P(ot),{state:It,force:At,replace:rt}),z||D);const f=D;f.redirectedFrom=z;let m;return!At&&Qx(i,U,D)&&(m=dr(16,{to:f,from:U}),Yi(U,U,!0,!1)),(m?Promise.resolve(m):it(f,U)).catch(x=>Dr(x)?x:wt(x)).then(x=>{if(x){if(Dr(x,2))return K(Ct(P(x.to),{state:It,force:At,replace:rt}),z||f)}else x=Yt(f,U,!0,rt,It);return kt(f,U,x),x})}function Tt(y,z){const D=F(y,z);return D?Promise.reject(D):Promise.resolve()}function it(y,z){let D;const[U,It,At]=q0(y,z);D=Qs(U.reverse(),"beforeRouteLeave",y,z);for(const ot of U)ot.leaveGuards.forEach(f=>{D.push(Ln(f,y,z))});const rt=Tt.bind(null,y,z);return D.push(rt),Wi(D).then(()=>{D=[];for(const ot of o.list())D.push(Ln(ot,y,z));return D.push(rt),Wi(D)}).then(()=>{D=Qs(It,"beforeRouteUpdate",y,z);for(const ot of It)ot.updateGuards.forEach(f=>{D.push(Ln(f,y,z))});return D.push(rt),Wi(D)}).then(()=>{D=[];for(const ot of y.matched)if(ot.beforeEnter&&z.matched.indexOf(ot)<0)if(Array.isArray(ot.beforeEnter))for(const f of ot.beforeEnter)D.push(Ln(f,y,z));else D.push(Ln(ot.beforeEnter,y,z));return D.push(rt),Wi(D)}).then(()=>(y.matched.forEach(ot=>ot.enterCallbacks={}),D=Qs(At,"beforeRouteEnter",y,z),D.push(rt),Wi(D))).then(()=>{D=[];for(const ot of a.list())D.push(Ln(ot,y,z));return D.push(rt),Wi(D)}).catch(ot=>Dr(ot,8)?ot:Promise.reject(ot))}function kt(y,z,D){for(const U of s.list())U(y,z,D)}function Yt(y,z,D,U,It){const At=F(y,z);if(At)return At;const rt=z===li,ot=Ki?history.state:{};D&&(U||rt?r.replace(y.fullPath,Ct({scroll:rt&&ot&&ot.scroll},It)):r.push(y.fullPath,It)),l.value=y,Yi(y,z,D,rt),Se()}let et;function Lt(){et=r.listen((y,z,D)=>{let U=v(y);const It=Q(U);if(It){K(Ct(It,{replace:!0}),U).catch(na);return}d=U;const At=l.value;Ki&&i0(Ip(At.fullPath,D.delta),is()),it(U,At).catch(rt=>Dr(rt,12)?rt:Dr(rt,2)?(K(rt.to,U).catch(na),Promise.reject()):(D.delta&&r.go(-D.delta,!1),wt(rt))).then(rt=>{rt=rt||Yt(U,At,!1),rt&&D.delta&&r.go(-D.delta,!1),kt(U,At,rt)}).catch(na)})}let Ut=Nr(),zi=Nr(),Wt;function wt(y){return Se(y),zi.list().forEach(z=>z(y)),Promise.reject(y)}function gt(){return Wt&&l.value!==li?Promise.resolve():new Promise((y,z)=>{Ut.add([y,z])})}function Se(y){Wt||(Wt=!0,Lt(),Ut.list().forEach(([z,D])=>y?D(y):z()),Ut.reset())}function Yi(y,z,D,U){const{scrollBehavior:It}=e;if(!Ki||!It)return Promise.resolve();let At=!D&&r0(Ip(y.fullPath,0))||(U||!D)&&history.state&&history.state.scroll||null;return wf().then(()=>It(y,z,At)).then(rt=>rt&&n0(rt)).catch(wt)}const _n=y=>r.go(y);let Xe;const Re=new Set;return{currentRoute:l,addRoute:h,removeRoute:_,hasRoute:g,getRoutes:O,resolve:v,options:e,push:Y,replace:V,go:_n,back:()=>_n(-1),forward:()=>_n(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:zi.add,isReady:gt,install(y){const z=this;y.component("RouterLink",B0),y.component("RouterView",G0),y.config.globalProperties.$router=z,Object.defineProperty(y.config.globalProperties,"$route",{get:()=>Br(l)}),Ki&&!Xe&&l.value===li&&(Xe=!0,Y(r.location).catch(It=>{}));const D={};for(let It in li)D[It]=We(()=>l.value[It]);y.provide(ns,z),y.provide(ah,sn(D)),y.provide(Il,l);let U=y.unmount;Re.add(y),y.unmount=function(){Re.delete(y),Re.size<1&&(et(),l.value=li,Xe=!1,Wt=!1),U()}}}}function Wi(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function q0(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const s=t.matched[a];s&&(e.matched.find(d=>lr(d,s))?i.push(s):n.push(s));const l=e.matched[a];l&&(t.matched.find(d=>lr(d,l))||r.push(l))}return[n,i,r]}function vr(){return Ve(ns)}var Q0=Object.defineProperty,Yp=Object.getOwnPropertySymbols,J0=Object.prototype.hasOwnProperty,Z0=Object.prototype.propertyIsEnumerable,$p=(e,t,n)=>t in e?Q0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X0=(e,t)=>{for(var n in t||(t={}))J0.call(t,n)&&$p(e,n,t[n]);if(Yp)for(var n of Yp(t))Z0.call(t,n)&&$p(e,n,t[n]);return e},gh="usehead",Wp="head:count",Js="data-head-attrs",tv=(e,t,n)=>{const i=n.createElement(e);for(const r of Object.keys(t)){let o=t[r];r==="key"||o===!1||(r==="children"?i.textContent=o:i.setAttribute(r,o))}return i};function ev(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const n=t.getAttribute("nonce");if(n&&!e.getAttribute("nonce")){const i=t.cloneNode(!0);return i.setAttribute("nonce",""),i.nonce=n,n===e.nonce&&e.isEqualNode(i)}}return e.isEqualNode(t)}var nv=e=>{const t=["key","id","name","property"];for(const n of t){const i=typeof e.getAttribute=="function"?e.hasAttribute(n)?e.getAttribute(n):void 0:e[n];if(i!==void 0)return{name:n,value:i}}},iv=()=>{const e=Ve(gh);if(!e)throw new Error("You may forget to apply app.use(head)");return e},rv=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],ov=e=>{const t=[];for(const n of Object.keys(e))if(e[n]!=null){if(n==="title")t.push({tag:n,props:{children:e[n]}});else if(n==="base")t.push({tag:n,props:X0({key:"default"},e[n])});else if(rv.includes(n)){const i=e[n];Array.isArray(i)?i.forEach(r=>{t.push({tag:n,props:r})}):i&&t.push({tag:n,props:i})}}return t},jp=(e,t)=>{const n=e.getAttribute(Js);if(n)for(const r of n.split(","))r in t||e.removeAttribute(r);const i=[];for(const r in t){const o=t[r];o!=null&&(o===!1?e.removeAttribute(r):e.setAttribute(r,o),i.push(r))}i.length?e.setAttribute(Js,i.join(",")):e.removeAttribute(Js)},av=(e=window.document,t,n)=>{var i;const r=e.head;let o=r.querySelector(`meta[name="${Wp}"]`);const a=o?Number(o.getAttribute("content")):0,s=[];if(o)for(let d=0,c=o.previousElementSibling;d<a;d++,c=(c==null?void 0:c.previousElementSibling)||null)((i=c==null?void 0:c.tagName)==null?void 0:i.toLowerCase())===t&&s.push(c);else o=e.createElement("meta"),o.setAttribute("name",Wp),o.setAttribute("content","0"),r.append(o);let l=n.map(d=>tv(d.tag,d.props,e));l=l.filter(d=>{for(let c=0;c<s.length;c++){const p=s[c];if(ev(p,d))return s.splice(c,1),!1}return!0}),s.forEach(d=>{var c;return(c=d.parentNode)==null?void 0:c.removeChild(d)}),l.forEach(d=>{r.insertBefore(d,o)}),o.setAttribute("content",""+(a-s.length+l.length))},sv=()=>{let e=[],t=new Set;const n={install(i){i.config.globalProperties.$head=n,i.provide(gh,n)},get headTags(){const i=[];return e.forEach(r=>{ov(r.value).forEach(a=>{if(a.tag==="meta"||a.tag==="base"||a.tag==="script"){const s=nv(a.props);if(s){let l=-1;for(let d=0;d<i.length;d++){const c=i[d],p=c.props[s.name],u=a.props[s.name];if(c.tag===a.tag&&p===u){l=d;break}}l!==-1&&i.splice(l,1)}}i.push(a)})}),i},addHeadObjs(i){e.push(i)},removeHeadObjs(i){e=e.filter(r=>r!==i)},updateDOM(i=window.document){let r,o={},a={};const s={};for(const d of n.headTags){if(d.tag==="title"){r=d.props.children;continue}if(d.tag==="htmlAttrs"){Object.assign(o,d.props);continue}if(d.tag==="bodyAttrs"){Object.assign(a,d.props);continue}s[d.tag]=s[d.tag]||[],s[d.tag].push(d)}r!==void 0&&(i.title=r),jp(i.documentElement,o),jp(i.body,a);const l=new Set([...Object.keys(s),...t]);for(const d of l)av(i,d,s[d]||[]);t.clear(),Object.keys(s).forEach(d=>t.add(d))}};return n},lv=typeof window!="undefined",Md=e=>{const t=Qt(e),n=iv();n.addHeadObjs(t),lv&&(b1(()=>{n.updateDOM()}),Df(()=>{n.removeHeadObjs(t),n.updateDOM()}))};function dv(e){try{return JSON.parse(e||"{}")}catch(t){return console.error("[SSG] On state deserialization -",t,e),{}}}function cv(e){return document.readyState==="loading"?new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>t(e))}):Promise.resolve(e)}const pv=Id({setup(e,{slots:t}){const n=Qt(!1);return Pf(()=>n.value=!0),()=>n.value&&t.default&&t.default({})}});function uv(e,t,n,i={}){const{transformState:r,registerComponents:o=!0,useHead:a=!0,rootContainer:s="#app"}=i,l=typeof window!="undefined";async function d(c=!1,p){var K,Tt;const u=c?Bx(e):Ux(e);let h;a&&(h=sv(),u.use(h));const _=K0({history:c?l0(t.base):d0(t.base),...t}),{routes:O}=t;o&&u.component("ClientOnly",c?pv:{render:()=>null});const g=[],F={app:u,head:h,isClient:l,router:_,routes:O,onSSRAppRendered:c?()=>{}:it=>g.push(it),triggerOnSSRAppRendered:()=>Promise.all(g.map(it=>it())),initialState:{},transformState:r,routePath:p};c&&(await cv(),F.initialState=(r==null?void 0:r(window.__INITIAL_STATE__||{}))||dv(window.__INITIAL_STATE__)),await(n==null?void 0:n(F)),u.use(_);let Y,V=!0;if(_.beforeEach((it,kt,Yt)=>{(V||Y&&Y===it.path)&&(V=!1,Y=it.path,it.meta.state=F.initialState),Yt()}),!c){const it=(Tt=(K=F.routePath)!=null?K:t.base)!=null?Tt:"/";_.push(it),await _.isReady(),F.initialState=_.currentRoute.value.meta.state||{}}const Q=F.initialState;return{...F,initialState:Q}}return l&&(async()=>{const{app:c,router:p}=await d(!0);await p.isReady(),c.mount(s,!0)})(),d}const fv="AIzaSyB6WCaZsYoGqeotIkZYvMj_EaeP25E7lMI",hv="socket-game-f530e.firebaseapp.com",mv="https://socket-game-f530e-default-rtdb.firebaseio.com",_v="socket-game-f530e",gv="socket-game-f530e.appspot.com",xv="554022480678",vv="1:554022480678:web:a0949656e777278ae5afe7",bv="G-TN9DBP7TSL";var yv={apiKey:fv,authDomain:hv,databaseURL:mv,projectId:_v,storageBucket:gv,messagingSenderId:xv,appId:vv,measurementId:bv};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(e,t){if(!e)throw br(t)},br=function(e){return new Error("Firebase Database ("+xh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},wv=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=e[n++],a=e[n++],s=e[n++],l=((r&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return t.join("")},Fd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const o=e[r],a=r+1<e.length,s=a?e[r+1]:0,l=r+2<e.length,d=l?e[r+2]:0,c=o>>2,p=(o&3)<<4|s>>4;let u=(s&15)<<2|d>>6,h=d&63;l||(h=64,a||(u=64)),i.push(n[c],n[p],n[u],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vh(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const o=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const d=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,o==null||s==null||d==null||p==null)throw Error();const u=o<<2|s>>4;if(i.push(u),d!==64){const h=s<<4&240|d>>2;if(i.push(h),p!==64){const _=d<<6&192|p;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},bh=function(e){const t=vh(e);return Fd.encodeByteArray(t,!0)},ya=function(e){return bh(e).replace(/\./g,"")},Bp=function(e){try{return Fd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(e){return so(void 0,e)}function so(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Ev(n)||(e[n]=so(e[n],t[n]));return e}function Ev(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[ya(JSON.stringify(n)),ya(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yh(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rv())}function Tv(){return typeof self=="object"&&self.self===self}function kv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wh(){return xh.NODE_ADMIN===!0}function Iv(){return typeof indexedDB=="object"}function Av(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="FirebaseError";class rs extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Ov,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,os.prototype.create)}}class os{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],a=o?Pv(o,i):"Error",s=`${this.serviceName}: ${a} (${r}).`;return new rs(r,s,i)}}function Pv(e,t){return e.replace(Dv,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Dv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(e){return JSON.parse(e)}function jt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=function(e){let t={},n={},i={},r="";try{const o=e.split(".");t=lo(Bp(o[0])||""),n=lo(Bp(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}},Nv=function(e){const t=Ch(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Mv=function(e){const t=Ch(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Si(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Pl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wa(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Dl(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const o=e[r],a=t[r];if(Up(o)&&Up(a)){if(!Dl(o,a))return!1}else if(o!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Up(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let p=0;p<16;p++)i[p]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let p=16;p<80;p++){const u=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(u<<1|u>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],a=this.chain_[2],s=this.chain_[3],l=this.chain_[4],d,c;for(let p=0;p<80;p++){p<40?p<20?(d=s^o&(a^s),c=1518500249):(d=o^a^s,c=1859775393):p<60?(d=o&a|s&(o|a),c=2400959708):(d=o^a^s,c=3395469782);const u=(r<<5|r>>>27)+d+l+c+i[p]&4294967295;l=s,s=a,a=(o<<30|o>>>2)&4294967295,o=r,r=u}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let a=this.inbuf_;for(;r<n;){if(a===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(o[a]=t.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}else for(;r<n;)if(o[a]=t[r],++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[r]>>o&255,++i;return t}}function zv(e,t){const n=new Yv(e,t);return n.subscribe.bind(n)}class Yv{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");$v(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Zs),r.error===void 0&&(r.error=Zs),r.complete===void 0&&(r.complete=Zs);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $v(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Zs(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(e,t,n,i){let r;if(i<t?r="at least "+t:i>n&&(r=n===0?"none":"no more than "+n),r){const o=e+" failed: Was called with "+i+(i===1?" argument.":" arguments.")+" Expects "+r+".";throw new Error(o)}};function ue(e,t){return`${e} failed: ${t} argument `}function Vt(e,t,n,i){if(!(i&&!n)&&typeof n!="function")throw new Error(ue(e,t)+"must be a valid function.")}function Hp(e,t,n,i){if(!(i&&!n)&&(typeof n!="object"||n===null))throw new Error(ue(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,T(i<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(i)-56320;r=65536+(o<<10)+a}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},as=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(e){return e&&e._delegate?e._delegate:e}class Xn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new ce;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Bv(t))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ui){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ui){return this.instances.has(t)}getOptions(t=ui){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);i===s&&a.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&t(a,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jv(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ui){return this.component?this.component.multipleInstances?t:ui:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jv(e){return e===ui?void 0:e}function Bv(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Eh(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=[];var vt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(vt||(vt={}));const Rh={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},Uv=vt.INFO,Hv={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},Vv=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Hv[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ss{constructor(t){this.name=t,this._logLevel=Uv,this._logHandler=Vv,this._userLogHandler=null,Ld.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rh[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...t),this._logHandler(this,vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...t),this._logHandler(this,vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...t),this._logHandler(this,vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...t),this._logHandler(this,vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...t),this._logHandler(this,vt.ERROR,...t)}}function Gv(e){Ld.forEach(t=>{t.setLogLevel(e)})}function Kv(e,t){for(const n of Ld){let i=null;t&&t.level&&(i=Rh[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(r,o,...a)=>{const s=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");o>=(i!=null?i:r.logLevel)&&e({level:vt[o].toLowerCase(),message:s,args:a,type:r.name})}}}const qv=(e,t)=>t.some(n=>e instanceof n);let Vp,Gp;function Qv(){return Vp||(Vp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jv(){return Gp||(Gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Th=new WeakMap,Nl=new WeakMap,kh=new WeakMap,Xs=new WeakMap,zd=new WeakMap;function Zv(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(Un(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Th.set(n,e)}).catch(()=>{}),zd.set(t,e),t}function Xv(e){if(Nl.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});Nl.set(e,t)}let Ml={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Nl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||kh.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function tb(e){Ml=e(Ml)}function eb(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(tl(this),t,...n);return kh.set(i,t.sort?t.sort():[t]),Un(i)}:Jv().includes(e)?function(...t){return e.apply(tl(this),t),Un(Th.get(this))}:function(...t){return Un(e.apply(tl(this),t))}}function nb(e){return typeof e=="function"?eb(e):(e instanceof IDBTransaction&&Xv(e),qv(e,Qv())?new Proxy(e,Ml):e)}function Un(e){if(e instanceof IDBRequest)return Zv(e);if(Xs.has(e))return Xs.get(e);const t=nb(e);return t!==e&&(Xs.set(e,t),zd.set(t,e)),t}const tl=e=>zd.get(e);function ib(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(e,t),s=Un(a);return i&&a.addEventListener("upgradeneeded",l=>{i(Un(a.result),l.oldVersion,l.newVersion,Un(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),s.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),s}const rb=["get","getKey","getAll","getAllKeys","count"],ob=["put","add","delete","clear"],el=new Map;function Kp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(el.get(t))return el.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=ob.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||rb.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,r?"readwrite":"readonly");let d=l.store;return i&&(d=d.index(s.shift())),(await Promise.all([d[n](...s),r&&l.done]))[0]};return el.set(t,o),o}tb(e=>({...e,get:(t,n,i)=>Kp(t,n)||e.get(t,n,i),has:(t,n)=>!!Kp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sb(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function sb(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fl="@firebase/app",qp="0.7.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new ss("@firebase/app"),lb="@firebase/app-compat",db="@firebase/analytics-compat",cb="@firebase/analytics",pb="@firebase/app-check-compat",ub="@firebase/app-check",fb="@firebase/auth",hb="@firebase/auth-compat",mb="@firebase/database",_b="@firebase/database-compat",gb="@firebase/functions",xb="@firebase/functions-compat",vb="@firebase/installations",bb="@firebase/installations-compat",yb="@firebase/messaging",wb="@firebase/messaging-compat",Cb="@firebase/performance",Eb="@firebase/performance-compat",Sb="@firebase/remote-config",Rb="@firebase/remote-config-compat",Tb="@firebase/storage",kb="@firebase/storage-compat",Ib="@firebase/firestore",Ab="@firebase/firestore-compat",Ob="firebase",Pb="9.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]",Db={[Fl]:"fire-core",[lb]:"fire-core-compat",[cb]:"fire-analytics",[db]:"fire-analytics-compat",[ub]:"fire-app-check",[pb]:"fire-app-check-compat",[fb]:"fire-auth",[hb]:"fire-auth-compat",[mb]:"fire-rtdb",[_b]:"fire-rtdb-compat",[gb]:"fire-fn",[xb]:"fire-fn-compat",[vb]:"fire-iid",[bb]:"fire-iid-compat",[yb]:"fire-fcm",[wb]:"fire-fcm-compat",[Cb]:"fire-perf",[Eb]:"fire-perf-compat",[Sb]:"fire-rc",[Rb]:"fire-rc-compat",[Tb]:"fire-gcs",[kb]:"fire-gcs-compat",[Ib]:"fire-fst",[Ab]:"fire-fst-compat","fire-js":"fire-js",[Ob]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Map,co=new Map;function Ca(e,t){try{e.container.addComponent(t)}catch(n){Yd.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ih(e,t){e.container.addOrOverwriteComponent(t)}function cr(e){const t=e.name;if(co.has(t))return Yd.debug(`There were multiple attempts to register component ${t}.`),!1;co.set(t,e);for(const n of ti.values())Ca(n,e);return!0}function Ah(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Nb(e,t,n=Ri){Ah(e,t).clearInstance(n)}function Mb(){co.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ei=new os("app","Firebase",Fb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=Pb;function Oh(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:Ri,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});const r=ti.get(i);if(r){if(Dl(e,r.options)&&Dl(n,r.config))return r;throw ei.create("duplicate-app",{appName:i})}const o=new Sh(i);for(const s of co.values())o.addComponent(s);const a=new Lb(e,n,o);return ti.set(i,a),a}function zb(e=Ri){const t=ti.get(e);if(!t)throw ei.create("no-app",{appName:e});return t}function Yb(){return Array.from(ti.values())}async function Ph(e){const t=e.name;ti.has(t)&&(ti.delete(t),await Promise.all(e.container.getProviders().map(n=>n.delete())),e.isDeleted=!0)}function Hn(e,t,n){var i;let r=(i=Db[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${r}" with version "${t}":`];o&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yd.warn(s.join(" "));return}cr(new Xn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function Dh(e,t){if(e!==null&&typeof e!="function")throw ei.create("invalid-log-argument");Kv(e,t)}function Nh(e){Gv(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebase-heartbeat-database",Wb=1,po="firebase-heartbeat-store";let nl=null;function Mh(){return nl||(nl=ib($b,Wb,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(po)}}}).catch(e=>{throw ei.create("storage-open",{originalErrorMessage:e.message})})),nl}async function jb(e){var t;try{return(await Mh()).transaction(po).objectStore(po).get(Fh(e))}catch(n){throw ei.create("storage-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message})}}async function Qp(e,t){var n;try{const r=(await Mh()).transaction(po,"readwrite");return await r.objectStore(po).put(t,Fh(e)),r.done}catch(i){throw ei.create("storage-set",{originalErrorMessage:(n=i)===null||n===void 0?void 0:n.message})}}function Fh(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1024,Ub=30*24*60*60*1e3;class Hb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Jp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const o=new Date(r.date).valueOf();return Date.now()-o<=Ub}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jp(),{heartbeatsToSend:n,unsentEntries:i}=Vb(this._heartbeatsCache.heartbeats),r=ya(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Jp(){return new Date().toISOString().substring(0,10)}function Vb(e,t=Bb){const n=[];let i=e.slice();for(const r of e){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),Zp(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Zp(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Gb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iv()?Av().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Zp(e){return ya(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(e){cr(new Xn("platform-logger",t=>new ab(t),"PRIVATE")),cr(new Xn("heartbeat",t=>new Hb(t),"PRIVATE")),Hn(Fl,qp,e),Hn(Fl,qp,"esm2017"),Hn("fire-js","")}Kb("");var qb=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:$d,_DEFAULT_ENTRY_NAME:Ri,_addComponent:Ca,_addOrOverwriteComponent:Ih,_apps:ti,_clearComponents:Mb,_components:co,_getProvider:Ah,_registerComponent:cr,_removeServiceInstance:Nb,deleteApp:Ph,getApp:zb,getApps:Yb,initializeApp:Oh,onLog:Dh,registerVersion:Hn,setLogLevel:Nh,FirebaseError:rs},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,n){this._delegate=t,this.firebase=n,Ca(t,new Xn("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Ph(this._delegate)))}_getService(t,n=Ri){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(t,n=Ri){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){Ca(this._delegate,t)}_addOrOverwriteComponent(t){Ih(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},Xp=new os("app-compat","Firebase",Jb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(e){const t={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:Hn,setLogLevel:Nh,onLog:Dh,apps:null,SDK_VERSION:$d,INTERNAL:{registerComponent:s,removeApp:i,useAsService:l,modularAPIs:qb}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(d){delete t[d]}function r(d){if(d=d||Ri,!we(t,d))throw Xp.create("no-app",{appName:d});return t[d]}r.App=e;function o(d,c={}){const p=Oh(d,c);if(we(t,p.name))return t[p.name];const u=new e(p,n);return t[p.name]=u,u}function a(){return Object.keys(t).map(d=>t[d])}function s(d){const c=d.name,p=c.replace("-compat","");if(cr(d)&&d.type==="PUBLIC"){const u=(h=r())=>{if(typeof h[p]!="function")throw Xp.create("invalid-app-argument",{appName:c});return h[p]()};d.serviceProps!==void 0&&so(u,d.serviceProps),n[p]=u,e.prototype[p]=function(...h){return this._getService.bind(this,c).apply(this,d.multipleInstances?h:[])}}return d.type==="PUBLIC"?n[p]:null}function l(d,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(){const e=Zb(Qb);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:Lh,extendNamespace:t,createSubscribe:zv,ErrorFactory:os,deepExtend:so});function t(n){so(e,n)}return e}const Xb=Lh();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new ss("@firebase/app-compat"),ty="@firebase/app-compat",ey="0.1.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(e){Hn(ty,ey,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Tv()&&self.firebase!==void 0){tu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&tu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const An=Xb;ny();var iy="firebase",ry="9.8.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.registerVersion(iy,ry,"app-compat");const eu="@firebase/database",nu="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh="";function Yh(e){zh=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),jt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:lo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return we(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=function(e){try{if(typeof window!="undefined"&&typeof window[e]!="undefined"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new oy(t)}}catch{}return new ay},_i=$h("localStorage"),Ll=$h("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new ss("@firebase/database"),Wh=function(){let e=1;return function(){return e++}}(),jh=function(e){const t=Wv(e),n=new Lv;n.update(t);const i=n.digest();return Fd.encodeByteArray(i)},Ro=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Ro.apply(null,i):typeof i=="object"?t+=jt(i):t+=i,t+=" "}return t};let Ci=null,iu=!0;const Bh=function(e,t){T(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(tr.logLevel=vt.VERBOSE,Ci=tr.log.bind(tr),t&&Ll.set("logging_enabled",!0)):typeof e=="function"?Ci=e:(Ci=null,Ll.remove("logging_enabled"))},Kt=function(...e){if(iu===!0&&(iu=!1,Ci===null&&Ll.get("logging_enabled")===!0&&Bh(!0)),Ci){const t=Ro.apply(null,e);Ci(t)}},To=function(e){return function(...t){Kt(e,...t)}},zl=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ro(...e);tr.error(t)},dn=function(...e){const t=`FIREBASE FATAL ERROR: ${Ro(...e)}`;throw tr.error(t),new Error(t)},te=function(...e){const t="FIREBASE WARNING: "+Ro(...e);tr.warn(t)},sy=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&te("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ls=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ly=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Tn="[MIN_NAME]",cn="[MAX_NAME]",Di=function(e,t){if(e===t)return 0;if(e===Tn||t===cn)return-1;if(t===Tn||e===cn)return 1;{const n=Ea(e),i=Ea(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},dy=function(e,t){return e===t?0:e<t?-1:1},Mr=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+jt(t))},Wd=function(e){if(typeof e!="object"||e===null)return jt(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=jt(t[i]),n+=":",n+=Wd(e[t[i]]);return n+="}",n},Uh=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Jt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Hh=function(e){T(!ls(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,o,a,s,l;e===0?(o=0,a=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=s+i,a=Math.round(e*Math.pow(2,n-s)-Math.pow(2,n))):(o=0,a=Math.round(e/Math.pow(2,1-i-n))));const d=[];for(l=n;l;l-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(l=t;l;l-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(r?1:0),d.reverse();const c=d.join("");let p="";for(l=0;l<64;l+=8){let u=parseInt(c.substr(l,8),2).toString(16);u.length===1&&(u="0"+u),p=p+u}return p.toLowerCase()},cy=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},py=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uy(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const fy=new RegExp("^-?(0*)\\d{1,10}$"),Vh=-2147483648,jd=2147483647,Ea=function(e){if(fy.test(e)){const t=Number(e);if(t>=Vh&&t<=jd)return t}return null},yr=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw te("Exception was thrown by user callback.",n),t},Math.floor(0))}},hy=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qr=function(e,t){const n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){te(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',te(t)}}class er{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}er.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="5",Gh="v",Kh="s",qh="r",Qh="f",Jh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Zh="ls",Xh="p",Yl="ac",tm="websocket",em="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,n,i,r,o=!1,a="",s=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_i.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&_i.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function gy(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function im(e,t,n){T(typeof t=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let i;if(t===tm)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===em)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);gy(e)&&(n.ns=e.namespace);const r=[];return Jt(n,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.counters_={}}incrementCounter(t,n=1){we(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Cv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il={},rl={};function Ud(e){const t=e.toString();return il[t]||(il[t]=new xy),il[t]}function vy(e,t){const n=e.toString();return rl[n]||(rl[n]=t()),rl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&yr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="start",yy="close",wy="pLPCommand",Cy="pRTLPCB",rm="id",om="pw",am="ser",Ey="cb",Sy="seg",Ry="ts",Ty="d",ky="dframe",sm=1870,lm=30,Iy=sm-lm,Ay=25e3,Oy=3e4;class zn{constructor(t,n,i,r,o,a,s){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=To(t),this.stats_=Ud(n),this.urlFn=l=>(this.appCheckToken&&(l[Yl]=this.appCheckToken),im(n,em,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new by(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Oy)),ly(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hd((...o)=>{const[a,s,l,d,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===ru)this.id=s,this.password=l;else if(a===yy)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,s]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,s)},()=>{this.onClosed_()},this.urlFn);const i={};i[ru]="t",i[am]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Ey]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Gh]=Bd,this.transportSessionId&&(i[Kh]=this.transportSessionId),this.lastSessionId&&(i[Zh]=this.lastSessionId),this.applicationId&&(i[Xh]=this.applicationId),this.appCheckToken&&(i[Yl]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&Jh.test(location.hostname)&&(i[qh]=Qh);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zn.forceAllow_=!0}static forceDisallow(){zn.forceDisallow_=!0}static isAvailable(){return zn.forceAllow_?!0:!zn.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!cy()&&!py()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=jt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=bh(n),r=Uh(i,Iy);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[ky]="t",i[rm]=t,i[om]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=jt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Hd{constructor(t,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Wh(),window[wy+this.uniqueCallbackIdentifier]=t,window[Cy+this.uniqueCallbackIdentifier]=n,this.myIFrame=Hd.createIFrame_();let o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const s=document.domain;o='<script>document.domain="'+s+'";<\/script>'}const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(s){Kt("frame writing exception"),s.stack&&Kt(s.stack),Kt(s)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Kt("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[rm]=this.myID,t[om]=this.myPW,t[am]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lm+i.length<=sm;){const a=this.pendingSegs.shift();i=i+"&"+Sy+r+"="+a.seg+"&"+Ry+r+"="+a.ts+"&"+Ty+r+"="+a.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(Ay)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Kt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=16384,Dy=45e3;let Sa=null;typeof MozWebSocket!="undefined"?Sa=MozWebSocket:typeof WebSocket!="undefined"&&(Sa=WebSocket);class Ae{constructor(t,n,i,r,o,a,s){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=To(this.connId),this.stats_=Ud(n),this.connURL=Ae.connectionURL_(n,a,s,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,r,o){const a={};return a[Gh]=Bd,typeof location!="undefined"&&location.hostname&&Jh.test(location.hostname)&&(a[qh]=Qh),n&&(a[Kh]=n),i&&(a[Zh]=i),r&&(a[Yl]=r),o&&(a[Xh]=o),im(t,tm,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_i.set("previous_websocket_failure",!0);try{let i;wh(),this.mySock=new Sa(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ae.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Sa!==null&&!Ae.forceDisallow_}static previouslyFailed(){return _i.isInMemoryStorage||_i.get("previous_websocket_failure")===!0}markConnectionHealthy(){_i.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=lo(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(T(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=jt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Uh(n,Py);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Dy))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ae.responsesRequiredToBeHealthy=2;Ae.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[zn,Ae]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Ae&&Ae.isAvailable();let i=n&&!Ae.previouslyFailed();if(t.webSocketOnly&&(n||te("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ae];else{const r=this.transports_=[];for(const o of pr.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);pr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=6e4,My=5e3,Fy=10*1024,Ly=100*1024,ol="t",ou="d",zy="s",au="r",Yy="e",su="o",lu="a",du="n",cu="p",$y="h";class Wy{constructor(t,n,i,r,o,a,s,l,d,c){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=l,this.onKill_=d,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=To("c:"+this.id+":"),this.transportManager_=new pr(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=qr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ly?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Fy?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ol in t){const n=t[ol];n===lu?this.upgradeIfSecondaryHealthy_():n===au?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===su&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Mr("t",t),i=Mr("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cu,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lu,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:du,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Mr("t",t),i=Mr("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Mr(ol,t);if(ou in t){const i=t[ou];if(n===$y)this.onHandshake_(i);else if(n===du){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zy?this.onConnectionShutdown_(i):n===au?this.onReset_(i):n===Yy?zl("Server Error: "+i):n===su?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zl("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Bd!==i&&te("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),qr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ny))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(My))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cu,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t){this.allowedEvents_=t,this.listeners_={},T(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){T(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends cm{constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!yh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ra}getInitialEvent(t){return T(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=32,uu=768;class ht{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function lt(){return new ht("")}function J(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ni(e){return e.pieces_.length-e.pieceNum_}function yt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ht(e.pieces_,t)}function Vd(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function jy(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function uo(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function pm(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ht(t,0)}function Ft(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ht)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ht(n,0)}function Z(e){return e.pieceNum_>=e.pieces_.length}function oe(e,t){const n=J(e),i=J(t);if(n===null)return t;if(n===i)return oe(yt(e),yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function By(e,t){const n=uo(e,0),i=uo(t,0);for(let r=0;r<n.length&&r<i.length;r++){const o=Di(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function Gd(e,t){if(ni(e)!==ni(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Oe(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ni(e)>ni(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Uy{constructor(t,n){this.errorPrefix_=n,this.parts_=uo(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=as(this.parts_[i]);um(this)}}function Hy(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=as(t),um(e)}function Vy(e){const t=e.parts_.pop();e.byteLength_-=as(t),e.parts_.length>0&&(e.byteLength_-=1)}function um(e){if(e.byteLength_>uu)throw new Error(e.errorPrefix_+"has a key path longer than "+uu+" bytes ("+e.byteLength_+").");if(e.parts_.length>pu)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pu+") or object contains a cycle "+fi(e))}function fi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends cm{constructor(){super(["visible"]);let t,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",t="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Kd}getInitialEvent(t){return T(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=1e3,Gy=60*5*1e3,Ky=3*1e3,fu=30*1e3,qy=1.3,Qy=3e4,Jy="server_kill",hu=3;class Cn extends dm{constructor(t,n,i,r,o,a,s,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=s,this.authOverride_=l,this.id=Cn.nextPersistentConnectionId_++,this.log_=To("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fr,this.maxReconnectDelay_=Gy,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!wh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ra.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const r=++this.requestNumber_,o={r,a:t,b:n};this.log_(jt(o)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const n=new ce,i={p:t._path.toString(),q:t._queryObject},r={action:"g",request:i,onComplete:a=>{const s=a.d;a.s==="ok"?n.resolve(s):n.reject(s)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];a===void 0||r!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))},Ky),this.connected_&&this.sendGet_(o),n.promise}listen(t,n,i,r){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:n,query:t,tag:i};this.listens.get(a).set(o,s),this.connected_&&this.sendListen_(s)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},a="q";t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(a,o,s=>{const l=s.d,d=s.s;Cn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",s),d!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(d,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&we(t,"w")){const i=Si(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();te(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Mv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fu)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Nv(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,a=r.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,n)}sendUnlisten_(t,n,i,r){this.log_("Unlisten on "+t+" for "+n);const o={p:t},a="n";r&&(o.q=i,o.t=r),this.sendRequest(a,o)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(t,n,i,r){this.putInternal("p",t,n,i,r)}merge(t,n,i,r){this.putInternal("m",t,n,i,r)}putInternal(t,n,i,r,o){this.initConnection_();const a={p:n,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+jt(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):zl("Unrecognized action received from server: "+jt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Qy&&(this.reconnectDelay_=Fr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qy)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Cn.nextConnectionId_++,o=this.lastSessionId;let a=!1,s=null;const l=function(){s?s.close():(a=!0,i())},d=function(p){T(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(p)};this.realtime_={close:l,sendRequest:d};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,u]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);a?Kt("getToken() completed but was canceled"):(Kt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=u&&u.token,s=new Wy(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,h=>{te(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(Jy)},o))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&te(p),l())}}}interrupt(t){Kt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Kt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Pl(this.interruptReasons_)&&(this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(o=>Wd(o)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,n){const i=new ht(t).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,n){Kt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hu&&(this.reconnectDelay_=fu,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Kt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hu&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+zh.replace(/\./g,"-")]=1,yh()?t["framework.cordova"]=1:kv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ra.getInstance().currentlyOnline();return Pl(this.interruptReasons_)&&t}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new X(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new X(Tn,t),r=new X(Tn,n);return this.compare(i,r)!==0}minPost(){return X.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko;class fm extends ds{static get __EMPTY_NODE(){return Ko}static set __EMPTY_NODE(t){Ko=t}compare(t,n){return Di(t.name,n.name)}isDefinedOn(t){throw br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return X.MIN}maxPost(){return new X(cn,Ko)}makePost(t,n){return T(typeof t=="string","KeyIndex indexValue must always be a string."),new X(t,Ko)}toString(){return".key"}}const an=new fm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?i(t.key,n):1,r&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Gt{constructor(t,n,i,r,o){this.key=t,this.value=n,this.color=i!=null?i:Gt.RED,this.left=r!=null?r:pe.EMPTY_NODE,this.right=o!=null?o:pe.EMPTY_NODE}copy(t,n,i,r,o){return new Gt(t!=null?t:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,o!=null?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const o=i(t,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(t,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return pe.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,r;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return pe.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Gt.RED=!0;Gt.BLACK=!1;class Zy{copy(t,n,i,r,o){return this}insert(t,n,i){return new Gt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pe{constructor(t,n=pe.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new pe(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Gt.BLACK,null,null))}remove(t){return new pe(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Gt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new qo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new qo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new qo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new qo(this.root_,null,this.comparator_,!0,t)}}pe.EMPTY_NODE=new Zy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(e,t){return Di(e.name,t.name)}function qd(e,t){return Di(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l;function t4(e){$l=e}const hm=function(e){return typeof e=="number"?"number:"+Hh(e):"string:"+e},mm=function(e){if(e.isLeafNode()){const t=e.val();T(typeof t=="string"||typeof t=="number"||typeof t=="object"&&we(t,".sv"),"Priority must be a string or number.")}else T(e===$l||e.isEmpty(),"priority of unexpected type.");T(e===$l||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;class Ht{constructor(t,n=Ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mm(this.priorityNode_)}static set __childrenNodeConstructor(t){mu=t}static get __childrenNodeConstructor(){return mu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ht(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ht.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Z(t)?this:J(t)===".priority"?this.priorityNode_:Ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=J(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(T(i!==".priority"||ni(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+hm(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Hh(this.value_):t+=this.value_,this.lazyHash_=jh(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ht.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ht.__childrenNodeConstructor?-1:(T(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=Ht.VALUE_TYPE_ORDER.indexOf(n),o=Ht.VALUE_TYPE_ORDER.indexOf(i);return T(r>=0,"Unknown leaf type: "+n),T(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m,gm;function e4(e){_m=e}function n4(e){gm=e}class i4 extends ds{compare(t,n){const i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Di(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return X.MIN}maxPost(){return new X(cn,new Ht("[PRIORITY-POST]",gm))}makePost(t,n){const i=_m(t);return new X(n,new Ht("[PRIORITY-POST]",i))}toString(){return".priority"}}const Rt=new i4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=Math.log(2);class o4{constructor(t){const n=o=>parseInt(Math.log(o)/r4,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ta=function(e,t,n,i){e.sort(t);const r=function(l,d){const c=d-l;let p,u;if(c===0)return null;if(c===1)return p=e[l],u=n?n(p):p,new Gt(u,p.node,Gt.BLACK,null,null);{const h=parseInt(c/2,10)+l,_=r(l,h),O=r(h+1,d);return p=e[h],u=n?n(p):p,new Gt(u,p.node,Gt.BLACK,_,O)}},o=function(l){let d=null,c=null,p=e.length;const u=function(_,O){const g=p-_,v=p;p-=_;const P=r(g+1,v),F=e[g],Y=n?n(F):F;h(new Gt(Y,F.node,O,null,P))},h=function(_){d?(d.left=_,d=_):(c=_,d=_)};for(let _=0;_<l.count;++_){const O=l.nextBitIsOne(),g=Math.pow(2,l.count-(_+1));O?u(g,Gt.BLACK):(u(g,Gt.BLACK),u(g,Gt.RED))}return c},a=new o4(e.length),s=o(a);return new pe(i||t,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al;const ji={};class bn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return T(ji&&Rt,"ChildrenNode.ts has not been loaded"),al=al||new bn({".priority":ji},{".priority":Rt}),al}get(t){const n=Si(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof pe?n:null}hasIndex(t){return we(this.indexSet_,t.toString())}addIndex(t,n){T(t!==an,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(X.Wrap);let a=o.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=o.getNext();let s;r?s=Ta(i,t.getCompare()):s=ji;const l=t.toString(),d=Object.assign({},this.indexSet_);d[l]=t;const c=Object.assign({},this.indexes_);return c[l]=s,new bn(c,d)}addToIndexes(t,n){const i=wa(this.indexes_,(r,o)=>{const a=Si(this.indexSet_,o);if(T(a,"Missing index implementation for "+o),r===ji)if(a.isDefinedOn(t.node)){const s=[],l=n.getIterator(X.Wrap);let d=l.getNext();for(;d;)d.name!==t.name&&s.push(d),d=l.getNext();return s.push(t),Ta(s,a.getCompare())}else return ji;else{const s=n.get(t.name);let l=r;return s&&(l=l.remove(new X(t.name,s))),l.insert(t,t.node)}});return new bn(i,this.indexSet_)}removeFromIndexes(t,n){const i=wa(this.indexes_,r=>{if(r===ji)return r;{const o=n.get(t.name);return o?r.remove(new X(t.name,o)):r}});return new bn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr;class B{constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&mm(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Lr||(Lr=new B(new pe(qd),null,bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lr}updatePriority(t){return this.children_.isEmpty()?this:new B(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Lr:n}}getChild(t){const n=J(t);return n===null?this:this.getImmediateChild(n).getChild(yt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(T(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new X(t,n);let r,o;n.isEmpty()?(r=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(i,this.children_));const a=r.isEmpty()?Lr:this.priorityNode_;return new B(r,a,o)}}updateChild(t,n){const i=J(t);if(i===null)return n;{T(J(t)!==".priority"||ni(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(yt(t),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Rt,(a,s)=>{n[a]=s.val(t),i++,o&&B.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!t&&o&&r<2*i){const a=[];for(const s in n)a[s]=n[s];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+hm(this.getPriority().val())+":"),this.forEachChild(Rt,(n,i)=>{const r=i.hash();r!==""&&(t+=":"+n+":"+r)}),this.lazyHash_=t===""?"":jh(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new X(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new X(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new X(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,X.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,t)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,X.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,t)>0;)r.getNext(),o=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ko?-1:0}withIndex(t){if(t===an||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===an||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Rt),r=n.getIterator(Rt);let o=i.getNext(),a=r.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=r.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===an?null:this.indexMap_.get(t.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class a4 extends B{constructor(){super(new pe(qd),B.EMPTY_NODE,bn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return B.EMPTY_NODE}isEmpty(){return!1}}const ko=new a4;Object.defineProperties(X,{MIN:{value:new X(Tn,B.EMPTY_NODE)},MAX:{value:new X(cn,ko)}});fm.__EMPTY_NODE=B.EMPTY_NODE;Ht.__childrenNodeConstructor=B;t4(ko);n4(ko);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=!0;function zt(e,t=null){if(e===null)return B.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),T(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Ht(n,zt(t))}if(!(e instanceof Array)&&s4){const n=[];let i=!1;if(Jt(e,(a,s)=>{if(a.substring(0,1)!=="."){const l=zt(s);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new X(a,l)))}}),n.length===0)return B.EMPTY_NODE;const o=Ta(n,Xy,a=>a.name,qd);if(i){const a=Ta(n,Rt.getCompare());return new B(o,zt(t),new bn({".priority":a},{".priority":Rt}))}else return new B(o,zt(t),bn.Default)}else{let n=B.EMPTY_NODE;return Jt(e,(i,r)=>{if(we(e,i)&&i.substring(0,1)!=="."){const o=zt(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(zt(t))}}e4(zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends ds{constructor(t){super(),this.indexPath_=t,T(!Z(t)&&J(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Di(t.name,n.name):o}makePost(t,n){const i=zt(t),r=B.EMPTY_NODE.updateChild(this.indexPath_,i);return new X(n,r)}maxPost(){const t=B.EMPTY_NODE.updateChild(this.indexPath_,ko);return new X(cn,t)}toString(){return uo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends ds{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Di(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(t,n){const i=zt(t);return new X(n,i)}toString(){return".value"}}const Jd=new l4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wl="-",xm="z",vm=786,d4=function(){let e=0;const t=[];return function(n){const i=n===e;e=n;let r;const o=new Array(8);for(r=7;r>=0;r--)o[r]=ur.charAt(n%64),n=Math.floor(n/64);T(n===0,"Cannot push at time == 0");let a=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)a+=ur.charAt(t[r]);return T(a.length===20,"nextPushId: Length should be 20."),a}}(),_u=function(e){if(e===""+jd)return Wl;const t=Ea(e);if(t!=null)return""+(t+1);const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e.charAt(a);if(n.length<vm)return n.push(Wl),n.join("");let i=n.length-1;for(;i>=0&&n[i]===xm;)i--;if(i===-1)return cn;const r=n[i],o=ur.charAt(ur.indexOf(r)+1);return n[i]=o,n.slice(0,i+1).join("")},gu=function(e){if(e===""+Vh)return Tn;const t=Ea(e);if(t!=null)return""+(t-1);const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e.charAt(i);return n[n.length-1]===Wl?n.length===1?""+jd:(delete n[n.length-1],n.join("")):(n[n.length-1]=ur.charAt(ur.indexOf(n[n.length-1])-1),n.join("")+xm.repeat(vm-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(e){return{type:"value",snapshotNode:e}}function fr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fo(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ho(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function c4(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t){this.index_=t}updateChild(t,n,i,r,o,a){T(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=t.getImmediateChild(n);return s.getChild(r).equals(i.getChild(r))&&s.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?t.hasChild(n)?a.trackChildChange(fo(n,s)):T(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(fr(n,i)):a.trackChildChange(ho(n,i,s))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Rt,(r,o)=>{n.hasChild(r)||i.trackChildChange(fo(r,o))}),n.isLeafNode()||n.forEachChild(Rt,(r,o)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(o)||i.trackChildChange(ho(r,o,a))}else i.trackChildChange(fr(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?B.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.indexedFilter_=new Zd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=mo.getStartPost_(t),this.endPost_=mo.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,n,i,r,o,a){return this.matches(new X(n,i))||(i=B.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,a)}updateFullNode(t,n,i){n.isLeafNode()&&(n=B.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(B.EMPTY_NODE);const o=this;return n.forEachChild(Rt,(a,s)=>{o.matches(new X(a,s))||(r=r.updateImmediateChild(a,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t){this.rangedFilter_=new mo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,n,i,r,o,a){return this.rangedFilter_.matches(new X(n,i))||(i=B.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,a):this.fullLimitUpdateChild_(t,n,i,o,a)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=B.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const s=o.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:l=this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,l)r=r.updateImmediateChild(s.name,s.node),a++;else break}}else{r=n.withIndex(this.index_),r=r.updatePriority(B.EMPTY_NODE);let o,a,s,l;if(this.reverse_){l=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();const p=this.index_.getCompare();s=(u,h)=>p(h,u)}else l=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),s=this.index_.getCompare();let d=0,c=!1;for(;l.hasNext();){const p=l.getNext();!c&&s(o,p)<=0&&(c=!0),c&&d<this.limit_&&s(p,a)<=0?d++:r=r.updateImmediateChild(p.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let a;if(this.reverse_){const p=this.index_.getCompare();a=(u,h)=>p(h,u)}else a=this.index_.getCompare();const s=t;T(s.numChildren()===this.limit_,"");const l=new X(n,i),d=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(s.hasChild(n)){const p=s.getImmediateChild(n);let u=r.getChildAfterChild(this.index_,d,this.reverse_);for(;u!=null&&(u.name===n||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=u==null?1:a(u,l);if(c&&!i.isEmpty()&&h>=0)return o!=null&&o.trackChildChange(ho(n,i,p)),s.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(fo(n,p));const O=s.updateImmediateChild(n,B.EMPTY_NODE);return u!=null&&this.rangedFilter_.matches(u)?(o!=null&&o.trackChildChange(fr(u.name,u.node)),O.updateImmediateChild(u.name,u.node)):O}}else return i.isEmpty()?t:c&&a(d,l)>=0?(o!=null&&(o.trackChildChange(fo(d.name,d.node)),o.trackChildChange(fr(n,i))),s.updateImmediateChild(n,i).updateImmediateChild(d.name,B.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tn}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rt}copy(){const t=new cs;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function u4(e){return e.loadsAllData()?new Zd(e.getIndex()):e.hasLimit()?new p4(e):new mo(e)}function f4(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function h4(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function jl(e,t,n){const i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function m4(e,t,n){let i;if(e.index_===an)typeof t=="string"&&(t=_u(t)),i=jl(e,t,n);else{let r;n==null?r=cn:r=_u(n),i=jl(e,t,r)}return i.startAfterSet_=!0,i}function Bl(e,t,n){const i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function _4(e,t,n){let i,r;return e.index_===an?(typeof t=="string"&&(t=gu(t)),r=Bl(e,t,n)):(n==null?i=Tn:i=gu(n),r=Bl(e,t,i)),r.endBeforeSet_=!0,r}function ps(e,t){const n=e.copy();return n.index_=t,n}function xu(e){const t={};if(e.isDefault())return t;let n;return e.index_===Rt?n="$priority":e.index_===Jd?n="$value":e.index_===an?n="$key":(T(e.index_ instanceof Qd,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=jt(n),e.startSet_&&(t.startAt=jt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+jt(e.indexStartName_))),e.endSet_&&(t.endAt=jt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+jt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function vu(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Rt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends dm{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=To("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(T(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=ka.getListenId_(t,i),s={};this.listens_[a]=s;const l=xu(t._queryParams);this.restRequest_(o+".json",l,(d,c)=>{let p=c;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(o,p,!1,i),Si(this.listens_,a)===s){let u;d?d===401?u="permission_denied":u="rest_error:"+d:u="ok",r(u,null)}})}unlisten(t,n){const i=ka.getListenId_(t,n);delete this.listens_[i]}get(t){const n=xu(t._queryParams),i=t._path.toString(),r=new ce;return this.restRequest_(i+".json",n,(o,a)=>{let s=a;o===404&&(s=null,o=null),o===null?(this.onDataUpdate_(i,s,!1,null),r.resolve(s)):r.reject(new Error(s))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Fv(n);this.log_("Sending REST request for "+a);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(i&&s.readyState===4){this.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);let l=null;if(s.status>=200&&s.status<300){try{l=lo(s.responseText)}catch{te("Failed to parse JSON response for "+a+": "+s.responseText)}i(null,l)}else s.status!==401&&s.status!==404&&te("Got unsuccessful REST response for "+a+" Status: "+s.status),i(s.status);i=null}},s.open("GET",a,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(){return{value:null,children:new Map}}function wr(e,t,n){if(Z(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=J(t);e.children.has(i)||e.children.set(i,Ia());const r=e.children.get(i);t=yt(t),wr(r,t,n)}}function Ul(e,t){if(Z(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Rt,(i,r)=>{wr(e,new ht(i),r)}),Ul(e,t)}}else if(e.children.size>0){const n=J(t);return t=yt(t),e.children.has(n)&&Ul(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Hl(e,t,n){e.value!==null?n(t,e.value):x4(e,(i,r)=>{const o=new ht(t.toString()+"/"+i);Hl(r,o,n)})}function x4(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Jt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=10*1e3,b4=30*1e3,y4=5*60*1e3;class w4{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new v4(t);const i=bu+(b4-bu)*Math.random();qr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Jt(t,(r,o)=>{o>0&&we(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),qr(this.reportStats_.bind(this),Math.floor(Math.random()*2*y4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Be||(Be={}));function Xd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ec(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Be.ACK_USER_WRITE,this.source=Xd()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ht(t));return new Aa(lt(),n,this.revert)}}else return T(J(this.path)===t,"operationForChild called for unrelated child."),new Aa(yt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,n){this.source=t,this.path=n,this.type=Be.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new _o(this.source,lt()):new _o(this.source,yt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Be.OVERWRITE}operationForChild(t){return Z(this.path)?new Ti(this.source,lt(),this.snap.getImmediateChild(t)):new Ti(this.source,yt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Be.MERGE}operationForChild(t){if(Z(this.path)){const n=this.children.subtree(new ht(t));return n.isEmpty()?null:n.value?new Ti(this.source,lt(),n.value):new hr(this.source,lt(),n)}else return T(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new hr(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;const n=J(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function E4(e,t,n,i){const r=[],o=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(c4(a.childName,a.snapshotNode))}),zr(e,r,"child_removed",t,i,n),zr(e,r,"child_added",t,i,n),zr(e,r,"child_moved",o,i,n),zr(e,r,"child_changed",t,i,n),zr(e,r,"value",t,i,n),r}function zr(e,t,n,i,r,o){const a=i.filter(s=>s.type===n);a.sort((s,l)=>R4(e,s,l)),a.forEach(s=>{const l=S4(e,s,o);r.forEach(d=>{d.respondsTo(s.type)&&t.push(d.createEvent(l,e.query_))})})}function S4(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function R4(e,t,n){if(t.childName==null||n.childName==null)throw br("Should only compare child_ events.");const i=new X(t.childName,t.snapshotNode),r=new X(n.childName,n.snapshotNode);return e.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e,t){return{eventCache:e,serverCache:t}}function Qr(e,t,n,i){return us(new ii(t,n,i),e.serverCache)}function ym(e,t,n,i){return us(e.eventCache,new ii(t,n,i))}function Oa(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ki(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl;const T4=()=>(sl||(sl=new pe(dy)),sl);class Et{constructor(t,n=T4()){this.value=t,this.children=n}static fromObject(t){let n=new Et(null);return Jt(t,(i,r)=>{n=n.set(new ht(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:lt(),value:this.value};if(Z(t))return null;{const i=J(t),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(yt(t),n);return o!=null?{path:Ft(new ht(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{const n=J(t),i=this.children.get(n);return i!==null?i.subtree(yt(t)):new Et(null)}}set(t,n){if(Z(t))return new Et(n,this.children);{const i=J(t),o=(this.children.get(i)||new Et(null)).set(yt(t),n),a=this.children.insert(i,o);return new Et(this.value,a)}}remove(t){if(Z(t))return this.children.isEmpty()?new Et(null):new Et(null,this.children);{const n=J(t),i=this.children.get(n);if(i){const r=i.remove(yt(t));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new Et(null):new Et(this.value,o)}else return this}}get(t){if(Z(t))return this.value;{const n=J(t),i=this.children.get(n);return i?i.get(yt(t)):null}}setTree(t,n){if(Z(t))return n;{const i=J(t),o=(this.children.get(i)||new Et(null)).setTree(yt(t),n);let a;return o.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,o),new Et(this.value,a)}}fold(t){return this.fold_(lt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ft(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,lt(),n)}findOnPath_(t,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Z(t))return null;{const o=J(t),a=this.children.get(o);return a?a.findOnPath_(yt(t),Ft(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,lt(),n)}foreachOnPath_(t,n,i){if(Z(t))return this;{this.value&&i(n,this.value);const r=J(t),o=this.children.get(r);return o?o.foreachOnPath_(yt(t),Ft(n,r),i):new Et(null)}}foreach(t){this.foreach_(lt(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ft(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.writeTree_=t}static empty(){return new Ge(new Et(null))}}function Jr(e,t,n){if(Z(t))return new Ge(new Et(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let o=i.value;const a=oe(r,t);return o=o.updateChild(a,n),new Ge(e.writeTree_.set(r,o))}else{const r=new Et(n),o=e.writeTree_.setTree(t,r);return new Ge(o)}}}function Vl(e,t,n){let i=e;return Jt(n,(r,o)=>{i=Jr(i,Ft(t,r),o)}),i}function yu(e,t){if(Z(t))return Ge.empty();{const n=e.writeTree_.setTree(t,new Et(null));return new Ge(n)}}function Gl(e,t){return Ni(e,t)!=null}function Ni(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(oe(n.path,t)):null}function wu(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Rt,(i,r)=>{t.push(new X(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new X(i,r.value))}),t}function Vn(e,t){if(Z(t))return e;{const n=Ni(e,t);return n!=null?new Ge(new Et(n)):new Ge(e.writeTree_.subtree(t))}}function Kl(e){return e.writeTree_.isEmpty()}function mr(e,t){return wm(lt(),e.writeTree_,t)}function wm(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(T(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=wm(Ft(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Ft(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(e,t){return Rm(t,e)}function k4(e,t,n,i,r){T(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Jr(e.visibleWrites,t,n)),e.lastWriteId=i}function I4(e,t,n,i){T(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Vl(e.visibleWrites,t,n),e.lastWriteId=i}function A4(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function O4(e,t){const n=e.allWrites.findIndex(s=>s.writeId===t);T(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,a=e.allWrites.length-1;for(;r&&a>=0;){const s=e.allWrites[a];s.visible&&(a>=n&&P4(s,i.path)?r=!1:Oe(i.path,s.path)&&(o=!0)),a--}if(r){if(o)return D4(e),!0;if(i.snap)e.visibleWrites=yu(e.visibleWrites,i.path);else{const s=i.children;Jt(s,l=>{e.visibleWrites=yu(e.visibleWrites,Ft(i.path,l))})}return!0}else return!1}function P4(e,t){if(e.snap)return Oe(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Oe(Ft(e.path,n),t))return!0;return!1}function D4(e){e.visibleWrites=Cm(e.allWrites,N4,lt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function N4(e){return e.visible}function Cm(e,t,n){let i=Ge.empty();for(let r=0;r<e.length;++r){const o=e[r];if(t(o)){const a=o.path;let s;if(o.snap)Oe(n,a)?(s=oe(n,a),i=Jr(i,s,o.snap)):Oe(a,n)&&(s=oe(a,n),i=Jr(i,lt(),o.snap.getChild(s)));else if(o.children){if(Oe(n,a))s=oe(n,a),i=Vl(i,s,o.children);else if(Oe(a,n))if(s=oe(a,n),Z(s))i=Vl(i,lt(),o.children);else{const l=Si(o.children,J(s));if(l){const d=l.getChild(yt(s));i=Jr(i,lt(),d)}}}else throw br("WriteRecord should have .snap or .children")}}return i}function Em(e,t,n,i,r){if(!i&&!r){const o=Ni(e.visibleWrites,t);if(o!=null)return o;{const a=Vn(e.visibleWrites,t);if(Kl(a))return n;if(n==null&&!Gl(a,lt()))return null;{const s=n||B.EMPTY_NODE;return mr(a,s)}}}else{const o=Vn(e.visibleWrites,t);if(!r&&Kl(o))return n;if(!r&&n==null&&!Gl(o,lt()))return null;{const a=function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(Oe(d.path,t)||Oe(t,d.path))},s=Cm(e.allWrites,a,t),l=n||B.EMPTY_NODE;return mr(s,l)}}}function M4(e,t,n){let i=B.EMPTY_NODE;const r=Ni(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Rt,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(n){const o=Vn(e.visibleWrites,t);return n.forEachChild(Rt,(a,s)=>{const l=mr(Vn(o,new ht(a)),s);i=i.updateImmediateChild(a,l)}),wu(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const o=Vn(e.visibleWrites,t);return wu(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function F4(e,t,n,i,r){T(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ft(t,n);if(Gl(e.visibleWrites,o))return null;{const a=Vn(e.visibleWrites,o);return Kl(a)?r.getChild(n):mr(a,r.getChild(n))}}function L4(e,t,n,i){const r=Ft(t,n),o=Ni(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const a=Vn(e.visibleWrites,r);return mr(a,i.getNode().getImmediateChild(n))}else return null}function z4(e,t){return Ni(e.visibleWrites,t)}function Y4(e,t,n,i,r,o,a){let s;const l=Vn(e.visibleWrites,t),d=Ni(l,lt());if(d!=null)s=d;else if(n!=null)s=mr(l,n);else return[];if(s=s.withIndex(a),!s.isEmpty()&&!s.isLeafNode()){const c=[],p=a.getCompare(),u=o?s.getReverseIteratorFrom(i,a):s.getIteratorFrom(i,a);let h=u.getNext();for(;h&&c.length<r;)p(h,i)!==0&&c.push(h),h=u.getNext();return c}else return[]}function $4(){return{visibleWrites:Ge.empty(),allWrites:[],lastWriteId:-1}}function Pa(e,t,n,i){return Em(e.writeTree,e.treePath,t,n,i)}function nc(e,t){return M4(e.writeTree,e.treePath,t)}function Cu(e,t,n,i){return F4(e.writeTree,e.treePath,t,n,i)}function Da(e,t){return z4(e.writeTree,Ft(e.treePath,t))}function W4(e,t,n,i,r,o){return Y4(e.writeTree,e.treePath,t,n,i,r,o)}function ic(e,t,n){return L4(e.writeTree,e.treePath,t,n)}function Sm(e,t){return Rm(Ft(e.treePath,t),e.writeTree)}function Rm(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,ho(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,fo(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,fr(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,ho(i,t.snapshotNode,r.oldSnap));else throw br("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const Tm=new B4;class rc{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ic(this.writes_,t,i)}}getChildAfterChild(t,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),o=W4(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(e){return{filter:e}}function H4(e,t){T(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),T(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function V4(e,t,n,i,r){const o=new j4;let a,s;if(n.type===Be.OVERWRITE){const d=n;d.source.fromUser?a=ql(e,t,d.path,d.snap,i,r,o):(T(d.source.fromServer,"Unknown source."),s=d.source.tagged||t.serverCache.isFiltered()&&!Z(d.path),a=Na(e,t,d.path,d.snap,i,r,s,o))}else if(n.type===Be.MERGE){const d=n;d.source.fromUser?a=K4(e,t,d.path,d.children,i,r,o):(T(d.source.fromServer,"Unknown source."),s=d.source.tagged||t.serverCache.isFiltered(),a=Ql(e,t,d.path,d.children,i,r,s,o))}else if(n.type===Be.ACK_USER_WRITE){const d=n;d.revert?a=J4(e,t,d.path,i,r,o):a=q4(e,t,d.path,d.affectedTree,i,r,o)}else if(n.type===Be.LISTEN_COMPLETE)a=Q4(e,t,n.path,i,o);else throw br("Unknown operation type: "+n.type);const l=o.getChanges();return G4(t,a,l),{viewCache:a,changes:l}}function G4(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Oa(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(bm(Oa(t)))}}function km(e,t,n,i,r,o){const a=t.eventCache;if(Da(i,n)!=null)return t;{let s,l;if(Z(n))if(T(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=ki(t),c=d instanceof B?d:B.EMPTY_NODE,p=nc(i,c);s=e.filter.updateFullNode(t.eventCache.getNode(),p,o)}else{const d=Pa(i,ki(t));s=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const d=J(n);if(d===".priority"){T(ni(n)===1,"Can't have a priority with additional path components");const c=a.getNode();l=t.serverCache.getNode();const p=Cu(i,n,c,l);p!=null?s=e.filter.updatePriority(c,p):s=a.getNode()}else{const c=yt(n);let p;if(a.isCompleteForChild(d)){l=t.serverCache.getNode();const u=Cu(i,n,a.getNode(),l);u!=null?p=a.getNode().getImmediateChild(d).updateChild(c,u):p=a.getNode().getImmediateChild(d)}else p=ic(i,d,t.serverCache);p!=null?s=e.filter.updateChild(a.getNode(),d,p,c,r,o):s=a.getNode()}}return Qr(t,s,a.isFullyInitialized()||Z(n),e.filter.filtersNodes())}}function Na(e,t,n,i,r,o,a,s){const l=t.serverCache;let d;const c=a?e.filter:e.filter.getIndexedFilter();if(Z(n))d=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);d=c.updateFullNode(l.getNode(),h,null)}else{const h=J(n);if(!l.isCompleteForPath(n)&&ni(n)>1)return t;const _=yt(n),g=l.getNode().getImmediateChild(h).updateChild(_,i);h===".priority"?d=c.updatePriority(l.getNode(),g):d=c.updateChild(l.getNode(),h,g,_,Tm,null)}const p=ym(t,d,l.isFullyInitialized()||Z(n),c.filtersNodes()),u=new rc(r,p,o);return km(e,p,n,r,u,s)}function ql(e,t,n,i,r,o,a){const s=t.eventCache;let l,d;const c=new rc(r,t,o);if(Z(n))d=e.filter.updateFullNode(t.eventCache.getNode(),i,a),l=Qr(t,d,!0,e.filter.filtersNodes());else{const p=J(n);if(p===".priority")d=e.filter.updatePriority(t.eventCache.getNode(),i),l=Qr(t,d,s.isFullyInitialized(),s.isFiltered());else{const u=yt(n),h=s.getNode().getImmediateChild(p);let _;if(Z(u))_=i;else{const O=c.getCompleteChild(p);O!=null?Vd(u)===".priority"&&O.getChild(pm(u)).isEmpty()?_=O:_=O.updateChild(u,i):_=B.EMPTY_NODE}if(h.equals(_))l=t;else{const O=e.filter.updateChild(s.getNode(),p,_,u,c,a);l=Qr(t,O,s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Eu(e,t){return e.eventCache.isCompleteForChild(t)}function K4(e,t,n,i,r,o,a){let s=t;return i.foreach((l,d)=>{const c=Ft(n,l);Eu(t,J(c))&&(s=ql(e,s,c,d,r,o,a))}),i.foreach((l,d)=>{const c=Ft(n,l);Eu(t,J(c))||(s=ql(e,s,c,d,r,o,a))}),s}function Su(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Ql(e,t,n,i,r,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,d;Z(n)?d=i:d=new Et(null).setTree(n,i);const c=t.serverCache.getNode();return d.children.inorderTraversal((p,u)=>{if(c.hasChild(p)){const h=t.serverCache.getNode().getImmediateChild(p),_=Su(e,h,u);l=Na(e,l,new ht(p),_,r,o,a,s)}}),d.children.inorderTraversal((p,u)=>{const h=!t.serverCache.isCompleteForChild(p)&&u.value===void 0;if(!c.hasChild(p)&&!h){const _=t.serverCache.getNode().getImmediateChild(p),O=Su(e,_,u);l=Na(e,l,new ht(p),O,r,o,a,s)}}),l}function q4(e,t,n,i,r,o,a){if(Da(r,n)!=null)return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Na(e,t,n,l.getNode().getChild(n),r,o,s,a);if(Z(n)){let d=new Et(null);return l.getNode().forEachChild(an,(c,p)=>{d=d.set(new ht(c),p)}),Ql(e,t,n,d,r,o,s,a)}else return t}else{let d=new Et(null);return i.foreach((c,p)=>{const u=Ft(n,c);l.isCompleteForPath(u)&&(d=d.set(c,l.getNode().getChild(u)))}),Ql(e,t,n,d,r,o,s,a)}}function Q4(e,t,n,i,r){const o=t.serverCache,a=ym(t,o.getNode(),o.isFullyInitialized()||Z(n),o.isFiltered());return km(e,a,n,i,Tm,r)}function J4(e,t,n,i,r,o){let a;if(Da(i,n)!=null)return t;{const s=new rc(i,t,r),l=t.eventCache.getNode();let d;if(Z(n)||J(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Pa(i,ki(t));else{const p=t.serverCache.getNode();T(p instanceof B,"serverChildren would be complete if leaf node"),c=nc(i,p)}c=c,d=e.filter.updateFullNode(l,c,o)}else{const c=J(n);let p=ic(i,c,t.serverCache);p==null&&t.serverCache.isCompleteForChild(c)&&(p=l.getImmediateChild(c)),p!=null?d=e.filter.updateChild(l,c,p,yt(n),s,o):t.eventCache.getNode().hasChild(c)?d=e.filter.updateChild(l,c,B.EMPTY_NODE,yt(n),s,o):d=l,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Pa(i,ki(t)),a.isLeafNode()&&(d=e.filter.updateFullNode(d,a,o)))}return a=t.serverCache.isFullyInitialized()||Da(i,lt())!=null,Qr(t,d,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Zd(i.getIndex()),o=u4(i);this.processor_=U4(o);const a=n.serverCache,s=n.eventCache,l=r.updateFullNode(B.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(B.EMPTY_NODE,s.getNode(),null),c=new ii(l,a.isFullyInitialized(),r.filtersNodes()),p=new ii(d,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=us(p,c),this.eventGenerator_=new C4(this.query_)}get query(){return this.query_}}function X4(e){return e.viewCache_.serverCache.getNode()}function t2(e){return Oa(e.viewCache_)}function e2(e,t){const n=ki(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Z(t)&&!n.getImmediateChild(J(t)).isEmpty())?n.getChild(t):null}function Ru(e){return e.eventRegistrations_.length===0}function n2(e,t){e.eventRegistrations_.push(t)}function Tu(e,t,n){const i=[];if(n){T(t==null,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,r);a&&i.push(a)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){const a=e.eventRegistrations_[o];if(!a.matches(t))r.push(a);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function ku(e,t,n,i){t.type===Be.MERGE&&t.source.queryId!==null&&(T(ki(e.viewCache_),"We should always have a full cache before handling merges"),T(Oa(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,o=V4(e.processor_,r,t,n,i);return H4(e.processor_,o.viewCache),T(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Im(e,o.changes,o.viewCache.eventCache.getNode(),null)}function i2(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Rt,(o,a)=>{i.push(fr(o,a))}),n.isFullyInitialized()&&i.push(bm(n.getNode())),Im(e,i,n.getNode(),t)}function Im(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return E4(e.eventGenerator_,t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma;class Am{constructor(){this.views=new Map}}function r2(e){T(!Ma,"__referenceConstructor has already been defined"),Ma=e}function o2(){return T(Ma,"Reference.ts has not been loaded"),Ma}function a2(e){return e.views.size===0}function oc(e,t,n,i){const r=t.source.queryId;if(r!==null){const o=e.views.get(r);return T(o!=null,"SyncTree gave us an op for an invalid query."),ku(o,t,n,i)}else{let o=[];for(const a of e.views.values())o=o.concat(ku(a,t,n,i));return o}}function ac(e,t,n,i,r){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let s=Pa(n,r?i:null),l=!1;s?l=!0:i instanceof B?(s=nc(n,i),l=!1):(s=B.EMPTY_NODE,l=!1);const d=us(new ii(s,l,!1),new ii(i,r,!1));return new Z4(t,d)}return a}function s2(e,t,n,i,r,o){const a=ac(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),n2(a,n),i2(a,n)}function l2(e,t,n,i){const r=t._queryIdentifier,o=[];let a=[];const s=ri(e);if(r==="default")for(const[l,d]of e.views.entries())a=a.concat(Tu(d,n,i)),Ru(d)&&(e.views.delete(l),d.query._queryParams.loadsAllData()||o.push(d.query));else{const l=e.views.get(r);l&&(a=a.concat(Tu(l,n,i)),Ru(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return s&&!ri(e)&&o.push(new(o2())(t._repo,t._path)),{removed:o,events:a}}function Om(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Gn(e,t){let n=null;for(const i of e.views.values())n=n||e2(i,t);return n}function Pm(e,t){if(t._queryParams.loadsAllData())return hs(e);{const i=t._queryIdentifier;return e.views.get(i)}}function Dm(e,t){return Pm(e,t)!=null}function ri(e){return hs(e)!=null}function hs(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa;function d2(e){T(!Fa,"__referenceConstructor has already been defined"),Fa=e}function c2(){return T(Fa,"Reference.ts has not been loaded"),Fa}let p2=1;class Iu{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Et(null),this.pendingWriteTree_=$4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sc(e,t,n,i,r){return k4(e.pendingWriteTree_,t,n,i,r),r?Cr(e,new Ti(Xd(),t,n)):[]}function u2(e,t,n,i){I4(e.pendingWriteTree_,t,n,i);const r=Et.fromObject(n);return Cr(e,new hr(Xd(),t,r))}function Yn(e,t,n=!1){const i=A4(e.pendingWriteTree_,t);if(O4(e.pendingWriteTree_,t)){let o=new Et(null);return i.snap!=null?o=o.set(lt(),!0):Jt(i.children,a=>{o=o.set(new ht(a),!0)}),Cr(e,new Aa(i.path,o,n))}else return[]}function Io(e,t,n){return Cr(e,new Ti(tc(),t,n))}function f2(e,t,n){const i=Et.fromObject(n);return Cr(e,new hr(tc(),t,i))}function h2(e,t){return Cr(e,new _o(tc(),t))}function m2(e,t,n){const i=lc(e,n);if(i){const r=dc(i),o=r.path,a=r.queryId,s=oe(o,t),l=new _o(ec(a),s);return cc(e,o,l)}else return[]}function La(e,t,n,i){const r=t._path,o=e.syncPointTree_.get(r);let a=[];if(o&&(t._queryIdentifier==="default"||Dm(o,t))){const s=l2(o,t,n,i);a2(o)&&(e.syncPointTree_=e.syncPointTree_.remove(r));const l=s.removed;a=s.events;const d=l.findIndex(p=>p._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(r,(p,u)=>ri(u));if(d&&!c){const p=e.syncPointTree_.subtree(r);if(!p.isEmpty()){const u=v2(p);for(let h=0;h<u.length;++h){const _=u[h],O=_.query,g=zm(e,_);e.listenProvider_.startListening(Zr(O),go(e,O),g.hashFn,g.onComplete)}}}!c&&l.length>0&&!i&&(d?e.listenProvider_.stopListening(Zr(t),null):l.forEach(p=>{const u=e.queryToTagMap.get(_s(p));e.listenProvider_.stopListening(Zr(p),u)})),b2(e,l)}return a}function _2(e,t){const{syncPoint:n,serverCache:i,writesCache:r,serverCacheComplete:o}=Mm(t,e),a=ac(n,t,r,i,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),t._queryParams.loadsAllData()?null:go(e,t)}function Nm(e,t,n,i){const r=lc(e,i);if(r!=null){const o=dc(r),a=o.path,s=o.queryId,l=oe(a,t),d=new Ti(ec(s),l,n);return cc(e,a,d)}else return[]}function g2(e,t,n,i){const r=lc(e,i);if(r){const o=dc(r),a=o.path,s=o.queryId,l=oe(a,t),d=Et.fromObject(n),c=new hr(ec(s),l,d);return cc(e,a,c)}else return[]}function Mm(e,t){const n=e._path;let i=null,r=!1;t.syncPointTree_.foreachOnPath(n,(d,c)=>{const p=oe(d,n);i=i||Gn(c,p),r=r||ri(c)});let o=t.syncPointTree_.get(n);o?(r=r||ri(o),i=i||Gn(o,lt())):(o=new Am,t.syncPointTree_=t.syncPointTree_.set(n,o));let a;i!=null?a=!0:(a=!1,i=B.EMPTY_NODE,t.syncPointTree_.subtree(n).foreachChild((c,p)=>{const u=Gn(p,lt());u&&(i=i.updateImmediateChild(c,u))}));const s=Dm(o,e);if(!s&&!e._queryParams.loadsAllData()){const d=_s(e);T(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const c=y2();t.queryToTagMap.set(d,c),t.tagToQueryMap.set(c,d)}const l=fs(t.pendingWriteTree_,n);return{syncPoint:o,writesCache:l,serverCache:i,serverCacheComplete:a,foundAncestorDefaultView:r,viewAlreadyExists:s}}function Au(e,t,n){const{syncPoint:i,serverCache:r,writesCache:o,serverCacheComplete:a,viewAlreadyExists:s,foundAncestorDefaultView:l}=Mm(t,e);let d=s2(i,t,n,o,r,a);if(!s&&!l){const c=Pm(i,t);d=d.concat(w2(e,t,c))}return d}function ms(e,t,n){const r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(a,s)=>{const l=oe(a,t),d=Gn(s,l);if(d)return d});return Em(r,t,o,n,!0)}function x2(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(d,c)=>{const p=oe(d,n);i=i||Gn(c,p)});let r=e.syncPointTree_.get(n);r?i=i||Gn(r,lt()):(r=new Am,e.syncPointTree_=e.syncPointTree_.set(n,r));const o=i!=null,a=o?new ii(i,!0,!1):null,s=fs(e.pendingWriteTree_,t._path),l=ac(r,t,s,o?a.getNode():B.EMPTY_NODE,o);return t2(l)}function Cr(e,t){return Fm(t,e.syncPointTree_,null,fs(e.pendingWriteTree_,lt()))}function Fm(e,t,n,i){if(Z(e.path))return Lm(e,t,n,i);{const r=t.get(lt());n==null&&r!=null&&(n=Gn(r,lt()));let o=[];const a=J(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const d=n?n.getImmediateChild(a):null,c=Sm(i,a);o=o.concat(Fm(s,l,d,c))}return r&&(o=o.concat(oc(r,e,i,n))),o}}function Lm(e,t,n,i){const r=t.get(lt());n==null&&r!=null&&(n=Gn(r,lt()));let o=[];return t.children.inorderTraversal((a,s)=>{const l=n?n.getImmediateChild(a):null,d=Sm(i,a),c=e.operationForChild(a);c&&(o=o.concat(Lm(c,s,l,d)))}),r&&(o=o.concat(oc(r,e,i,n))),o}function zm(e,t){const n=t.query,i=go(e,n);return{hashFn:()=>(X4(t)||B.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?m2(e,n._path,i):h2(e,n._path);{const o=uy(r,n);return La(e,n,null,o)}}}}function go(e,t){const n=_s(t);return e.queryToTagMap.get(n)}function _s(e){return e._path.toString()+"$"+e._queryIdentifier}function lc(e,t){return e.tagToQueryMap.get(t)}function dc(e){const t=e.indexOf("$");return T(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ht(e.substr(0,t))}}function cc(e,t,n){const i=e.syncPointTree_.get(t);T(i,"Missing sync point for query tag that we're tracking");const r=fs(e.pendingWriteTree_,t);return oc(i,n,r,null)}function v2(e){return e.fold((t,n,i)=>{if(n&&ri(n))return[hs(n)];{let r=[];return n&&(r=Om(n)),Jt(i,(o,a)=>{r=r.concat(a)}),r}})}function Zr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(c2())(e._repo,e._path):e}function b2(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const r=_s(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function y2(){return p2++}function w2(e,t,n){const i=t._path,r=go(e,t),o=zm(e,n),a=e.listenProvider_.startListening(Zr(t),r,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(i);if(r)T(!ri(s.value),"If we're adding a query, it shouldn't be shadowed");else{const l=s.fold((d,c,p)=>{if(!Z(d)&&c&&ri(c))return[hs(c).query];{let u=[];return c&&(u=u.concat(Om(c).map(h=>h.query))),Jt(p,(h,_)=>{u=u.concat(_)}),u}});for(let d=0;d<l.length;++d){const c=l[d];e.listenProvider_.stopListening(Zr(c),go(e,c))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new pc(n)}node(){return this.node_}}class uc{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ft(this.path_,t);return new uc(this.syncTree_,n)}node(){return ms(this.syncTree_,this.path_)}}const C2=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Ou=function(e,t,n){if(!e||typeof e!="object")return e;if(T(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return E2(e[".sv"],t,n);if(typeof e[".sv"]=="object")return S2(e[".sv"],t);T(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},E2=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+e)}},S2=function(e,t,n){e.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&T(!1,"Unexpected increment value: "+i);const r=t.node();if(T(r!==null&&typeof r!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return typeof a!="number"?i:a+i},Ym=function(e,t,n,i){return hc(t,new uc(n,e),i)},fc=function(e,t,n){return hc(e,new pc(t),n)};function hc(e,t,n){const i=e.getPriority().val(),r=Ou(i,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const a=e,s=Ou(a.getValue(),t,n);return s!==a.getValue()||r!==a.getPriority().val()?new Ht(s,zt(r)):e}else{const a=e;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new Ht(r))),a.forEachChild(Rt,(s,l)=>{const d=hc(l,t.getImmediateChild(s),n);d!==l&&(o=o.updateImmediateChild(s,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function gs(e,t){let n=t instanceof ht?t:new ht(t),i=e,r=J(n);for(;r!==null;){const o=Si(i.node.children,r)||{children:{},childCount:0};i=new mc(r,i,o),n=yt(n),r=J(n)}return i}function Mi(e){return e.node.value}function _c(e,t){e.node.value=t,Jl(e)}function $m(e){return e.node.childCount>0}function R2(e){return Mi(e)===void 0&&!$m(e)}function xs(e,t){Jt(e.node.children,(n,i)=>{t(new mc(n,e,i))})}function Wm(e,t,n,i){n&&!i&&t(e),xs(e,r=>{Wm(r,t,!0,i)}),n&&i&&t(e)}function T2(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ao(e){return new ht(e.parent===null?e.name:Ao(e.parent)+"/"+e.name)}function Jl(e){e.parent!==null&&k2(e.parent,e.name,e)}function k2(e,t,n){const i=R2(n),r=we(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Jl(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,Jl(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=/[\[\].#$\/\u0000-\u001F\u007F]/,A2=/[\[\].#$\u0000-\u001F\u007F]/,ll=10*1024*1024,vs=function(e){return typeof e=="string"&&e.length!==0&&!I2.test(e)},jm=function(e){return typeof e=="string"&&e.length!==0&&!A2.test(e)},O2=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),jm(e)},xo=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!ls(e)||e&&typeof e=="object"&&we(e,".sv")},pn=function(e,t,n,i){i&&t===void 0||Oo(ue(e,"value"),t,n)},Oo=function(e,t,n){const i=n instanceof ht?new Uy(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+fi(i));if(typeof t=="function")throw new Error(e+"contains a function "+fi(i)+" with contents = "+t.toString());if(ls(t))throw new Error(e+"contains "+t.toString()+" "+fi(i));if(typeof t=="string"&&t.length>ll/3&&as(t)>ll)throw new Error(e+"contains a string greater than "+ll+" utf8 bytes "+fi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(Jt(t,(a,s)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!vs(a)))throw new Error(e+" contains an invalid key ("+a+") "+fi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Hy(i,a),Oo(e,s,i),Vy(i)}),r&&o)throw new Error(e+' contains ".value" child '+fi(i)+" in addition to actual children.")}},P2=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const o=uo(i);for(let a=0;a<o.length;a++)if(!(o[a]===".priority"&&a===o.length-1)){if(!vs(o[a]))throw new Error(e+"contains an invalid key ("+o[a]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(By);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&Oe(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},Bm=function(e,t,n,i){if(i&&t===void 0)return;const r=ue(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Jt(t,(a,s)=>{const l=new ht(a);if(Oo(r,s,Ft(n,l)),Vd(l)===".priority"&&!xo(s))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),P2(r,o)},gc=function(e,t,n){if(!(n&&t===void 0)){if(ls(t))throw new Error(ue(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xo(t))throw new Error(ue(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Po=function(e,t,n,i){if(!(i&&n===void 0)&&!vs(n))throw new Error(ue(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},vo=function(e,t,n,i){if(!(i&&n===void 0)&&!jm(n))throw new Error(ue(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},D2=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vo(e,t,n,i)},Pe=function(e,t){if(J(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Um=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!vs(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!O2(n))throw new Error(ue(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bs(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();n!==null&&!Gd(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function Hm(e,t,n){bs(e,n),Vm(e,i=>Gd(i,t))}function Ne(e,t,n){bs(e,n),Vm(e,i=>Oe(i,t)||Oe(t,i))}function Vm(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const o=r.path;t(o)?(M2(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function M2(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();Ci&&Kt("event: "+n.toString()),yr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="repo_interrupt",F2=25;class L2{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new N2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ia(),this.transactionQueueTree_=new mc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function z2(e,t,n){if(e.stats_=Ud(e.repoInfo_),e.forceRestClient_||hy())e.server_=new ka(e.repoInfo_,(i,r,o,a)=>{Pu(e,i,r,o,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Du(e,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Cn(e.repoInfo_,t,(i,r,o,a)=>{Pu(e,i,r,o,a)},i=>{Du(e,i)},i=>{Y2(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=vy(e.repoInfo_,()=>new w4(e.stats_,e.server_)),e.infoData_=new g4,e.infoSyncTree_=new Iu({startListening:(i,r,o,a)=>{let s=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(s=Io(e.infoSyncTree_,i._path,l),setTimeout(()=>{a("ok")},0)),s},stopListening:()=>{}}),xc(e,"connected",!1),e.serverSyncTree_=new Iu({startListening:(i,r,o,a)=>(e.server_.listen(i,o,r,(s,l)=>{const d=a(s,l);Ne(e.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function Km(e){const n=e.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Do(e){return C2({timestamp:Km(e)})}function Pu(e,t,n,i,r){e.dataUpdateCount++;const o=new ht(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(r)if(i){const l=wa(n,d=>zt(d));a=g2(e.serverSyncTree_,o,l,r)}else{const l=zt(n);a=Nm(e.serverSyncTree_,o,l,r)}else if(i){const l=wa(n,d=>zt(d));a=f2(e.serverSyncTree_,o,l)}else{const l=zt(n);a=Io(e.serverSyncTree_,o,l)}let s=o;a.length>0&&(s=_r(e,o)),Ne(e.eventQueue_,s,a)}function Du(e,t){xc(e,"connected",t),t===!1&&j2(e)}function Y2(e,t){Jt(t,(n,i)=>{xc(e,n,i)})}function xc(e,t,n){const i=new ht("/.info/"+t),r=zt(n);e.infoData_.updateSnapshot(i,r);const o=Io(e.infoSyncTree_,i,r);Ne(e.eventQueue_,i,o)}function ys(e){return e.nextWriteId_++}function $2(e,t){const n=x2(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(i=>{const r=zt(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())Io(e.serverSyncTree_,t._path,r);else{const a=_2(e.serverSyncTree_,t);Nm(e.serverSyncTree_,t._path,r,a)}return La(e.serverSyncTree_,t,null).length>0&&Ii(e,"unexpected cancel events in repoGetValue"),r},i=>(Ii(e,"get for query "+jt(t)+" failed: "+i),Promise.reject(new Error(i))))}function vc(e,t,n,i,r){Ii(e,"set",{path:t.toString(),value:n,priority:i});const o=Do(e),a=zt(n,i),s=ms(e.serverSyncTree_,t),l=fc(a,s,o),d=ys(e),c=sc(e.serverSyncTree_,t,l,d,!0);bs(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(u,h)=>{const _=u==="ok";_||te("set at "+t+" failed: "+u);const O=Yn(e.serverSyncTree_,d,!_);Ne(e.eventQueue_,t,O),oi(e,r,u,h)});const p=yc(e,t);_r(e,p),Ne(e.eventQueue_,p,[])}function W2(e,t,n,i){Ii(e,"update",{path:t.toString(),value:n});let r=!0;const o=Do(e),a={};if(Jt(n,(s,l)=>{r=!1,a[s]=Ym(Ft(t,s),zt(l),e.serverSyncTree_,o)}),r)Kt("update() called with empty data.  Don't do anything."),oi(e,i,"ok",void 0);else{const s=ys(e),l=u2(e.serverSyncTree_,t,a,s);bs(e.eventQueue_,l),e.server_.merge(t.toString(),n,(d,c)=>{const p=d==="ok";p||te("update at "+t+" failed: "+d);const u=Yn(e.serverSyncTree_,s,!p),h=u.length>0?_r(e,t):t;Ne(e.eventQueue_,h,u),oi(e,i,d,c)}),Jt(n,d=>{const c=yc(e,Ft(t,d));_r(e,c)}),Ne(e.eventQueue_,t,[])}}function j2(e){Ii(e,"onDisconnectEvents");const t=Do(e),n=Ia();Hl(e.onDisconnect_,lt(),(r,o)=>{const a=Ym(r,o,e.serverSyncTree_,t);wr(n,r,a)});let i=[];Hl(n,lt(),(r,o)=>{i=i.concat(Io(e.serverSyncTree_,r,o));const a=yc(e,r);_r(e,a)}),e.onDisconnect_=Ia(),Ne(e.eventQueue_,lt(),i)}function B2(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&Ul(e.onDisconnect_,t),oi(e,n,i,r)})}function Nu(e,t,n,i){const r=zt(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(o,a)=>{o==="ok"&&wr(e.onDisconnect_,t,r),oi(e,i,o,a)})}function U2(e,t,n,i,r){const o=zt(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(a,s)=>{a==="ok"&&wr(e.onDisconnect_,t,o),oi(e,r,a,s)})}function H2(e,t,n,i){if(Pl(n)){Kt("onDisconnect().update() called with empty data.  Don't do anything."),oi(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{r==="ok"&&Jt(n,(a,s)=>{const l=zt(s);wr(e.onDisconnect_,Ft(t,a),l)}),oi(e,i,r,o)})}function V2(e,t,n){let i;J(t._path)===".info"?i=Au(e.infoSyncTree_,t,n):i=Au(e.serverSyncTree_,t,n),Hm(e.eventQueue_,t._path,i)}function Zl(e,t,n){let i;J(t._path)===".info"?i=La(e.infoSyncTree_,t,n):i=La(e.serverSyncTree_,t,n),Hm(e.eventQueue_,t._path,i)}function qm(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Gm)}function G2(e){e.persistentConnection_&&e.persistentConnection_.resume(Gm)}function Ii(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Kt(n,...t)}function oi(e,t,n,i){t&&yr(()=>{if(n==="ok")t(null);else{const r=(n||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,t(a)}})}function K2(e,t,n,i,r,o){Ii(e,"transaction on "+t);const a={path:t,update:n,onComplete:i,status:null,order:Wh(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=bc(e,t,void 0);a.currentInputSnapshot=s;const l=a.update(s.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Oo("transaction failed: Data returned ",l,a.path),a.status=0;const d=gs(e.transactionQueueTree_,t),c=Mi(d)||[];c.push(a),_c(d,c);let p;typeof l=="object"&&l!==null&&we(l,".priority")?(p=Si(l,".priority"),T(xo(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(ms(e.serverSyncTree_,t)||B.EMPTY_NODE).getPriority().val();const u=Do(e),h=zt(l,p),_=fc(h,s,u);a.currentOutputSnapshotRaw=h,a.currentOutputSnapshotResolved=_,a.currentWriteId=ys(e);const O=sc(e.serverSyncTree_,t,_,a.currentWriteId,a.applyLocally);Ne(e.eventQueue_,t,O),ws(e,e.transactionQueueTree_)}}function bc(e,t,n){return ms(e.serverSyncTree_,t,n)||B.EMPTY_NODE}function ws(e,t=e.transactionQueueTree_){if(t||Cs(e,t),Mi(t)){const n=Jm(e,t);T(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&q2(e,Ao(t),n)}else $m(t)&&xs(t,n=>{ws(e,n)})}function q2(e,t,n){const i=n.map(d=>d.currentWriteId),r=bc(e,t,i);let o=r;const a=r.hash();for(let d=0;d<n.length;d++){const c=n[d];T(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const p=oe(t,c.path);o=o.updateChild(p,c.currentOutputSnapshotRaw)}const s=o.val(!0),l=t;e.server_.put(l.toString(),s,d=>{Ii(e,"transaction put response",{path:l.toString(),status:d});let c=[];if(d==="ok"){const p=[];for(let u=0;u<n.length;u++)n[u].status=2,c=c.concat(Yn(e.serverSyncTree_,n[u].currentWriteId)),n[u].onComplete&&p.push(()=>n[u].onComplete(null,!0,n[u].currentOutputSnapshotResolved)),n[u].unwatcher();Cs(e,gs(e.transactionQueueTree_,t)),ws(e,e.transactionQueueTree_),Ne(e.eventQueue_,t,c);for(let u=0;u<p.length;u++)yr(p[u])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{te("transaction at "+l.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}_r(e,t)}},a)}function _r(e,t){const n=Qm(e,t),i=Ao(n),r=Jm(e,n);return Q2(e,r,i),i}function Q2(e,t,n){if(t.length===0)return;const i=[];let r=[];const a=t.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<t.length;s++){const l=t[s],d=oe(n,l.path);let c=!1,p;if(T(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,p=l.abortReason,r=r.concat(Yn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=F2)c=!0,p="maxretry",r=r.concat(Yn(e.serverSyncTree_,l.currentWriteId,!0));else{const u=bc(e,l.path,a);l.currentInputSnapshot=u;const h=t[s].update(u.val());if(h!==void 0){Oo("transaction failed: Data returned ",h,l.path);let _=zt(h);typeof h=="object"&&h!=null&&we(h,".priority")||(_=_.updatePriority(u.getPriority()));const g=l.currentWriteId,v=Do(e),P=fc(_,u,v);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=P,l.currentWriteId=ys(e),a.splice(a.indexOf(g),1),r=r.concat(sc(e.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),r=r.concat(Yn(e.serverSyncTree_,g,!0))}else c=!0,p="nodata",r=r.concat(Yn(e.serverSyncTree_,l.currentWriteId,!0))}Ne(e.eventQueue_,n,r),r=[],c&&(t[s].status=2,function(u){setTimeout(u,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&(p==="nodata"?i.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):i.push(()=>t[s].onComplete(new Error(p),!1,null))))}Cs(e,e.transactionQueueTree_);for(let s=0;s<i.length;s++)yr(i[s]);ws(e,e.transactionQueueTree_)}function Qm(e,t){let n,i=e.transactionQueueTree_;for(n=J(t);n!==null&&Mi(i)===void 0;)i=gs(i,n),t=yt(t),n=J(t);return i}function Jm(e,t){const n=[];return Zm(e,t,n),n.sort((i,r)=>i.order-r.order),n}function Zm(e,t,n){const i=Mi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);xs(t,r=>{Zm(e,r,n)})}function Cs(e,t){const n=Mi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,_c(t,n.length>0?n:void 0)}xs(t,i=>{Cs(e,i)})}function yc(e,t){const n=Ao(Qm(e,t)),i=gs(e.transactionQueueTree_,t);return T2(i,r=>{dl(e,r)}),dl(e,i),Wm(i,r=>{dl(e,r)}),n}function dl(e,t){const n=Mi(t);if(n){const i=[];let r=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(T(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(T(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),r=r.concat(Yn(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?_c(t,void 0):n.length=o+1,Ne(e.eventQueue_,Ao(t),r);for(let a=0;a<i.length;a++)yr(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function Z2(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):te(`Invalid query segment '${n}' in query '${e}'`)}return t}const Xl=function(e,t){const n=X2(e),i=n.namespace;n.domain==="firebase.com"&&dn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sy();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new nm(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new ht(n.pathString)}},X2=function(e){let t="",n="",i="",r="",o="",a=!0,s="https",l=443;if(typeof e=="string"){let d=e.indexOf("//");d>=0&&(s=e.substring(0,d-1),e=e.substring(d+2));let c=e.indexOf("/");c===-1&&(c=e.length);let p=e.indexOf("?");p===-1&&(p=e.length),t=e.substring(0,Math.min(c,p)),c<p&&(r=J2(e.substring(c,p)));const u=Z2(e.substring(Math.min(e.length,p)));d=t.indexOf(":"),d>=0?(a=s==="https"||s==="wss",l=parseInt(t.substring(d+1),10)):d=t.length;const h=t.slice(0,d);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const _=t.indexOf(".");i=t.substring(0,_).toLowerCase(),n=t.substring(_+1),o=i}"ns"in u&&(o=u.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:a,scheme:s,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+jt(this.snapshot.exportVal())}}class t_{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new ce;return B2(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Pe("OnDisconnect.remove",this._path);const t=new ce;return Nu(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Pe("OnDisconnect.set",this._path),pn("OnDisconnect.set",t,this._path,!1);const n=new ce;return Nu(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Pe("OnDisconnect.setWithPriority",this._path),pn("OnDisconnect.setWithPriority",t,this._path,!1),gc("OnDisconnect.setWithPriority",n,!1);const i=new ce;return U2(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){Pe("OnDisconnect.update",this._path),Bm("OnDisconnect.update",t,this._path,!1);const n=new ce;return H2(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Z(this._path)?null:Vd(this._path)}get ref(){return new Me(this._repo,this._path)}get _queryIdentifier(){const t=vu(this._queryParams),n=Wd(t);return n==="{}"?"default":n}get _queryObject(){return vu(this._queryParams)}isEqual(t){if(t=Ce(t),!(t instanceof fe))return!1;const n=this._repo===t._repo,i=Gd(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+jy(this._path)}}function Es(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ai(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===an){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Tn)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==cn)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===Rt){if(t!=null&&!xo(t)||n!=null&&!xo(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(T(e.getIndex()instanceof Qd||e.getIndex()===Jd,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ss(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Me extends fe{constructor(t,n){super(t,n,new cs,!1)}get parent(){const t=pm(this._path);return t===null?null:new Me(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ai{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ht(t),i=Oi(this.ref,t);return new Ai(this._node.getChild(n),i,Rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new Ai(r,Oi(this.ref,i),Rt)))}hasChild(t){const n=new ht(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function n_(e,t){return e=Ce(e),e._checkNotDeleted("ref"),t!==void 0?Oi(e._root,t):e._root}function Mu(e,t){e=Ce(e),e._checkNotDeleted("refFromURL");const n=Xl(t,e._repo.repoInfo_.nodeAdmin);Um("refFromURL",n);const i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&dn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),n_(e,n.path.toString())}function Oi(e,t){return e=Ce(e),J(e._path)===null?D2("child","path",t,!1):vo("child","path",t,!1),new Me(e._repo,Ft(e._path,t))}function ew(e,t){e=Ce(e),Pe("push",e._path),pn("push",t,e._path,!0);const n=Km(e._repo),i=d4(n),r=Oi(e,i),o=Oi(e,i);let a;return t!=null?a=wc(o,t).then(()=>o):a=Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}function nw(e){return Pe("remove",e._path),wc(e,null)}function wc(e,t){e=Ce(e),Pe("set",e._path),pn("set",t,e._path,!1);const n=new ce;return vc(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function iw(e,t){e=Ce(e),Pe("setPriority",e._path),gc("setPriority",t,!1);const n=new ce;return vc(e._repo,Ft(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function rw(e,t,n){if(Pe("setWithPriority",e._path),pn("setWithPriority",t,e._path,!1),gc("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new ce;return vc(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function ow(e,t){Bm("update",t,e._path,!1);const n=new ce;return W2(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function aw(e){return e=Ce(e),$2(e._repo,e).then(t=>new Ai(t,new Me(e._repo,e._path),e._queryParams.getIndex()))}class Rs{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new Xm("value",this,new Ai(t.snapshotNode,new Me(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new t_(this,t,n):null}matches(t){return t instanceof Rs?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ts{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new t_(this,t,n):null}createEvent(t,n){T(t.childName!=null,"Child events should have a childName.");const i=Oi(new Me(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new Xm(t.type,this,new Ai(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ts?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function No(e,t,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const l=n,d=(c,p)=>{Zl(e._repo,e,s),l(c,p)};d.userCallback=n.userCallback,d.context=n.context,n=d}const a=new e_(n,o||void 0),s=t==="value"?new Rs(a):new Ts(t,a);return V2(e._repo,e,s),()=>Zl(e._repo,e,s)}function td(e,t,n,i){return No(e,"value",t,n,i)}function Fu(e,t,n,i){return No(e,"child_added",t,n,i)}function Lu(e,t,n,i){return No(e,"child_changed",t,n,i)}function zu(e,t,n,i){return No(e,"child_moved",t,n,i)}function Yu(e,t,n,i){return No(e,"child_removed",t,n,i)}function $u(e,t,n){let i=null;const r=n?new e_(n):null;t==="value"?i=new Rs(r):t&&(i=new Ts(t,r)),Zl(e._repo,e,i)}class Qe{}class i_ extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("endAt",this._value,t._path,!0);const n=Bl(t._queryParams,this._value,this._key);if(Ss(n),ai(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fe(t._repo,t._path,n,t._orderByCalled)}}function sw(e,t){return Po("endAt","key",t,!0),new i_(e,t)}class lw extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("endBefore",this._value,t._path,!1);const n=_4(t._queryParams,this._value,this._key);if(Ss(n),ai(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fe(t._repo,t._path,n,t._orderByCalled)}}function dw(e,t){return Po("endBefore","key",t,!0),new lw(e,t)}class r_ extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("startAt",this._value,t._path,!0);const n=jl(t._queryParams,this._value,this._key);if(Ss(n),ai(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new fe(t._repo,t._path,n,t._orderByCalled)}}function cw(e=null,t){return Po("startAt","key",t,!0),new r_(e,t)}class pw extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("startAfter",this._value,t._path,!1);const n=m4(t._queryParams,this._value,this._key);if(Ss(n),ai(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new fe(t._repo,t._path,n,t._orderByCalled)}}function uw(e,t){return Po("startAfter","key",t,!0),new pw(e,t)}class fw extends Qe{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new fe(t._repo,t._path,f4(t._queryParams,this._limit),t._orderByCalled)}}function hw(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new fw(e)}class mw extends Qe{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new fe(t._repo,t._path,h4(t._queryParams,this._limit),t._orderByCalled)}}function _w(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mw(e)}class gw extends Qe{constructor(t){super(),this._path=t}_apply(t){Es(t,"orderByChild");const n=new ht(this._path);if(Z(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Qd(n),r=ps(t._queryParams,i);return ai(r),new fe(t._repo,t._path,r,!0)}}function xw(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vo("orderByChild","path",e,!1),new gw(e)}class vw extends Qe{_apply(t){Es(t,"orderByKey");const n=ps(t._queryParams,an);return ai(n),new fe(t._repo,t._path,n,!0)}}function bw(){return new vw}class yw extends Qe{_apply(t){Es(t,"orderByPriority");const n=ps(t._queryParams,Rt);return ai(n),new fe(t._repo,t._path,n,!0)}}function ww(){return new yw}class Cw extends Qe{_apply(t){Es(t,"orderByValue");const n=ps(t._queryParams,Jd);return ai(n),new fe(t._repo,t._path,n,!0)}}function Ew(){return new Cw}class Sw extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(pn("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new i_(this._value,this._key)._apply(new r_(this._value,this._key)._apply(t))}}function Rw(e,t){return Po("equalTo","key",t,!0),new Sw(e,t)}function Ye(e,...t){let n=Ce(e);for(const i of t)n=i._apply(n);return n}r2(Me);d2(Me);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="FIREBASE_DATABASE_EMULATOR_HOST",ed={};let kw=!1;function Iw(e,t,n,i){e.repoInfo_=new nm(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),i&&(e.authTokenProvider_=i)}function o_(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kt("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=Xl(o,r),s=a.repoInfo,l,d;typeof process!="undefined"&&process.env&&(d=process.env[Tw]),d?(l=!0,o=`http://${d}?ns=${s.namespace}`,a=Xl(o,r),s=a.repoInfo):l=!a.repoInfo.secure;const c=r&&l?new er(er.OWNER):new _y(e.name,e.options,t);Um("Invalid Firebase Database URL",a),Z(a.path)||dn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Ow(s,e,c,new my(e.name,n));return new Pw(p,e)}function Aw(e,t){const n=ed[t];(!n||n[e.key]!==e)&&dn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),qm(e),delete n[e.key]}function Ow(e,t,n,i){let r=ed[t.name];r||(r={},ed[t.name]=r);let o=r[e.toURLString()];return o&&dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new L2(e,kw,n,i),r[e.toURLString()]=o,o}class Pw{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(z2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Me(this._repo,lt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Aw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&dn("Cannot call "+t+" on a deleted database.")}}function a_(){pr.IS_TRANSPORT_INITIALIZED&&te("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Dw(){a_(),zn.forceDisallow()}function Nw(){a_(),Ae.forceDisallow(),zn.forceAllow()}function Mw(e,t,n,i={}){e=Ce(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&dn("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new er(er.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:Sv(i.mockUserToken,e.app.options.projectId);o=new er(a)}Iw(r,t,n,o)}function Fw(e){e=Ce(e),e._checkNotDeleted("goOffline"),qm(e._repo)}function Lw(e){e=Ce(e),e._checkNotDeleted("goOnline"),G2(e._repo)}function zw(e,t){Bh(e,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(e){Yh($d),cr(new Xn("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return o_(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Hn(eu,nu,e),Hn(eu,nu,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={".sv":"timestamp"};function Ww(){return $w}function jw(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Uw(e,t,n){var i;if(e=Ce(e),Pe("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=(i=n==null?void 0:n.applyLocally)!==null&&i!==void 0?i:!0,o=new ce,a=(l,d,c)=>{let p=null;l?o.reject(l):(p=new Ai(c,new Me(e._repo,e._path),Rt),o.resolve(new Bw(d,p)))},s=td(e,()=>{});return K2(e._repo,e._path,t,a,s,r),o.promise}Cn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Cn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Yw();const Hw="@firebase/database-compat",Vw="0.2.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new ss("@firebase/database-compat"),s_=function(e){const t="FIREBASE WARNING: "+e;Gw.warn(t)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(ue(e,t)+"must be a boolean.")},qw=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ue(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this._delegate=t}cancel(t){H("OnDisconnect.cancel",0,1,arguments.length),Vt("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){H("OnDisconnect.remove",0,1,arguments.length),Vt("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){H("OnDisconnect.set",1,2,arguments.length),Vt("OnDisconnect.set","onComplete",n,!0);const i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){H("OnDisconnect.setWithPriority",2,3,arguments.length),Vt("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,n){if(H("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,s_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vt("OnDisconnect.update","onComplete",n,!0);const i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return H("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t,n){this._database=t,this._delegate=n}val(){return H("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return H("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return H("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return H("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return H("DataSnapshot.child",0,1,arguments.length),t=String(t),vo("DataSnapshot.child","path",t,!1),new Kn(this._database,this._delegate.child(t))}hasChild(t){return H("DataSnapshot.hasChild",1,1,arguments.length),vo("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return H("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return H("DataSnapshot.forEach",1,1,arguments.length),Vt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new Kn(this._database,n)))}hasChildren(){return H("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return H("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return H("DataSnapshot.ref",0,0,arguments.length),new ve(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Zt{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var o;H("Query.on",2,4,arguments.length),Vt("Query.on","callback",n,!1);const a=Zt.getCancelAndContextArgs_("Query.on",i,r),s=(d,c)=>{n.call(a.context,new Kn(this.database,d),c)};s.userCallback=n,s.context=a.context;const l=(o=a.cancel)===null||o===void 0?void 0:o.bind(a.context);switch(t){case"value":return td(this._delegate,s,l),n;case"child_added":return Fu(this._delegate,s,l),n;case"child_removed":return Yu(this._delegate,s,l),n;case"child_changed":return Lu(this._delegate,s,l),n;case"child_moved":return zu(this._delegate,s,l),n;default:throw new Error(ue("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(H("Query.off",0,3,arguments.length),qw("Query.off",t,!0),Vt("Query.off","callback",n,!0),Hp("Query.off","context",i,!0),n){const r=()=>{};r.userCallback=n,r.context=i,$u(this._delegate,t,r)}else $u(this._delegate,t)}get(){return aw(this._delegate).then(t=>new Kn(this.database,t))}once(t,n,i,r){H("Query.once",1,4,arguments.length),Vt("Query.once","callback",n,!0);const o=Zt.getCancelAndContextArgs_("Query.once",i,r),a=new ce,s=(d,c)=>{const p=new Kn(this.database,d);n&&n.call(o.context,p,c),a.resolve(p)};s.userCallback=n,s.context=o.context;const l=d=>{o.cancel&&o.cancel.call(o.context,d),a.reject(d)};switch(t){case"value":td(this._delegate,s,l,{onlyOnce:!0});break;case"child_added":Fu(this._delegate,s,l,{onlyOnce:!0});break;case"child_removed":Yu(this._delegate,s,l,{onlyOnce:!0});break;case"child_changed":Lu(this._delegate,s,l,{onlyOnce:!0});break;case"child_moved":zu(this._delegate,s,l,{onlyOnce:!0});break;default:throw new Error(ue("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return H("Query.limitToFirst",1,1,arguments.length),new Zt(this.database,Ye(this._delegate,hw(t)))}limitToLast(t){return H("Query.limitToLast",1,1,arguments.length),new Zt(this.database,Ye(this._delegate,_w(t)))}orderByChild(t){return H("Query.orderByChild",1,1,arguments.length),new Zt(this.database,Ye(this._delegate,xw(t)))}orderByKey(){return H("Query.orderByKey",0,0,arguments.length),new Zt(this.database,Ye(this._delegate,bw()))}orderByPriority(){return H("Query.orderByPriority",0,0,arguments.length),new Zt(this.database,Ye(this._delegate,ww()))}orderByValue(){return H("Query.orderByValue",0,0,arguments.length),new Zt(this.database,Ye(this._delegate,Ew()))}startAt(t=null,n){return H("Query.startAt",0,2,arguments.length),new Zt(this.database,Ye(this._delegate,cw(t,n)))}startAfter(t=null,n){return H("Query.startAfter",0,2,arguments.length),new Zt(this.database,Ye(this._delegate,uw(t,n)))}endAt(t=null,n){return H("Query.endAt",0,2,arguments.length),new Zt(this.database,Ye(this._delegate,sw(t,n)))}endBefore(t=null,n){return H("Query.endBefore",0,2,arguments.length),new Zt(this.database,Ye(this._delegate,dw(t,n)))}equalTo(t,n){return H("Query.equalTo",1,2,arguments.length),new Zt(this.database,Ye(this._delegate,Rw(t,n)))}toString(){return H("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return H("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(H("Query.isEqual",1,1,arguments.length),!(t instanceof Zt)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){const r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,Vt(t,"cancel",r.cancel,!0),r.context=i,Hp(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(ue(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new ve(this.database,new Me(this._delegate._repo,this._delegate._path))}}class ve extends Zt{constructor(t,n){super(t,new fe(n._repo,n._path,new cs,!1)),this.database=t,this._delegate=n}getKey(){return H("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return H("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new ve(this.database,Oi(this._delegate,t))}getParent(){H("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ve(this.database,t):null}getRoot(){return H("Reference.root",0,0,arguments.length),new ve(this.database,this._delegate.root)}set(t,n){H("Reference.set",1,2,arguments.length),Vt("Reference.set","onComplete",n,!0);const i=wc(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(H("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,s_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pe("Reference.update",this._delegate._path),Vt("Reference.update","onComplete",n,!0);const i=ow(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){H("Reference.setWithPriority",2,3,arguments.length),Vt("Reference.setWithPriority","onComplete",i,!0);const r=rw(this._delegate,t,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){H("Reference.remove",0,1,arguments.length),Vt("Reference.remove","onComplete",t,!0);const n=nw(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){H("Reference.transaction",1,3,arguments.length),Vt("Reference.transaction","transactionUpdate",t,!1),Vt("Reference.transaction","onComplete",n,!0),Kw("Reference.transaction","applyLocally",i,!0);const r=Uw(this._delegate,t,{applyLocally:i}).then(o=>new Jw(o.committed,new Kn(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(t,n){H("Reference.setPriority",1,2,arguments.length),Vt("Reference.setPriority","onComplete",n,!0);const i=iw(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){H("Reference.push",0,2,arguments.length),Vt("Reference.push","onComplete",n,!0);const i=ew(this._delegate,t),r=i.then(a=>new ve(this.database,a));n&&r.then(()=>n(null),a=>n(a));const o=new ve(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Pe("Reference.onDisconnect",this._delegate._path),new Qw(new tw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Dw,forceLongPolling:Nw}}useEmulator(t,n,i={}){Mw(this._delegate,t,n,i)}ref(t){if(H("database.ref",0,1,arguments.length),t instanceof ve){const n=Mu(this._delegate,t.toString());return new ve(this,n)}else{const n=n_(this._delegate,t);return new ve(this,n)}}refFromURL(t){H("database.refFromURL",1,1,arguments.length);const i=Mu(this._delegate,t);return new ve(this,i)}goOffline(){return H("database.goOffline",0,0,arguments.length),Fw(this._delegate)}goOnline(){return H("database.goOnline",0,0,arguments.length),Lw(this._delegate)}}bo.ServerValue={TIMESTAMP:Ww(),increment:e=>jw(e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw({app:e,url:t,version:n,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){Yh(n);const a=new Eh("auth-internal",new Sh("database-standalone"));return a.setComponent(new Xn("auth-internal",()=>i,"PRIVATE")),{instance:new bo(o_(e,a,void 0,t,o),e),namespace:r}}var Xw=Object.freeze({__proto__:null,initStandalone:Zw});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=bo.ServerValue;function eC(e){e.INTERNAL.registerComponent(new Xn("database-compat",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new bo(r,i)},"PUBLIC").setServiceProps({Reference:ve,Query:Zt,Database:bo,DataSnapshot:Kn,enableLogging:zw,INTERNAL:Xw,ServerValue:tC}).setMultipleInstances(!0)),e.registerVersion(Hw,Vw)}eC(An);var fn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n};const nC={setup(){Md({title:"Rock Paper Scissors Online \u7DDA\u4E0A\u731C\u62F3",meta:[{name:"og:title",content:"Rock Paper Scissors Online \u7DDA\u4E0A\u731C\u62F3"},{name:"og:description",content:"Free real-time game of Rock Paper Scissors, you can create an independent room to play games remotely.\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u731C\u62F3\u904A\u6232\u3002"},{name:"description",content:"Free real-time game of Rock Paper Scissors, you can create an independent room to play games remotely.\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u731C\u62F3\u904A\u6232\u3002"},{name:"twitter:title",content:"Rock Paper Scissors Online \u7DDA\u4E0A\u731C\u62F3"},{name:"twitter:description",content:"Free real-time game of Rock Paper Scissors, you can create an independent room to play games remotely.\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u731C\u62F3\u904A\u6232\u3002"}]}),An.initializeApp(yv);let e=document.documentElement.clientHeight,t=Qt(!1),n=document.documentElement.clientHeight;return/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&(t.value=!1),{appHeihgt:e,isSafari:t,mainHeihgt:n}}};function iC(e,t,n,i,r,o){const a=ar("router-view");return ut(),St("div",{style:rn({height:i.isSafari?`${i.mainHeihgt}px`:"100vh"})},[qt(a)],4)}var rC=fn(nC,[["render",iC]]);/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */var l_="store";function Er(e){return e===void 0&&(e=null),Ve(e!==null?e:l_)}var oC=typeof window!="undefined"?window:typeof global!="undefined"?global:{},Bi=oC.__VUE_DEVTOOLS_GLOBAL_HOOK__;function aC(e){!Bi||(e._devtoolHook=Bi,Bi.emit("vuex:init",e),Bi.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(t,n){Bi.emit("vuex:mutation",t,n)},{prepend:!0}),e.subscribeAction(function(t,n){Bi.emit("vuex:action",t,n)},{prepend:!0}))}function Sr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function sC(e){return e!==null&&typeof e=="object"}function lC(e){return e&&typeof e.then=="function"}function dC(e,t){return function(){return e(t)}}var Je=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},d_={namespaced:{configurable:!0}};d_.namespaced.get=function(){return!!this._rawModule.namespaced};Je.prototype.addChild=function(t,n){this._children[t]=n};Je.prototype.removeChild=function(t){delete this._children[t]};Je.prototype.getChild=function(t){return this._children[t]};Je.prototype.hasChild=function(t){return t in this._children};Je.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Je.prototype.forEachChild=function(t){Sr(this._children,t)};Je.prototype.forEachGetter=function(t){this._rawModule.getters&&Sr(this._rawModule.getters,t)};Je.prototype.forEachAction=function(t){this._rawModule.actions&&Sr(this._rawModule.actions,t)};Je.prototype.forEachMutation=function(t){this._rawModule.mutations&&Sr(this._rawModule.mutations,t)};Object.defineProperties(Je.prototype,d_);var Fi=function(t){this.register([],t,!1)};Fi.prototype.get=function(t){return t.reduce(function(n,i){return n.getChild(i)},this.root)};Fi.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(i,r){return n=n.getChild(r),i+(n.namespaced?r+"/":"")},"")};Fi.prototype.update=function(t){c_([],this.root,t)};Fi.prototype.register=function(t,n,i){var r=this;i===void 0&&(i=!0);var o=new Je(n,i);if(t.length===0)this.root=o;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],o)}n.modules&&Sr(n.modules,function(s,l){r.register(t.concat(l),s,i)})};Fi.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1],r=n.getChild(i);!r||!r.runtime||n.removeChild(i)};Fi.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1];return n?n.hasChild(i):!1};function c_(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;c_(e.concat(i),t.getChild(i),n.modules[i])}}function cC(e){return new he(e)}var he=function(t){var n=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var r=t.strict;r===void 0&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Fi(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var o=this,a=this,s=a.dispatch,l=a.commit;this.dispatch=function(u,h){return s.call(o,u,h)},this.commit=function(u,h,_){return l.call(o,u,h,_)},this.strict=r;var d=this._modules.root.state;ks(this,d,[],this._modules.root),Ec(this,d),i.forEach(function(p){return p(n)});var c=t.devtools!==void 0?t.devtools:!0;c&&aC(this)},Cc={state:{configurable:!0}};he.prototype.install=function(t,n){t.provide(n||l_,this),t.config.globalProperties.$store=this};Cc.state.get=function(){return this._state.data};Cc.state.set=function(e){};he.prototype.commit=function(t,n,i){var r=this,o=za(t,n,i),a=o.type,s=o.payload,l={type:a,payload:s},d=this._mutations[a];!d||(this._withCommit(function(){d.forEach(function(p){p(s)})}),this._subscribers.slice().forEach(function(c){return c(l,r.state)}))};he.prototype.dispatch=function(t,n){var i=this,r=za(t,n),o=r.type,a=r.payload,s={type:o,payload:a},l=this._actions[o];if(!!l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(s,i.state)})}catch{}var d=l.length>1?Promise.all(l.map(function(c){return c(a)})):l[0](a);return new Promise(function(c,p){d.then(function(u){try{i._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(s,i.state)})}catch{}c(u)},function(u){try{i._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(s,i.state,u)})}catch{}p(u)})})}};he.prototype.subscribe=function(t,n){return p_(t,this._subscribers,n)};he.prototype.subscribeAction=function(t,n){var i=typeof t=="function"?{before:t}:t;return p_(i,this._actionSubscribers,n)};he.prototype.watch=function(t,n,i){var r=this;return Xi(function(){return t(r.state,r.getters)},n,Object.assign({},i))};he.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};he.prototype.registerModule=function(t,n,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),ks(this,this.state,t,this._modules.get(t),i.preserveState),Ec(this,this.state)};he.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=Sc(n.state,t.slice(0,-1));delete i[t[t.length-1]]}),u_(this)};he.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};he.prototype.hotUpdate=function(t){this._modules.update(t),u_(this,!0)};he.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(he.prototype,Cc);function p_(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function u_(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;ks(e,n,[],e._modules.root,!0),Ec(e,n,t)}function Ec(e,t,n){var i=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,o={};Sr(r,function(a,s){o[s]=dC(a,e),Object.defineProperty(e.getters,s,{get:function(){return o[s]()},enumerable:!0})}),e._state=sn({data:t}),e.strict&&_C(e),i&&n&&e._withCommit(function(){i.data=null})}function ks(e,t,n,i,r){var o=!n.length,a=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=i),!o&&!r){var s=Sc(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){s[l]=i.state})}var d=i.context=pC(e,a,n);i.forEachMutation(function(c,p){var u=a+p;fC(e,u,c,d)}),i.forEachAction(function(c,p){var u=c.root?p:a+p,h=c.handler||c;hC(e,u,h,d)}),i.forEachGetter(function(c,p){var u=a+p;mC(e,u,c,d)}),i.forEachChild(function(c,p){ks(e,t,n.concat(p),c,r)})}function pC(e,t,n){var i=t==="",r={dispatch:i?e.dispatch:function(o,a,s){var l=za(o,a,s),d=l.payload,c=l.options,p=l.type;return(!c||!c.root)&&(p=t+p),e.dispatch(p,d)},commit:i?e.commit:function(o,a,s){var l=za(o,a,s),d=l.payload,c=l.options,p=l.type;(!c||!c.root)&&(p=t+p),e.commit(p,d,c)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return uC(e,t)}},state:{get:function(){return Sc(e.state,n)}}}),r}function uC(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach(function(r){if(r.slice(0,i)===t){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return e.getters[r]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function fC(e,t,n,i){var r=e._mutations[t]||(e._mutations[t]=[]);r.push(function(a){n.call(e,i.state,a)})}function hC(e,t,n,i){var r=e._actions[t]||(e._actions[t]=[]);r.push(function(a){var s=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},a);return lC(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):s})}function mC(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(i.state,i.getters,o.state,o.getters)})}function _C(e){Xi(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Sc(e,t){return t.reduce(function(n,i){return n[i]},e)}function za(e,t,n){return sC(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var gC=cC({state:{linkedRoom:"",role:""},mutations:{setLinkedRoom(e,t){e.linkedRoom=t},setRole(e,t){e.role=t}},actions:{}});const xC={},f_=e=>(Eo("data-v-211d9c1c"),e=e(),So(),e),vC={id:"EnterPage"},bC=f_(()=>C("h1",null,[Rn("Rock Paper Scissors"),C("br",{class:"hidden-pad-up"}),Rn("\u7DDA\u4E0A\u731C\u62F3")],-1)),yC={class:"btn_group"},wC=Rn(" English "),CC=Rn(" \u4E2D\u6587 "),EC=f_(()=>C("div",{class:"footer"},null,-1));function SC(e,t,n,i,r,o){const a=ar("router-link");return ut(),St("div",vC,[bC,C("div",yC,[qt(a,{to:"/en-us",class:"btn"},{default:yl(()=>[wC]),_:1}),qt(a,{to:"/zh-tw",class:"btn"},{default:yl(()=>[CC]),_:1})]),EC])}var RC=fn(xC,[["render",SC],["__scopeId","data-v-211d9c1c"]]);//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var h_;function E(){return h_.apply(null,arguments)}function TC(e){h_=e}function Ke(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ei(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rc(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ct(e,t))return!1;return!0}function de(e){return e===void 0}function kn(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Mo(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function m_(e,t){var n=[],i,r=e.length;for(i=0;i<r;++i)n.push(t(e[i],i));return n}function $n(e,t){for(var n in t)ct(t,n)&&(e[n]=t[n]);return ct(t,"toString")&&(e.toString=t.toString),ct(t,"valueOf")&&(e.valueOf=t.valueOf),e}function hn(e,t,n,i){return Y_(e,t,n,i,!0).utc()}function kC(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function q(e){return e._pf==null&&(e._pf=kC()),e._pf}var nd;Array.prototype.some?nd=Array.prototype.some:nd=function(e){var t=Object(this),n=t.length>>>0,i;for(i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};function Tc(e){if(e._isValid==null){var t=q(e),n=nd.call(t.parsedDateParts,function(r){return r!=null}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i}return e._isValid}function Is(e){var t=hn(NaN);return e!=null?$n(q(t),e):q(t).userInvalidated=!0,t}var Wu=E.momentProperties=[],cl=!1;function kc(e,t){var n,i,r,o=Wu.length;if(de(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),de(t._i)||(e._i=t._i),de(t._f)||(e._f=t._f),de(t._l)||(e._l=t._l),de(t._strict)||(e._strict=t._strict),de(t._tzm)||(e._tzm=t._tzm),de(t._isUTC)||(e._isUTC=t._isUTC),de(t._offset)||(e._offset=t._offset),de(t._pf)||(e._pf=q(t)),de(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)i=Wu[n],r=t[i],de(r)||(e[i]=r);return e}function Fo(e){kc(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),cl===!1&&(cl=!0,E.updateOffset(this),cl=!1)}function qe(e){return e instanceof Fo||e!=null&&e._isAMomentObject!=null}function __(e){E.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function Fe(e,t){var n=!0;return $n(function(){if(E.deprecationHandler!=null&&E.deprecationHandler(null,e),n){var i=[],r,o,a,s=arguments.length;for(o=0;o<s;o++){if(r="",typeof arguments[o]=="object"){r+=`
[`+o+"] ";for(a in arguments[0])ct(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[o];i.push(r)}__(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var ju={};function g_(e,t){E.deprecationHandler!=null&&E.deprecationHandler(e,t),ju[e]||(__(t),ju[e]=!0)}E.suppressDeprecationWarnings=!1;E.deprecationHandler=null;function mn(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function IC(e){var t,n;for(n in e)ct(e,n)&&(t=e[n],mn(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function id(e,t){var n=$n({},e),i;for(i in t)ct(t,i)&&(Ei(e[i])&&Ei(t[i])?(n[i]={},$n(n[i],e[i]),$n(n[i],t[i])):t[i]!=null?n[i]=t[i]:delete n[i]);for(i in e)ct(e,i)&&!ct(t,i)&&Ei(e[i])&&(n[i]=$n({},n[i]));return n}function Ic(e){e!=null&&this.set(e)}var rd;Object.keys?rd=Object.keys:rd=function(e){var t,n=[];for(t in e)ct(e,t)&&n.push(t);return n};var AC={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function OC(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return mn(i)?i.call(t,n):i}function un(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var Ac=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qo=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,pl={},nr={};function $(e,t,n,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),e&&(nr[e]=r),t&&(nr[t[0]]=function(){return un(r.apply(this,arguments),t[1],t[2])}),n&&(nr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function PC(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function DC(e){var t=e.match(Ac),n,i;for(n=0,i=t.length;n<i;n++)nr[t[n]]?t[n]=nr[t[n]]:t[n]=PC(t[n]);return function(r){var o="",a;for(a=0;a<i;a++)o+=mn(t[a])?t[a].call(r,e):t[a];return o}}function ia(e,t){return e.isValid()?(t=x_(t,e.localeData()),pl[t]=pl[t]||DC(t),pl[t](e)):e.localeData().invalidDate()}function x_(e,t){var n=5;function i(r){return t.longDateFormat(r)||r}for(Qo.lastIndex=0;n>=0&&Qo.test(e);)e=e.replace(Qo,i),Qo.lastIndex=0,n-=1;return e}var NC={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function MC(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Ac).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var FC="Invalid date";function LC(){return this._invalidDate}var zC="%d",YC=/\d{1,2}/;function $C(e){return this._ordinal.replace("%d",e)}var WC={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function jC(e,t,n,i){var r=this._relativeTime[n];return mn(r)?r(e,t,n,i):r.replace(/%d/i,e)}function BC(e,t){var n=this._relativeTime[e>0?"future":"past"];return mn(n)?n(t):n.replace(/%s/i,t)}var Xr={};function ne(e,t){var n=e.toLowerCase();Xr[n]=Xr[n+"s"]=Xr[t]=e}function Le(e){return typeof e=="string"?Xr[e]||Xr[e.toLowerCase()]:void 0}function Oc(e){var t={},n,i;for(i in e)ct(e,i)&&(n=Le(i),n&&(t[n]=e[i]));return t}var v_={};function ie(e,t){v_[e]=t}function UC(e){var t=[],n;for(n in e)ct(e,n)&&t.push({unit:n,priority:v_[n]});return t.sort(function(i,r){return i.priority-r.priority}),t}function As(e){return e%4===0&&e%100!==0||e%400===0}function Ie(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function tt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Ie(t)),n}function Rr(e,t){return function(n){return n!=null?(b_(this,e,n),E.updateOffset(this,t),this):Ya(this,e)}}function Ya(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function b_(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&As(e.year())&&e.month()===1&&e.date()===29?(n=tt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Fs(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function HC(e){return e=Le(e),mn(this[e])?this[e]():this}function VC(e,t){if(typeof e=="object"){e=Oc(e);var n=UC(e),i,r=n.length;for(i=0;i<r;i++)this[n[i].unit](e[n[i].unit])}else if(e=Le(e),mn(this[e]))return this[e](t);return this}var y_=/\d/,Ee=/\d\d/,w_=/\d{3}/,Pc=/\d{4}/,Os=/[+-]?\d{6}/,Dt=/\d\d?/,C_=/\d\d\d\d?/,E_=/\d\d\d\d\d\d?/,Ps=/\d{1,3}/,Dc=/\d{1,4}/,Ds=/[+-]?\d{1,6}/,Tr=/\d+/,Ns=/[+-]?\d+/,GC=/Z|[+-]\d\d:?\d\d/gi,Ms=/Z|[+-]\d\d(?::?\d\d)?/gi,KC=/[+-]?\d+(\.\d{1,3})?/,Lo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$a;$a={};function M(e,t,n){$a[e]=mn(t)?t:function(i,r){return i&&n?n:t}}function qC(e,t){return ct($a,e)?$a[e](t._strict,t._locale):new RegExp(QC(e))}function QC(e){return ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,i,r,o){return n||i||r||o}))}function ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var od={};function _t(e,t){var n,i=t,r;for(typeof e=="string"&&(e=[e]),kn(t)&&(i=function(o,a){a[t]=tt(o)}),r=e.length,n=0;n<r;n++)od[e[n]]=i}function zo(e,t){_t(e,function(n,i,r,o){r._w=r._w||{},t(n,r._w,r,o)})}function JC(e,t,n){t!=null&&ct(od,e)&&od[e](t,n._a,n,e)}var ee=0,yn=1,nn=2,Bt=3,Ue=4,wn=5,gi=6,ZC=7,XC=8;function tE(e,t){return(e%t+t)%t}var $t;Array.prototype.indexOf?$t=Array.prototype.indexOf:$t=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Fs(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tE(t,12);return e+=(t-n)/12,n===1?As(e)?29:28:31-n%7%2}$("M",["MM",2],"Mo",function(){return this.month()+1});$("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});$("MMMM",0,0,function(e){return this.localeData().months(this,e)});ne("month","M");ie("month",8);M("M",Dt);M("MM",Dt,Ee);M("MMM",function(e,t){return t.monthsShortRegex(e)});M("MMMM",function(e,t){return t.monthsRegex(e)});_t(["M","MM"],function(e,t){t[yn]=tt(e)-1});_t(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);r!=null?t[yn]=r:q(n).invalidMonth=e});var eE="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),S_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),R_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nE=Lo,iE=Lo;function rE(e,t){return e?Ke(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||R_).test(t)?"format":"standalone"][e.month()]:Ke(this._months)?this._months:this._months.standalone}function oE(e,t){return e?Ke(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[R_.test(t)?"format":"standalone"][e.month()]:Ke(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function aE(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=hn([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(r=$t.call(this._shortMonthsParse,a),r!==-1?r:null):(r=$t.call(this._longMonthsParse,a),r!==-1?r:null):t==="MMM"?(r=$t.call(this._shortMonthsParse,a),r!==-1?r:(r=$t.call(this._longMonthsParse,a),r!==-1?r:null)):(r=$t.call(this._longMonthsParse,a),r!==-1?r:(r=$t.call(this._shortMonthsParse,a),r!==-1?r:null))}function sE(e,t,n){var i,r,o;if(this._monthsParseExact)return aE.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=hn([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(n&&t==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function T_(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=tt(t);else if(t=e.localeData().monthsParse(t),!kn(t))return e}return n=Math.min(e.date(),Fs(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function k_(e){return e!=null?(T_(this,e),E.updateOffset(this,!0),this):Ya(this,"Month")}function lE(){return Fs(this.year(),this.month())}function dE(e){return this._monthsParseExact?(ct(this,"_monthsRegex")||I_.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ct(this,"_monthsShortRegex")||(this._monthsShortRegex=nE),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function cE(e){return this._monthsParseExact?(ct(this,"_monthsRegex")||I_.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ct(this,"_monthsRegex")||(this._monthsRegex=iE),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function I_(){function e(a,s){return s.length-a.length}var t=[],n=[],i=[],r,o;for(r=0;r<12;r++)o=hn([2e3,r]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),i.push(this.months(o,"")),i.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),i.sort(e),r=0;r<12;r++)t[r]=ge(t[r]),n[r]=ge(n[r]);for(r=0;r<24;r++)i[r]=ge(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}$("Y",0,0,function(){var e=this.year();return e<=9999?un(e,4):"+"+e});$(0,["YY",2],0,function(){return this.year()%100});$(0,["YYYY",4],0,"year");$(0,["YYYYY",5],0,"year");$(0,["YYYYYY",6,!0],0,"year");ne("year","y");ie("year",1);M("Y",Ns);M("YY",Dt,Ee);M("YYYY",Dc,Pc);M("YYYYY",Ds,Os);M("YYYYYY",Ds,Os);_t(["YYYYY","YYYYYY"],ee);_t("YYYY",function(e,t){t[ee]=e.length===2?E.parseTwoDigitYear(e):tt(e)});_t("YY",function(e,t){t[ee]=E.parseTwoDigitYear(e)});_t("Y",function(e,t){t[ee]=parseInt(e,10)});function to(e){return As(e)?366:365}E.parseTwoDigitYear=function(e){return tt(e)+(tt(e)>68?1900:2e3)};var A_=Rr("FullYear",!0);function pE(){return As(this.year())}function uE(e,t,n,i,r,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function yo(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Wa(e,t,n){var i=7+t-n,r=(7+yo(e,0,i).getUTCDay()-t)%7;return-r+i-1}function O_(e,t,n,i,r){var o=(7+n-i)%7,a=Wa(e,i,r),s=1+7*(t-1)+o+a,l,d;return s<=0?(l=e-1,d=to(l)+s):s>to(e)?(l=e+1,d=s-to(e)):(l=e,d=s),{year:l,dayOfYear:d}}function wo(e,t,n){var i=Wa(e.year(),t,n),r=Math.floor((e.dayOfYear()-i-1)/7)+1,o,a;return r<1?(a=e.year()-1,o=r+En(a,t,n)):r>En(e.year(),t,n)?(o=r-En(e.year(),t,n),a=e.year()+1):(a=e.year(),o=r),{week:o,year:a}}function En(e,t,n){var i=Wa(e,t,n),r=Wa(e+1,t,n);return(to(e)-i+r)/7}$("w",["ww",2],"wo","week");$("W",["WW",2],"Wo","isoWeek");ne("week","w");ne("isoWeek","W");ie("week",5);ie("isoWeek",5);M("w",Dt);M("ww",Dt,Ee);M("W",Dt);M("WW",Dt,Ee);zo(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=tt(e)});function fE(e){return wo(e,this._week.dow,this._week.doy).week}var hE={dow:0,doy:6};function mE(){return this._week.dow}function _E(){return this._week.doy}function gE(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function xE(e){var t=wo(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}$("d",0,"do","day");$("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});$("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});$("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});$("e",0,0,"weekday");$("E",0,0,"isoWeekday");ne("day","d");ne("weekday","e");ne("isoWeekday","E");ie("day",11);ie("weekday",11);ie("isoWeekday",11);M("d",Dt);M("e",Dt);M("E",Dt);M("dd",function(e,t){return t.weekdaysMinRegex(e)});M("ddd",function(e,t){return t.weekdaysShortRegex(e)});M("dddd",function(e,t){return t.weekdaysRegex(e)});zo(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);r!=null?t.d=r:q(n).invalidWeekday=e});zo(["d","e","E"],function(e,t,n,i){t[i]=tt(e)});function vE(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function bE(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Nc(e,t){return e.slice(t,7).concat(e.slice(0,t))}var yE="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),P_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wE="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),CE=Lo,EE=Lo,SE=Lo;function RE(e,t){var n=Ke(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Nc(n,this._week.dow):e?n[e.day()]:n}function TE(e){return e===!0?Nc(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function kE(e){return e===!0?Nc(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function IE(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=hn([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(r=$t.call(this._weekdaysParse,a),r!==-1?r:null):t==="ddd"?(r=$t.call(this._shortWeekdaysParse,a),r!==-1?r:null):(r=$t.call(this._minWeekdaysParse,a),r!==-1?r:null):t==="dddd"?(r=$t.call(this._weekdaysParse,a),r!==-1||(r=$t.call(this._shortWeekdaysParse,a),r!==-1)?r:(r=$t.call(this._minWeekdaysParse,a),r!==-1?r:null)):t==="ddd"?(r=$t.call(this._shortWeekdaysParse,a),r!==-1||(r=$t.call(this._weekdaysParse,a),r!==-1)?r:(r=$t.call(this._minWeekdaysParse,a),r!==-1?r:null)):(r=$t.call(this._minWeekdaysParse,a),r!==-1||(r=$t.call(this._weekdaysParse,a),r!==-1)?r:(r=$t.call(this._shortWeekdaysParse,a),r!==-1?r:null))}function AE(e,t,n){var i,r,o;if(this._weekdaysParseExact)return IE.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=hn([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(n&&t==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(n&&t==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function OE(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=vE(e,this.localeData()),this.add(e-t,"d")):t}function PE(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function DE(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=bE(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function NE(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||Mc.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ct(this,"_weekdaysRegex")||(this._weekdaysRegex=CE),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function ME(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||Mc.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ct(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=EE),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function FE(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||Mc.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ct(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=SE),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Mc(){function e(c,p){return p.length-c.length}var t=[],n=[],i=[],r=[],o,a,s,l,d;for(o=0;o<7;o++)a=hn([2e3,1]).day(o),s=ge(this.weekdaysMin(a,"")),l=ge(this.weekdaysShort(a,"")),d=ge(this.weekdays(a,"")),t.push(s),n.push(l),i.push(d),r.push(s),r.push(l),r.push(d);t.sort(e),n.sort(e),i.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Fc(){return this.hours()%12||12}function LE(){return this.hours()||24}$("H",["HH",2],0,"hour");$("h",["hh",2],0,Fc);$("k",["kk",2],0,LE);$("hmm",0,0,function(){return""+Fc.apply(this)+un(this.minutes(),2)});$("hmmss",0,0,function(){return""+Fc.apply(this)+un(this.minutes(),2)+un(this.seconds(),2)});$("Hmm",0,0,function(){return""+this.hours()+un(this.minutes(),2)});$("Hmmss",0,0,function(){return""+this.hours()+un(this.minutes(),2)+un(this.seconds(),2)});function D_(e,t){$(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}D_("a",!0);D_("A",!1);ne("hour","h");ie("hour",13);function N_(e,t){return t._meridiemParse}M("a",N_);M("A",N_);M("H",Dt);M("h",Dt);M("k",Dt);M("HH",Dt,Ee);M("hh",Dt,Ee);M("kk",Dt,Ee);M("hmm",C_);M("hmmss",E_);M("Hmm",C_);M("Hmmss",E_);_t(["H","HH"],Bt);_t(["k","kk"],function(e,t,n){var i=tt(e);t[Bt]=i===24?0:i});_t(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});_t(["h","hh"],function(e,t,n){t[Bt]=tt(e),q(n).bigHour=!0});_t("hmm",function(e,t,n){var i=e.length-2;t[Bt]=tt(e.substr(0,i)),t[Ue]=tt(e.substr(i)),q(n).bigHour=!0});_t("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Bt]=tt(e.substr(0,i)),t[Ue]=tt(e.substr(i,2)),t[wn]=tt(e.substr(r)),q(n).bigHour=!0});_t("Hmm",function(e,t,n){var i=e.length-2;t[Bt]=tt(e.substr(0,i)),t[Ue]=tt(e.substr(i))});_t("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Bt]=tt(e.substr(0,i)),t[Ue]=tt(e.substr(i,2)),t[wn]=tt(e.substr(r))});function zE(e){return(e+"").toLowerCase().charAt(0)==="p"}var YE=/[ap]\.?m?\.?/i,$E=Rr("Hours",!0);function WE(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var M_={calendar:AC,longDateFormat:NC,invalidDate:FC,ordinal:zC,dayOfMonthOrdinalParse:YC,relativeTime:WC,months:eE,monthsShort:S_,week:hE,weekdays:yE,weekdaysMin:wE,weekdaysShort:P_,meridiemParse:YE},Mt={},Yr={},Co;function jE(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function Bu(e){return e&&e.toLowerCase().replace("_","-")}function BE(e){for(var t=0,n,i,r,o;t<e.length;){for(o=Bu(e[t]).split("-"),n=o.length,i=Bu(e[t+1]),i=i?i.split("-"):null;n>0;){if(r=Ls(o.slice(0,n).join("-")),r)return r;if(i&&i.length>=n&&jE(o,i)>=n-1)break;n--}t++}return Co}function UE(e){return e.match("^[^/\\\\]*$")!=null}function Ls(e){var t=null,n;if(Mt[e]===void 0&&typeof aa!="undefined"&&aa&&aa.exports&&UE(e))try{t=Co._abbr,n=require,n("./locale/"+e),qn(t)}catch{Mt[e]=null}return Mt[e]}function qn(e,t){var n;return e&&(de(t)?n=On(e):n=Lc(e,t),n?Co=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Co._abbr}function Lc(e,t){if(t!==null){var n,i=M_;if(t.abbr=e,Mt[e]!=null)g_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Mt[e]._config;else if(t.parentLocale!=null)if(Mt[t.parentLocale]!=null)i=Mt[t.parentLocale]._config;else if(n=Ls(t.parentLocale),n!=null)i=n._config;else return Yr[t.parentLocale]||(Yr[t.parentLocale]=[]),Yr[t.parentLocale].push({name:e,config:t}),null;return Mt[e]=new Ic(id(i,t)),Yr[e]&&Yr[e].forEach(function(r){Lc(r.name,r.config)}),qn(e),Mt[e]}else return delete Mt[e],null}function HE(e,t){if(t!=null){var n,i,r=M_;Mt[e]!=null&&Mt[e].parentLocale!=null?Mt[e].set(id(Mt[e]._config,t)):(i=Ls(e),i!=null&&(r=i._config),t=id(r,t),i==null&&(t.abbr=e),n=new Ic(t),n.parentLocale=Mt[e],Mt[e]=n),qn(e)}else Mt[e]!=null&&(Mt[e].parentLocale!=null?(Mt[e]=Mt[e].parentLocale,e===qn()&&qn(e)):Mt[e]!=null&&delete Mt[e]);return Mt[e]}function On(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Co;if(!Ke(e)){if(t=Ls(e),t)return t;e=[e]}return BE(e)}function VE(){return rd(Mt)}function zc(e){var t,n=e._a;return n&&q(e).overflow===-2&&(t=n[yn]<0||n[yn]>11?yn:n[nn]<1||n[nn]>Fs(n[ee],n[yn])?nn:n[Bt]<0||n[Bt]>24||n[Bt]===24&&(n[Ue]!==0||n[wn]!==0||n[gi]!==0)?Bt:n[Ue]<0||n[Ue]>59?Ue:n[wn]<0||n[wn]>59?wn:n[gi]<0||n[gi]>999?gi:-1,q(e)._overflowDayOfYear&&(t<ee||t>nn)&&(t=nn),q(e)._overflowWeeks&&t===-1&&(t=ZC),q(e)._overflowWeekday&&t===-1&&(t=XC),q(e).overflow=t),e}var GE=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,KE=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qE=/Z|[+-]\d\d(?::?\d\d)?/,Jo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ul=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],QE=/^\/?Date\((-?\d+)/i,JE=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ZE={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function F_(e){var t,n,i=e._i,r=GE.exec(i)||KE.exec(i),o,a,s,l,d=Jo.length,c=ul.length;if(r){for(q(e).iso=!0,t=0,n=d;t<n;t++)if(Jo[t][1].exec(r[1])){a=Jo[t][0],o=Jo[t][2]!==!1;break}if(a==null){e._isValid=!1;return}if(r[3]){for(t=0,n=c;t<n;t++)if(ul[t][1].exec(r[3])){s=(r[2]||" ")+ul[t][0];break}if(s==null){e._isValid=!1;return}}if(!o&&s!=null){e._isValid=!1;return}if(r[4])if(qE.exec(r[4]))l="Z";else{e._isValid=!1;return}e._f=a+(s||"")+(l||""),$c(e)}else e._isValid=!1}function XE(e,t,n,i,r,o){var a=[t8(e),S_.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}function t8(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function e8(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function n8(e,t,n){if(e){var i=P_.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(i!==r)return q(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function i8(e,t,n){if(e)return ZE[e];if(t)return 0;var i=parseInt(n,10),r=i%100,o=(i-r)/100;return o*60+r}function L_(e){var t=JE.exec(e8(e._i)),n;if(t){if(n=XE(t[4],t[3],t[2],t[5],t[6],t[7]),!n8(t[1],n,e))return;e._a=n,e._tzm=i8(t[8],t[9],t[10]),e._d=yo.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),q(e).rfc2822=!0}else e._isValid=!1}function r8(e){var t=QE.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(F_(e),e._isValid===!1)delete e._isValid;else return;if(L_(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:E.createFromInputFallback(e)}E.createFromInputFallback=Fe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function qi(e,t,n){return e!=null?e:t!=null?t:n}function o8(e){var t=new Date(E.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Yc(e){var t,n,i=[],r,o,a;if(!e._d){for(r=o8(e),e._w&&e._a[nn]==null&&e._a[yn]==null&&a8(e),e._dayOfYear!=null&&(a=qi(e._a[ee],r[ee]),(e._dayOfYear>to(a)||e._dayOfYear===0)&&(q(e)._overflowDayOfYear=!0),n=yo(a,0,e._dayOfYear),e._a[yn]=n.getUTCMonth(),e._a[nn]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Bt]===24&&e._a[Ue]===0&&e._a[wn]===0&&e._a[gi]===0&&(e._nextDay=!0,e._a[Bt]=0),e._d=(e._useUTC?yo:uE).apply(null,i),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Bt]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==o&&(q(e).weekdayMismatch=!0)}}function a8(e){var t,n,i,r,o,a,s,l,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,a=4,n=qi(t.GG,e._a[ee],wo(Pt(),1,4).year),i=qi(t.W,1),r=qi(t.E,1),(r<1||r>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,d=wo(Pt(),o,a),n=qi(t.gg,e._a[ee],d.year),i=qi(t.w,d.week),t.d!=null?(r=t.d,(r<0||r>6)&&(l=!0)):t.e!=null?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),i<1||i>En(n,o,a)?q(e)._overflowWeeks=!0:l!=null?q(e)._overflowWeekday=!0:(s=O_(n,i,r,o,a),e._a[ee]=s.year,e._dayOfYear=s.dayOfYear)}E.ISO_8601=function(){};E.RFC_2822=function(){};function $c(e){if(e._f===E.ISO_8601){F_(e);return}if(e._f===E.RFC_2822){L_(e);return}e._a=[],q(e).empty=!0;var t=""+e._i,n,i,r,o,a,s=t.length,l=0,d,c;for(r=x_(e._f,e._locale).match(Ac)||[],c=r.length,n=0;n<c;n++)o=r[n],i=(t.match(qC(o,e))||[])[0],i&&(a=t.substr(0,t.indexOf(i)),a.length>0&&q(e).unusedInput.push(a),t=t.slice(t.indexOf(i)+i.length),l+=i.length),nr[o]?(i?q(e).empty=!1:q(e).unusedTokens.push(o),JC(o,i,e)):e._strict&&!i&&q(e).unusedTokens.push(o);q(e).charsLeftOver=s-l,t.length>0&&q(e).unusedInput.push(t),e._a[Bt]<=12&&q(e).bigHour===!0&&e._a[Bt]>0&&(q(e).bigHour=void 0),q(e).parsedDateParts=e._a.slice(0),q(e).meridiem=e._meridiem,e._a[Bt]=s8(e._locale,e._a[Bt],e._meridiem),d=q(e).era,d!==null&&(e._a[ee]=e._locale.erasConvertYear(d,e._a[ee])),Yc(e),zc(e)}function s8(e,t,n){var i;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(i=e.isPM(n),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function l8(e){var t,n,i,r,o,a,s=!1,l=e._f.length;if(l===0){q(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<l;r++)o=0,a=!1,t=kc({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],$c(t),Tc(t)&&(a=!0),o+=q(t).charsLeftOver,o+=q(t).unusedTokens.length*10,q(t).score=o,s?o<i&&(i=o,n=t):(i==null||o<i||a)&&(i=o,n=t,a&&(s=!0));$n(e,n||t)}function d8(e){if(!e._d){var t=Oc(e._i),n=t.day===void 0?t.date:t.day;e._a=m_([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),Yc(e)}}function c8(e){var t=new Fo(zc(z_(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function z_(e){var t=e._i,n=e._f;return e._locale=e._locale||On(e._l),t===null||n===void 0&&t===""?Is({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),qe(t)?new Fo(zc(t)):(Mo(t)?e._d=t:Ke(n)?l8(e):n?$c(e):p8(e),Tc(e)||(e._d=null),e))}function p8(e){var t=e._i;de(t)?e._d=new Date(E.now()):Mo(t)?e._d=new Date(t.valueOf()):typeof t=="string"?r8(e):Ke(t)?(e._a=m_(t.slice(0),function(n){return parseInt(n,10)}),Yc(e)):Ei(t)?d8(e):kn(t)?e._d=new Date(t):E.createFromInputFallback(e)}function Y_(e,t,n,i,r){var o={};return(t===!0||t===!1)&&(i=t,t=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(Ei(e)&&Rc(e)||Ke(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,c8(o)}function Pt(e,t,n,i){return Y_(e,t,n,i,!1)}var u8=Fe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Is()}),f8=Fe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Is()});function $_(e,t){var n,i;if(t.length===1&&Ke(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function h8(){var e=[].slice.call(arguments,0);return $_("isBefore",e)}function m8(){var e=[].slice.call(arguments,0);return $_("isAfter",e)}var _8=function(){return Date.now?Date.now():+new Date},$r=["year","quarter","month","week","day","hour","minute","second","millisecond"];function g8(e){var t,n=!1,i,r=$r.length;for(t in e)if(ct(e,t)&&!($t.call($r,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(i=0;i<r;++i)if(e[$r[i]]){if(n)return!1;parseFloat(e[$r[i]])!==tt(e[$r[i]])&&(n=!0)}return!0}function x8(){return this._isValid}function v8(){return Ze(NaN)}function zs(e){var t=Oc(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._isValid=g8(t),this._milliseconds=+c+d*1e3+l*6e4+s*1e3*60*60,this._days=+a+o*7,this._months=+r+i*3+n*12,this._data={},this._locale=On(),this._bubble()}function ra(e){return e instanceof zs}function ad(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function b8(e,t,n){var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0,a;for(a=0;a<i;a++)(n&&e[a]!==t[a]||!n&&tt(e[a])!==tt(t[a]))&&o++;return o+r}function W_(e,t){$(e,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+un(~~(n/60),2)+t+un(~~n%60,2)})}W_("Z",":");W_("ZZ","");M("Z",Ms);M("ZZ",Ms);_t(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Wc(Ms,e)});var y8=/([\+\-]|\d\d)/gi;function Wc(e,t){var n=(t||"").match(e),i,r,o;return n===null?null:(i=n[n.length-1]||[],r=(i+"").match(y8)||["-",0,0],o=+(r[1]*60)+tt(r[2]),o===0?0:r[0]==="+"?o:-o)}function jc(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(qe(e)||Mo(e)?e.valueOf():Pt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),E.updateOffset(n,!1),n):Pt(e).local()}function sd(e){return-Math.round(e._d.getTimezoneOffset())}E.updateOffset=function(){};function w8(e,t,n){var i=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Wc(Ms,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(r=sd(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?U_(this,Ze(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,E.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:sd(this)}function C8(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function E8(e){return this.utcOffset(0,e)}function S8(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(sd(this),"m")),this}function R8(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Wc(GC,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function T8(e){return this.isValid()?(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function k8(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function I8(){if(!de(this._isDSTShifted))return this._isDSTShifted;var e={},t;return kc(e,this),e=z_(e),e._a?(t=e._isUTC?hn(e._a):Pt(e._a),this._isDSTShifted=this.isValid()&&b8(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function A8(){return this.isValid()?!this._isUTC:!1}function O8(){return this.isValid()?this._isUTC:!1}function j_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var P8=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,D8=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ze(e,t){var n=e,i=null,r,o,a;return ra(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:kn(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(i=P8.exec(e))?(r=i[1]==="-"?-1:1,n={y:0,d:tt(i[nn])*r,h:tt(i[Bt])*r,m:tt(i[Ue])*r,s:tt(i[wn])*r,ms:tt(ad(i[gi]*1e3))*r}):(i=D8.exec(e))?(r=i[1]==="-"?-1:1,n={y:di(i[2],r),M:di(i[3],r),w:di(i[4],r),d:di(i[5],r),h:di(i[6],r),m:di(i[7],r),s:di(i[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=N8(Pt(n.from),Pt(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),o=new zs(n),ra(e)&&ct(e,"_locale")&&(o._locale=e._locale),ra(e)&&ct(e,"_isValid")&&(o._isValid=e._isValid),o}Ze.fn=zs.prototype;Ze.invalid=v8;function di(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Uu(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function N8(e,t){var n;return e.isValid()&&t.isValid()?(t=jc(t,e),e.isBefore(t)?n=Uu(e,t):(n=Uu(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function B_(e,t){return function(n,i){var r,o;return i!==null&&!isNaN(+i)&&(g_(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),r=Ze(n,i),U_(this,r,e),this}}function U_(e,t,n,i){var r=t._milliseconds,o=ad(t._days),a=ad(t._months);!e.isValid()||(i=i==null?!0:i,a&&T_(e,Ya(e,"Month")+a*n),o&&b_(e,"Date",Ya(e,"Date")+o*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&E.updateOffset(e,o||a))}var M8=B_(1,"add"),F8=B_(-1,"subtract");function H_(e){return typeof e=="string"||e instanceof String}function L8(e){return qe(e)||Mo(e)||H_(e)||kn(e)||Y8(e)||z8(e)||e===null||e===void 0}function z8(e){var t=Ei(e)&&!Rc(e),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,o,a=i.length;for(r=0;r<a;r+=1)o=i[r],n=n||ct(e,o);return t&&n}function Y8(e){var t=Ke(e),n=!1;return t&&(n=e.filter(function(i){return!kn(i)&&H_(e)}).length===0),t&&n}function $8(e){var t=Ei(e)&&!Rc(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,o;for(r=0;r<i.length;r+=1)o=i[r],n=n||ct(e,o);return t&&n}function W8(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function j8(e,t){arguments.length===1&&(arguments[0]?L8(arguments[0])?(e=arguments[0],t=void 0):$8(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Pt(),i=jc(n,this).startOf("day"),r=E.calendarFormat(this,i)||"sameElse",o=t&&(mn(t[r])?t[r].call(this,n):t[r]);return this.format(o||this.localeData().calendar(r,this,Pt(n)))}function B8(){return new Fo(this)}function U8(e,t){var n=qe(e)?e:Pt(e);return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function H8(e,t){var n=qe(e)?e:Pt(e);return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function V8(e,t,n,i){var r=qe(e)?e:Pt(e),o=qe(t)?t:Pt(t);return this.isValid()&&r.isValid()&&o.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(i[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function G8(e,t){var n=qe(e)?e:Pt(e),i;return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function K8(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function q8(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Q8(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(i=jc(e,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,t=Le(t),t){case"year":o=oa(this,i)/12;break;case"month":o=oa(this,i);break;case"quarter":o=oa(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:Ie(o)}function oa(e,t){if(e.date()<t.date())return-oa(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(n,"months"),r,o;return t-i<0?(r=e.clone().add(n-1,"months"),o=(t-i)/(i-r)):(r=e.clone().add(n+1,"months"),o=(t-i)/(r-i)),-(n+o)||0}E.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";E.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function J8(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Z8(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ia(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):mn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ia(n,"Z")):ia(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function X8(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,i,r,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+i+r+o)}function tS(e){e||(e=this.isUtc()?E.defaultFormatUtc:E.defaultFormat);var t=ia(this,e);return this.localeData().postformat(t)}function eS(e,t){return this.isValid()&&(qe(e)&&e.isValid()||Pt(e).isValid())?Ze({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function nS(e){return this.from(Pt(),e)}function iS(e,t){return this.isValid()&&(qe(e)&&e.isValid()||Pt(e).isValid())?Ze({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function rS(e){return this.to(Pt(),e)}function V_(e){var t;return e===void 0?this._locale._abbr:(t=On(e),t!=null&&(this._locale=t),this)}var G_=Fe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function K_(){return this._locale}var ja=1e3,ir=60*ja,Ba=60*ir,q_=(365*400+97)*24*Ba;function rr(e,t){return(e%t+t)%t}function Q_(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-q_:new Date(e,t,n).valueOf()}function J_(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-q_:Date.UTC(e,t,n)}function oS(e){var t,n;if(e=Le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?J_:Q_,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=rr(t+(this._isUTC?0:this.utcOffset()*ir),Ba);break;case"minute":t=this._d.valueOf(),t-=rr(t,ir);break;case"second":t=this._d.valueOf(),t-=rr(t,ja);break}return this._d.setTime(t),E.updateOffset(this,!0),this}function aS(e){var t,n;if(e=Le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?J_:Q_,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ba-rr(t+(this._isUTC?0:this.utcOffset()*ir),Ba)-1;break;case"minute":t=this._d.valueOf(),t+=ir-rr(t,ir)-1;break;case"second":t=this._d.valueOf(),t+=ja-rr(t,ja)-1;break}return this._d.setTime(t),E.updateOffset(this,!0),this}function sS(){return this._d.valueOf()-(this._offset||0)*6e4}function lS(){return Math.floor(this.valueOf()/1e3)}function dS(){return new Date(this.valueOf())}function cS(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function pS(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function uS(){return this.isValid()?this.toISOString():null}function fS(){return Tc(this)}function hS(){return $n({},q(this))}function mS(){return q(this).overflow}function _S(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}$("N",0,0,"eraAbbr");$("NN",0,0,"eraAbbr");$("NNN",0,0,"eraAbbr");$("NNNN",0,0,"eraName");$("NNNNN",0,0,"eraNarrow");$("y",["y",1],"yo","eraYear");$("y",["yy",2],0,"eraYear");$("y",["yyy",3],0,"eraYear");$("y",["yyyy",4],0,"eraYear");M("N",Bc);M("NN",Bc);M("NNN",Bc);M("NNNN",TS);M("NNNNN",kS);_t(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?q(n).era=r:q(n).invalidEra=e});M("y",Tr);M("yy",Tr);M("yyy",Tr);M("yyyy",Tr);M("yo",IS);_t(["y","yy","yyy","yyyy"],ee);_t(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ee]=n._locale.eraYearOrdinalParse(e,r):t[ee]=parseInt(e,10)});function gS(e,t){var n,i,r,o=this._eras||On("en")._eras;for(n=0,i=o.length;n<i;++n){switch(typeof o[n].since){case"string":r=E(o[n].since).startOf("day"),o[n].since=r.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":r=E(o[n].until).startOf("day").valueOf(),o[n].until=r.valueOf();break}}return o}function xS(e,t,n){var i,r,o=this.eras(),a,s,l;for(e=e.toUpperCase(),i=0,r=o.length;i<r;++i)if(a=o[i].name.toUpperCase(),s=o[i].abbr.toUpperCase(),l=o[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return o[i];break;case"NNNN":if(a===e)return o[i];break;case"NNNNN":if(l===e)return o[i];break}else if([a,s,l].indexOf(e)>=0)return o[i]}function vS(e,t){var n=e.since<=e.until?1:-1;return t===void 0?E(e.since).year():E(e.since).year()+(t-e.offset)*n}function bS(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].name;return""}function yS(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].narrow;return""}function wS(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].abbr;return""}function CS(){var e,t,n,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=r[e].since<=r[e].until?1:-1,i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return(this.year()-E(r[e].since).year())*n+r[e].offset;return this.year()}function ES(e){return ct(this,"_erasNameRegex")||Uc.call(this),e?this._erasNameRegex:this._erasRegex}function SS(e){return ct(this,"_erasAbbrRegex")||Uc.call(this),e?this._erasAbbrRegex:this._erasRegex}function RS(e){return ct(this,"_erasNarrowRegex")||Uc.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bc(e,t){return t.erasAbbrRegex(e)}function TS(e,t){return t.erasNameRegex(e)}function kS(e,t){return t.erasNarrowRegex(e)}function IS(e,t){return t._eraYearOrdinalRegex||Tr}function Uc(){var e=[],t=[],n=[],i=[],r,o,a=this.eras();for(r=0,o=a.length;r<o;++r)t.push(ge(a[r].name)),e.push(ge(a[r].abbr)),n.push(ge(a[r].narrow)),i.push(ge(a[r].name)),i.push(ge(a[r].abbr)),i.push(ge(a[r].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}$(0,["gg",2],0,function(){return this.weekYear()%100});$(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ys(e,t){$(0,[e,e.length],0,t)}Ys("gggg","weekYear");Ys("ggggg","weekYear");Ys("GGGG","isoWeekYear");Ys("GGGGG","isoWeekYear");ne("weekYear","gg");ne("isoWeekYear","GG");ie("weekYear",1);ie("isoWeekYear",1);M("G",Ns);M("g",Ns);M("GG",Dt,Ee);M("gg",Dt,Ee);M("GGGG",Dc,Pc);M("gggg",Dc,Pc);M("GGGGG",Ds,Os);M("ggggg",Ds,Os);zo(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=tt(e)});zo(["gg","GG"],function(e,t,n,i){t[i]=E.parseTwoDigitYear(e)});function AS(e){return Z_.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function OS(e){return Z_.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function PS(){return En(this.year(),1,4)}function DS(){return En(this.isoWeekYear(),1,4)}function NS(){var e=this.localeData()._week;return En(this.year(),e.dow,e.doy)}function MS(){var e=this.localeData()._week;return En(this.weekYear(),e.dow,e.doy)}function Z_(e,t,n,i,r){var o;return e==null?wo(this,i,r).year:(o=En(e,i,r),t>o&&(t=o),FS.call(this,e,t,n,i,r))}function FS(e,t,n,i,r){var o=O_(e,t,n,i,r),a=yo(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}$("Q",0,"Qo","quarter");ne("quarter","Q");ie("quarter",7);M("Q",y_);_t("Q",function(e,t){t[yn]=(tt(e)-1)*3});function LS(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}$("D",["DD",2],"Do","date");ne("date","D");ie("date",9);M("D",Dt);M("DD",Dt,Ee);M("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});_t(["D","DD"],nn);_t("Do",function(e,t){t[nn]=tt(e.match(Dt)[0])});var X_=Rr("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear");ne("dayOfYear","DDD");ie("dayOfYear",4);M("DDD",Ps);M("DDDD",w_);_t(["DDD","DDDD"],function(e,t,n){n._dayOfYear=tt(e)});function zS(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}$("m",["mm",2],0,"minute");ne("minute","m");ie("minute",14);M("m",Dt);M("mm",Dt,Ee);_t(["m","mm"],Ue);var YS=Rr("Minutes",!1);$("s",["ss",2],0,"second");ne("second","s");ie("second",15);M("s",Dt);M("ss",Dt,Ee);_t(["s","ss"],wn);var $S=Rr("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)});$(0,["SS",2],0,function(){return~~(this.millisecond()/10)});$(0,["SSS",3],0,"millisecond");$(0,["SSSS",4],0,function(){return this.millisecond()*10});$(0,["SSSSS",5],0,function(){return this.millisecond()*100});$(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});$(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});$(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});$(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ne("millisecond","ms");ie("millisecond",16);M("S",Ps,y_);M("SS",Ps,Ee);M("SSS",Ps,w_);var Wn,tg;for(Wn="SSSS";Wn.length<=9;Wn+="S")M(Wn,Tr);function WS(e,t){t[gi]=tt(("0."+e)*1e3)}for(Wn="S";Wn.length<=9;Wn+="S")_t(Wn,WS);tg=Rr("Milliseconds",!1);$("z",0,0,"zoneAbbr");$("zz",0,0,"zoneName");function jS(){return this._isUTC?"UTC":""}function BS(){return this._isUTC?"Coordinated Universal Time":""}var R=Fo.prototype;R.add=M8;R.calendar=j8;R.clone=B8;R.diff=Q8;R.endOf=aS;R.format=tS;R.from=eS;R.fromNow=nS;R.to=iS;R.toNow=rS;R.get=HC;R.invalidAt=mS;R.isAfter=U8;R.isBefore=H8;R.isBetween=V8;R.isSame=G8;R.isSameOrAfter=K8;R.isSameOrBefore=q8;R.isValid=fS;R.lang=G_;R.locale=V_;R.localeData=K_;R.max=f8;R.min=u8;R.parsingFlags=hS;R.set=VC;R.startOf=oS;R.subtract=F8;R.toArray=cS;R.toObject=pS;R.toDate=dS;R.toISOString=Z8;R.inspect=X8;typeof Symbol!="undefined"&&Symbol.for!=null&&(R[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});R.toJSON=uS;R.toString=J8;R.unix=lS;R.valueOf=sS;R.creationData=_S;R.eraName=bS;R.eraNarrow=yS;R.eraAbbr=wS;R.eraYear=CS;R.year=A_;R.isLeapYear=pE;R.weekYear=AS;R.isoWeekYear=OS;R.quarter=R.quarters=LS;R.month=k_;R.daysInMonth=lE;R.week=R.weeks=gE;R.isoWeek=R.isoWeeks=xE;R.weeksInYear=NS;R.weeksInWeekYear=MS;R.isoWeeksInYear=PS;R.isoWeeksInISOWeekYear=DS;R.date=X_;R.day=R.days=OE;R.weekday=PE;R.isoWeekday=DE;R.dayOfYear=zS;R.hour=R.hours=$E;R.minute=R.minutes=YS;R.second=R.seconds=$S;R.millisecond=R.milliseconds=tg;R.utcOffset=w8;R.utc=E8;R.local=S8;R.parseZone=R8;R.hasAlignedHourOffset=T8;R.isDST=k8;R.isLocal=A8;R.isUtcOffset=O8;R.isUtc=j_;R.isUTC=j_;R.zoneAbbr=jS;R.zoneName=BS;R.dates=Fe("dates accessor is deprecated. Use date instead.",X_);R.months=Fe("months accessor is deprecated. Use month instead",k_);R.years=Fe("years accessor is deprecated. Use year instead",A_);R.zone=Fe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",C8);R.isDSTShifted=Fe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",I8);function US(e){return Pt(e*1e3)}function HS(){return Pt.apply(null,arguments).parseZone()}function eg(e){return e}var pt=Ic.prototype;pt.calendar=OC;pt.longDateFormat=MC;pt.invalidDate=LC;pt.ordinal=$C;pt.preparse=eg;pt.postformat=eg;pt.relativeTime=jC;pt.pastFuture=BC;pt.set=IC;pt.eras=gS;pt.erasParse=xS;pt.erasConvertYear=vS;pt.erasAbbrRegex=SS;pt.erasNameRegex=ES;pt.erasNarrowRegex=RS;pt.months=rE;pt.monthsShort=oE;pt.monthsParse=sE;pt.monthsRegex=cE;pt.monthsShortRegex=dE;pt.week=fE;pt.firstDayOfYear=_E;pt.firstDayOfWeek=mE;pt.weekdays=RE;pt.weekdaysMin=kE;pt.weekdaysShort=TE;pt.weekdaysParse=AE;pt.weekdaysRegex=NE;pt.weekdaysShortRegex=ME;pt.weekdaysMinRegex=FE;pt.isPM=zE;pt.meridiem=WE;function Ua(e,t,n,i){var r=On(),o=hn().set(i,t);return r[n](o,e)}function ng(e,t,n){if(kn(e)&&(t=e,e=void 0),e=e||"",t!=null)return Ua(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Ua(e,i,n,"month");return r}function Hc(e,t,n,i){typeof e=="boolean"?(kn(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,kn(t)&&(n=t,t=void 0),t=t||"");var r=On(),o=e?r._week.dow:0,a,s=[];if(n!=null)return Ua(t,(n+o)%7,i,"day");for(a=0;a<7;a++)s[a]=Ua(t,(a+o)%7,i,"day");return s}function VS(e,t){return ng(e,t,"months")}function GS(e,t){return ng(e,t,"monthsShort")}function KS(e,t,n){return Hc(e,t,n,"weekdays")}function qS(e,t,n){return Hc(e,t,n,"weekdaysShort")}function QS(e,t,n){return Hc(e,t,n,"weekdaysMin")}qn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=tt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});E.lang=Fe("moment.lang is deprecated. Use moment.locale instead.",qn);E.langData=Fe("moment.langData is deprecated. Use moment.localeData instead.",On);var gn=Math.abs;function JS(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this}function ig(e,t,n,i){var r=Ze(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function ZS(e,t){return ig(this,e,t,1)}function XS(e,t){return ig(this,e,t,-1)}function Hu(e){return e<0?Math.floor(e):Math.ceil(e)}function t3(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data,r,o,a,s,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=Hu(ld(n)+t)*864e5,t=0,n=0),i.milliseconds=e%1e3,r=Ie(e/1e3),i.seconds=r%60,o=Ie(r/60),i.minutes=o%60,a=Ie(o/60),i.hours=a%24,t+=Ie(a/24),l=Ie(rg(t)),n+=l,t-=Hu(ld(l)),s=Ie(n/12),n%=12,i.days=t,i.months=n,i.years=s,this}function rg(e){return e*4800/146097}function ld(e){return e*146097/4800}function e3(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if(e=Le(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+i/864e5,n=this._months+rg(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ld(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}function n3(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+tt(this._months/12)*31536e6:NaN}function Pn(e){return function(){return this.as(e)}}var i3=Pn("ms"),r3=Pn("s"),o3=Pn("m"),a3=Pn("h"),s3=Pn("d"),l3=Pn("w"),d3=Pn("M"),c3=Pn("Q"),p3=Pn("y");function u3(){return Ze(this)}function f3(e){return e=Le(e),this.isValid()?this[e+"s"]():NaN}function Li(e){return function(){return this.isValid()?this._data[e]:NaN}}var h3=Li("milliseconds"),m3=Li("seconds"),_3=Li("minutes"),g3=Li("hours"),x3=Li("days"),v3=Li("months"),b3=Li("years");function y3(){return Ie(this.days()/7)}var xn=Math.round,Qi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function w3(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function C3(e,t,n,i){var r=Ze(e).abs(),o=xn(r.as("s")),a=xn(r.as("m")),s=xn(r.as("h")),l=xn(r.as("d")),d=xn(r.as("M")),c=xn(r.as("w")),p=xn(r.as("y")),u=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(u=u||c<=1&&["w"]||c<n.w&&["ww",c]),u=u||d<=1&&["M"]||d<n.M&&["MM",d]||p<=1&&["y"]||["yy",p],u[2]=t,u[3]=+e>0,u[4]=i,w3.apply(null,u)}function E3(e){return e===void 0?xn:typeof e=="function"?(xn=e,!0):!1}function S3(e,t){return Qi[e]===void 0?!1:t===void 0?Qi[e]:(Qi[e]=t,e==="s"&&(Qi.ss=t-1),!0)}function R3(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Qi,r,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(i=Object.assign({},Qi,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),r=this.localeData(),o=C3(this,!n,i,r),n&&(o=r.pastFuture(+this,o)),r.postformat(o)}var fl=Math.abs;function Ui(e){return(e>0)-(e<0)||+e}function $s(){if(!this.isValid())return this.localeData().invalidDate();var e=fl(this._milliseconds)/1e3,t=fl(this._days),n=fl(this._months),i,r,o,a,s=this.asSeconds(),l,d,c,p;return s?(i=Ie(e/60),r=Ie(i/60),e%=60,i%=60,o=Ie(n/12),n%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",d=Ui(this._months)!==Ui(s)?"-":"",c=Ui(this._days)!==Ui(s)?"-":"",p=Ui(this._milliseconds)!==Ui(s)?"-":"",l+"P"+(o?d+o+"Y":"")+(n?d+n+"M":"")+(t?c+t+"D":"")+(r||i||e?"T":"")+(r?p+r+"H":"")+(i?p+i+"M":"")+(e?p+a+"S":"")):"P0D"}var at=zs.prototype;at.isValid=x8;at.abs=JS;at.add=ZS;at.subtract=XS;at.as=e3;at.asMilliseconds=i3;at.asSeconds=r3;at.asMinutes=o3;at.asHours=a3;at.asDays=s3;at.asWeeks=l3;at.asMonths=d3;at.asQuarters=c3;at.asYears=p3;at.valueOf=n3;at._bubble=t3;at.clone=u3;at.get=f3;at.milliseconds=h3;at.seconds=m3;at.minutes=_3;at.hours=g3;at.days=x3;at.weeks=y3;at.months=v3;at.years=b3;at.humanize=R3;at.toISOString=$s;at.toString=$s;at.toJSON=$s;at.locale=V_;at.localeData=K_;at.toIsoString=Fe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$s);at.lang=G_;$("X",0,0,"unix");$("x",0,0,"valueOf");M("x",Ns);M("X",KC);_t("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});_t("x",function(e,t,n){n._d=new Date(tt(e))});//! moment.js
E.version="2.29.3";TC(Pt);E.fn=R;E.min=h8;E.max=m8;E.now=_8;E.utc=hn;E.unix=US;E.months=VS;E.isDate=Mo;E.locale=qn;E.invalid=Is;E.duration=Ze;E.isMoment=qe;E.weekdays=KS;E.parseZone=HS;E.localeData=On;E.isDuration=ra;E.monthsShort=GS;E.weekdaysMin=QS;E.defineLocale=Lc;E.updateLocale=HE;E.locales=VE;E.weekdaysShort=qS;E.normalizeUnits=Le;E.relativeTimeRounding=E3;E.relativeTimeThreshold=S3;E.calendarFormat=W8;E.prototype=R;E.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const T3={setup(e,t){const n=Er(),i=vr(),r=Qt(null),o=An.database();return{createRoom:()=>{if(!r.value)return alert("\u8ACB\u8F38\u5165\u623F\u865F");const l=o.ref(`/room/${r.value}`);l.once("value").then(function(d){if(d.val()){const c=E(d.val().play_A.lastConnect).isAfter(E().add(-2,"m")),p=E(d.val().play_B.lastConnect).isAfter(E().add(-2,"m"));if(c&&p)return alert("\u5DF2\u7D93\u5B58\u5728\u8A72\u623F\u9593\u56C9\uFF0C\u8ACB\u63DB\u4E00\u500B\u623F\u865F")}l.set({play_A:{join:!0,select:null,lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")},play_B:{join:!1,select:null,lastConnect:null}}).then(()=>{n.commit("setLinkedRoom",r.value),n.commit("setRole","play_A"),setInterval(()=>{o.ref(`/room/${r.value}/play_A`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/zh-tw/gameRoom")})})},createRoomId:r,close:()=>t.emit("close")}}},k3={class:"overlay"},I3={class:"popup"},A3={class:"createRoom"},O3=C("h2",{class:"mb_16"},"\u5275\u5EFA\u623F\u9593",-1);function P3(e,t,n,i,r,o){return ut(),St("div",k3,[C("div",I3,[C("div",{class:"close",onClick:t[0]||(t[0]=(...a)=>i.close&&i.close(...a))},"X"),C("div",A3,[O3,Jn(C("input",{type:"phone",placeholder:"\u8ACB\u81EA\u8A02\u623F\u9593ID","onUpdate:modelValue":t[1]||(t[1]=a=>i.createRoomId=a)},null,512),[[es,i.createRoomId]]),C("div",{class:"btn mt_16 mb_12",onClick:t[2]||(t[2]=(...a)=>i.createRoom&&i.createRoom(...a))},"\u5275\u5EFA")])])])}var D3=fn(T3,[["render",P3]]);const N3={setup(e,t){const n=Er(),i=vr(),r=Qt(null),o=An.database();return{joinRoom:()=>{if(!r.value)return alert("\u8ACB\u8F38\u5165\u623F\u865F");o.ref(`/room/${r.value}`).once("value").then(d=>{const c=d.val();if(!c)return alert("\u8A72\u623F\u9593\u4E0D\u5B58\u5728\u5594");if(!c.play_B.lastConnect||E(c.play_B.lastConnect).isBefore(E().add(-2,"m")))n.commit("setRole","play_B");else if(!c.play_A.lastConnect||E(c.play_A.lastConnect).isBefore(E().add(-2,"m")))n.commit("setRole","play_A");else return alert("\u8A72\u623F\u9593\u4EBA\u6578\u5DF2\u984D\u6EFF");n.commit("setLinkedRoom",r.value),o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm"),join:!0}).then(()=>{setInterval(()=>{o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/zh-tw/gameRoom")})})},joinRoomId:r,close:()=>t.emit("close")}}},M3={class:"overlay"},F3={class:"popup"},L3={class:"joinRoom"},z3=C("h2",{class:"mb_16"},"\u52A0\u5165\u623F\u9593",-1);function Y3(e,t,n,i,r,o){return ut(),St("div",M3,[C("div",F3,[C("div",{class:"close",onClick:t[0]||(t[0]=(...a)=>i.close&&i.close(...a))},"X"),C("div",L3,[z3,Jn(C("input",{type:"phone",placeholder:"\u8ACB\u8F38\u5165\u623F\u9593ID","onUpdate:modelValue":t[1]||(t[1]=a=>i.joinRoomId=a)},null,512),[[es,i.joinRoomId]]),C("div",{class:"btn mt_16 mb_12",onClick:t[2]||(t[2]=(...a)=>i.joinRoom&&i.joinRoom(...a))},"\u52A0\u5165")])])])}var $3=fn(N3,[["render",Y3]]);const W3={components:{CreateRoom:D3,JoinRoom:$3},setup(){Md({title:"\u7DDA\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u982D\u5E03",meta:[{name:"og:title",content:"\u7DDA\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u982D\u5E03"},{name:"og:description",content:"\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u731C\u62F3\u904A\u6232\u3002"},{name:"description",content:"\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u731C\u62F3\u904A\u6232\u3002"},{name:"twitter:title",content:"\u7DDA\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u982D\u5E03"},{name:"twitter:description",content:"\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u731C\u62F3\u904A\u6232\u3002"}]});const e=Qt(!1),t=Qt(!1);return{openCreateRoom:e,openJoinRoom:t}}},kr=e=>(Eo("data-v-9f5de54c"),e=e(),So(),e),j3={id:"EnterPage"},B3=kr(()=>C("h1",null,"\u7DDA\u4E0A\u731C\u62F3",-1)),U3={class:"btn_group"},H3=kr(()=>C("div",null,"\u5275\u5EFA\u623F\u9593+",-1)),V3=kr(()=>C("div",{class:"btn--secondaryTitle"},null,-1)),G3=[H3,V3],K3=kr(()=>C("div",null,"\u52A0\u5165\u623F\u9593",-1)),q3=kr(()=>C("div",{class:"btn--secondaryTitle"},null,-1)),Q3=[K3,q3],J3=kr(()=>C("div",{class:"footer"},null,-1));function Z3(e,t,n,i,r,o){const a=ar("CreateRoom"),s=ar("JoinRoom");return ut(),St("div",j3,[B3,C("div",U3,[C("div",{class:"btn",onClick:t[0]||(t[0]=l=>i.openCreateRoom=!0)},G3),C("div",{class:"btn",onClick:t[1]||(t[1]=l=>i.openJoinRoom=!0)},Q3)]),J3,i.openCreateRoom?(ut(),ro(a,{key:0,onClose:t[2]||(t[2]=l=>i.openCreateRoom=!1)})):ha("",!0),i.openJoinRoom?(ut(),ro(s,{key:1,onClose:t[3]||(t[3]=l=>i.openJoinRoom=!1)})):ha("",!0)])}var X3=fn(W3,[["render",Z3],["__scopeId","data-v-9f5de54c"]]),og="/Rock-Paper-Scissors-Online/assets/\u526A\u5200.3781ad54.png",ag="/Rock-Paper-Scissors-Online/assets/\u77F3\u982D.401cfcbe.png",sg="/Rock-Paper-Scissors-Online/assets/\u5E03.2b9332b0.png";const Vu=[{name:"\u526A\u5200",img:og,color:"#86bebb",en:"Scissors"},{name:"\u77F3\u982D",img:ag,color:"#e0808b",en:"Rock"},{name:"\u5E03",img:sg,color:"#84bc7f",en:"Paper"}],t6={setup(){const e=Er(),t=vr(),n=An.database(),i=sn({name:"",img:"",color:"",en:""}),r=sn({name:"",img:"",color:"",en:""}),o=Qt(!1),a=Qt(!1),s=Qt(""),l=["\u4F60\u8D0F\u4E86","\u4F60\u8F38\u4E86","\u5E73\u624B"];e.state.linkedRoom||t.replace("/zh-tw");const d=()=>{let h=i.name,_=r.name;switch(h){case"\u526A\u5200":_=="\u526A\u5200"&&(s.value=l[2]),_=="\u77F3\u982D"&&(s.value=l[1]),_=="\u5E03"&&(s.value=l[0]);break;case"\u77F3\u982D":_=="\u526A\u5200"&&(s.value=l[0]),_=="\u77F3\u982D"&&(s.value=l[2]),_=="\u5E03"&&(s.value=l[1]);break;case"\u5E03":_=="\u526A\u5200"&&(s.value=l[1]),_=="\u77F3\u982D"&&(s.value=l[0]),_=="\u5E03"&&(s.value=l[2]);break}a.value=!1};e.state.linkedRoom&&n.ref(`/room/${e.state.linkedRoom}/`).on("value",h=>{var O,g,v,P;let _=h.val();if(((O=_.play_A)==null?void 0:O.join)&&((g=_.play_B)==null?void 0:g.join)&&(o.value=!0),((v=_.play_A)==null?void 0:v.select)&&((P=_.play_B)==null?void 0:P.select)){const F=e.state.role==="play_A"?"play_B":"play_A",Y=_[F].select,V=Vu.find(Q=>Q.name==Y);V&&(r.name=V.name,r.img=V.img,r.color=V.color,r.en=V.en,d())}});const c=h=>{i.name=h.name,i.img=h.img,i.color=h.color,i.en=h.en,a.value=!0,n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:h.name,join:!1})},p=()=>{i.name="",i.img="",i.color="",i.en="",r.name="",r.img="",r.color="",r.en="",o.value=!1,s.value="",n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:null,join:!0})},u=We(()=>e.state.linkedRoom);return{selectHandler:c,selectList:Vu,selected:i,startGame:o,waiting:a,roomId:u,opponentSelected:r,result:s,again:p}}},Yo=e=>(Eo("data-v-053c1447"),e=e(),So(),e),e6={class:"wrap"},n6={class:"roomId"},i6={class:"container"},r6={class:"player self"},o6={class:"box"},a6=["src"],s6={key:1},l6=Yo(()=>C("h2",null," \u81EA\u5DF1 ",-1)),d6=Yo(()=>C("div",{class:"vs"},"VS",-1)),c6={class:"player other"},p6={class:"box"},u6=["src"],f6={key:1},h6=Yo(()=>C("h2",null,"\u5C0D\u624B",-1)),m6={key:0,class:"select"},_6=Yo(()=>C("div",{class:"select_title"},"\u9078\u64C7\u51FA\u62F3",-1)),g6={class:"group"},x6=["onClick"],v6=["src"],b6={key:1,class:"result"},y6={class:"result_title"},w6=Yo(()=>C("div",{class:"space"},null,-1)),C6={class:"loading"},E6={class:"loading"};function S6(e,t,n,i,r,o){return ut(),St("div",e6,[C("div",n6,"\u623F\u865F\uFF1A"+ke(i.roomId),1),C("div",i6,[C("div",r6,[C("div",o6,[i.selected.name?(ut(),St("div",{key:0,class:"selectItem",style:rn({backgroundColor:i.selected.color})},[C("figure",null,[C("img",{src:i.selected.img,alt:""},null,8,a6),C("figcaption",null,[Rn(ke(i.selected.name)+" ",1),C("span",null,ke(i.selected.en),1)])])],4)):(ut(),St("div",s6,"?"))]),l6]),d6,C("div",c6,[C("div",p6,[i.opponentSelected.name?(ut(),St("div",{key:0,class:"selectItem",style:rn({backgroundColor:i.opponentSelected.color})},[C("figure",null,[C("img",{src:i.opponentSelected.img,alt:""},null,8,u6),C("figcaption",null,ke(i.opponentSelected.name),1)])],4)):(ut(),St("div",f6,"?"))]),h6])]),i.result?(ut(),St("div",b6,[C("div",y6,ke(i.result),1),C("div",{class:"refreshBtn",onClick:t[0]||(t[0]=a=>i.again())},"\u518D\u4F86\u4E00\u6B21\uFF01")])):(ut(),St("div",m6,[_6,C("div",g6,[(ut(!0),St(_e,null,Kf(i.selectList,a=>(ut(),St("div",{class:"selectItem",style:rn({backgroundColor:a.color}),key:a.name,onClick:s=>i.selectHandler(a)},[C("figure",null,[C("img",{src:a.img,alt:""},null,8,v6),C("figcaption",null,ke(a.name),1)])],12,x6))),128))])])),w6,Jn(C("div",C6,"\u7B49\u5F85\u5C0D\u624B\u52A0\u5165\u4E2D...",512),[[xa,!i.startGame]]),Jn(C("div",E6,"\u7B49\u5F85\u5C0D\u624B\u51FA\u62F3...",512),[[xa,i.waiting]])])}var R6=fn(t6,[["render",S6],["__scopeId","data-v-053c1447"]]);const T6={setup(e,t){const n=Er(),i=vr(),r=Qt(null),o=An.database();return{createRoom:()=>{if(!r.value)return alert("input room id pleace!");const l=o.ref(`/room/${r.value}`);l.once("value").then(function(d){if(d.val()){const c=E(d.val().play_A.lastConnect).isAfter(E().add(-2,"m")),p=E(d.val().play_B.lastConnect).isAfter(E().add(-2,"m"));if(c&&p)return alert("This room already exists, please change the room id")}l.set({play_A:{join:!0,select:null,lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")},play_B:{join:!1,select:null,lastConnect:null}}).then(()=>{n.commit("setLinkedRoom",r.value),n.commit("setRole","play_A"),setInterval(()=>{o.ref(`/room/${r.value}/play_A`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/en-us/gameRoom")})})},createRoomId:r,close:()=>t.emit("close")}}},k6={class:"overlay"},I6={class:"popup"},A6={class:"createRoom"},O6=C("h2",{class:"mb_16"},"Create Room",-1);function P6(e,t,n,i,r,o){return ut(),St("div",k6,[C("div",I6,[C("div",{class:"close",onClick:t[0]||(t[0]=(...a)=>i.close&&i.close(...a))},"X"),C("div",A6,[O6,Jn(C("input",{type:"phone",placeholder:"Create Room ID","onUpdate:modelValue":t[1]||(t[1]=a=>i.createRoomId=a)},null,512),[[es,i.createRoomId]]),C("div",{class:"btn mt_16 mb_12",onClick:t[2]||(t[2]=(...a)=>i.createRoom&&i.createRoom(...a))},"Go!")])])])}var D6=fn(T6,[["render",P6]]);const N6={setup(e,t){const n=Er(),i=vr(),r=Qt(null),o=An.database();return{joinRoom:()=>{if(!r.value)return alert("input room id pleace!");o.ref(`/room/${r.value}`).once("value").then(d=>{const c=d.val();if(!c)return alert("This room doesn't exist");if(!c.play_B.lastConnect||E(c.play_B.lastConnect).isBefore(E().add(-2,"m")))n.commit("setRole","play_B");else if(!c.play_A.lastConnect||E(c.play_A.lastConnect).isBefore(E().add(-2,"m")))n.commit("setRole","play_A");else return alert("The room is full");n.commit("setLinkedRoom",r.value),o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm"),join:!0}).then(()=>{setInterval(()=>{o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/en-us/gameRoom")})})},joinRoomId:r,close:()=>t.emit("close")}}},M6={class:"overlay"},F6={class:"popup"},L6={class:"joinRoom"},z6=C("h2",{class:"mb_16"},"Join Room",-1);function Y6(e,t,n,i,r,o){return ut(),St("div",M6,[C("div",F6,[C("div",{class:"close",onClick:t[0]||(t[0]=(...a)=>i.close&&i.close(...a))},"X"),C("div",L6,[z6,Jn(C("input",{type:"phone",placeholder:"Join Room ID","onUpdate:modelValue":t[1]||(t[1]=a=>i.joinRoomId=a)},null,512),[[es,i.joinRoomId]]),C("div",{class:"btn mt_16 mb_12",onClick:t[2]||(t[2]=(...a)=>i.joinRoom&&i.joinRoom(...a))},"Go!")])])])}var $6=fn(N6,[["render",Y6]]);const W6={components:{CreateRoom:D6,JoinRoom:$6},setup(){Md({title:"Rock Paper Scissors Online",meta:[{name:"og:title",content:"Rock Paper Scissors Online"},{name:"og:description",content:"Free real-time game of Rock Paper Scissors, you can create an independent room to play games remotely."},{name:"description",content:"Free real-time game of Rock Paper Scissors, you can create an independent room to play games remotely."},{name:"twitter:title",content:"Rock Paper Scissors Online"},{name:"twitter:description",content:"Free real-time game of Rock Paper Scissors, you can create an independent room to play games remotely."}]});const e=Qt(!1),t=Qt(!1);return{openCreateRoom:e,openJoinRoom:t}}},Ws=e=>(Eo("data-v-ff842e74"),e=e(),So(),e),j6={id:"EnterPage"},B6=Ws(()=>C("h1",null,[Rn(" Rock Paper Scissors"),C("br",{class:"hidden-pad-up"})],-1)),U6={class:"btn_group"},H6=Ws(()=>C("div",null,"Create Room +",-1)),V6=[H6],G6=Ws(()=>C("div",null,"Join Room",-1)),K6=[G6],q6=Ws(()=>C("div",{class:"footer"},null,-1));function Q6(e,t,n,i,r,o){const a=ar("CreateRoom"),s=ar("JoinRoom");return ut(),St("div",j6,[B6,C("div",U6,[C("div",{class:"btn",onClick:t[0]||(t[0]=l=>i.openCreateRoom=!0)},V6),C("div",{class:"btn",onClick:t[1]||(t[1]=l=>i.openJoinRoom=!0)},K6)]),q6,i.openCreateRoom?(ut(),ro(a,{key:0,onClose:t[2]||(t[2]=l=>i.openCreateRoom=!1)})):ha("",!0),i.openJoinRoom?(ut(),ro(s,{key:1,onClose:t[3]||(t[3]=l=>i.openJoinRoom=!1)})):ha("",!0)])}var J6=fn(W6,[["render",Q6],["__scopeId","data-v-ff842e74"]]);const Gu=[{name:"\u526A\u5200",img:og,color:"#86bebb",en:"Scissors"},{name:"\u77F3\u982D",img:ag,color:"#e0808b",en:"Rock"},{name:"\u5E03",img:sg,color:"#84bc7f",en:"Paper"}],Z6={setup(){const e=Er(),t=vr(),n=An.database(),i=sn({name:"",img:"",color:"",en:""}),r=sn({name:"",img:"",color:"",en:""}),o=Qt(!1),a=Qt(!1),s=Qt(""),l=["Win","Lose","Draw"];e.state.linkedRoom||t.replace("/en-us");const d=()=>{let h=i.name,_=r.name;switch(h){case"\u526A\u5200":_=="\u526A\u5200"&&(s.value=l[2]),_=="\u77F3\u982D"&&(s.value=l[1]),_=="\u5E03"&&(s.value=l[0]);break;case"\u77F3\u982D":_=="\u526A\u5200"&&(s.value=l[0]),_=="\u77F3\u982D"&&(s.value=l[2]),_=="\u5E03"&&(s.value=l[1]);break;case"\u5E03":_=="\u526A\u5200"&&(s.value=l[1]),_=="\u77F3\u982D"&&(s.value=l[0]),_=="\u5E03"&&(s.value=l[2]);break}a.value=!1};e.state.linkedRoom&&n.ref(`/room/${e.state.linkedRoom}/`).on("value",h=>{var O,g,v,P;let _=h.val();if(((O=_.play_A)==null?void 0:O.join)&&((g=_.play_B)==null?void 0:g.join)&&(o.value=!0),((v=_.play_A)==null?void 0:v.select)&&((P=_.play_B)==null?void 0:P.select)){const F=e.state.role==="play_A"?"play_B":"play_A",Y=_[F].select,V=Gu.find(Q=>Q.name==Y);V&&(r.name=V.name,r.img=V.img,r.color=V.color,r.en=V.en,d())}});const c=h=>{i.name=h.name,i.img=h.img,i.color=h.color,i.en=h.en,a.value=!0,n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:h.name,join:!1})},p=()=>{i.name="",i.img="",i.color="",i.en="",r.name="",r.img="",r.color="",r.en="",o.value=!1,s.value="",n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:null,join:!0})},u=We(()=>e.state.linkedRoom);return{selectHandler:c,selectList:Gu,selected:i,startGame:o,waiting:a,roomId:u,opponentSelected:r,result:s,again:p}}},$o=e=>(Eo("data-v-b87d4860"),e=e(),So(),e),X6={class:"wrap"},t5={class:"roomId"},e5={class:"container"},n5={class:"player self"},i5={class:"box"},r5=["src"],o5={key:1},a5=$o(()=>C("h2",null,"You",-1)),s5=$o(()=>C("div",{class:"vs"},"VS",-1)),l5={class:"player other"},d5={class:"box"},c5=["src"],p5={key:1},u5=$o(()=>C("h2",null,"Opponent",-1)),f5={key:0,class:"select"},h5=$o(()=>C("div",{class:"select_title"},"Choose",-1)),m5={class:"group"},_5=["onClick"],g5=["src"],x5={key:1,class:"result"},v5={class:"result_title"},b5=$o(()=>C("div",{class:"space"},null,-1)),y5={class:"loading"},w5={class:"loading"};function C5(e,t,n,i,r,o){return ut(),St("div",X6,[C("div",t5,"Room ID\uFF1A"+ke(i.roomId),1),C("div",e5,[C("div",n5,[C("div",i5,[i.selected.name?(ut(),St("div",{key:0,class:"selectItem",style:rn({backgroundColor:i.selected.color})},[C("figure",null,[C("img",{src:i.selected.img,alt:""},null,8,r5),C("figcaption",null,ke(i.selected.en),1)])],4)):(ut(),St("div",o5,"?"))]),a5]),s5,C("div",l5,[C("div",d5,[i.opponentSelected.name?(ut(),St("div",{key:0,class:"selectItem",style:rn({backgroundColor:i.opponentSelected.color})},[C("figure",null,[C("img",{src:i.opponentSelected.img,alt:""},null,8,c5),C("figcaption",null,[Rn(ke(i.opponentSelected.name)+" ",1),C("span",null,ke(i.opponentSelected.en),1)])])],4)):(ut(),St("div",p5,"?"))]),u5])]),i.result?(ut(),St("div",x5,[C("div",v5,ke(i.result),1),C("div",{class:"refreshBtn",onClick:t[0]||(t[0]=a=>i.again())},"Play Again\uFF01")])):(ut(),St("div",f5,[h5,C("div",m5,[(ut(!0),St(_e,null,Kf(i.selectList,a=>(ut(),St("div",{class:"selectItem",style:rn({backgroundColor:a.color}),key:a.name,onClick:s=>i.selectHandler(a)},[C("figure",null,[C("img",{src:a.img,alt:""},null,8,g5),C("figcaption",null,ke(a.en),1)])],12,_5))),128))])])),b5,Jn(C("div",y5,"Waiting Opponent Join...",512),[[xa,!i.startGame]]),Jn(C("div",w5,"Waiting Opponent Choose...",512),[[xa,i.waiting]])])}var E5=fn(Z6,[["render",C5],["__scopeId","data-v-b87d4860"]]);const S5=[{path:"/",name:"Index",component:RC},{path:"/zh-tw",name:"Enter",component:X3},{path:"/zh-tw/gameRoom",name:"Gameroom",component:R6},{path:"/en-us",name:"EnterUS",component:J6},{path:"/en-us/gameRoom",name:"GameroomUS",component:E5},{path:"/:pathMatch(.*)*",redirect:{path:"/"}}];uv(rC,{routes:S5,base:"/Rock-Paper-Scissors-Online/"},({app:e,router:t,routes:n,isClient:i,initialState:r})=>{Object.values({}).map(o=>{var a;return(a=o.install)==null?void 0:a.call(o,e)}),e.use(gC),e.config.performance=!1,Object.values({}).map(o=>{var a;return(a=o.install)==null?void 0:a.call(o,e)})})});export default R5();
