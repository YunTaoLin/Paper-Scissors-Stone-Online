var o_=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ER=o_((RR,ro)=>{const s_=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};s_();function l_(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const d_=()=>{},c_=Object.assign,p_=Object.prototype.hasOwnProperty,Uo=(e,t)=>p_.call(e,t),Wn=Array.isArray,Ja=e=>Gu(e)==="[object Map]",u_=e=>typeof e=="function",f_=e=>typeof e=="string",dd=e=>typeof e=="symbol",Ho=e=>e!==null&&typeof e=="object",h_=Object.prototype.toString,Gu=e=>h_.call(e),m_=e=>Gu(e).slice(8,-1),cd=e=>f_(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pd=(e,t)=>!Object.is(e,t),g_=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let di;const Ba=[];class __{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&di&&(this.parent=di,this.index=(di.scopes||(di.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(Ba.push(this),di=this)}off(){this.active&&(Ba.pop(),di=Ba[Ba.length-1])}stop(t){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function x_(e,t){t=t||di,t&&t.active&&t.effects.push(e)}const ud=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ku=e=>(e.w&qn)>0,qu=e=>(e.n&qn)>0,v_=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=qn},b_=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];Ku(r)&&!qu(r)?r.delete(e):t[n++]=r,r.w&=~qn,r.n&=~qn}t.length=n}},ml=new WeakMap;let Wr=0,qn=1;const gl=30,Ar=[];let _i;const xi=Symbol(""),_l=Symbol("");class fd{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],x_(this,i)}run(){if(!this.active)return this.fn();if(!Ar.includes(this))try{return Ar.push(_i=this),y_(),qn=1<<++Wr,Wr<=gl?v_(this):Kc(this),this.fn()}finally{Wr<=gl&&b_(this),qn=1<<--Wr,Oi(),Ar.pop();const t=Ar.length;_i=t>0?Ar[t-1]:void 0}}stop(){this.active&&(Kc(this),this.onStop&&this.onStop(),this.active=!1)}}function Kc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let or=!0;const hd=[];function _r(){hd.push(or),or=!1}function y_(){hd.push(or),or=!0}function Oi(){const e=hd.pop();or=e===void 0?!0:e}function ye(e,t,n){if(!Qu())return;let i=ml.get(e);i||ml.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=ud()),Ju(r)}function Qu(){return or&&_i!==void 0}function Ju(e,t){let n=!1;Wr<=gl?qu(e)||(e.n|=qn,n=!Ku(e)):n=!e.has(_i),n&&(e.add(_i),_i.deps.push(e))}function Sn(e,t,n,i,r,a){const o=ml.get(e);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(n==="length"&&Wn(e))o.forEach((l,d)=>{(d==="length"||d>=i)&&s.push(l)});else switch(n!==void 0&&s.push(o.get(n)),t){case"add":Wn(e)?cd(n)&&s.push(o.get("length")):(s.push(o.get(xi)),Ja(e)&&s.push(o.get(_l)));break;case"delete":Wn(e)||(s.push(o.get(xi)),Ja(e)&&s.push(o.get(_l)));break;case"set":Ja(e)&&s.push(o.get(xi));break}if(s.length===1)s[0]&&xl(s[0]);else{const l=[];for(const d of s)d&&l.push(...d);xl(ud(l))}}function xl(e,t){for(const n of Wn(e)?e:[...e])(n!==_i||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const w_=l_("__proto__,__v_isRef,__isVue"),Zu=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(dd)),C_=md(),E_=md(!1,!0),S_=md(!0),qc=R_();function R_(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=ft(this);for(let a=0,o=this.length;a<o;a++)ye(i,"get",a+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(ft)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){_r();const i=ft(this)[t].apply(this,n);return Oi(),i}}),e}function md(e=!1,t=!1){return function(i,r,a){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_raw"&&a===(e?t?j_:rf:t?nf:ef).get(i))return i;const o=Wn(i);if(!e&&o&&Uo(qc,r))return Reflect.get(qc,r,a);const s=Reflect.get(i,r,a);return(dd(r)?Zu.has(r):w_(r))||(e||ye(i,"get",r),t)?s:se(s)?!o||!cd(r)?s.value:s:Ho(s)?e?af(s):sn(s):s}}const T_=Xu(),k_=Xu(!0);function Xu(e=!1){return function(n,i,r,a){let o=n[i];if(!e&&!vd(r)&&(r=ft(r),o=ft(o),!Wn(n)&&se(o)&&!se(r)))return o.value=r,!0;const s=Wn(n)&&cd(i)?Number(i)<n.length:Uo(n,i),l=Reflect.set(n,i,r,a);return n===ft(a)&&(s?pd(r,o)&&Sn(n,"set",i,r):Sn(n,"add",i,r)),l}}function I_(e,t){const n=Uo(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Sn(e,"delete",t,void 0),i}function A_(e,t){const n=Reflect.has(e,t);return(!dd(t)||!Zu.has(t))&&ye(e,"has",t),n}function D_(e){return ye(e,"iterate",Wn(e)?"length":xi),Reflect.ownKeys(e)}const tf={get:C_,set:T_,deleteProperty:I_,has:A_,ownKeys:D_},O_={get:S_,set(e,t){return!0},deleteProperty(e,t){return!0}},P_=c_({},tf,{get:E_,set:k_}),gd=e=>e,Vo=e=>Reflect.getPrototypeOf(e);function Wa(e,t,n=!1,i=!1){e=e.__v_raw;const r=ft(e),a=ft(t);t!==a&&!n&&ye(r,"get",t),!n&&ye(r,"get",a);const{has:o}=Vo(r),s=i?gd:n?bd:na;if(o.call(r,t))return s(e.get(t));if(o.call(r,a))return s(e.get(a));e!==r&&e.get(t)}function ja(e,t=!1){const n=this.__v_raw,i=ft(n),r=ft(e);return e!==r&&!t&&ye(i,"has",e),!t&&ye(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function $a(e,t=!1){return e=e.__v_raw,!t&&ye(ft(e),"iterate",xi),Reflect.get(e,"size",e)}function Qc(e){e=ft(e);const t=ft(this);return Vo(t).has.call(t,e)||(t.add(e),Sn(t,"add",e,e)),this}function Jc(e,t){t=ft(t);const n=ft(this),{has:i,get:r}=Vo(n);let a=i.call(n,e);a||(e=ft(e),a=i.call(n,e));const o=r.call(n,e);return n.set(e,t),a?pd(t,o)&&Sn(n,"set",e,t):Sn(n,"add",e,t),this}function Zc(e){const t=ft(this),{has:n,get:i}=Vo(t);let r=n.call(t,e);r||(e=ft(e),r=n.call(t,e)),i&&i.call(t,e);const a=t.delete(e);return r&&Sn(t,"delete",e,void 0),a}function Xc(){const e=ft(this),t=e.size!==0,n=e.clear();return t&&Sn(e,"clear",void 0,void 0),n}function Ua(e,t){return function(i,r){const a=this,o=a.__v_raw,s=ft(o),l=t?gd:e?bd:na;return!e&&ye(s,"iterate",xi),o.forEach((d,c)=>i.call(r,l(d),l(c),a))}}function Ha(e,t,n){return function(...i){const r=this.__v_raw,a=ft(r),o=Ja(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,d=r[e](...i),c=n?gd:t?bd:na;return!t&&ye(a,"iterate",l?_l:xi),{next(){const{value:p,done:u}=d.next();return u?{value:p,done:u}:{value:s?[c(p[0]),c(p[1])]:c(p),done:u}},[Symbol.iterator](){return this}}}}function On(e){return function(...t){return e==="delete"?!1:this}}function N_(){const e={get(a){return Wa(this,a)},get size(){return $a(this)},has:ja,add:Qc,set:Jc,delete:Zc,clear:Xc,forEach:Ua(!1,!1)},t={get(a){return Wa(this,a,!1,!0)},get size(){return $a(this)},has:ja,add:Qc,set:Jc,delete:Zc,clear:Xc,forEach:Ua(!1,!0)},n={get(a){return Wa(this,a,!0)},get size(){return $a(this,!0)},has(a){return ja.call(this,a,!0)},add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear"),forEach:Ua(!0,!1)},i={get(a){return Wa(this,a,!0,!0)},get size(){return $a(this,!0)},has(a){return ja.call(this,a,!0)},add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear"),forEach:Ua(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Ha(a,!1,!1),n[a]=Ha(a,!0,!1),t[a]=Ha(a,!1,!0),i[a]=Ha(a,!0,!0)}),[e,n,t,i]}const[M_,F_,L_,z_]=N_();function _d(e,t){const n=t?e?z_:L_:e?F_:M_;return(i,r,a)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Uo(n,r)&&r in i?n:i,r,a)}const Y_={get:_d(!1,!1)},B_={get:_d(!1,!0)},W_={get:_d(!0,!1)},ef=new WeakMap,nf=new WeakMap,rf=new WeakMap,j_=new WeakMap;function $_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function U_(e){return e.__v_skip||!Object.isExtensible(e)?0:$_(m_(e))}function sn(e){return e&&e.__v_isReadonly?e:xd(e,!1,tf,Y_,ef)}function H_(e){return xd(e,!1,P_,B_,nf)}function af(e){return xd(e,!0,O_,W_,rf)}function xd(e,t,n,i,r){if(!Ho(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=r.get(e);if(a)return a;const o=U_(e);if(o===0)return e;const s=new Proxy(e,o===2?i:n);return r.set(e,s),s}function Zi(e){return vd(e)?Zi(e.__v_raw):!!(e&&e.__v_isReactive)}function vd(e){return!!(e&&e.__v_isReadonly)}function of(e){return Zi(e)||vd(e)}function ft(e){const t=e&&e.__v_raw;return t?ft(t):e}function sf(e){return g_(e,"__v_skip",!0),e}const na=e=>Ho(e)?sn(e):e,bd=e=>Ho(e)?af(e):e;function lf(e){Qu()&&(e=ft(e),e.dep||(e.dep=ud()),Ju(e.dep))}function df(e,t){e=ft(e),e.dep&&xl(e.dep)}function se(e){return Boolean(e&&e.__v_isRef===!0)}function Yt(e){return cf(e,!1)}function V_(e){return cf(e,!0)}function cf(e,t){return se(e)?e:new G_(e,t)}class G_{constructor(t,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ft(t),this._value=n?t:na(t)}get value(){return lf(this),this._value}set value(t){t=this._shallow?t:ft(t),pd(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:na(t),df(this))}}function $r(e){return se(e)?e.value:e}const K_={get:(e,t,n)=>$r(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return se(r)&&!se(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function pf(e){return Zi(e)?e:new Proxy(e,K_)}class q_{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new fd(t,()=>{this._dirty||(this._dirty=!0,df(this))}),this.effect.active=!r,this.__v_isReadonly=i}get value(){const t=ft(this);return lf(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function uf(e,t,n=!1){let i,r;const a=u_(e);return a?(i=e,r=d_):(i=e.get,r=e.set),new q_(i,r,a||!r,n)}Promise.resolve();function Q_(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function rn(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Pe(i)?X_(i):rn(i);if(r)for(const a in r)t[a]=r[a]}return t}else{if(Pe(e))return e;if(le(e))return e}}const J_=/;(?![^(]*\))/g,Z_=/:(.+)/;function X_(e){const t={};return e.split(J_).forEach(n=>{if(n){const i=n.split(Z_);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Pi(e){let t="";if(Pe(e))t=e;else if(dt(e))for(let n=0;n<e.length;n++){const i=Pi(e[n]);i&&(t+=i+" ")}else if(le(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const te=e=>e==null?"":dt(e)||le(e)&&(e.toString===xf||!nt(e.toString))?JSON.stringify(e,ff,2):String(e),ff=(e,t)=>t&&t.__v_isRef?ff(e,t.value):mf(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:gf(t)?{[`Set(${t.size})`]:[...t.values()]}:le(t)&&!dt(t)&&!vf(t)?String(t):t,bt={},Xi=[],an=()=>{},tx=()=>!1,ex=/^on[^a-z]/,Go=e=>ex.test(e),hf=e=>e.startsWith("onUpdate:"),we=Object.assign,yd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},nx=Object.prototype.hasOwnProperty,mt=(e,t)=>nx.call(e,t),dt=Array.isArray,mf=e=>wd(e)==="[object Map]",gf=e=>wd(e)==="[object Set]",nt=e=>typeof e=="function",Pe=e=>typeof e=="string",le=e=>e!==null&&typeof e=="object",_f=e=>le(e)&&nt(e.then)&&nt(e.catch),xf=Object.prototype.toString,wd=e=>xf.call(e),vf=e=>wd(e)==="[object Object]",Ur=Q_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ko=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ix=/-(\w)/g,ln=Ko(e=>e.replace(ix,(t,n)=>n?n.toUpperCase():"")),rx=/\B([A-Z])/g,qo=Ko(e=>e.replace(rx,"-$1").toLowerCase()),Cd=Ko(e=>e.charAt(0).toUpperCase()+e.slice(1)),Us=Ko(e=>e?`on${Cd(e)}`:""),tp=(e,t)=>!Object.is(e,t),Hs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},vl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ax=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ep;const ox=()=>ep||(ep=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function jn(e,t,n,i){let r;try{r=i?e(...i):e()}catch(a){Qo(a,t,n)}return r}function He(e,t,n,i){if(nt(e)){const a=jn(e,t,n,i);return a&&_f(a)&&a.catch(o=>{Qo(o,t,n)}),a}const r=[];for(let a=0;a<e.length;a++)r.push(He(e[a],t,n,i));return r}function Qo(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let a=t.parent;const o=t.proxy,s=n;for(;a;){const d=a.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](e,o,s)===!1)return}a=a.parent}const l=t.appContext.config.errorHandler;if(l){jn(l,null,10,[e,o,s]);return}}sx(e,n,r,i)}function sx(e,t,n,i=!0){console.error(e)}let ao=!1,bl=!1;const ve=[];let vn=0;const Hr=[];let jr=null,Vi=0;const Vr=[];let Nn=null,Gi=0;const bf=Promise.resolve();let Ed=null,yl=null;function yf(e){const t=Ed||bf;return e?t.then(this?e.bind(this):e):t}function lx(e){let t=vn+1,n=ve.length;for(;t<n;){const i=t+n>>>1;ia(ve[i])<e?t=i+1:n=i}return t}function wf(e){(!ve.length||!ve.includes(e,ao&&e.allowRecurse?vn+1:vn))&&e!==yl&&(e.id==null?ve.push(e):ve.splice(lx(e.id),0,e),Cf())}function Cf(){!ao&&!bl&&(bl=!0,Ed=bf.then(Sf))}function dx(e){const t=ve.indexOf(e);t>vn&&ve.splice(t,1)}function Ef(e,t,n,i){dt(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?i+1:i))&&n.push(e),Cf()}function cx(e){Ef(e,jr,Hr,Vi)}function px(e){Ef(e,Nn,Vr,Gi)}function Sd(e,t=null){if(Hr.length){for(yl=t,jr=[...new Set(Hr)],Hr.length=0,Vi=0;Vi<jr.length;Vi++)jr[Vi]();jr=null,Vi=0,yl=null,Sd(e,t)}}function oo(e){if(Vr.length){const t=[...new Set(Vr)];if(Vr.length=0,Nn){Nn.push(...t);return}for(Nn=t,Nn.sort((n,i)=>ia(n)-ia(i)),Gi=0;Gi<Nn.length;Gi++)Nn[Gi]();Nn=null,Gi=0}}const ia=e=>e.id==null?1/0:e.id;function Sf(e){bl=!1,ao=!0,Sd(e),ve.sort((n,i)=>ia(n)-ia(i));const t=an;try{for(vn=0;vn<ve.length;vn++){const n=ve[vn];n&&n.active!==!1&&jn(n,null,14)}}finally{vn=0,ve.length=0,oo(),ao=!1,Ed=null,(ve.length||Hr.length||Vr.length)&&Sf(e)}}function ux(e,t,...n){const i=e.vnode.props||bt;let r=n;const a=t.startsWith("update:"),o=a&&t.slice(7);if(o&&o in i){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:p,trim:u}=i[c]||bt;u?r=n.map(h=>h.trim()):p&&(r=n.map(ax))}let s,l=i[s=Us(t)]||i[s=Us(ln(t))];!l&&a&&(l=i[s=Us(qo(t))]),l&&He(l,e,6,r);const d=i[s+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,He(d,e,6,r)}}function Rf(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const a=e.emits;let o={},s=!1;if(!nt(e)){const l=d=>{const c=Rf(d,t,!0);c&&(s=!0,we(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(i.set(e,null),null):(dt(a)?a.forEach(l=>o[l]=null):we(o,a),i.set(e,o),o)}function Rd(e,t){return!e||!Go(t)?!1:(t=t.slice(2).replace(/Once$/,""),mt(e,t[0].toLowerCase()+t.slice(1))||mt(e,qo(t))||mt(e,t))}let je=null,Jo=null;function so(e){const t=je;return je=e,Jo=e&&e.type.__scopeId||null,t}function Zo(e){Jo=e}function Xo(){Jo=null}function fx(e,t=je,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&pp(-1);const a=so(t),o=e(...r);return so(a),i._d&&pp(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function Vs(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:a,propsOptions:[o],slots:s,attrs:l,emit:d,render:c,renderCache:p,data:u,setupState:h,ctx:g,inheritAttrs:D}=e;let _,v;const O=so(e);try{if(n.shapeFlag&4){const Y=r||i;_=Be(c.call(Y,Y,p,a,h,u,g)),v=l}else{const Y=t;_=Be(Y.length>1?Y(a,{attrs:l,slots:s,emit:d}):Y(a,null)),v=t.props?l:hx(l)}}catch(Y){Kr.length=0,Qo(Y,e,1),_=Xt(Jn)}let F=_;if(v&&D!==!1){const Y=Object.keys(v),{shapeFlag:V}=F;Y.length&&V&7&&(o&&Y.some(hf)&&(v=mx(v,o)),F=sa(F,v))}return n.dirs&&(F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),_=F,so(O),_}const hx=e=>{let t;for(const n in e)(n==="class"||n==="style"||Go(n))&&((t||(t={}))[n]=e[n]);return t},mx=(e,t)=>{const n={};for(const i in e)(!hf(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function gx(e,t,n){const{props:i,children:r,component:a}=e,{props:o,children:s,patchFlag:l}=t,d=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?np(i,o,d):!!o;if(l&8){const c=t.dynamicProps;for(let p=0;p<c.length;p++){const u=c[p];if(o[u]!==i[u]&&!Rd(d,u))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===o?!1:i?o?np(i,o,d):!0:!!o;return!1}function np(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(t[a]!==e[a]&&!Rd(n,a))return!0}return!1}function _x({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const xx=e=>e.__isSuspense;function Tf(e,t){t&&t.pendingBranch?dt(e)?t.effects.push(...e):t.effects.push(e):px(e)}function Za(e,t){if(Zt){let n=Zt.provides;const i=Zt.parent&&Zt.parent.provides;i===n&&(n=Zt.provides=Object.create(i)),n[e]=t}}function Ve(e,t,n=!1){const i=Zt||je;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&nt(t)?t.call(i.proxy):t}}function vx(e,t){return Td(e,null,t)}const ip={};function tr(e,t,n){return Td(e,t,n)}function Td(e,t,{immediate:n,deep:i,flush:r,onTrack:a,onTrigger:o}=bt){const s=Zt;let l,d=!1,c=!1;if(se(e)?(l=()=>e.value,d=!!e._shallow):Zi(e)?(l=()=>e,i=!0):dt(e)?(c=!0,d=e.some(Zi),l=()=>e.map(v=>{if(se(v))return v.value;if(Zi(v))return hi(v);if(nt(v))return jn(v,s,2)})):nt(e)?t?l=()=>jn(e,s,2):l=()=>{if(!(s&&s.isUnmounted))return p&&p(),He(e,s,3,[u])}:l=an,t&&i){const v=l;l=()=>hi(v())}let p,u=v=>{p=_.onStop=()=>{jn(v,s,4)}};if(la)return u=an,t?n&&He(t,s,3,[l(),c?[]:void 0,u]):l(),an;let h=c?[]:ip;const g=()=>{if(!!_.active)if(t){const v=_.run();(i||d||(c?v.some((O,F)=>tp(O,h[F])):tp(v,h)))&&(p&&p(),He(t,s,3,[v,h===ip?void 0:h,u]),h=v)}else _.run()};g.allowRecurse=!!t;let D;r==="sync"?D=g:r==="post"?D=()=>de(g,s&&s.suspense):D=()=>{!s||s.isMounted?cx(g):g()};const _=new fd(l,D);return t?n?g():h=_.run():r==="post"?de(_.run.bind(_),s&&s.suspense):_.run(),()=>{_.stop(),s&&s.scope&&yd(s.scope.effects,_)}}function bx(e,t,n){const i=this.proxy,r=Pe(e)?e.includes(".")?kf(i,e):()=>i[e]:e.bind(i,i);let a;nt(t)?a=t:(a=t.handler,n=t);const o=Zt;sr(this);const s=Td(r,a.bind(i),n);return o?sr(o):bi(),s}function kf(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function hi(e,t){if(!le(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),se(e))hi(e.value,t);else if(dt(e))for(let n=0;n<e.length;n++)hi(e[n],t);else if(gf(e)||mf(e))e.forEach(n=>{hi(n,t)});else if(vf(e))for(const n in e)hi(e[n],t);return e}function kd(e){return nt(e)?{setup:e,name:e.name}:e}const lo=e=>!!e.type.__asyncLoader,If=e=>e.type.__isKeepAlive;function yx(e,t){Af(e,"a",t)}function wx(e,t){Af(e,"da",t)}function Af(e,t,n=Zt){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ts(t,i,n),n){let r=n.parent;for(;r&&r.parent;)If(r.parent.vnode)&&Cx(i,t,n,r),r=r.parent}}function Cx(e,t,n,i){const r=ts(t,e,i,!0);Pf(()=>{yd(i[t],r)},n)}function ts(e,t,n=Zt,i=!1){if(n){const r=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;_r(),sr(n);const s=He(t,n,e,o);return bi(),Oi(),s});return i?r.unshift(a):r.push(a),a}}const kn=e=>(t,n=Zt)=>(!la||e==="sp")&&ts(e,t,n),Ex=kn("bm"),Df=kn("m"),Sx=kn("bu"),Rx=kn("u"),Of=kn("bum"),Pf=kn("um"),Tx=kn("sp"),kx=kn("rtg"),Ix=kn("rtc");function Ax(e,t=Zt){ts("ec",e,t)}let wl=!0;function Dx(e){const t=Mf(e),n=e.proxy,i=e.ctx;wl=!1,t.beforeCreate&&rp(t.beforeCreate,e,"bc");const{data:r,computed:a,methods:o,watch:s,provide:l,inject:d,created:c,beforeMount:p,mounted:u,beforeUpdate:h,updated:g,activated:D,deactivated:_,beforeDestroy:v,beforeUnmount:O,destroyed:F,unmounted:Y,render:V,renderTracked:Q,renderTriggered:K,errorCaptured:Tt,serverPrefetch:it,expose:kt,inheritAttrs:Bt,components:et,directives:Lt,filters:Ht}=t;if(d&&Ox(d,i,null,e.appContext.config.unwrapInjectedRef),o)for(const wt in o){const _t=o[wt];nt(_t)&&(i[wt]=_t.bind(n))}if(r){const wt=r.call(n,n);le(wt)&&(e.data=sn(wt))}if(wl=!0,a)for(const wt in a){const _t=a[wt],Re=nt(_t)?_t.bind(n,n):nt(_t.get)?_t.get.bind(n,n):an,Bi=!nt(_t)&&nt(_t.set)?_t.set.bind(n):an,gn=uf({get:Re,set:Bi});Object.defineProperty(i,wt,{enumerable:!0,configurable:!0,get:()=>gn.value,set:Xe=>gn.value=Xe})}if(s)for(const wt in s)Nf(s[wt],i,n,wt);if(l){const wt=nt(l)?l.call(n):l;Reflect.ownKeys(wt).forEach(_t=>{Za(_t,wt[_t])})}c&&rp(c,e,"c");function jt(wt,_t){dt(_t)?_t.forEach(Re=>wt(Re.bind(n))):_t&&wt(_t.bind(n))}if(jt(Ex,p),jt(Df,u),jt(Sx,h),jt(Rx,g),jt(yx,D),jt(wx,_),jt(Ax,Tt),jt(Ix,Q),jt(kx,K),jt(Of,O),jt(Pf,Y),jt(Tx,it),dt(kt))if(kt.length){const wt=e.exposed||(e.exposed={});kt.forEach(_t=>{Object.defineProperty(wt,_t,{get:()=>n[_t],set:Re=>n[_t]=Re})})}else e.exposed||(e.exposed={});V&&e.render===an&&(e.render=V),Bt!=null&&(e.inheritAttrs=Bt),et&&(e.components=et),Lt&&(e.directives=Lt)}function Ox(e,t,n=an,i=!1){dt(e)&&(e=Cl(e));for(const r in e){const a=e[r];let o;le(a)?"default"in a?o=Ve(a.from||r,a.default,!0):o=Ve(a.from||r):o=Ve(a),se(o)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function rp(e,t,n){He(dt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Nf(e,t,n,i){const r=i.includes(".")?kf(n,i):()=>n[i];if(Pe(e)){const a=t[e];nt(a)&&tr(r,a)}else if(nt(e))tr(r,e.bind(n));else if(le(e))if(dt(e))e.forEach(a=>Nf(a,t,n,i));else{const a=nt(e.handler)?e.handler.bind(n):t[e.handler];nt(a)&&tr(r,a,e)}}function Mf(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(d=>co(l,d,o,!0)),co(l,t,o)),a.set(t,l),l}function co(e,t,n,i=!1){const{mixins:r,extends:a}=t;a&&co(e,a,n,!0),r&&r.forEach(o=>co(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const s=Px[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const Px={data:ap,props:ci,emits:ci,methods:ci,computed:ci,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:ci,directives:ci,watch:Mx,provide:ap,inject:Nx};function ap(e,t){return t?e?function(){return we(nt(e)?e.call(this,this):e,nt(t)?t.call(this,this):t)}:t:e}function Nx(e,t){return ci(Cl(e),Cl(t))}function Cl(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ae(e,t){return e?[...new Set([].concat(e,t))]:t}function ci(e,t){return e?we(we(Object.create(null),e),t):t}function Mx(e,t){if(!e)return t;if(!t)return e;const n=we(Object.create(null),e);for(const i in t)n[i]=ae(e[i],t[i]);return n}function Fx(e,t,n,i=!1){const r={},a={};vl(a,es,1),e.propsDefaults=Object.create(null),Ff(e,t,r,a);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:H_(r):e.type.props?e.props=r:e.props=a,e.attrs=a}function Lx(e,t,n,i){const{props:r,attrs:a,vnode:{patchFlag:o}}=e,s=ft(r),[l]=e.propsOptions;let d=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let p=0;p<c.length;p++){let u=c[p];const h=t[u];if(l)if(mt(a,u))h!==a[u]&&(a[u]=h,d=!0);else{const g=ln(u);r[g]=El(l,s,g,h,e,!1)}else h!==a[u]&&(a[u]=h,d=!0)}}}else{Ff(e,t,r,a)&&(d=!0);let c;for(const p in s)(!t||!mt(t,p)&&((c=qo(p))===p||!mt(t,c)))&&(l?n&&(n[p]!==void 0||n[c]!==void 0)&&(r[p]=El(l,s,p,void 0,e,!0)):delete r[p]);if(a!==s)for(const p in a)(!t||!mt(t,p))&&(delete a[p],d=!0)}d&&Sn(e,"set","$attrs")}function Ff(e,t,n,i){const[r,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Ur(l))continue;const d=t[l];let c;r&&mt(r,c=ln(l))?!a||!a.includes(c)?n[c]=d:(s||(s={}))[c]=d:Rd(e.emitsOptions,l)||(!(l in i)||d!==i[l])&&(i[l]=d,o=!0)}if(a){const l=ft(n),d=s||bt;for(let c=0;c<a.length;c++){const p=a[c];n[p]=El(r,l,p,d[p],e,!mt(d,p))}}return o}function El(e,t,n,i,r,a){const o=e[n];if(o!=null){const s=mt(o,"default");if(s&&i===void 0){const l=o.default;if(o.type!==Function&&nt(l)){const{propsDefaults:d}=r;n in d?i=d[n]:(sr(r),i=d[n]=l.call(null,t),bi())}else i=l}o[0]&&(a&&!s?i=!1:o[1]&&(i===""||i===qo(n))&&(i=!0))}return i}function Lf(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const a=e.props,o={},s=[];let l=!1;if(!nt(e)){const c=p=>{l=!0;const[u,h]=Lf(p,t,!0);we(o,u),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return i.set(e,Xi),Xi;if(dt(a))for(let c=0;c<a.length;c++){const p=ln(a[c]);op(p)&&(o[p]=bt)}else if(a)for(const c in a){const p=ln(c);if(op(p)){const u=a[c],h=o[p]=dt(u)||nt(u)?{type:u}:u;if(h){const g=dp(Boolean,h.type),D=dp(String,h.type);h[0]=g>-1,h[1]=D<0||g<D,(g>-1||mt(h,"default"))&&s.push(p)}}}const d=[o,s];return i.set(e,d),d}function op(e){return e[0]!=="$"}function sp(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function lp(e,t){return sp(e)===sp(t)}function dp(e,t){return dt(t)?t.findIndex(n=>lp(n,e)):nt(t)&&lp(t,e)?0:-1}const zf=e=>e[0]==="_"||e==="$stable",Id=e=>dt(e)?e.map(Be):[Be(e)],zx=(e,t,n)=>{const i=fx((...r)=>Id(t(...r)),n);return i._c=!1,i},Yf=(e,t,n)=>{const i=e._ctx;for(const r in e){if(zf(r))continue;const a=e[r];if(nt(a))t[r]=zx(r,a,i);else if(a!=null){const o=Id(a);t[r]=()=>o}}},Bf=(e,t)=>{const n=Id(t);e.slots.default=()=>n},Yx=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ft(t),vl(t,"_",n)):Yf(t,e.slots={})}else e.slots={},t&&Bf(e,t);vl(e.slots,es,1)},Bx=(e,t,n)=>{const{vnode:i,slots:r}=e;let a=!0,o=bt;if(i.shapeFlag&32){const s=t._;s?n&&s===1?a=!1:(we(r,t),!n&&s===1&&delete r._):(a=!t.$stable,Yf(t,r)),o=t}else t&&(Bf(e,t),o={default:1});if(a)for(const s in r)!zf(s)&&!(s in o)&&delete r[s]};function Qn(e,t){const n=je;if(n===null)return e;const i=n.proxy,r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,s,l,d=bt]=t[a];nt(o)&&(o={mounted:o,updated:o}),o.deep&&hi(s),r.push({dir:o,instance:i,value:s,oldValue:void 0,arg:l,modifiers:d})}return e}function en(e,t,n,i){const r=e.dirs,a=t&&t.dirs;for(let o=0;o<r.length;o++){const s=r[o];a&&(s.oldValue=a[o].value);let l=s.dir[i];l&&(_r(),He(l,n,8,[e.el,s,e,t]),Oi())}}function Wf(){return{app:null,config:{isNativeTag:tx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wx=0;function jx(e,t){return function(i,r=null){r!=null&&!le(r)&&(r=null);const a=Wf(),o=new Set;let s=!1;const l=a.app={_uid:Wx++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:pv,get config(){return a.config},set config(d){},use(d,...c){return o.has(d)||(d&&nt(d.install)?(o.add(d),d.install(l,...c)):nt(d)&&(o.add(d),d(l,...c))),l},mixin(d){return a.mixins.includes(d)||a.mixins.push(d),l},component(d,c){return c?(a.components[d]=c,l):a.components[d]},directive(d,c){return c?(a.directives[d]=c,l):a.directives[d]},mount(d,c,p){if(!s){const u=Xt(i,r);return u.appContext=a,c&&t?t(u,d):e(u,d,p),s=!0,l._container=d,d.__vue_app__=l,Dd(u.component)||u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(d,c){return a.provides[d]=c,l}};return l}}function po(e,t,n,i,r=!1){if(dt(e)){e.forEach((u,h)=>po(u,t&&(dt(t)?t[h]:t),n,i,r));return}if(lo(i)&&!r)return;const a=i.shapeFlag&4?Dd(i.component)||i.component.proxy:i.el,o=r?null:a,{i:s,r:l}=e,d=t&&t.r,c=s.refs===bt?s.refs={}:s.refs,p=s.setupState;if(d!=null&&d!==l&&(Pe(d)?(c[d]=null,mt(p,d)&&(p[d]=null)):se(d)&&(d.value=null)),nt(l))jn(l,s,12,[o,c]);else{const u=Pe(l),h=se(l);if(u||h){const g=()=>{if(e.f){const D=u?c[l]:l.value;r?dt(D)&&yd(D,a):dt(D)?D.includes(a)||D.push(a):u?c[l]=[a]:(l.value=[a],e.k&&(c[e.k]=l.value))}else u?(c[l]=o,mt(p,l)&&(p[l]=o)):se(l)&&(l.value=o,e.k&&(c[e.k]=o))};o?(g.id=-1,de(g,n)):g()}}}let Pn=!1;const Va=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Gs=e=>e.nodeType===8;function $x(e){const{mt:t,p:n,o:{patchProp:i,nextSibling:r,parentNode:a,remove:o,insert:s,createComment:l}}=e,d=(_,v)=>{if(!v.hasChildNodes()){n(null,_,v),oo();return}Pn=!1,c(v.firstChild,_,null,null,null),oo(),Pn&&console.error("Hydration completed but contains mismatches.")},c=(_,v,O,F,Y,V=!1)=>{const Q=Gs(_)&&_.data==="[",K=()=>g(_,v,O,F,Y,Q),{type:Tt,ref:it,shapeFlag:kt}=v,Bt=_.nodeType;v.el=_;let et=null;switch(Tt){case aa:Bt!==3?et=K():(_.data!==v.children&&(Pn=!0,_.data=v.children),et=r(_));break;case Jn:Bt!==8||Q?et=K():et=r(_);break;case Gr:if(Bt!==1)et=K();else{et=_;const Lt=!v.children.length;for(let Ht=0;Ht<v.staticCount;Ht++)Lt&&(v.children+=et.outerHTML),Ht===v.staticCount-1&&(v.anchor=et),et=r(et);return et}break;case _e:Q?et=h(_,v,O,F,Y,V):et=K();break;default:if(kt&1)Bt!==1||v.type.toLowerCase()!==_.tagName.toLowerCase()?et=K():et=p(_,v,O,F,Y,V);else if(kt&6){v.slotScopeIds=Y;const Lt=a(_);if(t(v,Lt,null,O,F,Va(Lt),V),et=Q?D(_):r(_),lo(v)){let Ht;Q?(Ht=Xt(_e),Ht.anchor=et?et.previousSibling:Lt.lastChild):Ht=_.nodeType===3?Ei(""):Xt("div"),Ht.el=_,v.component.subTree=Ht}}else kt&64?Bt!==8?et=K():et=v.type.hydrate(_,v,O,F,Y,V,e,u):kt&128&&(et=v.type.hydrate(_,v,O,F,Va(a(_)),Y,V,e,c))}return it!=null&&po(it,null,F,v),et},p=(_,v,O,F,Y,V)=>{V=V||!!v.dynamicChildren;const{type:Q,props:K,patchFlag:Tt,shapeFlag:it,dirs:kt}=v,Bt=Q==="input"&&kt||Q==="option";if(Bt||Tt!==-1){if(kt&&en(v,null,O,"created"),K)if(Bt||!V||Tt&48)for(const Lt in K)(Bt&&Lt.endsWith("value")||Go(Lt)&&!Ur(Lt))&&i(_,Lt,null,K[Lt],!1,void 0,O);else K.onClick&&i(_,"onClick",null,K.onClick,!1,void 0,O);let et;if((et=K&&K.onVnodeBeforeMount)&&ke(et,O,v),kt&&en(v,null,O,"beforeMount"),((et=K&&K.onVnodeMounted)||kt)&&Tf(()=>{et&&ke(et,O,v),kt&&en(v,null,O,"mounted")},F),it&16&&!(K&&(K.innerHTML||K.textContent))){let Lt=u(_.firstChild,v,_,O,F,Y,V);for(;Lt;){Pn=!0;const Ht=Lt;Lt=Lt.nextSibling,o(Ht)}}else it&8&&_.textContent!==v.children&&(Pn=!0,_.textContent=v.children)}return _.nextSibling},u=(_,v,O,F,Y,V,Q)=>{Q=Q||!!v.dynamicChildren;const K=v.children,Tt=K.length;for(let it=0;it<Tt;it++){const kt=Q?K[it]:K[it]=Be(K[it]);if(_)_=c(_,kt,F,Y,V,Q);else{if(kt.type===aa&&!kt.children)continue;Pn=!0,n(null,kt,O,null,F,Y,Va(O),V)}}return _},h=(_,v,O,F,Y,V)=>{const{slotScopeIds:Q}=v;Q&&(Y=Y?Y.concat(Q):Q);const K=a(_),Tt=u(r(_),v,K,O,F,Y,V);return Tt&&Gs(Tt)&&Tt.data==="]"?r(v.anchor=Tt):(Pn=!0,s(v.anchor=l("]"),K,Tt),Tt)},g=(_,v,O,F,Y,V)=>{if(Pn=!0,v.el=null,V){const Tt=D(_);for(;;){const it=r(_);if(it&&it!==Tt)o(it);else break}}const Q=r(_),K=a(_);return o(_),n(null,v,K,Q,O,F,Va(K),Y),Q},D=_=>{let v=0;for(;_;)if(_=r(_),_&&Gs(_)&&(_.data==="["&&v++,_.data==="]")){if(v===0)return r(_);v--}return _};return[d,c]}const de=Tf;function Ux(e){return jf(e)}function Hx(e){return jf(e,$x)}function jf(e,t){const n=ox();n.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:o,createText:s,createComment:l,setText:d,setElementText:c,parentNode:p,nextSibling:u,setScopeId:h=an,cloneNode:g,insertStaticContent:D}=e,_=(f,m,x,w=null,b=null,I=null,N=!1,k=null,A=!!m.dynamicChildren)=>{if(f===m)return;f&&!Dr(f,m)&&(w=U(f),Te(f,b,I,!0),f=null),m.patchFlag===-2&&(A=!1,m.dynamicChildren=null);const{type:S,ref:W,shapeFlag:L}=m;switch(S){case aa:v(f,m,x,w);break;case Jn:O(f,m,x,w);break;case Gr:f==null&&F(m,x,w,N);break;case _e:Lt(f,m,x,w,b,I,N,k,A);break;default:L&1?Q(f,m,x,w,b,I,N,k,A):L&6?Ht(f,m,x,w,b,I,N,k,A):(L&64||L&128)&&S.process(f,m,x,w,b,I,N,k,A,At)}W!=null&&b&&po(W,f&&f.ref,I,m||f,!m)},v=(f,m,x,w)=>{if(f==null)i(m.el=s(m.children),x,w);else{const b=m.el=f.el;m.children!==f.children&&d(b,m.children)}},O=(f,m,x,w)=>{f==null?i(m.el=l(m.children||""),x,w):m.el=f.el},F=(f,m,x,w)=>{[f.el,f.anchor]=D(f.children,m,x,w,f.el,f.anchor)},Y=({el:f,anchor:m},x,w)=>{let b;for(;f&&f!==m;)b=u(f),i(f,x,w),f=b;i(m,x,w)},V=({el:f,anchor:m})=>{let x;for(;f&&f!==m;)x=u(f),r(f),f=x;r(m)},Q=(f,m,x,w,b,I,N,k,A)=>{N=N||m.type==="svg",f==null?K(m,x,w,b,I,N,k,A):kt(f,m,b,I,N,k,A)},K=(f,m,x,w,b,I,N,k)=>{let A,S;const{type:W,props:L,shapeFlag:j,transition:G,patchFlag:st,dirs:Nt}=f;if(f.el&&g!==void 0&&st===-1)A=f.el=g(f.el);else{if(A=f.el=o(f.type,I,L&&L.is,L),j&8?c(A,f.children):j&16&&it(f.children,A,null,w,b,I&&W!=="foreignObject",N,k),Nt&&en(f,null,w,"created"),L){for(const Dt in L)Dt!=="value"&&!Ur(Dt)&&a(A,Dt,null,L[Dt],I,f.children,w,b,P);"value"in L&&a(A,"value",null,L.value),(S=L.onVnodeBeforeMount)&&ke(S,w,f)}Tt(A,f,f.scopeId,N,w)}Nt&&en(f,null,w,"beforeMount");const xt=(!b||b&&!b.pendingBranch)&&G&&!G.persisted;xt&&G.beforeEnter(A),i(A,m,x),((S=L&&L.onVnodeMounted)||xt||Nt)&&de(()=>{S&&ke(S,w,f),xt&&G.enter(A),Nt&&en(f,null,w,"mounted")},b)},Tt=(f,m,x,w,b)=>{if(x&&h(f,x),w)for(let I=0;I<w.length;I++)h(f,w[I]);if(b){let I=b.subTree;if(m===I){const N=b.vnode;Tt(f,N,N.scopeId,N.slotScopeIds,b.parent)}}},it=(f,m,x,w,b,I,N,k,A=0)=>{for(let S=A;S<f.length;S++){const W=f[S]=k?Mn(f[S]):Be(f[S]);_(null,W,m,x,w,b,I,N,k)}},kt=(f,m,x,w,b,I,N)=>{const k=m.el=f.el;let{patchFlag:A,dynamicChildren:S,dirs:W}=m;A|=f.patchFlag&16;const L=f.props||bt,j=m.props||bt;let G;x&&oi(x,!1),(G=j.onVnodeBeforeUpdate)&&ke(G,x,m,f),W&&en(m,f,x,"beforeUpdate"),x&&oi(x,!0);const st=b&&m.type!=="foreignObject";if(S?Bt(f.dynamicChildren,S,k,x,w,st,I):N||Re(f,m,k,null,x,w,st,I,!1),A>0){if(A&16)et(k,m,L,j,x,w,b);else if(A&2&&L.class!==j.class&&a(k,"class",null,j.class,b),A&4&&a(k,"style",L.style,j.style,b),A&8){const Nt=m.dynamicProps;for(let xt=0;xt<Nt.length;xt++){const Dt=Nt[xt],ze=L[Dt],Wi=j[Dt];(Wi!==ze||Dt==="value")&&a(k,Dt,ze,Wi,b,f.children,x,w,P)}}A&1&&f.children!==m.children&&c(k,m.children)}else!N&&S==null&&et(k,m,L,j,x,w,b);((G=j.onVnodeUpdated)||W)&&de(()=>{G&&ke(G,x,m,f),W&&en(m,f,x,"updated")},w)},Bt=(f,m,x,w,b,I,N)=>{for(let k=0;k<m.length;k++){const A=f[k],S=m[k],W=A.el&&(A.type===_e||!Dr(A,S)||A.shapeFlag&70)?p(A.el):x;_(A,S,W,null,w,b,I,N,!0)}},et=(f,m,x,w,b,I,N)=>{if(x!==w){for(const k in w){if(Ur(k))continue;const A=w[k],S=x[k];A!==S&&k!=="value"&&a(f,k,S,A,N,m.children,b,I,P)}if(x!==bt)for(const k in x)!Ur(k)&&!(k in w)&&a(f,k,x[k],null,N,m.children,b,I,P);"value"in w&&a(f,"value",x.value,w.value)}},Lt=(f,m,x,w,b,I,N,k,A)=>{const S=m.el=f?f.el:s(""),W=m.anchor=f?f.anchor:s("");let{patchFlag:L,dynamicChildren:j,slotScopeIds:G}=m;G&&(k=k?k.concat(G):G),f==null?(i(S,x,w),i(W,x,w),it(m.children,x,W,b,I,N,k,A)):L>0&&L&64&&j&&f.dynamicChildren?(Bt(f.dynamicChildren,j,x,b,I,N,k),(m.key!=null||b&&m===b.subTree)&&$f(f,m,!0)):Re(f,m,x,W,b,I,N,k,A)},Ht=(f,m,x,w,b,I,N,k,A)=>{m.slotScopeIds=k,f==null?m.shapeFlag&512?b.ctx.activate(m,x,w,N,A):Yi(m,x,w,b,I,N,A):jt(f,m,A)},Yi=(f,m,x,w,b,I,N)=>{const k=f.component=rv(f,w,b);if(If(f)&&(k.ctx.renderer=At),av(k),k.asyncDep){if(b&&b.registerDep(k,wt),!f.el){const A=k.subTree=Xt(Jn);O(null,A,m,x)}return}wt(k,f,m,x,b,I,N)},jt=(f,m,x)=>{const w=m.component=f.component;if(gx(f,m,x))if(w.asyncDep&&!w.asyncResolved){_t(w,m,x);return}else w.next=m,dx(w.update),w.update();else m.component=f.component,m.el=f.el,w.vnode=m},wt=(f,m,x,w,b,I,N)=>{const k=()=>{if(f.isMounted){let{next:W,bu:L,u:j,parent:G,vnode:st}=f,Nt=W,xt;oi(f,!1),W?(W.el=st.el,_t(f,W,N)):W=st,L&&Hs(L),(xt=W.props&&W.props.onVnodeBeforeUpdate)&&ke(xt,G,W,st),oi(f,!0);const Dt=Vs(f),ze=f.subTree;f.subTree=Dt,_(ze,Dt,p(ze.el),U(ze),f,b,I),W.el=Dt.el,Nt===null&&_x(f,Dt.el),j&&de(j,b),(xt=W.props&&W.props.onVnodeUpdated)&&de(()=>ke(xt,G,W,st),b)}else{let W;const{el:L,props:j}=m,{bm:G,m:st,parent:Nt}=f,xt=lo(m);if(oi(f,!1),G&&Hs(G),!xt&&(W=j&&j.onVnodeBeforeMount)&&ke(W,Nt,m),oi(f,!0),L&&at){const Dt=()=>{f.subTree=Vs(f),at(L,f.subTree,f,b,null)};xt?m.type.__asyncLoader().then(()=>!f.isUnmounted&&Dt()):Dt()}else{const Dt=f.subTree=Vs(f);_(null,Dt,x,w,f,b,I),m.el=Dt.el}if(st&&de(st,b),!xt&&(W=j&&j.onVnodeMounted)){const Dt=m;de(()=>ke(W,Nt,Dt),b)}m.shapeFlag&256&&f.a&&de(f.a,b),f.isMounted=!0,m=x=w=null}},A=f.effect=new fd(k,()=>wf(f.update),f.scope),S=f.update=A.run.bind(A);S.id=f.uid,oi(f,!0),S()},_t=(f,m,x)=>{m.component=f;const w=f.vnode.props;f.vnode=m,f.next=null,Lx(f,m.props,w,x),Bx(f,m.children,x),_r(),Sd(void 0,f.update),Oi()},Re=(f,m,x,w,b,I,N,k,A=!1)=>{const S=f&&f.children,W=f?f.shapeFlag:0,L=m.children,{patchFlag:j,shapeFlag:G}=m;if(j>0){if(j&128){gn(S,L,x,w,b,I,N,k,A);return}else if(j&256){Bi(S,L,x,w,b,I,N,k,A);return}}G&8?(W&16&&P(S,b,I),L!==S&&c(x,L)):W&16?G&16?gn(S,L,x,w,b,I,N,k,A):P(S,b,I,!0):(W&8&&c(x,""),G&16&&it(L,x,w,b,I,N,k,A))},Bi=(f,m,x,w,b,I,N,k,A)=>{f=f||Xi,m=m||Xi;const S=f.length,W=m.length,L=Math.min(S,W);let j;for(j=0;j<L;j++){const G=m[j]=A?Mn(m[j]):Be(m[j]);_(f[j],G,x,null,b,I,N,k,A)}S>W?P(f,b,I,!0,!1,L):it(m,x,w,b,I,N,k,A,L)},gn=(f,m,x,w,b,I,N,k,A)=>{let S=0;const W=m.length;let L=f.length-1,j=W-1;for(;S<=L&&S<=j;){const G=f[S],st=m[S]=A?Mn(m[S]):Be(m[S]);if(Dr(G,st))_(G,st,x,null,b,I,N,k,A);else break;S++}for(;S<=L&&S<=j;){const G=f[L],st=m[j]=A?Mn(m[j]):Be(m[j]);if(Dr(G,st))_(G,st,x,null,b,I,N,k,A);else break;L--,j--}if(S>L){if(S<=j){const G=j+1,st=G<W?m[G].el:w;for(;S<=j;)_(null,m[S]=A?Mn(m[S]):Be(m[S]),x,st,b,I,N,k,A),S++}}else if(S>j)for(;S<=L;)Te(f[S],b,I,!0),S++;else{const G=S,st=S,Nt=new Map;for(S=st;S<=j;S++){const ge=m[S]=A?Mn(m[S]):Be(m[S]);ge.key!=null&&Nt.set(ge.key,S)}let xt,Dt=0;const ze=j-st+1;let Wi=!1,Hc=0;const Ir=new Array(ze);for(S=0;S<ze;S++)Ir[S]=0;for(S=G;S<=L;S++){const ge=f[S];if(Dt>=ze){Te(ge,b,I,!0);continue}let tn;if(ge.key!=null)tn=Nt.get(ge.key);else for(xt=st;xt<=j;xt++)if(Ir[xt-st]===0&&Dr(ge,m[xt])){tn=xt;break}tn===void 0?Te(ge,b,I,!0):(Ir[tn-st]=S+1,tn>=Hc?Hc=tn:Wi=!0,_(ge,m[tn],x,null,b,I,N,k,A),Dt++)}const Vc=Wi?Vx(Ir):Xi;for(xt=Vc.length-1,S=ze-1;S>=0;S--){const ge=st+S,tn=m[ge],Gc=ge+1<W?m[ge+1].el:w;Ir[S]===0?_(null,tn,x,Gc,b,I,N,k,A):Wi&&(xt<0||S!==Vc[xt]?Xe(tn,x,Gc,2):xt--)}}},Xe=(f,m,x,w,b=null)=>{const{el:I,type:N,transition:k,children:A,shapeFlag:S}=f;if(S&6){Xe(f.component.subTree,m,x,w);return}if(S&128){f.suspense.move(m,x,w);return}if(S&64){N.move(f,m,x,At);return}if(N===_e){i(I,m,x);for(let L=0;L<A.length;L++)Xe(A[L],m,x,w);i(f.anchor,m,x);return}if(N===Gr){Y(f,m,x);return}if(w!==2&&S&1&&k)if(w===0)k.beforeEnter(I),i(I,m,x),de(()=>k.enter(I),b);else{const{leave:L,delayLeave:j,afterLeave:G}=k,st=()=>i(I,m,x),Nt=()=>{L(I,()=>{st(),G&&G()})};j?j(I,st,Nt):Nt()}else i(I,m,x)},Te=(f,m,x,w=!1,b=!1)=>{const{type:I,props:N,ref:k,children:A,dynamicChildren:S,shapeFlag:W,patchFlag:L,dirs:j}=f;if(k!=null&&po(k,null,x,f,!0),W&256){m.ctx.deactivate(f);return}const G=W&1&&j,st=!lo(f);let Nt;if(st&&(Nt=N&&N.onVnodeBeforeUnmount)&&ke(Nt,m,f),W&6)z(f.component,x,w);else{if(W&128){f.suspense.unmount(x,w);return}G&&en(f,null,m,"beforeUnmount"),W&64?f.type.remove(f,m,x,b,At,w):S&&(I!==_e||L>0&&L&64)?P(S,m,x,!1,!0):(I===_e&&L&384||!b&&W&16)&&P(A,m,x),w&&$s(f)}(st&&(Nt=N&&N.onVnodeUnmounted)||G)&&de(()=>{Nt&&ke(Nt,m,f),G&&en(f,null,m,"unmounted")},x)},$s=f=>{const{type:m,el:x,anchor:w,transition:b}=f;if(m===_e){y(x,w);return}if(m===Gr){V(f);return}const I=()=>{r(x),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(f.shapeFlag&1&&b&&!b.persisted){const{leave:N,delayLeave:k}=b,A=()=>N(x,I);k?k(f.el,I,A):A()}else I()},y=(f,m)=>{let x;for(;f!==m;)x=u(f),r(f),f=x;r(m)},z=(f,m,x)=>{const{bum:w,scope:b,update:I,subTree:N,um:k}=f;w&&Hs(w),b.stop(),I&&(I.active=!1,Te(N,f,m,x)),k&&de(k,m),de(()=>{f.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},P=(f,m,x,w=!1,b=!1,I=0)=>{for(let N=I;N<f.length;N++)Te(f[N],m,x,w,b)},U=f=>f.shapeFlag&6?U(f.component.subTree):f.shapeFlag&128?f.suspense.next():u(f.anchor||f.el),It=(f,m,x)=>{f==null?m._vnode&&Te(m._vnode,null,null,!0):_(m._vnode||null,f,m,null,null,null,x),oo(),m._vnode=f},At={p:_,um:Te,m:Xe,r:$s,mt:Yi,mc:it,pc:Re,pbc:Bt,n:U,o:e};let rt,at;return t&&([rt,at]=t(At)),{render:It,hydrate:rt,createApp:jx(It,rt)}}function oi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function $f(e,t,n=!1){const i=e.children,r=t.children;if(dt(i)&&dt(r))for(let a=0;a<i.length;a++){const o=i[a];let s=r[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[a]=Mn(r[a]),s.el=o.el),n||$f(o,s))}}function Vx(e){const t=e.slice(),n=[0];let i,r,a,o,s;const l=e.length;for(i=0;i<l;i++){const d=e[i];if(d!==0){if(r=n[n.length-1],e[r]<d){t[i]=r,n.push(i);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<d?a=s+1:o=s;d<e[n[a]]&&(a>0&&(t[i]=n[a-1]),n[a]=i)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}const Gx=e=>e.__isTeleport,Uf="components";function ra(e,t){return qx(Uf,e,!0,t)||e}const Kx=Symbol();function qx(e,t,n=!0,i=!1){const r=je||Zt;if(r){const a=r.type;if(e===Uf){const s=dv(a);if(s&&(s===t||s===ln(t)||s===Cd(ln(t))))return a}const o=cp(r[e]||a[e],t)||cp(r.appContext[e],t);return!o&&i?a:o}}function cp(e,t){return e&&(e[t]||e[ln(t)]||e[Cd(ln(t))])}const _e=Symbol(void 0),aa=Symbol(void 0),Jn=Symbol(void 0),Gr=Symbol(void 0),Kr=[];let vi=null;function ut(e=!1){Kr.push(vi=e?null:[])}function Qx(){Kr.pop(),vi=Kr[Kr.length-1]||null}let uo=1;function pp(e){uo+=e}function Hf(e){return e.dynamicChildren=uo>0?vi||Xi:null,Qx(),uo>0&&vi&&vi.push(e),e}function St(e,t,n,i,r,a){return Hf(C(e,t,n,i,r,a,!0))}function oa(e,t,n,i,r){return Hf(Xt(e,t,n,i,r,!0))}function Sl(e){return e?e.__v_isVNode===!0:!1}function Dr(e,t){return e.type===t.type&&e.key===t.key}const es="__vInternal",Vf=({key:e})=>e!=null?e:null,Xa=({ref:e,ref_key:t,ref_for:n})=>e!=null?Pe(e)||se(e)||nt(e)?{i:je,r:e,k:t,f:!!n}:e:null;function C(e,t=null,n=null,i=0,r=null,a=e===_e?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vf(t),ref:t&&Xa(t),scopeId:Jo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return s?(Ad(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=Pe(n)?8:16),uo>0&&!o&&vi&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&vi.push(l),l}const Xt=Jx;function Jx(e,t=null,n=null,i=0,r=null,a=!1){if((!e||e===Kx)&&(e=Jn),Sl(e)){const s=sa(e,t,!0);return n&&Ad(s,n),s}if(cv(e)&&(e=e.__vccOpts),t){t=Zx(t);let{class:s,style:l}=t;s&&!Pe(s)&&(t.class=Pi(s)),le(l)&&(of(l)&&!dt(l)&&(l=we({},l)),t.style=rn(l))}const o=Pe(e)?1:xx(e)?128:Gx(e)?64:le(e)?4:nt(e)?2:0;return C(e,t,n,i,r,o,a,!0)}function Zx(e){return e?of(e)||es in e?we({},e):e:null}function sa(e,t,n=!1){const{props:i,ref:r,patchFlag:a,children:o}=e,s=t?tv(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Vf(s),ref:t&&t.ref?n&&r?dt(r)?r.concat(Xa(t)):[r,Xa(t)]:Xa(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_e?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&sa(e.ssContent),ssFallback:e.ssFallback&&sa(e.ssFallback),el:e.el,anchor:e.anchor}}function Ei(e=" ",t=0){return Xt(aa,null,e,t)}function Xx(e,t){const n=Xt(Gr,null,e);return n.staticCount=t,n}function fo(e="",t=!1){return t?(ut(),oa(Jn,null,e)):Xt(Jn,null,e)}function Be(e){return e==null||typeof e=="boolean"?Xt(Jn):dt(e)?Xt(_e,null,e.slice()):typeof e=="object"?Mn(e):Xt(aa,null,String(e))}function Mn(e){return e.el===null||e.memo?e:sa(e)}function Ad(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(dt(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Ad(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(es in t)?t._ctx=je:r===3&&je&&(je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else nt(t)?(t={default:t,_ctx:je},n=32):(t=String(t),i&64?(n=16,t=[Ei(t)]):n=8);e.children=t,e.shapeFlag|=n}function tv(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Pi([t.class,i.class]));else if(r==="style")t.style=rn([t.style,i.style]);else if(Go(r)){const a=t[r],o=i[r];a!==o&&!(dt(a)&&a.includes(o))&&(t[r]=a?[].concat(a,o):o)}else r!==""&&(t[r]=i[r])}return t}function ke(e,t,n,i=null){He(e,t,7,[n,i])}function Gf(e,t,n,i){let r;const a=n&&n[i];if(dt(e)||Pe(e)){r=new Array(e.length);for(let o=0,s=e.length;o<s;o++)r[o]=t(e[o],o,void 0,a&&a[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,a&&a[o])}else if(le(e))if(e[Symbol.iterator])r=Array.from(e,(o,s)=>t(o,s,void 0,a&&a[s]));else{const o=Object.keys(e);r=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const d=o[s];r[s]=t(e[d],d,s,a&&a[s])}}else r=[];return n&&(n[i]=r),r}const Rl=e=>e?Kf(e)?Dd(e)||e.proxy:Rl(e.parent):null,ho=we(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Rl(e.parent),$root:e=>Rl(e.root),$emit:e=>e.emit,$options:e=>Mf(e),$forceUpdate:e=>()=>wf(e.update),$nextTick:e=>yf.bind(e.proxy),$watch:e=>bx.bind(e)}),ev={get({_:e},t){const{ctx:n,setupState:i,data:r,props:a,accessCache:o,type:s,appContext:l}=e;let d;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return a[t]}else{if(i!==bt&&mt(i,t))return o[t]=1,i[t];if(r!==bt&&mt(r,t))return o[t]=2,r[t];if((d=e.propsOptions[0])&&mt(d,t))return o[t]=3,a[t];if(n!==bt&&mt(n,t))return o[t]=4,n[t];wl&&(o[t]=0)}}const c=ho[t];let p,u;if(c)return t==="$attrs"&&ye(e,"get",t),c(e);if((p=s.__cssModules)&&(p=p[t]))return p;if(n!==bt&&mt(n,t))return o[t]=4,n[t];if(u=l.config.globalProperties,mt(u,t))return u[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:a}=e;if(r!==bt&&mt(r,t))r[t]=n;else if(i!==bt&&mt(i,t))i[t]=n;else if(mt(e.props,t))return!1;return t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:a}},o){let s;return!!n[o]||e!==bt&&mt(e,o)||t!==bt&&mt(t,o)||(s=a[0])&&mt(s,o)||mt(i,o)||mt(ho,o)||mt(r.config.globalProperties,o)}},nv=Wf();let iv=0;function rv(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||nv,a={uid:iv++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new __(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lf(i,r),emitsOptions:Rf(i,r),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:i.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=ux.bind(null,a),e.ce&&e.ce(a),a}let Zt=null;const sr=e=>{Zt=e,e.scope.on()},bi=()=>{Zt&&Zt.scope.off(),Zt=null};function Kf(e){return e.vnode.shapeFlag&4}let la=!1;function av(e,t=!1){la=t;const{props:n,children:i}=e.vnode,r=Kf(e);Fx(e,n,r,t),Yx(e,i);const a=r?ov(e,t):void 0;return la=!1,a}function ov(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=sf(new Proxy(e.ctx,ev));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?lv(e):null;sr(e),_r();const a=jn(i,e,0,[e.props,r]);if(Oi(),bi(),_f(a)){if(a.then(bi,bi),t)return a.then(o=>{up(e,o,t)}).catch(o=>{Qo(o,e,0)});e.asyncDep=a}else up(e,a,t)}else qf(e,t)}function up(e,t,n){nt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:le(t)&&(e.setupState=pf(t)),qf(e,n)}let fp;function qf(e,t,n){const i=e.type;if(!e.render){if(!t&&fp&&!i.render){const r=i.template;if(r){const{isCustomElement:a,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:l}=i,d=we(we({isCustomElement:a,delimiters:s},o),l);i.render=fp(r,d)}}e.render=i.render||an}sr(e),_r(),Dx(e),Oi(),bi()}function sv(e){return new Proxy(e.attrs,{get(t,n){return ye(e,"get","$attrs"),t[n]}})}function lv(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=sv(e))},slots:e.slots,emit:e.emit,expose:t}}function Dd(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pf(sf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ho)return ho[n](e)}}))}function dv(e){return nt(e)&&e.displayName||e.name}function cv(e){return nt(e)&&"__vccOpts"in e}const We=(e,t)=>uf(e,t,la);function Qf(e,t,n){const i=arguments.length;return i===2?le(t)&&!dt(t)?Sl(t)?Xt(e,null,[t]):Xt(e,t):Xt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Sl(n)&&(n=[n]),Xt(e,t,n))}const pv="3.2.27";function uv(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const fv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hv=uv(fv);function Jf(e){return!!e||e===""}const mv=/^on[^a-z]/,gv=e=>mv.test(e),_v=e=>e.startsWith("onUpdate:"),xv=Object.assign,Od=Array.isArray,Zf=e=>typeof e=="function",mo=e=>typeof e=="string",Xf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vv=/\B([A-Z])/g,th=Xf(e=>e.replace(vv,"-$1").toLowerCase()),bv=Xf(e=>e.charAt(0).toUpperCase()+e.slice(1)),yv=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},hp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},wv="http://www.w3.org/2000/svg",fi=typeof document!="undefined"?document:null,mp=fi&&fi.createElement("template"),Cv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?fi.createElementNS(wv,e):fi.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>fi.createTextNode(e),createComment:e=>fi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>fi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,r,a){const o=n?n.previousSibling:t.lastChild;if(r&&a)for(;t.insertBefore(r.cloneNode(!0),n),!(r===a||!(r=r.nextSibling)););else{mp.innerHTML=i?`<svg>${e}</svg>`:e;const s=mp.content;if(i){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Ev(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Sv(e,t,n){const i=e.style,r=mo(n);if(n&&!r){for(const a in n)Tl(i,a,n[a]);if(t&&!mo(t))for(const a in t)n[a]==null&&Tl(i,a,"")}else{const a=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=a)}}const gp=/\s*!important$/;function Tl(e,t,n){if(Od(n))n.forEach(i=>Tl(e,t,i));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=Rv(e,t);gp.test(n)?e.setProperty(th(i),n.replace(gp,""),"important"):e[i]=n}}const _p=["Webkit","Moz","ms"],Ks={};function Rv(e,t){const n=Ks[t];if(n)return n;let i=ln(t);if(i!=="filter"&&i in e)return Ks[t]=i;i=bv(i);for(let r=0;r<_p.length;r++){const a=_p[r]+i;if(a in e)return Ks[t]=a}return t}const xp="http://www.w3.org/1999/xlink";function Tv(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xp,t.slice(6,t.length)):e.setAttributeNS(xp,t,n);else{const a=hv(t);n==null||a&&!Jf(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function kv(e,t,n,i,r,a,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,a),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const s=n==null?"":n;(e.value!==s||e.tagName==="OPTION")&&(e.value=s),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const s=typeof e[t];if(s==="boolean"){e[t]=Jf(n);return}else if(n==null&&s==="string"){e[t]="",e.removeAttribute(t);return}else if(s==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=n}catch{}}let go=Date.now,eh=!1;if(typeof window!="undefined"){go()>document.createEvent("Event").timeStamp&&(go=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);eh=!!(e&&Number(e[1])<=53)}let kl=0;const Iv=Promise.resolve(),Av=()=>{kl=0},Dv=()=>kl||(Iv.then(Av),kl=go());function Ki(e,t,n,i){e.addEventListener(t,n,i)}function Ov(e,t,n,i){e.removeEventListener(t,n,i)}function Pv(e,t,n,i,r=null){const a=e._vei||(e._vei={}),o=a[t];if(i&&o)o.value=i;else{const[s,l]=Nv(t);if(i){const d=a[t]=Mv(i,r);Ki(e,s,d,l)}else o&&(Ov(e,s,o,l),a[t]=void 0)}}const vp=/(?:Once|Passive|Capture)$/;function Nv(e){let t;if(vp.test(e)){t={};let n;for(;n=e.match(vp);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[th(e.slice(2)),t]}function Mv(e,t){const n=i=>{const r=i.timeStamp||go();(eh||r>=n.attached-1)&&He(Fv(i,n.value),t,5,[i])};return n.value=e,n.attached=Dv(),n}function Fv(e,t){if(Od(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i(r))}else return t}const bp=/^on[a-z]/,Lv=(e,t,n,i,r=!1,a,o,s,l)=>{t==="class"?Ev(e,i,r):t==="style"?Sv(e,n,i):gv(t)?_v(t)||Pv(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zv(e,t,i,r))?kv(e,t,i,a,o,s,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Tv(e,t,i,r))};function zv(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&bp.test(t)&&Zf(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||bp.test(t)&&mo(n)?!1:t in e}const yp=e=>{const t=e.props["onUpdate:modelValue"];return Od(t)?n=>yv(t,n):t};function Yv(e){e.target.composing=!0}function wp(e){const t=e.target;t.composing&&(t.composing=!1,Bv(t,"input"))}function Bv(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const ns={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=yp(r);const a=i||r.props&&r.props.type==="number";Ki(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n?s=s.trim():a&&(s=hp(s)),e._assign(s)}),n&&Ki(e,"change",()=>{e.value=e.value.trim()}),t||(Ki(e,"compositionstart",Yv),Ki(e,"compositionend",wp),Ki(e,"change",wp))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},a){if(e._assign=yp(a),e.composing||document.activeElement===e&&(n||i&&e.value.trim()===t||(r||e.type==="number")&&hp(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},_o={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Or(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Or(e,!0),i.enter(e)):i.leave(e,()=>{Or(e,!1)}):Or(e,t))},beforeUnmount(e,{value:t}){Or(e,t)}};function Or(e,t){e.style.display=t?e._vod:"none"}const nh=xv({patchProp:Lv},Cv);let qr,Cp=!1;function Wv(){return qr||(qr=Ux(nh))}function jv(){return qr=Cp?qr:Hx(nh),Cp=!0,qr}const $v=(...e)=>{const t=Wv().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=ih(i);if(!r)return;const a=t._component;!Zf(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},Uv=(...e)=>{const t=jv().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=ih(i);if(r)return n(r,!0,r instanceof SVGElement)},t};function ih(e){return mo(e)?document.querySelector(e):e}/*!
  * vue-router v4.0.6
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const rh=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",xr=e=>rh?Symbol(e):"_vr_"+e,Hv=xr("rvlm"),Ep=xr("rvd"),is=xr("r"),ah=xr("rl"),Il=xr("rvl"),qi=typeof window!="undefined";function Vv(e){return e.__esModule||rh&&e[Symbol.toStringTag]==="Module"}const Ct=Object.assign;function qs(e,t){const n={};for(const i in t){const r=t[i];n[i]=Array.isArray(r)?r.map(e):e(r)}return n}let to=()=>{};const Gv=/\/$/,Kv=e=>e.replace(Gv,"");function Qs(e,t,n="/"){let i,r={},a="",o="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(i=t.slice(0,s),a=t.slice(s+1,l>-1?l:t.length),r=e(a)),l>-1&&(i=i||t.slice(0,l),o=t.slice(l,t.length)),i=Zv(i!=null?i:t,n),{fullPath:i+(a&&"?")+a+o,path:i,query:r,hash:o}}function qv(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Sp(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function Qv(e,t,n){let i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&lr(t.matched[i],n.matched[r])&&oh(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function lr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function oh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!Jv(e[n],t[n]))return!1;return!0}function Jv(e,t){return Array.isArray(e)?Rp(e,t):Array.isArray(t)?Rp(t,e):e===t}function Rp(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Zv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r=n.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var xo;(function(e){e.pop="pop",e.push="push"})(xo||(xo={}));var yi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(yi||(yi={}));const Tp="";function Xv(e){if(!e)if(qi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Kv(e)}const t0=/^[^#]+#/;function sh(e,t){return e.replace(t0,"#")+t}function e0(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const rs=()=>({left:window.pageXOffset,top:window.pageYOffset});function n0(e){let t;if("el"in e){let n=e.el;const i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=e0(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function kp(e,t){return(history.state?history.state.position-t:-1)+e}const Al=new Map;function i0(e,t){Al.set(e,t)}function r0(e){const t=Al.get(e);return Al.delete(e),t}let a0=()=>location.protocol+"//"+location.host;function lh(e,t){const{pathname:n,search:i,hash:r}=t;if(e.indexOf("#")>-1){let s=r.slice(1);return s[0]!=="/"&&(s="/"+s),Sp(s,"")}return Sp(n,e)+i+r}function o0(e,t,n,i){let r=[],a=[],o=null;const s=({state:u})=>{const h=lh(e,location),g=n.value,D=t.value;let _=0;if(u){if(n.value=h,t.value=u,o&&o===g){o=null;return}_=D?u.position-D.position:0}else i(h);r.forEach(v=>{v(n.value,g,{delta:_,type:xo.pop,direction:_?_>0?yi.forward:yi.back:yi.unknown})})};function l(){o=n.value}function d(u){r.push(u);const h=()=>{const g=r.indexOf(u);g>-1&&r.splice(g,1)};return a.push(h),h}function c(){const{history:u}=window;!u.state||u.replaceState(Ct({},u.state,{scroll:rs()}),"")}function p(){for(const u of a)u();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:d,destroy:p}}function Ip(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?rs():null}}function s0(e){const{history:t,location:n}=window;let i={value:lh(e,n)},r={value:t.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,d,c){const p=e.indexOf("#"),u=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+l:a0()+e+l;try{t[c?"replaceState":"pushState"](d,"",u),r.value=d}catch(h){console.error(h),n[c?"replace":"assign"](u)}}function o(l,d){const c=Ct({},t.state,Ip(r.value.back,l,r.value.forward,!0),d,{position:r.value.position});a(l,c,!0),i.value=l}function s(l,d){const c=Ct({},r.value,t.state,{forward:l,scroll:rs()});a(c.current,c,!0);const p=Ct({},Ip(i.value,l,null),{position:c.position+1},d);a(l,p,!1),i.value=l}return{location:i,state:r,push:s,replace:o}}function l0(e){e=Xv(e);const t=s0(e),n=o0(e,t.state,t.location,t.replace);function i(a,o=!0){o||n.pauseListeners(),history.go(a)}const r=Ct({location:"",base:e,go:i,createHref:sh.bind(null,e)},t,n);return Object.defineProperty(r,"location",{get:()=>t.location.value}),Object.defineProperty(r,"state",{get:()=>t.state.value}),r}function d0(e=""){let t=[],n=[Tp],i=0;function r(s){i++,i===n.length||n.splice(i),n.push(s)}function a(s,l,{direction:d,delta:c}){const p={direction:d,delta:c,type:xo.pop};for(let u of t)u(s,l,p)}const o={location:Tp,state:{},base:e,createHref:sh.bind(null,e),replace(s){n.splice(i--,1),r(s)},push(s,l){r(s)},listen(s){return t.push(s),()=>{const l=t.indexOf(s);l>-1&&t.splice(l,1)}},destroy(){t=[]},go(s,l=!0){const d=this.location,c=s<0?yi.back:yi.forward;i=Math.max(0,Math.min(i+s,n.length-1)),l&&a(this.location,d,{direction:c,delta:s})}};return Object.defineProperty(o,"location",{get:()=>n[i]}),o}function c0(e){return typeof e=="string"||e&&typeof e=="object"}function dh(e){return typeof e=="string"||typeof e=="symbol"}const si={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ch=xr("nf");var Ap;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ap||(Ap={}));function dr(e,t){return Ct(new Error,{type:e,[ch]:!0},t)}function Pr(e,t){return e instanceof Error&&ch in e&&(t==null||!!(e.type&t))}const Dp="[^/]+?",p0={sensitive:!1,strict:!1,start:!0,end:!0},u0=/[.+*?^${}()[\]/\\]/g;function f0(e,t){const n=Ct({},p0,t);let i=[],r=n.start?"^":"";const a=[];for(const d of e){const c=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let p=0;p<d.length;p++){const u=d[p];let h=40+(n.sensitive?.25:0);if(u.type===0)p||(r+="/"),r+=u.value.replace(u0,"\\$&"),h+=40;else if(u.type===1){const{value:g,repeatable:D,optional:_,regexp:v}=u;a.push({name:g,repeatable:D,optional:_});const O=v||Dp;if(O!==Dp){h+=10;try{new RegExp(`(${O})`)}catch(Y){throw new Error(`Invalid custom RegExp for param "${g}" (${O}): `+Y.message)}}let F=D?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;p||(F=_&&d.length<2?`(?:/${F})`:"/"+F),_&&(F+="?"),r+=F,h+=20,_&&(h+=-8),D&&(h+=-20),O===".*"&&(h+=-50)}c.push(h)}i.push(c)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function s(d){const c=d.match(o),p={};if(!c)return null;for(let u=1;u<c.length;u++){const h=c[u]||"",g=a[u-1];p[g.name]=h&&g.repeatable?h.split("/"):h}return p}function l(d){let c="",p=!1;for(const u of e){(!p||!c.endsWith("/"))&&(c+="/"),p=!1;for(const h of u)if(h.type===0)c+=h.value;else if(h.type===1){const{value:g,repeatable:D,optional:_}=h,v=g in d?d[g]:"";if(Array.isArray(v)&&!D)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const O=Array.isArray(v)?v.join("/"):v;if(!O)if(_)u.length<2&&(c.endsWith("/")?c=c.slice(0,-1):p=!0);else throw new Error(`Missing required param "${g}"`);c+=O}}return c}return{re:o,score:i,keys:a,parse:s,stringify:l}}function h0(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function m0(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const a=h0(i[n],r[n]);if(a)return a;n++}return r.length-i.length}const g0={type:0,value:""},_0=/[a-zA-Z0-9_]/;function x0(e){if(!e)return[[]];if(e==="/")return[[g0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${d}": ${h}`)}let n=0,i=n;const r=[];let a;function o(){a&&r.push(a),a=[]}let s=0,l,d="",c="";function p(){!d||(n===0?a.push({type:0,value:d}):n===1||n===2||n===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:d,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),d="")}function u(){d+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(d&&p(),o()):l===":"?(p(),n=1):u();break;case 4:u(),n=i;break;case 1:l==="("?n=2:_0.test(l)?u():(p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),p(),o(),r}function v0(e,t,n){const i=f0(x0(e.path),n),r=Ct(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function b0(e,t){const n=[],i=new Map;t=Pp({strict:!1,end:!0,sensitive:!1},t);function r(c){return i.get(c)}function a(c,p,u){let h=!u,g=w0(c);g.aliasOf=u&&u.record;const D=Pp(t,c),_=[g];if("alias"in c){const F=typeof c.alias=="string"?[c.alias]:c.alias;for(const Y of F)_.push(Ct({},g,{components:u?u.record.components:g.components,path:Y,aliasOf:u?u.record:g}))}let v,O;for(const F of _){let{path:Y}=F;if(p&&Y[0]!=="/"){let V=p.record.path,Q=V[V.length-1]==="/"?"":"/";F.path=p.record.path+(Y&&Q+Y)}if(v=v0(F,p,D),u?u.alias.push(v):(O=O||v,O!==v&&O.alias.push(v),h&&c.name&&!Op(v)&&o(c.name)),"children"in g){let V=g.children;for(let Q=0;Q<V.length;Q++)a(V[Q],v,u&&u.children[Q])}u=u||v,l(v)}return O?()=>{o(O)}:to}function o(c){if(dh(c)){const p=i.get(c);p&&(i.delete(c),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{let p=n.indexOf(c);p>-1&&(n.splice(p,1),c.record.name&&i.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function s(){return n}function l(c){let p=0;for(;p<n.length&&m0(c,n[p])>=0;)p++;n.splice(p,0,c),c.record.name&&!Op(c)&&i.set(c.record.name,c)}function d(c,p){let u,h={},g,D;if("name"in c&&c.name){if(u=i.get(c.name),!u)throw dr(1,{location:c});D=u.record.name,h=Ct(y0(p.params,u.keys.filter(O=>!O.optional).map(O=>O.name)),c.params),g=u.stringify(h)}else if("path"in c)g=c.path,u=n.find(O=>O.re.test(g)),u&&(h=u.parse(g),D=u.record.name);else{if(u=p.name?i.get(p.name):n.find(O=>O.re.test(p.path)),!u)throw dr(1,{location:c,currentLocation:p});D=u.record.name,h=Ct({},p.params,c.params),g=u.stringify(h)}const _=[];let v=u;for(;v;)_.unshift(v.record),v=v.parent;return{name:D,path:g,params:h,matched:_,meta:E0(_)}}return e.forEach(c=>a(c)),{addRoute:a,resolve:d,removeRoute:o,getRoutes:s,getRecordMatcher:r}}function y0(e,t){let n={};for(let i of t)i in e&&(n[i]=e[i]);return n}function w0(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:C0(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function C0(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function Op(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function E0(e){return e.reduce((t,n)=>Ct(t,n.meta),{})}function Pp(e,t){let n={};for(let i in e)n[i]=i in t?t[i]:e[i];return n}const ph=/#/g,S0=/&/g,R0=/\//g,T0=/=/g,k0=/\?/g,uh=/\+/g,I0=/%5B/g,A0=/%5D/g,fh=/%5E/g,D0=/%60/g,hh=/%7B/g,O0=/%7C/g,mh=/%7D/g,P0=/%20/g;function Pd(e){return encodeURI(""+e).replace(O0,"|").replace(I0,"[").replace(A0,"]")}function N0(e){return Pd(e).replace(hh,"{").replace(mh,"}").replace(fh,"^")}function Dl(e){return Pd(e).replace(uh,"%2B").replace(P0,"+").replace(ph,"%23").replace(S0,"%26").replace(D0,"`").replace(hh,"{").replace(mh,"}").replace(fh,"^")}function M0(e){return Dl(e).replace(T0,"%3D")}function F0(e){return Pd(e).replace(ph,"%23").replace(k0,"%3F")}function L0(e){return F0(e).replace(R0,"%2F")}function vo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function z0(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const a=i[r].replace(uh," ");let o=a.indexOf("="),s=vo(o<0?a:a.slice(0,o)),l=o<0?null:vo(a.slice(o+1));if(s in t){let d=t[s];Array.isArray(d)||(d=t[s]=[d]),d.push(l)}else t[s]=l}return t}function Np(e){let t="";for(let n in e){t.length&&(t+="&");const i=e[n];if(n=M0(n),i==null){i!==void 0&&(t+=n);continue}let r=Array.isArray(i)?i.map(a=>a&&Dl(a)):[i&&Dl(i)];for(let a=0;a<r.length;a++)t+=(a?"&":"")+n,r[a]!=null&&(t+="="+r[a])}return t}function Y0(e){const t={};for(let n in e){let i=e[n];i!==void 0&&(t[n]=Array.isArray(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}function Nr(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Fn(e,t,n,i,r){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,s)=>{const l=p=>{p===!1?s(dr(4,{from:n,to:t})):p instanceof Error?s(p):c0(p)?s(dr(2,{from:t,to:p})):(a&&i.enterCallbacks[r]===a&&typeof p=="function"&&a.push(p),o())},d=e.call(i&&i.instances[r],t,n,l);let c=Promise.resolve(d);e.length<3&&(c=c.then(l)),c.catch(p=>s(p))})}function Js(e,t,n,i){const r=[];for(const a of e)for(const o in a.components){let s=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(B0(s)){const d=(s.__vccOpts||s)[t];d&&r.push(Fn(d,n,i,a,o))}else{let l=s();l=l.catch(console.error),r.push(()=>l.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${a.path}"`));const c=Vv(d)?d.default:d;a.components[o]=c;const u=(c.__vccOpts||c)[t];return u&&Fn(u,n,i,a,o)()}))}}return r}function B0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function W0(e){const t=Ve(is),n=Ve(ah),i=We(()=>t.resolve($r(e.to))),r=We(()=>{let{matched:l}=i.value,{length:d}=l;const c=l[d-1];let p=n.matched;if(!c||!p.length)return-1;let u=p.findIndex(lr.bind(null,c));if(u>-1)return u;let h=Mp(l[d-2]);return d>1&&Mp(c)===h&&p[p.length-1].path!==h?p.findIndex(lr.bind(null,l[d-2])):u}),a=We(()=>r.value>-1&&H0(n.params,i.value.params)),o=We(()=>r.value>-1&&r.value===n.matched.length-1&&oh(n.params,i.value.params));function s(l={}){return U0(l)?t[$r(e.replace)?"replace":"push"]($r(e.to)):Promise.resolve()}return{route:i,href:We(()=>i.value.href),isActive:a,isExactActive:o,navigate:s}}const j0=kd({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t}){const n=sn(W0(e)),{options:i}=Ve(is),r=We(()=>({[Fp(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Fp(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&t.default(n);return e.custom?a:Qf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},a)}}}),$0=j0;function U0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function H0(e,t){for(let n in t){let i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Array.isArray(r)||r.length!==i.length||i.some((a,o)=>a!==r[o]))return!1}return!0}function Mp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Fp=(e,t,n)=>e!=null?e:t!=null?t:n,V0=kd({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const i=Ve(Il),r=We(()=>e.route||i.value),a=Ve(Ep,0),o=We(()=>r.value.matched[a]);Za(Ep,a+1),Za(Hv,o),Za(Il,r);const s=Yt();return tr(()=>[s.value,o.value,e.name],([l,d,c],[p,u,h])=>{d&&(d.instances[c]=l,u&&u!==d&&l&&l===p&&(d.leaveGuards.size||(d.leaveGuards=u.leaveGuards),d.updateGuards.size||(d.updateGuards=u.updateGuards))),l&&d&&(!u||!lr(d,u)||!p)&&(d.enterCallbacks[c]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=r.value,d=o.value,c=d&&d.components[e.name],p=e.name;if(!c)return Lp(n.default,{Component:c,route:l});const u=d.props[e.name],h=u?u===!0?l.params:typeof u=="function"?u(l):u:null,D=Qf(c,Ct({},h,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[p]=null)},ref:s}));return Lp(n.default,{Component:D,route:l})||D}}});function Lp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const G0=V0;function K0(e){const t=b0(e.routes,e);let n=e.parseQuery||z0,i=e.stringifyQuery||Np,r=e.history;const a=Nr(),o=Nr(),s=Nr(),l=V_(si);let d=si;qi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=qs.bind(null,y=>""+y),p=qs.bind(null,L0),u=qs.bind(null,vo);function h(y,z){let P,U;return dh(y)?(P=t.getRecordMatcher(y),U=z):U=y,t.addRoute(U,P)}function g(y){let z=t.getRecordMatcher(y);z&&t.removeRoute(z)}function D(){return t.getRoutes().map(y=>y.record)}function _(y){return!!t.getRecordMatcher(y)}function v(y,z){if(z=Ct({},z||l.value),typeof y=="string"){let at=Qs(n,y,z.path),f=t.resolve({path:at.path},z),m=r.createHref(at.fullPath);return Ct(at,f,{params:u(f.params),hash:vo(at.hash),redirectedFrom:void 0,href:m})}let P;"path"in y?P=Ct({},y,{path:Qs(n,y.path,z.path).path}):(P=Ct({},y,{params:p(y.params)}),z.params=p(z.params));let U=t.resolve(P,z);const It=y.hash||"";U.params=c(u(U.params));const At=qv(i,Ct({},y,{hash:N0(It),path:U.path}));let rt=r.createHref(At);return Ct({fullPath:At,hash:It,query:i===Np?Y0(y.query):y.query},U,{redirectedFrom:void 0,href:rt})}function O(y){return typeof y=="string"?Qs(n,y,l.value.path):Ct({},y)}function F(y,z){if(d!==y)return dr(8,{from:z,to:y})}function Y(y){return K(y)}function V(y){return Y(Ct(O(y),{replace:!0}))}function Q(y){const z=y.matched[y.matched.length-1];if(z&&z.redirect){const{redirect:P}=z;let U=typeof P=="function"?P(y):P;return typeof U=="string"&&(U=U.indexOf("?")>-1||U.indexOf("#")>-1?U=O(U):{path:U}),Ct({query:y.query,hash:y.hash,params:y.params},U)}}function K(y,z){const P=d=v(y),U=l.value,It=y.state,At=y.force,rt=y.replace===!0,at=Q(P);if(at)return K(Ct(O(at),{state:It,force:At,replace:rt}),z||P);const f=P;f.redirectedFrom=z;let m;return!At&&Qv(i,U,P)&&(m=dr(16,{to:f,from:U}),Bi(U,U,!0,!1)),(m?Promise.resolve(m):it(f,U)).catch(x=>Pr(x)?x:wt(x)).then(x=>{if(x){if(Pr(x,2))return K(Ct(O(x.to),{state:It,force:At,replace:rt}),z||f)}else x=Bt(f,U,!0,rt,It);return kt(f,U,x),x})}function Tt(y,z){const P=F(y,z);return P?Promise.reject(P):Promise.resolve()}function it(y,z){let P;const[U,It,At]=q0(y,z);P=Js(U.reverse(),"beforeRouteLeave",y,z);for(const at of U)at.leaveGuards.forEach(f=>{P.push(Fn(f,y,z))});const rt=Tt.bind(null,y,z);return P.push(rt),ji(P).then(()=>{P=[];for(const at of a.list())P.push(Fn(at,y,z));return P.push(rt),ji(P)}).then(()=>{P=Js(It,"beforeRouteUpdate",y,z);for(const at of It)at.updateGuards.forEach(f=>{P.push(Fn(f,y,z))});return P.push(rt),ji(P)}).then(()=>{P=[];for(const at of y.matched)if(at.beforeEnter&&z.matched.indexOf(at)<0)if(Array.isArray(at.beforeEnter))for(const f of at.beforeEnter)P.push(Fn(f,y,z));else P.push(Fn(at.beforeEnter,y,z));return P.push(rt),ji(P)}).then(()=>(y.matched.forEach(at=>at.enterCallbacks={}),P=Js(At,"beforeRouteEnter",y,z),P.push(rt),ji(P))).then(()=>{P=[];for(const at of o.list())P.push(Fn(at,y,z));return P.push(rt),ji(P)}).catch(at=>Pr(at,8)?at:Promise.reject(at))}function kt(y,z,P){for(const U of s.list())U(y,z,P)}function Bt(y,z,P,U,It){const At=F(y,z);if(At)return At;const rt=z===si,at=qi?history.state:{};P&&(U||rt?r.replace(y.fullPath,Ct({scroll:rt&&at&&at.scroll},It)):r.push(y.fullPath,It)),l.value=y,Bi(y,z,P,rt),Re()}let et;function Lt(){et=r.listen((y,z,P)=>{let U=v(y);const It=Q(U);if(It){K(Ct(It,{replace:!0}),U).catch(to);return}d=U;const At=l.value;qi&&i0(kp(At.fullPath,P.delta),rs()),it(U,At).catch(rt=>Pr(rt,12)?rt:Pr(rt,2)?(K(rt.to,U).catch(to),Promise.reject()):(P.delta&&r.go(-P.delta,!1),wt(rt))).then(rt=>{rt=rt||Bt(U,At,!1),rt&&P.delta&&r.go(-P.delta,!1),kt(U,At,rt)}).catch(to)})}let Ht=Nr(),Yi=Nr(),jt;function wt(y){return Re(y),Yi.list().forEach(z=>z(y)),Promise.reject(y)}function _t(){return jt&&l.value!==si?Promise.resolve():new Promise((y,z)=>{Ht.add([y,z])})}function Re(y){jt||(jt=!0,Lt(),Ht.list().forEach(([z,P])=>y?P(y):z()),Ht.reset())}function Bi(y,z,P,U){const{scrollBehavior:It}=e;if(!qi||!It)return Promise.resolve();let At=!P&&r0(kp(y.fullPath,0))||(U||!P)&&history.state&&history.state.scroll||null;return yf().then(()=>It(y,z,At)).then(rt=>rt&&n0(rt)).catch(wt)}const gn=y=>r.go(y);let Xe;const Te=new Set;return{currentRoute:l,addRoute:h,removeRoute:g,hasRoute:_,getRoutes:D,resolve:v,options:e,push:Y,replace:V,go:gn,back:()=>gn(-1),forward:()=>gn(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:Yi.add,isReady:_t,install(y){const z=this;y.component("RouterLink",$0),y.component("RouterView",G0),y.config.globalProperties.$router=z,Object.defineProperty(y.config.globalProperties,"$route",{get:()=>$r(l)}),qi&&!Xe&&l.value===si&&(Xe=!0,Y(r.location).catch(It=>{}));const P={};for(let It in si)P[It]=We(()=>l.value[It]);y.provide(is,z),y.provide(ah,sn(P)),y.provide(Il,l);let U=y.unmount;Te.add(y),y.unmount=function(){Te.delete(y),Te.size<1&&(et(),l.value=si,Xe=!1,jt=!1),U()}}}}function ji(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function q0(e,t){const n=[],i=[],r=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){const s=t.matched[o];s&&(e.matched.find(d=>lr(d,s))?i.push(s):n.push(s));const l=e.matched[o];l&&(t.matched.find(d=>lr(d,l))||r.push(l))}return[n,i,r]}function vr(){return Ve(is)}var Q0=Object.defineProperty,zp=Object.getOwnPropertySymbols,J0=Object.prototype.hasOwnProperty,Z0=Object.prototype.propertyIsEnumerable,Yp=(e,t,n)=>t in e?Q0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X0=(e,t)=>{for(var n in t||(t={}))J0.call(t,n)&&Yp(e,n,t[n]);if(zp)for(var n of zp(t))Z0.call(t,n)&&Yp(e,n,t[n]);return e},gh="usehead",Bp="head:count",Zs="data-head-attrs",t1=(e,t,n)=>{const i=n.createElement(e);for(const r of Object.keys(t)){let a=t[r];r==="key"||a===!1||(r==="children"?i.textContent=a:i.setAttribute(r,a))}return i};function e1(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const n=t.getAttribute("nonce");if(n&&!e.getAttribute("nonce")){const i=t.cloneNode(!0);return i.setAttribute("nonce",""),i.nonce=n,n===e.nonce&&e.isEqualNode(i)}}return e.isEqualNode(t)}var n1=e=>{const t=["key","id","name","property"];for(const n of t){const i=typeof e.getAttribute=="function"?e.hasAttribute(n)?e.getAttribute(n):void 0:e[n];if(i!==void 0)return{name:n,value:i}}},i1=()=>{const e=Ve(gh);if(!e)throw new Error("You may forget to apply app.use(head)");return e},r1=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],a1=e=>{const t=[];for(const n of Object.keys(e))if(e[n]!=null){if(n==="title")t.push({tag:n,props:{children:e[n]}});else if(n==="base")t.push({tag:n,props:X0({key:"default"},e[n])});else if(r1.includes(n)){const i=e[n];Array.isArray(i)?i.forEach(r=>{t.push({tag:n,props:r})}):i&&t.push({tag:n,props:i})}}return t},Wp=(e,t)=>{const n=e.getAttribute(Zs);if(n)for(const r of n.split(","))r in t||e.removeAttribute(r);const i=[];for(const r in t){const a=t[r];a!=null&&(a===!1?e.removeAttribute(r):e.setAttribute(r,a),i.push(r))}i.length?e.setAttribute(Zs,i.join(",")):e.removeAttribute(Zs)},o1=(e=window.document,t,n)=>{var i;const r=e.head;let a=r.querySelector(`meta[name="${Bp}"]`);const o=a?Number(a.getAttribute("content")):0,s=[];if(a)for(let d=0,c=a.previousElementSibling;d<o;d++,c=(c==null?void 0:c.previousElementSibling)||null)((i=c==null?void 0:c.tagName)==null?void 0:i.toLowerCase())===t&&s.push(c);else a=e.createElement("meta"),a.setAttribute("name",Bp),a.setAttribute("content","0"),r.append(a);let l=n.map(d=>t1(d.tag,d.props,e));l=l.filter(d=>{for(let c=0;c<s.length;c++){const p=s[c];if(e1(p,d))return s.splice(c,1),!1}return!0}),s.forEach(d=>{var c;return(c=d.parentNode)==null?void 0:c.removeChild(d)}),l.forEach(d=>{r.insertBefore(d,a)}),a.setAttribute("content",""+(o-s.length+l.length))},s1=()=>{let e=[],t=new Set;const n={install(i){i.config.globalProperties.$head=n,i.provide(gh,n)},get headTags(){const i=[];return e.forEach(r=>{a1(r.value).forEach(o=>{if(o.tag==="meta"||o.tag==="base"||o.tag==="script"){const s=n1(o.props);if(s){let l=-1;for(let d=0;d<i.length;d++){const c=i[d],p=c.props[s.name],u=o.props[s.name];if(c.tag===o.tag&&p===u){l=d;break}}l!==-1&&i.splice(l,1)}}i.push(o)})}),i},addHeadObjs(i){e.push(i)},removeHeadObjs(i){e=e.filter(r=>r!==i)},updateDOM(i=window.document){let r,a={},o={};const s={};for(const d of n.headTags){if(d.tag==="title"){r=d.props.children;continue}if(d.tag==="htmlAttrs"){Object.assign(a,d.props);continue}if(d.tag==="bodyAttrs"){Object.assign(o,d.props);continue}s[d.tag]=s[d.tag]||[],s[d.tag].push(d)}r!==void 0&&(i.title=r),Wp(i.documentElement,a),Wp(i.body,o);const l=new Set([...Object.keys(s),...t]);for(const d of l)o1(i,d,s[d]||[]);t.clear(),Object.keys(s).forEach(d=>t.add(d))}};return n},l1=typeof window!="undefined",Nd=e=>{const t=Yt(e),n=i1();n.addHeadObjs(t),l1&&(vx(()=>{n.updateDOM()}),Of(()=>{n.removeHeadObjs(t),n.updateDOM()}))};function d1(e){try{return JSON.parse(e||"{}")}catch(t){return console.error("[SSG] On state deserialization -",t,e),{}}}function c1(e){return document.readyState==="loading"?new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>t(e))}):Promise.resolve(e)}const p1=kd({setup(e,{slots:t}){const n=Yt(!1);return Df(()=>n.value=!0),()=>n.value&&t.default&&t.default({})}});function u1(e,t,n,i={}){const{transformState:r,registerComponents:a=!0,useHead:o=!0,rootContainer:s="#app"}=i,l=typeof window!="undefined";async function d(c=!1,p){var K,Tt;const u=c?$v(e):Uv(e);let h;o&&(h=s1(),u.use(h));const g=K0({history:c?l0(t.base):d0(t.base),...t}),{routes:D}=t;a&&u.component("ClientOnly",c?p1:{render:()=>null});const _=[],F={app:u,head:h,isClient:l,router:g,routes:D,onSSRAppRendered:c?()=>{}:it=>_.push(it),triggerOnSSRAppRendered:()=>Promise.all(_.map(it=>it())),initialState:{},transformState:r,routePath:p};c&&(await c1(),F.initialState=(r==null?void 0:r(window.__INITIAL_STATE__||{}))||d1(window.__INITIAL_STATE__)),await(n==null?void 0:n(F)),u.use(g);let Y,V=!0;if(g.beforeEach((it,kt,Bt)=>{(V||Y&&Y===it.path)&&(V=!1,Y=it.path,it.meta.state=F.initialState),Bt()}),!c){const it=(Tt=(K=F.routePath)!=null?K:t.base)!=null?Tt:"/";g.push(it),await g.isReady(),F.initialState=g.currentRoute.value.meta.state||{}}const Q=F.initialState;return{...F,initialState:Q}}return l&&(async()=>{const{app:c,router:p}=await d(!0);await p.isReady(),c.mount(s,!0)})(),d}const f1="AIzaSyB6WCaZsYoGqeotIkZYvMj_EaeP25E7lMI",h1="socket-game-f530e.firebaseapp.com",m1="https://socket-game-f530e-default-rtdb.firebaseio.com",g1="socket-game-f530e",_1="socket-game-f530e.appspot.com",x1="554022480678",v1="1:554022480678:web:a0949656e777278ae5afe7",b1="G-TN9DBP7TSL";var y1={apiKey:f1,authDomain:h1,databaseURL:m1,projectId:g1,storageBucket:_1,messagingSenderId:x1,appId:v1,measurementId:b1};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(e,t){if(!e)throw br(t)},br=function(e){return new Error("Firebase Database ("+_h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},w1=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=e[n++],o=e[n++],s=e[n++],l=((r&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const a=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return t.join("")},Md={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const a=e[r],o=r+1<e.length,s=o?e[r+1]:0,l=r+2<e.length,d=l?e[r+2]:0,c=a>>2,p=(a&3)<<4|s>>4;let u=(s&15)<<2|d>>6,h=d&63;l||(h=64,o||(u=64)),i.push(n[c],n[p],n[u],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xh(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):w1(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const a=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const d=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,a==null||s==null||d==null||p==null)throw Error();const u=a<<2|s>>4;if(i.push(u),d!==64){const h=s<<4&240|d>>2;if(i.push(h),p!==64){const g=d<<6&192|p;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},vh=function(e){const t=xh(e);return Md.encodeByteArray(t,!0)},bo=function(e){return vh(e).replace(/\./g,"")},jp=function(e){try{return Md.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(e){return da(void 0,e)}function da(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!E1(n)||(e[n]=da(e[n],t[n]));return e}function E1(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[bo(JSON.stringify(n)),bo(JSON.stringify(o)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bh(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R1())}function T1(){return typeof self=="object"&&self.self===self}function k1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yh(){return _h.NODE_ADMIN===!0}function I1(){return typeof indexedDB=="object"}function A1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="FirebaseError";class as extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=D1,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,os.prototype.create)}}class os{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,a=this.errors[t],o=a?O1(a,i):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new as(r,s,i)}}function O1(e,t){return e.replace(P1,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const P1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(e){return JSON.parse(e)}function $t(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=function(e){let t={},n={},i={},r="";try{const a=e.split(".");t=ca(jp(a[0])||""),n=ca(jp(a[1])||""),r=a[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}},N1=function(e){const t=wh(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},M1=function(e){const t=wh(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Si(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Ol(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yo(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Pl(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const a=e[r],o=t[r];if($p(a)&&$p(o)){if(!Pl(a,o))return!1}else if(a!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function $p(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let p=0;p<16;p++)i[p]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let p=16;p<80;p++){const u=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(u<<1|u>>>31)&4294967295}let r=this.chain_[0],a=this.chain_[1],o=this.chain_[2],s=this.chain_[3],l=this.chain_[4],d,c;for(let p=0;p<80;p++){p<40?p<20?(d=s^a&(o^s),c=1518500249):(d=a^o^s,c=1859775393):p<60?(d=a&o|s&(a|o),c=2400959708):(d=a^o^s,c=3395469782);const u=(r<<5|r>>>27)+d+l+c+i[p]&4294967295;l=s,s=o,o=(a<<30|a>>>2)&4294967295,a=r,r=u}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let r=0;const a=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(a[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}else for(;r<n;)if(a[o]=t[r],++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let a=24;a>=0;a-=8)t[i]=this.chain_[r]>>a&255,++i;return t}}function z1(e,t){const n=new Y1(e,t);return n.subscribe.bind(n)}class Y1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");B1(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Xs),r.error===void 0&&(r.error=Xs),r.complete===void 0&&(r.complete=Xs);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B1(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Xs(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(e,t,n,i){let r;if(i<t?r="at least "+t:i>n&&(r=n===0?"none":"no more than "+n),r){const a=e+" failed: Was called with "+i+(i===1?" argument.":" arguments.")+" Expects "+r+".";throw new Error(a)}};function fe(e,t){return`${e} failed: ${t} argument `}function Gt(e,t,n,i){if(!(i&&!n)&&typeof n!="function")throw new Error(fe(e,t)+"must be a valid function.")}function Up(e,t,n,i){if(!(i&&!n)&&(typeof n!="object"||n===null))throw new Error(fe(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const a=r-55296;i++,T(i<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(i)-56320;r=65536+(a<<10)+o}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},ss=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(e){return e&&e._delegate?e._delegate:e}class Zn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new pe;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($1(t))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=pi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pi){return this.instances.has(t)}getOptions(t=pi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);i===s&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&t(o,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:j1(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=pi){return this.component?this.component.multipleInstances?t:pi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j1(e){return e===pi?void 0:e}function $1(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ch(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=[];var vt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(vt||(vt={}));const Sh={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},U1=vt.INFO,H1={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},V1=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=H1[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ls{constructor(t){this.name=t,this._logLevel=U1,this._logHandler=V1,this._userLogHandler=null,Fd.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Sh[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...t),this._logHandler(this,vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...t),this._logHandler(this,vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...t),this._logHandler(this,vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...t),this._logHandler(this,vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...t),this._logHandler(this,vt.ERROR,...t)}}function G1(e){Fd.forEach(t=>{t.setLogLevel(e)})}function K1(e,t){for(const n of Fd){let i=null;t&&t.level&&(i=Sh[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(r,a,...o)=>{const s=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");a>=(i!=null?i:r.logLevel)&&e({level:vt[a].toLowerCase(),message:s,args:o,type:r.name})}}}const q1=(e,t)=>t.some(n=>e instanceof n);let Hp,Vp;function Q1(){return Hp||(Hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J1(){return Vp||(Vp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rh=new WeakMap,Nl=new WeakMap,Th=new WeakMap,tl=new WeakMap,Ld=new WeakMap;function Z1(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n($n(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Rh.set(n,e)}).catch(()=>{}),Ld.set(t,e),t}function X1(e){if(Nl.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});Nl.set(e,t)}let Ml={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Nl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Th.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function t2(e){Ml=e(Ml)}function e2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(el(this),t,...n);return Th.set(i,t.sort?t.sort():[t]),$n(i)}:J1().includes(e)?function(...t){return e.apply(el(this),t),$n(Rh.get(this))}:function(...t){return $n(e.apply(el(this),t))}}function n2(e){return typeof e=="function"?e2(e):(e instanceof IDBTransaction&&X1(e),q1(e,Q1())?new Proxy(e,Ml):e)}function $n(e){if(e instanceof IDBRequest)return Z1(e);if(tl.has(e))return tl.get(e);const t=n2(e);return t!==e&&(tl.set(e,t),Ld.set(t,e)),t}const el=e=>Ld.get(e);function i2(e,t,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const o=indexedDB.open(e,t),s=$n(o);return i&&o.addEventListener("upgradeneeded",l=>{i($n(o.result),l.oldVersion,l.newVersion,$n(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),s.then(l=>{a&&l.addEventListener("close",()=>a()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),s}const r2=["get","getKey","getAll","getAllKeys","count"],a2=["put","add","delete","clear"],nl=new Map;function Gp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(nl.get(t))return nl.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=a2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||r2.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,r?"readwrite":"readonly");let d=l.store;return i&&(d=d.index(s.shift())),(await Promise.all([d[n](...s),r&&l.done]))[0]};return nl.set(t,a),a}t2(e=>({...e,get:(t,n,i)=>Gp(t,n)||e.get(t,n,i),has:(t,n)=>!!Gp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function s2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fl="@firebase/app",Kp="0.7.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new ls("@firebase/app"),l2="@firebase/app-compat",d2="@firebase/analytics-compat",c2="@firebase/analytics",p2="@firebase/app-check-compat",u2="@firebase/app-check",f2="@firebase/auth",h2="@firebase/auth-compat",m2="@firebase/database",g2="@firebase/database-compat",_2="@firebase/functions",x2="@firebase/functions-compat",v2="@firebase/installations",b2="@firebase/installations-compat",y2="@firebase/messaging",w2="@firebase/messaging-compat",C2="@firebase/performance",E2="@firebase/performance-compat",S2="@firebase/remote-config",R2="@firebase/remote-config-compat",T2="@firebase/storage",k2="@firebase/storage-compat",I2="@firebase/firestore",A2="@firebase/firestore-compat",D2="firebase",O2="9.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]",P2={[Fl]:"fire-core",[l2]:"fire-core-compat",[c2]:"fire-analytics",[d2]:"fire-analytics-compat",[u2]:"fire-app-check",[p2]:"fire-app-check-compat",[f2]:"fire-auth",[h2]:"fire-auth-compat",[m2]:"fire-rtdb",[g2]:"fire-rtdb-compat",[_2]:"fire-fn",[x2]:"fire-fn-compat",[v2]:"fire-iid",[b2]:"fire-iid-compat",[y2]:"fire-fcm",[w2]:"fire-fcm-compat",[C2]:"fire-perf",[E2]:"fire-perf-compat",[S2]:"fire-rc",[R2]:"fire-rc-compat",[T2]:"fire-gcs",[k2]:"fire-gcs-compat",[I2]:"fire-fst",[A2]:"fire-fst-compat","fire-js":"fire-js",[D2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Map,pa=new Map;function wo(e,t){try{e.container.addComponent(t)}catch(n){zd.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function kh(e,t){e.container.addOrOverwriteComponent(t)}function cr(e){const t=e.name;if(pa.has(t))return zd.debug(`There were multiple attempts to register component ${t}.`),!1;pa.set(t,e);for(const n of Xn.values())wo(n,e);return!0}function Ih(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function N2(e,t,n=Ri){Ih(e,t).clearInstance(n)}function M2(){pa.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ti=new os("app","Firebase",F2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=O2;function Ah(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:Ri,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw ti.create("bad-app-name",{appName:String(i)});const r=Xn.get(i);if(r){if(Pl(e,r.options)&&Pl(n,r.config))return r;throw ti.create("duplicate-app",{appName:i})}const a=new Eh(i);for(const s of pa.values())a.addComponent(s);const o=new L2(e,n,a);return Xn.set(i,o),o}function z2(e=Ri){const t=Xn.get(e);if(!t)throw ti.create("no-app",{appName:e});return t}function Y2(){return Array.from(Xn.values())}async function Dh(e){const t=e.name;Xn.has(t)&&(Xn.delete(t),await Promise.all(e.container.getProviders().map(n=>n.delete())),e.isDeleted=!0)}function Un(e,t,n){var i;let r=(i=P2[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const s=[`Unable to register library "${r}" with version "${t}":`];a&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zd.warn(s.join(" "));return}cr(new Zn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function Oh(e,t){if(e!==null&&typeof e!="function")throw ti.create("invalid-log-argument");K1(e,t)}function Ph(e){G1(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firebase-heartbeat-database",W2=1,ua="firebase-heartbeat-store";let il=null;function Nh(){return il||(il=i2(B2,W2,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ua)}}}).catch(e=>{throw ti.create("storage-open",{originalErrorMessage:e.message})})),il}async function j2(e){var t;try{return(await Nh()).transaction(ua).objectStore(ua).get(Mh(e))}catch(n){throw ti.create("storage-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message})}}async function qp(e,t){var n;try{const r=(await Nh()).transaction(ua,"readwrite");return await r.objectStore(ua).put(t,Mh(e)),r.done}catch(i){throw ti.create("storage-set",{originalErrorMessage:(n=i)===null||n===void 0?void 0:n.message})}}function Mh(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1024,U2=30*24*60*60*1e3;class H2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Qp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const a=new Date(r.date).valueOf();return Date.now()-a<=U2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qp(),{heartbeatsToSend:n,unsentEntries:i}=V2(this._heartbeatsCache.heartbeats),r=bo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Qp(){return new Date().toISOString().substring(0,10)}function V2(e,t=$2){const n=[];let i=e.slice();for(const r of e){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),Jp(n)>t){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Jp(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class G2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I1()?A1().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await j2(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return qp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return qp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Jp(e){return bo(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(e){cr(new Zn("platform-logger",t=>new o2(t),"PRIVATE")),cr(new Zn("heartbeat",t=>new H2(t),"PRIVATE")),Un(Fl,Kp,e),Un(Fl,Kp,"esm2017"),Un("fire-js","")}K2("");var q2=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:Yd,_DEFAULT_ENTRY_NAME:Ri,_addComponent:wo,_addOrOverwriteComponent:kh,_apps:Xn,_clearComponents:M2,_components:pa,_getProvider:Ih,_registerComponent:cr,_removeServiceInstance:N2,deleteApp:Dh,getApp:z2,getApps:Y2,initializeApp:Ah,onLog:Oh,registerVersion:Un,setLogLevel:Ph,FirebaseError:as},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,n){this._delegate=t,this.firebase=n,wo(t,new Zn("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Dh(this._delegate)))}_getService(t,n=Ri){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(t,n=Ri){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){wo(this._delegate,t)}_addOrOverwriteComponent(t){kh(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},Zp=new os("app-compat","Firebase",J2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(e){const t={},n={__esModule:!0,initializeApp:a,app:r,registerVersion:Un,setLogLevel:Ph,onLog:Oh,apps:null,SDK_VERSION:Yd,INTERNAL:{registerComponent:s,removeApp:i,useAsService:l,modularAPIs:q2}};n.default=n,Object.defineProperty(n,"apps",{get:o});function i(d){delete t[d]}function r(d){if(d=d||Ri,!Ce(t,d))throw Zp.create("no-app",{appName:d});return t[d]}r.App=e;function a(d,c={}){const p=Ah(d,c);if(Ce(t,p.name))return t[p.name];const u=new e(p,n);return t[p.name]=u,u}function o(){return Object.keys(t).map(d=>t[d])}function s(d){const c=d.name,p=c.replace("-compat","");if(cr(d)&&d.type==="PUBLIC"){const u=(h=r())=>{if(typeof h[p]!="function")throw Zp.create("invalid-app-argument",{appName:c});return h[p]()};d.serviceProps!==void 0&&da(u,d.serviceProps),n[p]=u,e.prototype[p]=function(...h){return this._getService.bind(this,c).apply(this,d.multipleInstances?h:[])}}return d.type==="PUBLIC"?n[p]:null}function l(d,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(){const e=Z2(Q2);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:Fh,extendNamespace:t,createSubscribe:z1,ErrorFactory:os,deepExtend:da});function t(n){da(e,n)}return e}const X2=Fh();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new ls("@firebase/app-compat"),tb="@firebase/app-compat",eb="0.1.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e){Un(tb,eb,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(T1()&&self.firebase!==void 0){Xp.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Xp.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const In=X2;nb();var ib="firebase",rb="9.8.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.registerVersion(ib,rb,"app-compat");const tu="@firebase/database",eu="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh="";function zh(e){Lh=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),$t(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ca(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Ce(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=function(e){try{if(typeof window!="undefined"&&typeof window[e]!="undefined"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ab(t)}}catch{}return new ob},mi=Yh("localStorage"),Ll=Yh("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new ls("@firebase/database"),Bh=function(){let e=1;return function(){return e++}}(),Wh=function(e){const t=W1(e),n=new L1;n.update(t);const i=n.digest();return Md.encodeByteArray(i)},Sa=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Sa.apply(null,i):typeof i=="object"?t+=$t(i):t+=i,t+=" "}return t};let wi=null,nu=!0;const jh=function(e,t){T(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(er.logLevel=vt.VERBOSE,wi=er.log.bind(er),t&&Ll.set("logging_enabled",!0)):typeof e=="function"?wi=e:(wi=null,Ll.remove("logging_enabled"))},qt=function(...e){if(nu===!0&&(nu=!1,wi===null&&Ll.get("logging_enabled")===!0&&jh(!0)),wi){const t=Sa.apply(null,e);wi(t)}},Ra=function(e){return function(...t){qt(e,...t)}},zl=function(...e){const t="FIREBASE INTERNAL ERROR: "+Sa(...e);er.error(t)},dn=function(...e){const t=`FIREBASE FATAL ERROR: ${Sa(...e)}`;throw er.error(t),new Error(t)},ee=function(...e){const t="FIREBASE WARNING: "+Sa(...e);er.warn(t)},sb=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ee("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ds=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},lb=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Rn="[MIN_NAME]",cn="[MAX_NAME]",Ni=function(e,t){if(e===t)return 0;if(e===Rn||t===cn)return-1;if(t===Rn||e===cn)return 1;{const n=Co(e),i=Co(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},db=function(e,t){return e===t?0:e<t?-1:1},Mr=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$t(t))},Bd=function(e){if(typeof e!="object"||e===null)return $t(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=$t(t[i]),n+=":",n+=Bd(e[t[i]]);return n+="}",n},$h=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Qt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Uh=function(e){T(!ds(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,a,o,s,l;e===0?(a=0,o=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),i),a=s+i,o=Math.round(e*Math.pow(2,n-s)-Math.pow(2,n))):(a=0,o=Math.round(e/Math.pow(2,1-i-n))));const d=[];for(l=n;l;l-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)d.push(a%2?1:0),a=Math.floor(a/2);d.push(r?1:0),d.reverse();const c=d.join("");let p="";for(l=0;l<64;l+=8){let u=parseInt(c.substr(l,8),2).toString(16);u.length===1&&(u="0"+u),p=p+u}return p.toLowerCase()},cb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ub(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const fb=new RegExp("^-?(0*)\\d{1,10}$"),Hh=-2147483648,Wd=2147483647,Co=function(e){if(fb.test(e)){const t=Number(e);if(t>=Hh&&t<=Wd)return t}return null},yr=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw ee("Exception was thrown by user callback.",n),t},Math.floor(0))}},hb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qr=function(e,t){const n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ee(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ee(t)}}class nr{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}nr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="5",Vh="v",Gh="s",Kh="r",qh="f",Qh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jh="ls",Zh="p",Yl="ac",Xh="websocket",tm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,n,i,r,a=!1,o="",s=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&mi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function _b(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function nm(e,t,n){T(typeof t=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let i;if(t===Xh)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===tm)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);_b(e)&&(n.ns=e.namespace);const r=[];return Qt(n,(a,o)=>{r.push(a+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.counters_={}}incrementCounter(t,n=1){Ce(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return C1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl={},al={};function $d(e){const t=e.toString();return rl[t]||(rl[t]=new xb),rl[t]}function vb(e,t){const n=e.toString();return al[n]||(al[n]=t()),al[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&yr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="start",yb="close",wb="pLPCommand",Cb="pRTLPCB",im="id",rm="pw",am="ser",Eb="cb",Sb="seg",Rb="ts",Tb="d",kb="dframe",om=1870,sm=30,Ib=om-sm,Ab=25e3,Db=3e4;class Ln{constructor(t,n,i,r,a,o,s){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ra(t),this.stats_=$d(n),this.urlFn=l=>(this.appCheckToken&&(l[Yl]=this.appCheckToken),nm(n,tm,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bb(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Db)),lb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ud((...a)=>{const[o,s,l,d,c]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===iu)this.id=s,this.password=l;else if(o===yb)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,s]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,s)},()=>{this.onClosed_()},this.urlFn);const i={};i[iu]="t",i[am]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Eb]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Vh]=jd,this.transportSessionId&&(i[Gh]=this.transportSessionId),this.lastSessionId&&(i[Jh]=this.lastSessionId),this.applicationId&&(i[Zh]=this.applicationId),this.appCheckToken&&(i[Yl]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&Qh.test(location.hostname)&&(i[Kh]=qh);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ln.forceAllow_=!0}static forceDisallow(){Ln.forceDisallow_=!0}static isAvailable(){return Ln.forceAllow_?!0:!Ln.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!cb()&&!pb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=$t(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=vh(n),r=$h(i,Ib);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[kb]="t",i[im]=t,i[rm]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=$t(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ud{constructor(t,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Bh(),window[wb+this.uniqueCallbackIdentifier]=t,window[Cb+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ud.createIFrame_();let a="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const s=document.domain;a='<script>document.domain="'+s+'";<\/script>'}const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){qt("frame writing exception"),s.stack&&qt(s.stack),qt(s)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qt("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[im]=this.myID,t[rm]=this.myPW,t[am]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sm+i.length<=om;){const o=this.pendingSegs.shift();i=i+"&"+Sb+r+"="+o.seg+"&"+Rb+r+"="+o.ts+"&"+Tb+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(Ab)),a=()=>{clearTimeout(r),i()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{qt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=16384,Pb=45e3;let Eo=null;typeof MozWebSocket!="undefined"?Eo=MozWebSocket:typeof WebSocket!="undefined"&&(Eo=WebSocket);class Ae{constructor(t,n,i,r,a,o,s){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ra(this.connId),this.stats_=$d(n),this.connURL=Ae.connectionURL_(n,o,s,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,r,a){const o={};return o[Vh]=jd,typeof location!="undefined"&&location.hostname&&Qh.test(location.hostname)&&(o[Kh]=qh),n&&(o[Gh]=n),i&&(o[Jh]=i),r&&(o[Yl]=r),a&&(o[Zh]=a),nm(t,Xh,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mi.set("previous_websocket_failure",!0);try{let i;yh(),this.mySock=new Eo(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ae.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Eo!==null&&!Ae.forceDisallow_}static previouslyFailed(){return mi.isInMemoryStorage||mi.get("previous_websocket_failure")===!0}markConnectionHealthy(){mi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ca(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(T(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=$t(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=$h(n,Ob);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Pb))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ae.responsesRequiredToBeHealthy=2;Ae.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ln,Ae]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Ae&&Ae.isAvailable();let i=n&&!Ae.previouslyFailed();if(t.webSocketOnly&&(n||ee("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ae];else{const r=this.transports_=[];for(const a of pr.ALL_TRANSPORTS)a&&a.isAvailable()&&r.push(a);pr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=6e4,Mb=5e3,Fb=10*1024,Lb=100*1024,ol="t",ru="d",zb="s",au="r",Yb="e",ou="o",su="a",lu="n",du="p",Bb="h";class Wb{constructor(t,n,i,r,a,o,s,l,d,c){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=l,this.onKill_=d,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ra("c:"+this.id+":"),this.transportManager_=new pr(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Qr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Lb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Fb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ol in t){const n=t[ol];n===su?this.upgradeIfSecondaryHealthy_():n===au?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ou&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Mr("t",t),i=Mr("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:du,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:su,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lu,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Mr("t",t),i=Mr("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Mr(ol,t);if(ru in t){const i=t[ru];if(n===Bb)this.onHandshake_(i);else if(n===lu){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zb?this.onConnectionShutdown_(i):n===au?this.onReset_(i):n===Yb?zl("Server Error: "+i):n===ou?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zl("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),jd!==i&&ee("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Qr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Nb))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Mb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:du,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t){this.allowedEvents_=t,this.listeners_={},T(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let a=0;a<r.length;a++)if(r[a].callback===n&&(!i||i===r[a].context)){r.splice(a,1);return}}validateEventType_(t){T(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends dm{constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!bh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new So}getInitialEvent(t){return T(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=32,pu=768;class ht{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function lt(){return new ht("")}function J(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ei(e){return e.pieces_.length-e.pieceNum_}function yt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ht(e.pieces_,t)}function Hd(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function jb(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function fa(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function cm(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ht(t,0)}function Ft(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ht)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ht(n,0)}function Z(e){return e.pieceNum_>=e.pieces_.length}function oe(e,t){const n=J(e),i=J(t);if(n===null)return t;if(n===i)return oe(yt(e),yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $b(e,t){const n=fa(e,0),i=fa(t,0);for(let r=0;r<n.length&&r<i.length;r++){const a=Ni(n[r],i[r]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Vd(e,t){if(ei(e)!==ei(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function De(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ei(e)>ei(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Ub{constructor(t,n){this.errorPrefix_=n,this.parts_=fa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ss(this.parts_[i]);pm(this)}}function Hb(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ss(t),pm(e)}function Vb(e){const t=e.parts_.pop();e.byteLength_-=ss(t),e.parts_.length>0&&(e.byteLength_-=1)}function pm(e){if(e.byteLength_>pu)throw new Error(e.errorPrefix_+"has a key path longer than "+pu+" bytes ("+e.byteLength_+").");if(e.parts_.length>cu)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cu+") or object contains a cycle "+ui(e))}function ui(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends dm{constructor(){super(["visible"]);let t,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",t="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Gd}getInitialEvent(t){return T(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=1e3,Gb=60*5*1e3,Kb=3*1e3,uu=30*1e3,qb=1.3,Qb=3e4,Jb="server_kill",fu=3;class Cn extends lm{constructor(t,n,i,r,a,o,s,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=l,this.id=Cn.nextPersistentConnectionId_++,this.log_=Ra("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fr,this.maxReconnectDelay_=Gb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!yh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&So.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const r=++this.requestNumber_,a={r,a:t,b:n};this.log_($t(a)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const n=new pe,i={p:t._path.toString(),q:t._queryObject},r={action:"g",request:i,onComplete:o=>{const s=o.d;o.s==="ok"?n.resolve(s):n.reject(s)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const o=this.outstandingGets_[a];o===void 0||r!==o||(delete this.outstandingGets_[a],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},Kb),this.connected_&&this.sendGet_(a),n.promise}listen(t,n,i,r){this.initConnection_();const a=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:n,query:t,tag:i};this.listens.get(o).set(a,s),this.connected_&&this.sendListen_(s)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const a={p:i},o="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(o,a,s=>{const l=s.d,d=s.s;Cn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",s),d!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(d,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Ce(t,"w")){const i=Si(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();ee(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||M1(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uu)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=N1(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const a=r.s,o=r.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,n)}sendUnlisten_(t,n,i,r){this.log_("Unlisten on "+t+" for "+n);const a={p:t},o="n";r&&(a.q=i,a.t=r),this.sendRequest(o,a)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,r){const a={p:n,d:i};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(t,n,i,r){this.putInternal("p",t,n,i,r)}merge(t,n,i,r){this.putInternal("m",t,n,i,r)}putInternal(t,n,i,r,a){this.initConnection_();const o={p:n,d:i};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+$t(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):zl("Unrecognized action received from server: "+$t(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Qb&&(this.reconnectDelay_=Fr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Cn.nextConnectionId_++,a=this.lastSessionId;let o=!1,s=null;const l=function(){s?s.close():(o=!0,i())},d=function(p){T(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(p)};this.realtime_={close:l,sendRequest:d};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,u]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=u&&u.token,s=new Wb(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,h=>{ee(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(Jb)},a))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&ee(p),l())}}}interrupt(t){qt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ol(this.interruptReasons_)&&(this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(a=>Bd(a)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,n){const i=new ht(t).toString();let r;if(this.listens.has(i)){const a=this.listens.get(i);r=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,n){qt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fu&&(this.reconnectDelay_=uu,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){qt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fu&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Lh.replace(/\./g,"-")]=1,bh()?t["framework.cordova"]=1:k1()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=So.getInstance().currentlyOnline();return Ol(this.interruptReasons_)&&t}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new X(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new X(Rn,t),r=new X(Rn,n);return this.compare(i,r)!==0}minPost(){return X.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;class um extends cs{static get __EMPTY_NODE(){return Ga}static set __EMPTY_NODE(t){Ga=t}compare(t,n){return Ni(t.name,n.name)}isDefinedOn(t){throw br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return X.MIN}maxPost(){return new X(cn,Ga)}makePost(t,n){return T(typeof t=="string","KeyIndex indexValue must always be a string."),new X(t,Ga)}toString(){return".key"}}const on=new um;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n,i,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,r&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Kt{constructor(t,n,i,r,a){this.key=t,this.value=n,this.color=i!=null?i:Kt.RED,this.left=r!=null?r:ue.EMPTY_NODE,this.right=a!=null?a:ue.EMPTY_NODE}copy(t,n,i,r,a){return new Kt(t!=null?t:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,a!=null?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const a=i(t,r.key);return a<0?r=r.copy(null,null,null,r.left.insert(t,n,i),null):a===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ue.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,r;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return ue.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Kt.RED=!0;Kt.BLACK=!1;class Zb{copy(t,n,i,r,a){return this}insert(t,n,i){return new Kt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ue{constructor(t,n=ue.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ue(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Kt.BLACK,null,null))}remove(t){return new ue(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Kt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ka(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ka(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ka(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ka(this.root_,null,this.comparator_,!0,t)}}ue.EMPTY_NODE=new Zb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(e,t){return Ni(e.name,t.name)}function Kd(e,t){return Ni(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl;function ty(e){Bl=e}const fm=function(e){return typeof e=="number"?"number:"+Uh(e):"string:"+e},hm=function(e){if(e.isLeafNode()){const t=e.val();T(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ce(t,".sv"),"Priority must be a string or number.")}else T(e===Bl||e.isEmpty(),"priority of unexpected type.");T(e===Bl||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;class Vt{constructor(t,n=Vt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hm(this.priorityNode_)}static set __childrenNodeConstructor(t){hu=t}static get __childrenNodeConstructor(){return hu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Vt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Vt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Z(t)?this:J(t)===".priority"?this.priorityNode_:Vt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Vt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=J(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(T(i!==".priority"||ei(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Vt.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+fm(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Uh(this.value_):t+=this.value_,this.lazyHash_=Wh(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Vt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Vt.__childrenNodeConstructor?-1:(T(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=Vt.VALUE_TYPE_ORDER.indexOf(n),a=Vt.VALUE_TYPE_ORDER.indexOf(i);return T(r>=0,"Unknown leaf type: "+n),T(a>=0,"Unknown leaf type: "+i),r===a?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Vt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm,gm;function ey(e){mm=e}function ny(e){gm=e}class iy extends cs{compare(t,n){const i=t.node.getPriority(),r=n.node.getPriority(),a=i.compareTo(r);return a===0?Ni(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return X.MIN}maxPost(){return new X(cn,new Vt("[PRIORITY-POST]",gm))}makePost(t,n){const i=mm(t);return new X(n,new Vt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Rt=new iy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=Math.log(2);class ay{constructor(t){const n=a=>parseInt(Math.log(a)/ry,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ro=function(e,t,n,i){e.sort(t);const r=function(l,d){const c=d-l;let p,u;if(c===0)return null;if(c===1)return p=e[l],u=n?n(p):p,new Kt(u,p.node,Kt.BLACK,null,null);{const h=parseInt(c/2,10)+l,g=r(l,h),D=r(h+1,d);return p=e[h],u=n?n(p):p,new Kt(u,p.node,Kt.BLACK,g,D)}},a=function(l){let d=null,c=null,p=e.length;const u=function(g,D){const _=p-g,v=p;p-=g;const O=r(_+1,v),F=e[_],Y=n?n(F):F;h(new Kt(Y,F.node,D,null,O))},h=function(g){d?(d.left=g,d=g):(c=g,d=g)};for(let g=0;g<l.count;++g){const D=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));D?u(_,Kt.BLACK):(u(_,Kt.BLACK),u(_,Kt.RED))}return c},o=new ay(e.length),s=a(o);return new ue(i||t,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl;const $i={};class bn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return T($i&&Rt,"ChildrenNode.ts has not been loaded"),sl=sl||new bn({".priority":$i},{".priority":Rt}),sl}get(t){const n=Si(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ue?n:null}hasIndex(t){return Ce(this.indexSet_,t.toString())}addIndex(t,n){T(t!==on,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const a=n.getIterator(X.Wrap);let o=a.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=a.getNext();let s;r?s=Ro(i,t.getCompare()):s=$i;const l=t.toString(),d=Object.assign({},this.indexSet_);d[l]=t;const c=Object.assign({},this.indexes_);return c[l]=s,new bn(c,d)}addToIndexes(t,n){const i=yo(this.indexes_,(r,a)=>{const o=Si(this.indexSet_,a);if(T(o,"Missing index implementation for "+a),r===$i)if(o.isDefinedOn(t.node)){const s=[],l=n.getIterator(X.Wrap);let d=l.getNext();for(;d;)d.name!==t.name&&s.push(d),d=l.getNext();return s.push(t),Ro(s,o.getCompare())}else return $i;else{const s=n.get(t.name);let l=r;return s&&(l=l.remove(new X(t.name,s))),l.insert(t,t.node)}});return new bn(i,this.indexSet_)}removeFromIndexes(t,n){const i=yo(this.indexes_,r=>{if(r===$i)return r;{const a=n.get(t.name);return a?r.remove(new X(t.name,a)):r}});return new bn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr;class ${constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&hm(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Lr||(Lr=new $(new ue(Kd),null,bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lr}updatePriority(t){return this.children_.isEmpty()?this:new $(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Lr:n}}getChild(t){const n=J(t);return n===null?this:this.getImmediateChild(n).getChild(yt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(T(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new X(t,n);let r,a;n.isEmpty()?(r=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Lr:this.priorityNode_;return new $(r,o,a)}}updateChild(t,n){const i=J(t);if(i===null)return n;{T(J(t)!==".priority"||ei(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(yt(t),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,a=!0;if(this.forEachChild(Rt,(o,s)=>{n[o]=s.val(t),i++,a&&$.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):a=!1}),!t&&a&&r<2*i){const o=[];for(const s in n)o[s]=n[s];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+fm(this.getPriority().val())+":"),this.forEachChild(Rt,(n,i)=>{const r=i.hash();r!==""&&(t+=":"+n+":"+r)}),this.lazyHash_=t===""?"":Wh(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const r=this.resolveIndex_(i);if(r){const a=r.getPredecessorKey(new X(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new X(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new X(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,X.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,t)<0;)r.getNext(),a=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,X.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,t)>0;)r.getNext(),a=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ta?-1:0}withIndex(t){if(t===on||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new $(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===on||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Rt),r=n.getIterator(Rt);let a=i.getNext(),o=r.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=i.getNext(),o=r.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===on?null:this.indexMap_.get(t.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oy extends ${constructor(){super(new ue(Kd),$.EMPTY_NODE,bn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return $.EMPTY_NODE}isEmpty(){return!1}}const Ta=new oy;Object.defineProperties(X,{MIN:{value:new X(Rn,$.EMPTY_NODE)},MAX:{value:new X(cn,Ta)}});um.__EMPTY_NODE=$.EMPTY_NODE;Vt.__childrenNodeConstructor=$;ty(Ta);ny(Ta);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=!0;function zt(e,t=null){if(e===null)return $.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),T(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Vt(n,zt(t))}if(!(e instanceof Array)&&sy){const n=[];let i=!1;if(Qt(e,(o,s)=>{if(o.substring(0,1)!=="."){const l=zt(s);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new X(o,l)))}}),n.length===0)return $.EMPTY_NODE;const a=Ro(n,Xb,o=>o.name,Kd);if(i){const o=Ro(n,Rt.getCompare());return new $(a,zt(t),new bn({".priority":o},{".priority":Rt}))}else return new $(a,zt(t),bn.Default)}else{let n=$.EMPTY_NODE;return Qt(e,(i,r)=>{if(Ce(e,i)&&i.substring(0,1)!=="."){const a=zt(r);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(zt(t))}}ey(zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends cs{constructor(t){super(),this.indexPath_=t,T(!Z(t)&&J(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),r=this.extractChild(n.node),a=i.compareTo(r);return a===0?Ni(t.name,n.name):a}makePost(t,n){const i=zt(t),r=$.EMPTY_NODE.updateChild(this.indexPath_,i);return new X(n,r)}maxPost(){const t=$.EMPTY_NODE.updateChild(this.indexPath_,Ta);return new X(cn,t)}toString(){return fa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends cs{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Ni(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(t,n){const i=zt(t);return new X(n,i)}toString(){return".value"}}const Qd=new ly;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wl="-",_m="z",xm=786,dy=function(){let e=0;const t=[];return function(n){const i=n===e;e=n;let r;const a=new Array(8);for(r=7;r>=0;r--)a[r]=ur.charAt(n%64),n=Math.floor(n/64);T(n===0,"Cannot push at time == 0");let o=a.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=ur.charAt(t[r]);return T(o.length===20,"nextPushId: Length should be 20."),o}}(),mu=function(e){if(e===""+Wd)return Wl;const t=Co(e);if(t!=null)return""+(t+1);const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e.charAt(o);if(n.length<xm)return n.push(Wl),n.join("");let i=n.length-1;for(;i>=0&&n[i]===_m;)i--;if(i===-1)return cn;const r=n[i],a=ur.charAt(ur.indexOf(r)+1);return n[i]=a,n.slice(0,i+1).join("")},gu=function(e){if(e===""+Hh)return Rn;const t=Co(e);if(t!=null)return""+(t-1);const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e.charAt(i);return n[n.length-1]===Wl?n.length===1?""+Wd:(delete n[n.length-1],n.join("")):(n[n.length-1]=ur.charAt(ur.indexOf(n[n.length-1])-1),n.join("")+_m.repeat(xm-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(e){return{type:"value",snapshotNode:e}}function fr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ha(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ma(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function cy(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t){this.index_=t}updateChild(t,n,i,r,a,o){T(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=t.getImmediateChild(n);return s.getChild(r).equals(i.getChild(r))&&s.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?t.hasChild(n)?o.trackChildChange(ha(n,s)):T(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(fr(n,i)):o.trackChildChange(ma(n,i,s))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Rt,(r,a)=>{n.hasChild(r)||i.trackChildChange(ha(r,a))}),n.isLeafNode()||n.forEachChild(Rt,(r,a)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(a)||i.trackChildChange(ma(r,a,o))}else i.trackChildChange(fr(r,a))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?$.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this.indexedFilter_=new Jd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ga.getStartPost_(t),this.endPost_=ga.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,n,i,r,a,o){return this.matches(new X(n,i))||(i=$.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,a,o)}updateFullNode(t,n,i){n.isLeafNode()&&(n=$.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority($.EMPTY_NODE);const a=this;return n.forEachChild(Rt,(o,s)=>{a.matches(new X(o,s))||(r=r.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t){this.rangedFilter_=new ga(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,n,i,r,a,o){return this.rangedFilter_.matches(new X(n,i))||(i=$.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,a,o):this.fullLimitUpdateChild_(t,n,i,a,o)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=$.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;a.hasNext()&&o<this.limit_;){const s=a.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:l=this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,l)r=r.updateImmediateChild(s.name,s.node),o++;else break}}else{r=n.withIndex(this.index_),r=r.updatePriority($.EMPTY_NODE);let a,o,s,l;if(this.reverse_){l=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const p=this.index_.getCompare();s=(u,h)=>p(h,u)}else l=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),s=this.index_.getCompare();let d=0,c=!1;for(;l.hasNext();){const p=l.getNext();!c&&s(a,p)<=0&&(c=!0),c&&d<this.limit_&&s(p,o)<=0?d++:r=r.updateImmediateChild(p.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,a){let o;if(this.reverse_){const p=this.index_.getCompare();o=(u,h)=>p(h,u)}else o=this.index_.getCompare();const s=t;T(s.numChildren()===this.limit_,"");const l=new X(n,i),d=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(s.hasChild(n)){const p=s.getImmediateChild(n);let u=r.getChildAfterChild(this.index_,d,this.reverse_);for(;u!=null&&(u.name===n||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=u==null?1:o(u,l);if(c&&!i.isEmpty()&&h>=0)return a!=null&&a.trackChildChange(ma(n,i,p)),s.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(ha(n,p));const D=s.updateImmediateChild(n,$.EMPTY_NODE);return u!=null&&this.rangedFilter_.matches(u)?(a!=null&&a.trackChildChange(fr(u.name,u.node)),D.updateImmediateChild(u.name,u.node)):D}}else return i.isEmpty()?t:c&&o(d,l)>=0?(a!=null&&(a.trackChildChange(ha(d.name,d.node)),a.trackChildChange(fr(n,i))),s.updateImmediateChild(n,i).updateImmediateChild(d.name,$.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rn}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rt}copy(){const t=new ps;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function uy(e){return e.loadsAllData()?new Jd(e.getIndex()):e.hasLimit()?new py(e):new ga(e)}function fy(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function hy(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function jl(e,t,n){const i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function my(e,t,n){let i;if(e.index_===on)typeof t=="string"&&(t=mu(t)),i=jl(e,t,n);else{let r;n==null?r=cn:r=mu(n),i=jl(e,t,r)}return i.startAfterSet_=!0,i}function $l(e,t,n){const i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function gy(e,t,n){let i,r;return e.index_===on?(typeof t=="string"&&(t=gu(t)),r=$l(e,t,n)):(n==null?i=Rn:i=gu(n),r=$l(e,t,i)),r.endBeforeSet_=!0,r}function us(e,t){const n=e.copy();return n.index_=t,n}function _u(e){const t={};if(e.isDefault())return t;let n;return e.index_===Rt?n="$priority":e.index_===Qd?n="$value":e.index_===on?n="$key":(T(e.index_ instanceof qd,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=$t(n),e.startSet_&&(t.startAt=$t(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+$t(e.indexStartName_))),e.endSet_&&(t.endAt=$t(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+$t(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function xu(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Rt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends lm{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ra("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(T(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const o=To.getListenId_(t,i),s={};this.listens_[o]=s;const l=_u(t._queryParams);this.restRequest_(a+".json",l,(d,c)=>{let p=c;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(a,p,!1,i),Si(this.listens_,o)===s){let u;d?d===401?u="permission_denied":u="rest_error:"+d:u="ok",r(u,null)}})}unlisten(t,n){const i=To.getListenId_(t,n);delete this.listens_[i]}get(t){const n=_u(t._queryParams),i=t._path.toString(),r=new pe;return this.restRequest_(i+".json",n,(a,o)=>{let s=o;a===404&&(s=null,a=null),a===null?(this.onDataUpdate_(i,s,!1,null),r.resolve(s)):r.reject(new Error(s))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(n.auth=r.accessToken),a&&a.token&&(n.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+F1(n);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(i&&s.readyState===4){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let l=null;if(s.status>=200&&s.status<300){try{l=ca(s.responseText)}catch{ee("Failed to parse JSON response for "+o+": "+s.responseText)}i(null,l)}else s.status!==401&&s.status!==404&&ee("Got unsuccessful REST response for "+o+" Status: "+s.status),i(s.status);i=null}},s.open("GET",o,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(){return{value:null,children:new Map}}function wr(e,t,n){if(Z(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=J(t);e.children.has(i)||e.children.set(i,ko());const r=e.children.get(i);t=yt(t),wr(r,t,n)}}function Ul(e,t){if(Z(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Rt,(i,r)=>{wr(e,new ht(i),r)}),Ul(e,t)}}else if(e.children.size>0){const n=J(t);return t=yt(t),e.children.has(n)&&Ul(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Hl(e,t,n){e.value!==null?n(t,e.value):xy(e,(i,r)=>{const a=new ht(t.toString()+"/"+i);Hl(r,a,n)})}function xy(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Qt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=10*1e3,by=30*1e3,yy=5*60*1e3;class wy{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vy(t);const i=vu+(by-vu)*Math.random();Qr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Qt(t,(r,a)=>{a>0&&Ce(this.statsToReport_,r)&&(n[r]=a,i=!0)}),i&&this.server_.reportStats(n),Qr(this.reportStats_.bind(this),Math.floor(Math.random()*2*yy))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($e||($e={}));function Zd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=$e.ACK_USER_WRITE,this.source=Zd()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ht(t));return new Io(lt(),n,this.revert)}}else return T(J(this.path)===t,"operationForChild called for unrelated child."),new Io(yt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n){this.source=t,this.path=n,this.type=$e.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new _a(this.source,lt()):new _a(this.source,yt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=$e.OVERWRITE}operationForChild(t){return Z(this.path)?new Ti(this.source,lt(),this.snap.getImmediateChild(t)):new Ti(this.source,yt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=$e.MERGE}operationForChild(t){if(Z(this.path)){const n=this.children.subtree(new ht(t));return n.isEmpty()?null:n.value?new Ti(this.source,lt(),n.value):new hr(this.source,lt(),n)}else return T(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new hr(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;const n=J(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Ey(e,t,n,i){const r=[],a=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(cy(o.childName,o.snapshotNode))}),zr(e,r,"child_removed",t,i,n),zr(e,r,"child_added",t,i,n),zr(e,r,"child_moved",a,i,n),zr(e,r,"child_changed",t,i,n),zr(e,r,"value",t,i,n),r}function zr(e,t,n,i,r,a){const o=i.filter(s=>s.type===n);o.sort((s,l)=>Ry(e,s,l)),o.forEach(s=>{const l=Sy(e,s,a);r.forEach(d=>{d.respondsTo(s.type)&&t.push(d.createEvent(l,e.query_))})})}function Sy(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Ry(e,t,n){if(t.childName==null||n.childName==null)throw br("Should only compare child_ events.");const i=new X(t.childName,t.snapshotNode),r=new X(n.childName,n.snapshotNode);return e.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(e,t){return{eventCache:e,serverCache:t}}function Jr(e,t,n,i){return fs(new ni(t,n,i),e.serverCache)}function bm(e,t,n,i){return fs(e.eventCache,new ni(t,n,i))}function Ao(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ki(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll;const Ty=()=>(ll||(ll=new ue(db)),ll);class Et{constructor(t,n=Ty()){this.value=t,this.children=n}static fromObject(t){let n=new Et(null);return Qt(t,(i,r)=>{n=n.set(new ht(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:lt(),value:this.value};if(Z(t))return null;{const i=J(t),r=this.children.get(i);if(r!==null){const a=r.findRootMostMatchingPathAndValue(yt(t),n);return a!=null?{path:Ft(new ht(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{const n=J(t),i=this.children.get(n);return i!==null?i.subtree(yt(t)):new Et(null)}}set(t,n){if(Z(t))return new Et(n,this.children);{const i=J(t),a=(this.children.get(i)||new Et(null)).set(yt(t),n),o=this.children.insert(i,a);return new Et(this.value,o)}}remove(t){if(Z(t))return this.children.isEmpty()?new Et(null):new Et(null,this.children);{const n=J(t),i=this.children.get(n);if(i){const r=i.remove(yt(t));let a;return r.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,r),this.value===null&&a.isEmpty()?new Et(null):new Et(this.value,a)}else return this}}get(t){if(Z(t))return this.value;{const n=J(t),i=this.children.get(n);return i?i.get(yt(t)):null}}setTree(t,n){if(Z(t))return n;{const i=J(t),a=(this.children.get(i)||new Et(null)).setTree(yt(t),n);let o;return a.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,a),new Et(this.value,o)}}fold(t){return this.fold_(lt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((r,a)=>{i[r]=a.fold_(Ft(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,lt(),n)}findOnPath_(t,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Z(t))return null;{const a=J(t),o=this.children.get(a);return o?o.findOnPath_(yt(t),Ft(n,a),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,lt(),n)}foreachOnPath_(t,n,i){if(Z(t))return this;{this.value&&i(n,this.value);const r=J(t),a=this.children.get(r);return a?a.foreachOnPath_(yt(t),Ft(n,r),i):new Et(null)}}foreach(t){this.foreach_(lt(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ft(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.writeTree_=t}static empty(){return new Ge(new Et(null))}}function Zr(e,t,n){if(Z(t))return new Ge(new Et(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let a=i.value;const o=oe(r,t);return a=a.updateChild(o,n),new Ge(e.writeTree_.set(r,a))}else{const r=new Et(n),a=e.writeTree_.setTree(t,r);return new Ge(a)}}}function Vl(e,t,n){let i=e;return Qt(n,(r,a)=>{i=Zr(i,Ft(t,r),a)}),i}function bu(e,t){if(Z(t))return Ge.empty();{const n=e.writeTree_.setTree(t,new Et(null));return new Ge(n)}}function Gl(e,t){return Mi(e,t)!=null}function Mi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(oe(n.path,t)):null}function yu(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Rt,(i,r)=>{t.push(new X(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new X(i,r.value))}),t}function Hn(e,t){if(Z(t))return e;{const n=Mi(e,t);return n!=null?new Ge(new Et(n)):new Ge(e.writeTree_.subtree(t))}}function Kl(e){return e.writeTree_.isEmpty()}function mr(e,t){return ym(lt(),e.writeTree_,t)}function ym(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,a)=>{r===".priority"?(T(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=ym(Ft(e,r),a,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Ft(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e,t){return Sm(t,e)}function ky(e,t,n,i,r){T(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Zr(e.visibleWrites,t,n)),e.lastWriteId=i}function Iy(e,t,n,i){T(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Vl(e.visibleWrites,t,n),e.lastWriteId=i}function Ay(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function Dy(e,t){const n=e.allWrites.findIndex(s=>s.writeId===t);T(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,a=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const s=e.allWrites[o];s.visible&&(o>=n&&Oy(s,i.path)?r=!1:De(i.path,s.path)&&(a=!0)),o--}if(r){if(a)return Py(e),!0;if(i.snap)e.visibleWrites=bu(e.visibleWrites,i.path);else{const s=i.children;Qt(s,l=>{e.visibleWrites=bu(e.visibleWrites,Ft(i.path,l))})}return!0}else return!1}function Oy(e,t){if(e.snap)return De(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&De(Ft(e.path,n),t))return!0;return!1}function Py(e){e.visibleWrites=wm(e.allWrites,Ny,lt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Ny(e){return e.visible}function wm(e,t,n){let i=Ge.empty();for(let r=0;r<e.length;++r){const a=e[r];if(t(a)){const o=a.path;let s;if(a.snap)De(n,o)?(s=oe(n,o),i=Zr(i,s,a.snap)):De(o,n)&&(s=oe(o,n),i=Zr(i,lt(),a.snap.getChild(s)));else if(a.children){if(De(n,o))s=oe(n,o),i=Vl(i,s,a.children);else if(De(o,n))if(s=oe(o,n),Z(s))i=Vl(i,lt(),a.children);else{const l=Si(a.children,J(s));if(l){const d=l.getChild(yt(s));i=Zr(i,lt(),d)}}}else throw br("WriteRecord should have .snap or .children")}}return i}function Cm(e,t,n,i,r){if(!i&&!r){const a=Mi(e.visibleWrites,t);if(a!=null)return a;{const o=Hn(e.visibleWrites,t);if(Kl(o))return n;if(n==null&&!Gl(o,lt()))return null;{const s=n||$.EMPTY_NODE;return mr(o,s)}}}else{const a=Hn(e.visibleWrites,t);if(!r&&Kl(a))return n;if(!r&&n==null&&!Gl(a,lt()))return null;{const o=function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(De(d.path,t)||De(t,d.path))},s=wm(e.allWrites,o,t),l=n||$.EMPTY_NODE;return mr(s,l)}}}function My(e,t,n){let i=$.EMPTY_NODE;const r=Mi(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Rt,(a,o)=>{i=i.updateImmediateChild(a,o)}),i;if(n){const a=Hn(e.visibleWrites,t);return n.forEachChild(Rt,(o,s)=>{const l=mr(Hn(a,new ht(o)),s);i=i.updateImmediateChild(o,l)}),yu(a).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const a=Hn(e.visibleWrites,t);return yu(a).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function Fy(e,t,n,i,r){T(i||r,"Either existingEventSnap or existingServerSnap must exist");const a=Ft(t,n);if(Gl(e.visibleWrites,a))return null;{const o=Hn(e.visibleWrites,a);return Kl(o)?r.getChild(n):mr(o,r.getChild(n))}}function Ly(e,t,n,i){const r=Ft(t,n),a=Mi(e.visibleWrites,r);if(a!=null)return a;if(i.isCompleteForChild(n)){const o=Hn(e.visibleWrites,r);return mr(o,i.getNode().getImmediateChild(n))}else return null}function zy(e,t){return Mi(e.visibleWrites,t)}function Yy(e,t,n,i,r,a,o){let s;const l=Hn(e.visibleWrites,t),d=Mi(l,lt());if(d!=null)s=d;else if(n!=null)s=mr(l,n);else return[];if(s=s.withIndex(o),!s.isEmpty()&&!s.isLeafNode()){const c=[],p=o.getCompare(),u=a?s.getReverseIteratorFrom(i,o):s.getIteratorFrom(i,o);let h=u.getNext();for(;h&&c.length<r;)p(h,i)!==0&&c.push(h),h=u.getNext();return c}else return[]}function By(){return{visibleWrites:Ge.empty(),allWrites:[],lastWriteId:-1}}function Do(e,t,n,i){return Cm(e.writeTree,e.treePath,t,n,i)}function ec(e,t){return My(e.writeTree,e.treePath,t)}function wu(e,t,n,i){return Fy(e.writeTree,e.treePath,t,n,i)}function Oo(e,t){return zy(e.writeTree,Ft(e.treePath,t))}function Wy(e,t,n,i,r,a){return Yy(e.writeTree,e.treePath,t,n,i,r,a)}function nc(e,t,n){return Ly(e.writeTree,e.treePath,t,n)}function Em(e,t){return Sm(Ft(e.treePath,t),e.writeTree)}function Sm(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const a=r.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,ma(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,ha(i,r.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,fr(i,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,ma(i,t.snapshotNode,r.oldSnap));else throw br("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const Rm=new $y;class ic{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new ni(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nc(this.writes_,t,i)}}getChildAfterChild(t,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),a=Wy(this.writes_,r,n,1,i,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(e){return{filter:e}}function Hy(e,t){T(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),T(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Vy(e,t,n,i,r){const a=new jy;let o,s;if(n.type===$e.OVERWRITE){const d=n;d.source.fromUser?o=ql(e,t,d.path,d.snap,i,r,a):(T(d.source.fromServer,"Unknown source."),s=d.source.tagged||t.serverCache.isFiltered()&&!Z(d.path),o=Po(e,t,d.path,d.snap,i,r,s,a))}else if(n.type===$e.MERGE){const d=n;d.source.fromUser?o=Ky(e,t,d.path,d.children,i,r,a):(T(d.source.fromServer,"Unknown source."),s=d.source.tagged||t.serverCache.isFiltered(),o=Ql(e,t,d.path,d.children,i,r,s,a))}else if(n.type===$e.ACK_USER_WRITE){const d=n;d.revert?o=Jy(e,t,d.path,i,r,a):o=qy(e,t,d.path,d.affectedTree,i,r,a)}else if(n.type===$e.LISTEN_COMPLETE)o=Qy(e,t,n.path,i,a);else throw br("Unknown operation type: "+n.type);const l=a.getChanges();return Gy(t,o,l),{viewCache:o,changes:l}}function Gy(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Ao(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(vm(Ao(t)))}}function Tm(e,t,n,i,r,a){const o=t.eventCache;if(Oo(i,n)!=null)return t;{let s,l;if(Z(n))if(T(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=ki(t),c=d instanceof $?d:$.EMPTY_NODE,p=ec(i,c);s=e.filter.updateFullNode(t.eventCache.getNode(),p,a)}else{const d=Do(i,ki(t));s=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{const d=J(n);if(d===".priority"){T(ei(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=t.serverCache.getNode();const p=wu(i,n,c,l);p!=null?s=e.filter.updatePriority(c,p):s=o.getNode()}else{const c=yt(n);let p;if(o.isCompleteForChild(d)){l=t.serverCache.getNode();const u=wu(i,n,o.getNode(),l);u!=null?p=o.getNode().getImmediateChild(d).updateChild(c,u):p=o.getNode().getImmediateChild(d)}else p=nc(i,d,t.serverCache);p!=null?s=e.filter.updateChild(o.getNode(),d,p,c,r,a):s=o.getNode()}}return Jr(t,s,o.isFullyInitialized()||Z(n),e.filter.filtersNodes())}}function Po(e,t,n,i,r,a,o,s){const l=t.serverCache;let d;const c=o?e.filter:e.filter.getIndexedFilter();if(Z(n))d=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);d=c.updateFullNode(l.getNode(),h,null)}else{const h=J(n);if(!l.isCompleteForPath(n)&&ei(n)>1)return t;const g=yt(n),_=l.getNode().getImmediateChild(h).updateChild(g,i);h===".priority"?d=c.updatePriority(l.getNode(),_):d=c.updateChild(l.getNode(),h,_,g,Rm,null)}const p=bm(t,d,l.isFullyInitialized()||Z(n),c.filtersNodes()),u=new ic(r,p,a);return Tm(e,p,n,r,u,s)}function ql(e,t,n,i,r,a,o){const s=t.eventCache;let l,d;const c=new ic(r,t,a);if(Z(n))d=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=Jr(t,d,!0,e.filter.filtersNodes());else{const p=J(n);if(p===".priority")d=e.filter.updatePriority(t.eventCache.getNode(),i),l=Jr(t,d,s.isFullyInitialized(),s.isFiltered());else{const u=yt(n),h=s.getNode().getImmediateChild(p);let g;if(Z(u))g=i;else{const D=c.getCompleteChild(p);D!=null?Hd(u)===".priority"&&D.getChild(cm(u)).isEmpty()?g=D:g=D.updateChild(u,i):g=$.EMPTY_NODE}if(h.equals(g))l=t;else{const D=e.filter.updateChild(s.getNode(),p,g,u,c,o);l=Jr(t,D,s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Cu(e,t){return e.eventCache.isCompleteForChild(t)}function Ky(e,t,n,i,r,a,o){let s=t;return i.foreach((l,d)=>{const c=Ft(n,l);Cu(t,J(c))&&(s=ql(e,s,c,d,r,a,o))}),i.foreach((l,d)=>{const c=Ft(n,l);Cu(t,J(c))||(s=ql(e,s,c,d,r,a,o))}),s}function Eu(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Ql(e,t,n,i,r,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,d;Z(n)?d=i:d=new Et(null).setTree(n,i);const c=t.serverCache.getNode();return d.children.inorderTraversal((p,u)=>{if(c.hasChild(p)){const h=t.serverCache.getNode().getImmediateChild(p),g=Eu(e,h,u);l=Po(e,l,new ht(p),g,r,a,o,s)}}),d.children.inorderTraversal((p,u)=>{const h=!t.serverCache.isCompleteForChild(p)&&u.value===void 0;if(!c.hasChild(p)&&!h){const g=t.serverCache.getNode().getImmediateChild(p),D=Eu(e,g,u);l=Po(e,l,new ht(p),D,r,a,o,s)}}),l}function qy(e,t,n,i,r,a,o){if(Oo(r,n)!=null)return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Po(e,t,n,l.getNode().getChild(n),r,a,s,o);if(Z(n)){let d=new Et(null);return l.getNode().forEachChild(on,(c,p)=>{d=d.set(new ht(c),p)}),Ql(e,t,n,d,r,a,s,o)}else return t}else{let d=new Et(null);return i.foreach((c,p)=>{const u=Ft(n,c);l.isCompleteForPath(u)&&(d=d.set(c,l.getNode().getChild(u)))}),Ql(e,t,n,d,r,a,s,o)}}function Qy(e,t,n,i,r){const a=t.serverCache,o=bm(t,a.getNode(),a.isFullyInitialized()||Z(n),a.isFiltered());return Tm(e,o,n,i,Rm,r)}function Jy(e,t,n,i,r,a){let o;if(Oo(i,n)!=null)return t;{const s=new ic(i,t,r),l=t.eventCache.getNode();let d;if(Z(n)||J(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Do(i,ki(t));else{const p=t.serverCache.getNode();T(p instanceof $,"serverChildren would be complete if leaf node"),c=ec(i,p)}c=c,d=e.filter.updateFullNode(l,c,a)}else{const c=J(n);let p=nc(i,c,t.serverCache);p==null&&t.serverCache.isCompleteForChild(c)&&(p=l.getImmediateChild(c)),p!=null?d=e.filter.updateChild(l,c,p,yt(n),s,a):t.eventCache.getNode().hasChild(c)?d=e.filter.updateChild(l,c,$.EMPTY_NODE,yt(n),s,a):d=l,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Do(i,ki(t)),o.isLeafNode()&&(d=e.filter.updateFullNode(d,o,a)))}return o=t.serverCache.isFullyInitialized()||Oo(i,lt())!=null,Jr(t,d,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Jd(i.getIndex()),a=uy(i);this.processor_=Uy(a);const o=n.serverCache,s=n.eventCache,l=r.updateFullNode($.EMPTY_NODE,o.getNode(),null),d=a.updateFullNode($.EMPTY_NODE,s.getNode(),null),c=new ni(l,o.isFullyInitialized(),r.filtersNodes()),p=new ni(d,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=fs(p,c),this.eventGenerator_=new Cy(this.query_)}get query(){return this.query_}}function Xy(e){return e.viewCache_.serverCache.getNode()}function t8(e){return Ao(e.viewCache_)}function e8(e,t){const n=ki(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Z(t)&&!n.getImmediateChild(J(t)).isEmpty())?n.getChild(t):null}function Su(e){return e.eventRegistrations_.length===0}function n8(e,t){e.eventRegistrations_.push(t)}function Ru(e,t,n){const i=[];if(n){T(t==null,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(a=>{const o=a.createCancelEvent(n,r);o&&i.push(o)})}if(t){let r=[];for(let a=0;a<e.eventRegistrations_.length;++a){const o=e.eventRegistrations_[a];if(!o.matches(t))r.push(o);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function Tu(e,t,n,i){t.type===$e.MERGE&&t.source.queryId!==null&&(T(ki(e.viewCache_),"We should always have a full cache before handling merges"),T(Ao(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,a=Vy(e.processor_,r,t,n,i);return Hy(e.processor_,a.viewCache),T(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,km(e,a.changes,a.viewCache.eventCache.getNode(),null)}function i8(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Rt,(a,o)=>{i.push(fr(a,o))}),n.isFullyInitialized()&&i.push(vm(n.getNode())),km(e,i,n.getNode(),t)}function km(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return Ey(e.eventGenerator_,t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No;class Im{constructor(){this.views=new Map}}function r8(e){T(!No,"__referenceConstructor has already been defined"),No=e}function a8(){return T(No,"Reference.ts has not been loaded"),No}function o8(e){return e.views.size===0}function rc(e,t,n,i){const r=t.source.queryId;if(r!==null){const a=e.views.get(r);return T(a!=null,"SyncTree gave us an op for an invalid query."),Tu(a,t,n,i)}else{let a=[];for(const o of e.views.values())a=a.concat(Tu(o,t,n,i));return a}}function ac(e,t,n,i,r){const a=t._queryIdentifier,o=e.views.get(a);if(!o){let s=Do(n,r?i:null),l=!1;s?l=!0:i instanceof $?(s=ec(n,i),l=!1):(s=$.EMPTY_NODE,l=!1);const d=fs(new ni(s,l,!1),new ni(i,r,!1));return new Zy(t,d)}return o}function s8(e,t,n,i,r,a){const o=ac(e,t,i,r,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),n8(o,n),i8(o,n)}function l8(e,t,n,i){const r=t._queryIdentifier,a=[];let o=[];const s=ii(e);if(r==="default")for(const[l,d]of e.views.entries())o=o.concat(Ru(d,n,i)),Su(d)&&(e.views.delete(l),d.query._queryParams.loadsAllData()||a.push(d.query));else{const l=e.views.get(r);l&&(o=o.concat(Ru(l,n,i)),Su(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||a.push(l.query)))}return s&&!ii(e)&&a.push(new(a8())(t._repo,t._path)),{removed:a,events:o}}function Am(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Vn(e,t){let n=null;for(const i of e.views.values())n=n||e8(i,t);return n}function Dm(e,t){if(t._queryParams.loadsAllData())return ms(e);{const i=t._queryIdentifier;return e.views.get(i)}}function Om(e,t){return Dm(e,t)!=null}function ii(e){return ms(e)!=null}function ms(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;function d8(e){T(!Mo,"__referenceConstructor has already been defined"),Mo=e}function c8(){return T(Mo,"Reference.ts has not been loaded"),Mo}let p8=1;class ku{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Et(null),this.pendingWriteTree_=By(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function oc(e,t,n,i,r){return ky(e.pendingWriteTree_,t,n,i,r),r?Cr(e,new Ti(Zd(),t,n)):[]}function u8(e,t,n,i){Iy(e.pendingWriteTree_,t,n,i);const r=Et.fromObject(n);return Cr(e,new hr(Zd(),t,r))}function zn(e,t,n=!1){const i=Ay(e.pendingWriteTree_,t);if(Dy(e.pendingWriteTree_,t)){let a=new Et(null);return i.snap!=null?a=a.set(lt(),!0):Qt(i.children,o=>{a=a.set(new ht(o),!0)}),Cr(e,new Io(i.path,a,n))}else return[]}function ka(e,t,n){return Cr(e,new Ti(Xd(),t,n))}function f8(e,t,n){const i=Et.fromObject(n);return Cr(e,new hr(Xd(),t,i))}function h8(e,t){return Cr(e,new _a(Xd(),t))}function m8(e,t,n){const i=sc(e,n);if(i){const r=lc(i),a=r.path,o=r.queryId,s=oe(a,t),l=new _a(tc(o),s);return dc(e,a,l)}else return[]}function Fo(e,t,n,i){const r=t._path,a=e.syncPointTree_.get(r);let o=[];if(a&&(t._queryIdentifier==="default"||Om(a,t))){const s=l8(a,t,n,i);o8(a)&&(e.syncPointTree_=e.syncPointTree_.remove(r));const l=s.removed;o=s.events;const d=l.findIndex(p=>p._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(r,(p,u)=>ii(u));if(d&&!c){const p=e.syncPointTree_.subtree(r);if(!p.isEmpty()){const u=v8(p);for(let h=0;h<u.length;++h){const g=u[h],D=g.query,_=Lm(e,g);e.listenProvider_.startListening(Xr(D),xa(e,D),_.hashFn,_.onComplete)}}}!c&&l.length>0&&!i&&(d?e.listenProvider_.stopListening(Xr(t),null):l.forEach(p=>{const u=e.queryToTagMap.get(_s(p));e.listenProvider_.stopListening(Xr(p),u)})),b8(e,l)}return o}function g8(e,t){const{syncPoint:n,serverCache:i,writesCache:r,serverCacheComplete:a}=Nm(t,e),o=ac(n,t,r,i,a);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),t._queryParams.loadsAllData()?null:xa(e,t)}function Pm(e,t,n,i){const r=sc(e,i);if(r!=null){const a=lc(r),o=a.path,s=a.queryId,l=oe(o,t),d=new Ti(tc(s),l,n);return dc(e,o,d)}else return[]}function _8(e,t,n,i){const r=sc(e,i);if(r){const a=lc(r),o=a.path,s=a.queryId,l=oe(o,t),d=Et.fromObject(n),c=new hr(tc(s),l,d);return dc(e,o,c)}else return[]}function Nm(e,t){const n=e._path;let i=null,r=!1;t.syncPointTree_.foreachOnPath(n,(d,c)=>{const p=oe(d,n);i=i||Vn(c,p),r=r||ii(c)});let a=t.syncPointTree_.get(n);a?(r=r||ii(a),i=i||Vn(a,lt())):(a=new Im,t.syncPointTree_=t.syncPointTree_.set(n,a));let o;i!=null?o=!0:(o=!1,i=$.EMPTY_NODE,t.syncPointTree_.subtree(n).foreachChild((c,p)=>{const u=Vn(p,lt());u&&(i=i.updateImmediateChild(c,u))}));const s=Om(a,e);if(!s&&!e._queryParams.loadsAllData()){const d=_s(e);T(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const c=y8();t.queryToTagMap.set(d,c),t.tagToQueryMap.set(c,d)}const l=hs(t.pendingWriteTree_,n);return{syncPoint:a,writesCache:l,serverCache:i,serverCacheComplete:o,foundAncestorDefaultView:r,viewAlreadyExists:s}}function Iu(e,t,n){const{syncPoint:i,serverCache:r,writesCache:a,serverCacheComplete:o,viewAlreadyExists:s,foundAncestorDefaultView:l}=Nm(t,e);let d=s8(i,t,n,a,r,o);if(!s&&!l){const c=Dm(i,t);d=d.concat(w8(e,t,c))}return d}function gs(e,t,n){const r=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(o,s)=>{const l=oe(o,t),d=Vn(s,l);if(d)return d});return Cm(r,t,a,n,!0)}function x8(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(d,c)=>{const p=oe(d,n);i=i||Vn(c,p)});let r=e.syncPointTree_.get(n);r?i=i||Vn(r,lt()):(r=new Im,e.syncPointTree_=e.syncPointTree_.set(n,r));const a=i!=null,o=a?new ni(i,!0,!1):null,s=hs(e.pendingWriteTree_,t._path),l=ac(r,t,s,a?o.getNode():$.EMPTY_NODE,a);return t8(l)}function Cr(e,t){return Mm(t,e.syncPointTree_,null,hs(e.pendingWriteTree_,lt()))}function Mm(e,t,n,i){if(Z(e.path))return Fm(e,t,n,i);{const r=t.get(lt());n==null&&r!=null&&(n=Vn(r,lt()));let a=[];const o=J(e.path),s=e.operationForChild(o),l=t.children.get(o);if(l&&s){const d=n?n.getImmediateChild(o):null,c=Em(i,o);a=a.concat(Mm(s,l,d,c))}return r&&(a=a.concat(rc(r,e,i,n))),a}}function Fm(e,t,n,i){const r=t.get(lt());n==null&&r!=null&&(n=Vn(r,lt()));let a=[];return t.children.inorderTraversal((o,s)=>{const l=n?n.getImmediateChild(o):null,d=Em(i,o),c=e.operationForChild(o);c&&(a=a.concat(Fm(c,s,l,d)))}),r&&(a=a.concat(rc(r,e,i,n))),a}function Lm(e,t){const n=t.query,i=xa(e,n);return{hashFn:()=>(Xy(t)||$.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?m8(e,n._path,i):h8(e,n._path);{const a=ub(r,n);return Fo(e,n,null,a)}}}}function xa(e,t){const n=_s(t);return e.queryToTagMap.get(n)}function _s(e){return e._path.toString()+"$"+e._queryIdentifier}function sc(e,t){return e.tagToQueryMap.get(t)}function lc(e){const t=e.indexOf("$");return T(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ht(e.substr(0,t))}}function dc(e,t,n){const i=e.syncPointTree_.get(t);T(i,"Missing sync point for query tag that we're tracking");const r=hs(e.pendingWriteTree_,t);return rc(i,n,r,null)}function v8(e){return e.fold((t,n,i)=>{if(n&&ii(n))return[ms(n)];{let r=[];return n&&(r=Am(n)),Qt(i,(a,o)=>{r=r.concat(o)}),r}})}function Xr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(c8())(e._repo,e._path):e}function b8(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const r=_s(i),a=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(a)}}}function y8(){return p8++}function w8(e,t,n){const i=t._path,r=xa(e,t),a=Lm(e,n),o=e.listenProvider_.startListening(Xr(t),r,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(i);if(r)T(!ii(s.value),"If we're adding a query, it shouldn't be shadowed");else{const l=s.fold((d,c,p)=>{if(!Z(d)&&c&&ii(c))return[ms(c).query];{let u=[];return c&&(u=u.concat(Am(c).map(h=>h.query))),Qt(p,(h,g)=>{u=u.concat(g)}),u}});for(let d=0;d<l.length;++d){const c=l[d];e.listenProvider_.stopListening(Xr(c),xa(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new cc(n)}node(){return this.node_}}class pc{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ft(this.path_,t);return new pc(this.syncTree_,n)}node(){return gs(this.syncTree_,this.path_)}}const C8=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Au=function(e,t,n){if(!e||typeof e!="object")return e;if(T(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return E8(e[".sv"],t,n);if(typeof e[".sv"]=="object")return S8(e[".sv"],t);T(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},E8=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+e)}},S8=function(e,t,n){e.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&T(!1,"Unexpected increment value: "+i);const r=t.node();if(T(r!==null&&typeof r!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},zm=function(e,t,n,i){return fc(t,new pc(n,e),i)},uc=function(e,t,n){return fc(e,new cc(t),n)};function fc(e,t,n){const i=e.getPriority().val(),r=Au(i,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const o=e,s=Au(o.getValue(),t,n);return s!==o.getValue()||r!==o.getPriority().val()?new Vt(s,zt(r)):e}else{const o=e;return a=o,r!==o.getPriority().val()&&(a=a.updatePriority(new Vt(r))),o.forEachChild(Rt,(s,l)=>{const d=fc(l,t.getImmediateChild(s),n);d!==l&&(a=a.updateImmediateChild(s,d))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function xs(e,t){let n=t instanceof ht?t:new ht(t),i=e,r=J(n);for(;r!==null;){const a=Si(i.node.children,r)||{children:{},childCount:0};i=new hc(r,i,a),n=yt(n),r=J(n)}return i}function Fi(e){return e.node.value}function mc(e,t){e.node.value=t,Jl(e)}function Ym(e){return e.node.childCount>0}function R8(e){return Fi(e)===void 0&&!Ym(e)}function vs(e,t){Qt(e.node.children,(n,i)=>{t(new hc(n,e,i))})}function Bm(e,t,n,i){n&&!i&&t(e),vs(e,r=>{Bm(r,t,!0,i)}),n&&i&&t(e)}function T8(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ia(e){return new ht(e.parent===null?e.name:Ia(e.parent)+"/"+e.name)}function Jl(e){e.parent!==null&&k8(e.parent,e.name,e)}function k8(e,t,n){const i=R8(n),r=Ce(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Jl(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,Jl(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=/[\[\].#$\/\u0000-\u001F\u007F]/,A8=/[\[\].#$\u0000-\u001F\u007F]/,dl=10*1024*1024,bs=function(e){return typeof e=="string"&&e.length!==0&&!I8.test(e)},Wm=function(e){return typeof e=="string"&&e.length!==0&&!A8.test(e)},D8=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Wm(e)},va=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!ds(e)||e&&typeof e=="object"&&Ce(e,".sv")},pn=function(e,t,n,i){i&&t===void 0||Aa(fe(e,"value"),t,n)},Aa=function(e,t,n){const i=n instanceof ht?new Ub(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ui(i));if(typeof t=="function")throw new Error(e+"contains a function "+ui(i)+" with contents = "+t.toString());if(ds(t))throw new Error(e+"contains "+t.toString()+" "+ui(i));if(typeof t=="string"&&t.length>dl/3&&ss(t)>dl)throw new Error(e+"contains a string greater than "+dl+" utf8 bytes "+ui(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,a=!1;if(Qt(t,(o,s)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!bs(o)))throw new Error(e+" contains an invalid key ("+o+") "+ui(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Hb(i,o),Aa(e,s,i),Vb(i)}),r&&a)throw new Error(e+' contains ".value" child '+ui(i)+" in addition to actual children.")}},O8=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const a=fa(i);for(let o=0;o<a.length;o++)if(!(a[o]===".priority"&&o===a.length-1)){if(!bs(a[o]))throw new Error(e+"contains an invalid key ("+a[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort($b);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&De(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},jm=function(e,t,n,i){if(i&&t===void 0)return;const r=fe(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const a=[];Qt(t,(o,s)=>{const l=new ht(o);if(Aa(r,s,Ft(n,l)),Hd(l)===".priority"&&!va(s))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(l)}),O8(r,a)},gc=function(e,t,n){if(!(n&&t===void 0)){if(ds(t))throw new Error(fe(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!va(t))throw new Error(fe(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Da=function(e,t,n,i){if(!(i&&n===void 0)&&!bs(n))throw new Error(fe(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},ba=function(e,t,n,i){if(!(i&&n===void 0)&&!Wm(n))throw new Error(fe(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},P8=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ba(e,t,n,i)},Oe=function(e,t){if(J(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},$m=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!bs(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!D8(n))throw new Error(fe(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ys(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],a=r.getPath();n!==null&&!Vd(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(r)}n&&e.eventLists_.push(n)}function Um(e,t,n){ys(e,n),Hm(e,i=>Vd(i,t))}function Ne(e,t,n){ys(e,n),Hm(e,i=>De(i,t)||De(t,i))}function Hm(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const a=r.path;t(a)?(M8(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function M8(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();wi&&qt("event: "+n.toString()),yr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="repo_interrupt",F8=25;class L8{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new N8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ko(),this.transactionQueueTree_=new hc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function z8(e,t,n){if(e.stats_=$d(e.repoInfo_),e.forceRestClient_||hb())e.server_=new To(e.repoInfo_,(i,r,a,o)=>{Du(e,i,r,a,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Ou(e,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$t(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Cn(e.repoInfo_,t,(i,r,a,o)=>{Du(e,i,r,a,o)},i=>{Ou(e,i)},i=>{Y8(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=vb(e.repoInfo_,()=>new wy(e.stats_,e.server_)),e.infoData_=new _y,e.infoSyncTree_=new ku({startListening:(i,r,a,o)=>{let s=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(s=ka(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),s},stopListening:()=>{}}),_c(e,"connected",!1),e.serverSyncTree_=new ku({startListening:(i,r,a,o)=>(e.server_.listen(i,a,r,(s,l)=>{const d=o(s,l);Ne(e.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function Gm(e){const n=e.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Oa(e){return C8({timestamp:Gm(e)})}function Du(e,t,n,i,r){e.dataUpdateCount++;const a=new ht(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const l=yo(n,d=>zt(d));o=_8(e.serverSyncTree_,a,l,r)}else{const l=zt(n);o=Pm(e.serverSyncTree_,a,l,r)}else if(i){const l=yo(n,d=>zt(d));o=f8(e.serverSyncTree_,a,l)}else{const l=zt(n);o=ka(e.serverSyncTree_,a,l)}let s=a;o.length>0&&(s=gr(e,a)),Ne(e.eventQueue_,s,o)}function Ou(e,t){_c(e,"connected",t),t===!1&&j8(e)}function Y8(e,t){Qt(t,(n,i)=>{_c(e,n,i)})}function _c(e,t,n){const i=new ht("/.info/"+t),r=zt(n);e.infoData_.updateSnapshot(i,r);const a=ka(e.infoSyncTree_,i,r);Ne(e.eventQueue_,i,a)}function ws(e){return e.nextWriteId_++}function B8(e,t){const n=x8(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(i=>{const r=zt(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())ka(e.serverSyncTree_,t._path,r);else{const o=g8(e.serverSyncTree_,t);Pm(e.serverSyncTree_,t._path,r,o)}return Fo(e.serverSyncTree_,t,null).length>0&&Ii(e,"unexpected cancel events in repoGetValue"),r},i=>(Ii(e,"get for query "+$t(t)+" failed: "+i),Promise.reject(new Error(i))))}function xc(e,t,n,i,r){Ii(e,"set",{path:t.toString(),value:n,priority:i});const a=Oa(e),o=zt(n,i),s=gs(e.serverSyncTree_,t),l=uc(o,s,a),d=ws(e),c=oc(e.serverSyncTree_,t,l,d,!0);ys(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(u,h)=>{const g=u==="ok";g||ee("set at "+t+" failed: "+u);const D=zn(e.serverSyncTree_,d,!g);Ne(e.eventQueue_,t,D),ri(e,r,u,h)});const p=bc(e,t);gr(e,p),Ne(e.eventQueue_,p,[])}function W8(e,t,n,i){Ii(e,"update",{path:t.toString(),value:n});let r=!0;const a=Oa(e),o={};if(Qt(n,(s,l)=>{r=!1,o[s]=zm(Ft(t,s),zt(l),e.serverSyncTree_,a)}),r)qt("update() called with empty data.  Don't do anything."),ri(e,i,"ok",void 0);else{const s=ws(e),l=u8(e.serverSyncTree_,t,o,s);ys(e.eventQueue_,l),e.server_.merge(t.toString(),n,(d,c)=>{const p=d==="ok";p||ee("update at "+t+" failed: "+d);const u=zn(e.serverSyncTree_,s,!p),h=u.length>0?gr(e,t):t;Ne(e.eventQueue_,h,u),ri(e,i,d,c)}),Qt(n,d=>{const c=bc(e,Ft(t,d));gr(e,c)}),Ne(e.eventQueue_,t,[])}}function j8(e){Ii(e,"onDisconnectEvents");const t=Oa(e),n=ko();Hl(e.onDisconnect_,lt(),(r,a)=>{const o=zm(r,a,e.serverSyncTree_,t);wr(n,r,o)});let i=[];Hl(n,lt(),(r,a)=>{i=i.concat(ka(e.serverSyncTree_,r,a));const o=bc(e,r);gr(e,o)}),e.onDisconnect_=ko(),Ne(e.eventQueue_,lt(),i)}function $8(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&Ul(e.onDisconnect_,t),ri(e,n,i,r)})}function Pu(e,t,n,i){const r=zt(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(a,o)=>{a==="ok"&&wr(e.onDisconnect_,t,r),ri(e,i,a,o)})}function U8(e,t,n,i,r){const a=zt(n,i);e.server_.onDisconnectPut(t.toString(),a.val(!0),(o,s)=>{o==="ok"&&wr(e.onDisconnect_,t,a),ri(e,r,o,s)})}function H8(e,t,n,i){if(Ol(n)){qt("onDisconnect().update() called with empty data.  Don't do anything."),ri(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,a)=>{r==="ok"&&Qt(n,(o,s)=>{const l=zt(s);wr(e.onDisconnect_,Ft(t,o),l)}),ri(e,i,r,a)})}function V8(e,t,n){let i;J(t._path)===".info"?i=Iu(e.infoSyncTree_,t,n):i=Iu(e.serverSyncTree_,t,n),Um(e.eventQueue_,t._path,i)}function Zl(e,t,n){let i;J(t._path)===".info"?i=Fo(e.infoSyncTree_,t,n):i=Fo(e.serverSyncTree_,t,n),Um(e.eventQueue_,t._path,i)}function Km(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Vm)}function G8(e){e.persistentConnection_&&e.persistentConnection_.resume(Vm)}function Ii(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),qt(n,...t)}function ri(e,t,n,i){t&&yr(()=>{if(n==="ok")t(null);else{const r=(n||"error").toUpperCase();let a=r;i&&(a+=": "+i);const o=new Error(a);o.code=r,t(o)}})}function K8(e,t,n,i,r,a){Ii(e,"transaction on "+t);const o={path:t,update:n,onComplete:i,status:null,order:Bh(),applyLocally:a,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=vc(e,t,void 0);o.currentInputSnapshot=s;const l=o.update(s.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Aa("transaction failed: Data returned ",l,o.path),o.status=0;const d=xs(e.transactionQueueTree_,t),c=Fi(d)||[];c.push(o),mc(d,c);let p;typeof l=="object"&&l!==null&&Ce(l,".priority")?(p=Si(l,".priority"),T(va(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(gs(e.serverSyncTree_,t)||$.EMPTY_NODE).getPriority().val();const u=Oa(e),h=zt(l,p),g=uc(h,s,u);o.currentOutputSnapshotRaw=h,o.currentOutputSnapshotResolved=g,o.currentWriteId=ws(e);const D=oc(e.serverSyncTree_,t,g,o.currentWriteId,o.applyLocally);Ne(e.eventQueue_,t,D),Cs(e,e.transactionQueueTree_)}}function vc(e,t,n){return gs(e.serverSyncTree_,t,n)||$.EMPTY_NODE}function Cs(e,t=e.transactionQueueTree_){if(t||Es(e,t),Fi(t)){const n=Qm(e,t);T(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&q8(e,Ia(t),n)}else Ym(t)&&vs(t,n=>{Cs(e,n)})}function q8(e,t,n){const i=n.map(d=>d.currentWriteId),r=vc(e,t,i);let a=r;const o=r.hash();for(let d=0;d<n.length;d++){const c=n[d];T(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const p=oe(t,c.path);a=a.updateChild(p,c.currentOutputSnapshotRaw)}const s=a.val(!0),l=t;e.server_.put(l.toString(),s,d=>{Ii(e,"transaction put response",{path:l.toString(),status:d});let c=[];if(d==="ok"){const p=[];for(let u=0;u<n.length;u++)n[u].status=2,c=c.concat(zn(e.serverSyncTree_,n[u].currentWriteId)),n[u].onComplete&&p.push(()=>n[u].onComplete(null,!0,n[u].currentOutputSnapshotResolved)),n[u].unwatcher();Es(e,xs(e.transactionQueueTree_,t)),Cs(e,e.transactionQueueTree_),Ne(e.eventQueue_,t,c);for(let u=0;u<p.length;u++)yr(p[u])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{ee("transaction at "+l.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}gr(e,t)}},o)}function gr(e,t){const n=qm(e,t),i=Ia(n),r=Qm(e,n);return Q8(e,r,i),i}function Q8(e,t,n){if(t.length===0)return;const i=[];let r=[];const o=t.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<t.length;s++){const l=t[s],d=oe(n,l.path);let c=!1,p;if(T(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,p=l.abortReason,r=r.concat(zn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=F8)c=!0,p="maxretry",r=r.concat(zn(e.serverSyncTree_,l.currentWriteId,!0));else{const u=vc(e,l.path,o);l.currentInputSnapshot=u;const h=t[s].update(u.val());if(h!==void 0){Aa("transaction failed: Data returned ",h,l.path);let g=zt(h);typeof h=="object"&&h!=null&&Ce(h,".priority")||(g=g.updatePriority(u.getPriority()));const _=l.currentWriteId,v=Oa(e),O=uc(g,u,v);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=O,l.currentWriteId=ws(e),o.splice(o.indexOf(_),1),r=r.concat(oc(e.serverSyncTree_,l.path,O,l.currentWriteId,l.applyLocally)),r=r.concat(zn(e.serverSyncTree_,_,!0))}else c=!0,p="nodata",r=r.concat(zn(e.serverSyncTree_,l.currentWriteId,!0))}Ne(e.eventQueue_,n,r),r=[],c&&(t[s].status=2,function(u){setTimeout(u,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&(p==="nodata"?i.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):i.push(()=>t[s].onComplete(new Error(p),!1,null))))}Es(e,e.transactionQueueTree_);for(let s=0;s<i.length;s++)yr(i[s]);Cs(e,e.transactionQueueTree_)}function qm(e,t){let n,i=e.transactionQueueTree_;for(n=J(t);n!==null&&Fi(i)===void 0;)i=xs(i,n),t=yt(t),n=J(t);return i}function Qm(e,t){const n=[];return Jm(e,t,n),n.sort((i,r)=>i.order-r.order),n}function Jm(e,t,n){const i=Fi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);vs(t,r=>{Jm(e,r,n)})}function Es(e,t){const n=Fi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,mc(t,n.length>0?n:void 0)}vs(t,i=>{Es(e,i)})}function bc(e,t){const n=Ia(qm(e,t)),i=xs(e.transactionQueueTree_,t);return T8(i,r=>{cl(e,r)}),cl(e,i),Bm(i,r=>{cl(e,r)}),n}function cl(e,t){const n=Fi(t);if(n){const i=[];let r=[],a=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(T(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(T(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(zn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?mc(t,void 0):n.length=a+1,Ne(e.eventQueue_,Ia(t),r);for(let o=0;o<i.length;o++)yr(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function Z8(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ee(`Invalid query segment '${n}' in query '${e}'`)}return t}const Xl=function(e,t){const n=X8(e),i=n.namespace;n.domain==="firebase.com"&&dn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sb();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new em(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new ht(n.pathString)}},X8=function(e){let t="",n="",i="",r="",a="",o=!0,s="https",l=443;if(typeof e=="string"){let d=e.indexOf("//");d>=0&&(s=e.substring(0,d-1),e=e.substring(d+2));let c=e.indexOf("/");c===-1&&(c=e.length);let p=e.indexOf("?");p===-1&&(p=e.length),t=e.substring(0,Math.min(c,p)),c<p&&(r=J8(e.substring(c,p)));const u=Z8(e.substring(Math.min(e.length,p)));d=t.indexOf(":"),d>=0?(o=s==="https"||s==="wss",l=parseInt(t.substring(d+1),10)):d=t.length;const h=t.slice(0,d);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const g=t.indexOf(".");i=t.substring(0,g).toLowerCase(),n=t.substring(g+1),a=i}"ns"in u&&(a=u.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:s,pathString:r,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$t(this.snapshot.exportVal())}}class Xm{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new pe;return $8(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Oe("OnDisconnect.remove",this._path);const t=new pe;return Pu(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Oe("OnDisconnect.set",this._path),pn("OnDisconnect.set",t,this._path,!1);const n=new pe;return Pu(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Oe("OnDisconnect.setWithPriority",this._path),pn("OnDisconnect.setWithPriority",t,this._path,!1),gc("OnDisconnect.setWithPriority",n,!1);const i=new pe;return U8(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){Oe("OnDisconnect.update",this._path),jm("OnDisconnect.update",t,this._path,!1);const n=new pe;return H8(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Z(this._path)?null:Hd(this._path)}get ref(){return new Me(this._repo,this._path)}get _queryIdentifier(){const t=xu(this._queryParams),n=Bd(t);return n==="{}"?"default":n}get _queryObject(){return xu(this._queryParams)}isEqual(t){if(t=Ee(t),!(t instanceof he))return!1;const n=this._repo===t._repo,i=Vd(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+jb(this._path)}}function Ss(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ai(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===on){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Rn)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==cn)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===Rt){if(t!=null&&!va(t)||n!=null&&!va(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(T(e.getIndex()instanceof qd||e.getIndex()===Qd,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Rs(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Me extends he{constructor(t,n){super(t,n,new ps,!1)}get parent(){const t=cm(this._path);return t===null?null:new Me(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ai{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ht(t),i=Di(this.ref,t);return new Ai(this._node.getChild(n),i,Rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new Ai(r,Di(this.ref,i),Rt)))}hasChild(t){const n=new ht(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function eg(e,t){return e=Ee(e),e._checkNotDeleted("ref"),t!==void 0?Di(e._root,t):e._root}function Nu(e,t){e=Ee(e),e._checkNotDeleted("refFromURL");const n=Xl(t,e._repo.repoInfo_.nodeAdmin);$m("refFromURL",n);const i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&dn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),eg(e,n.path.toString())}function Di(e,t){return e=Ee(e),J(e._path)===null?P8("child","path",t,!1):ba("child","path",t,!1),new Me(e._repo,Ft(e._path,t))}function ew(e,t){e=Ee(e),Oe("push",e._path),pn("push",t,e._path,!0);const n=Gm(e._repo),i=dy(n),r=Di(e,i),a=Di(e,i);let o;return t!=null?o=yc(a,t).then(()=>a):o=Promise.resolve(a),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function nw(e){return Oe("remove",e._path),yc(e,null)}function yc(e,t){e=Ee(e),Oe("set",e._path),pn("set",t,e._path,!1);const n=new pe;return xc(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function iw(e,t){e=Ee(e),Oe("setPriority",e._path),gc("setPriority",t,!1);const n=new pe;return xc(e._repo,Ft(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function rw(e,t,n){if(Oe("setWithPriority",e._path),pn("setWithPriority",t,e._path,!1),gc("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new pe;return xc(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function aw(e,t){jm("update",t,e._path,!1);const n=new pe;return W8(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function ow(e){return e=Ee(e),B8(e._repo,e).then(t=>new Ai(t,new Me(e._repo,e._path),e._queryParams.getIndex()))}class Ts{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new Zm("value",this,new Ai(t.snapshotNode,new Me(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Xm(this,t,n):null}matches(t){return t instanceof Ts?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ks{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Xm(this,t,n):null}createEvent(t,n){T(t.childName!=null,"Child events should have a childName.");const i=Di(new Me(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new Zm(t.type,this,new Ai(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ks?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Pa(e,t,n,i,r){let a;if(typeof i=="object"&&(a=void 0,r=i),typeof i=="function"&&(a=i),r&&r.onlyOnce){const l=n,d=(c,p)=>{Zl(e._repo,e,s),l(c,p)};d.userCallback=n.userCallback,d.context=n.context,n=d}const o=new tg(n,a||void 0),s=t==="value"?new Ts(o):new ks(t,o);return V8(e._repo,e,s),()=>Zl(e._repo,e,s)}function td(e,t,n,i){return Pa(e,"value",t,n,i)}function Mu(e,t,n,i){return Pa(e,"child_added",t,n,i)}function Fu(e,t,n,i){return Pa(e,"child_changed",t,n,i)}function Lu(e,t,n,i){return Pa(e,"child_moved",t,n,i)}function zu(e,t,n,i){return Pa(e,"child_removed",t,n,i)}function Yu(e,t,n){let i=null;const r=n?new tg(n):null;t==="value"?i=new Ts(r):t&&(i=new ks(t,r)),Zl(e._repo,e,i)}class Qe{}class ng extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("endAt",this._value,t._path,!0);const n=$l(t._queryParams,this._value,this._key);if(Rs(n),ai(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new he(t._repo,t._path,n,t._orderByCalled)}}function sw(e,t){return Da("endAt","key",t,!0),new ng(e,t)}class lw extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("endBefore",this._value,t._path,!1);const n=gy(t._queryParams,this._value,this._key);if(Rs(n),ai(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new he(t._repo,t._path,n,t._orderByCalled)}}function dw(e,t){return Da("endBefore","key",t,!0),new lw(e,t)}class ig extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("startAt",this._value,t._path,!0);const n=jl(t._queryParams,this._value,this._key);if(Rs(n),ai(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new he(t._repo,t._path,n,t._orderByCalled)}}function cw(e=null,t){return Da("startAt","key",t,!0),new ig(e,t)}class pw extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("startAfter",this._value,t._path,!1);const n=my(t._queryParams,this._value,this._key);if(Rs(n),ai(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new he(t._repo,t._path,n,t._orderByCalled)}}function uw(e,t){return Da("startAfter","key",t,!0),new pw(e,t)}class fw extends Qe{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new he(t._repo,t._path,fy(t._queryParams,this._limit),t._orderByCalled)}}function hw(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new fw(e)}class mw extends Qe{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new he(t._repo,t._path,hy(t._queryParams,this._limit),t._orderByCalled)}}function gw(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mw(e)}class _w extends Qe{constructor(t){super(),this._path=t}_apply(t){Ss(t,"orderByChild");const n=new ht(this._path);if(Z(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new qd(n),r=us(t._queryParams,i);return ai(r),new he(t._repo,t._path,r,!0)}}function xw(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ba("orderByChild","path",e,!1),new _w(e)}class vw extends Qe{_apply(t){Ss(t,"orderByKey");const n=us(t._queryParams,on);return ai(n),new he(t._repo,t._path,n,!0)}}function bw(){return new vw}class yw extends Qe{_apply(t){Ss(t,"orderByPriority");const n=us(t._queryParams,Rt);return ai(n),new he(t._repo,t._path,n,!0)}}function ww(){return new yw}class Cw extends Qe{_apply(t){Ss(t,"orderByValue");const n=us(t._queryParams,Qd);return ai(n),new he(t._repo,t._path,n,!0)}}function Ew(){return new Cw}class Sw extends Qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(pn("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ng(this._value,this._key)._apply(new ig(this._value,this._key)._apply(t))}}function Rw(e,t){return Da("equalTo","key",t,!0),new Sw(e,t)}function Ye(e,...t){let n=Ee(e);for(const i of t)n=i._apply(n);return n}r8(Me);d8(Me);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="FIREBASE_DATABASE_EMULATOR_HOST",ed={};let kw=!1;function Iw(e,t,n,i){e.repoInfo_=new em(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),i&&(e.authTokenProvider_=i)}function rg(e,t,n,i,r){let a=i||e.options.databaseURL;a===void 0&&(e.options.projectId||dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Xl(a,r),s=o.repoInfo,l,d;typeof process!="undefined"&&process.env&&(d=process.env[Tw]),d?(l=!0,a=`http://${d}?ns=${s.namespace}`,o=Xl(a,r),s=o.repoInfo):l=!o.repoInfo.secure;const c=r&&l?new nr(nr.OWNER):new gb(e.name,e.options,t);$m("Invalid Firebase Database URL",o),Z(o.path)||dn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Dw(s,e,c,new mb(e.name,n));return new Ow(p,e)}function Aw(e,t){const n=ed[t];(!n||n[e.key]!==e)&&dn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Km(e),delete n[e.key]}function Dw(e,t,n,i){let r=ed[t.name];r||(r={},ed[t.name]=r);let a=r[e.toURLString()];return a&&dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new L8(e,kw,n,i),r[e.toURLString()]=a,a}class Ow{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(z8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Me(this._repo,lt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Aw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&dn("Cannot call "+t+" on a deleted database.")}}function ag(){pr.IS_TRANSPORT_INITIALIZED&&ee("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Pw(){ag(),Ln.forceDisallow()}function Nw(){ag(),Ae.forceDisallow(),Ln.forceAllow()}function Mw(e,t,n,i={}){e=Ee(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&dn("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new nr(nr.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:S1(i.mockUserToken,e.app.options.projectId);a=new nr(o)}Iw(r,t,n,a)}function Fw(e){e=Ee(e),e._checkNotDeleted("goOffline"),Km(e._repo)}function Lw(e){e=Ee(e),e._checkNotDeleted("goOnline"),G8(e._repo)}function zw(e,t){jh(e,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(e){zh(Yd),cr(new Zn("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return rg(i,r,a,n)},"PUBLIC").setMultipleInstances(!0)),Un(tu,eu,e),Un(tu,eu,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw={".sv":"timestamp"};function Ww(){return Bw}function jw(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Uw(e,t,n){var i;if(e=Ee(e),Oe("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=(i=n==null?void 0:n.applyLocally)!==null&&i!==void 0?i:!0,a=new pe,o=(l,d,c)=>{let p=null;l?a.reject(l):(p=new Ai(c,new Me(e._repo,e._path),Rt),a.resolve(new $w(d,p)))},s=td(e,()=>{});return K8(e._repo,e._path,t,o,s,r),a.promise}Cn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Cn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Yw();const Hw="@firebase/database-compat",Vw="0.2.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new ls("@firebase/database-compat"),og=function(e){const t="FIREBASE WARNING: "+e;Gw.warn(t)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(fe(e,t)+"must be a boolean.")},qw=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(fe(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this._delegate=t}cancel(t){H("OnDisconnect.cancel",0,1,arguments.length),Gt("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){H("OnDisconnect.remove",0,1,arguments.length),Gt("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){H("OnDisconnect.set",1,2,arguments.length),Gt("OnDisconnect.set","onComplete",n,!0);const i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){H("OnDisconnect.setWithPriority",2,3,arguments.length),Gt("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),a=>i(a)),r}update(t,n){if(H("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,og("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gt("OnDisconnect.update","onComplete",n,!0);const i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return H("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t,n){this._database=t,this._delegate=n}val(){return H("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return H("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return H("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return H("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return H("DataSnapshot.child",0,1,arguments.length),t=String(t),ba("DataSnapshot.child","path",t,!1),new Gn(this._database,this._delegate.child(t))}hasChild(t){return H("DataSnapshot.hasChild",1,1,arguments.length),ba("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return H("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return H("DataSnapshot.forEach",1,1,arguments.length),Gt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new Gn(this._database,n)))}hasChildren(){return H("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return H("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return H("DataSnapshot.ref",0,0,arguments.length),new be(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Jt{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var a;H("Query.on",2,4,arguments.length),Gt("Query.on","callback",n,!1);const o=Jt.getCancelAndContextArgs_("Query.on",i,r),s=(d,c)=>{n.call(o.context,new Gn(this.database,d),c)};s.userCallback=n,s.context=o.context;const l=(a=o.cancel)===null||a===void 0?void 0:a.bind(o.context);switch(t){case"value":return td(this._delegate,s,l),n;case"child_added":return Mu(this._delegate,s,l),n;case"child_removed":return zu(this._delegate,s,l),n;case"child_changed":return Fu(this._delegate,s,l),n;case"child_moved":return Lu(this._delegate,s,l),n;default:throw new Error(fe("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(H("Query.off",0,3,arguments.length),qw("Query.off",t,!0),Gt("Query.off","callback",n,!0),Up("Query.off","context",i,!0),n){const r=()=>{};r.userCallback=n,r.context=i,Yu(this._delegate,t,r)}else Yu(this._delegate,t)}get(){return ow(this._delegate).then(t=>new Gn(this.database,t))}once(t,n,i,r){H("Query.once",1,4,arguments.length),Gt("Query.once","callback",n,!0);const a=Jt.getCancelAndContextArgs_("Query.once",i,r),o=new pe,s=(d,c)=>{const p=new Gn(this.database,d);n&&n.call(a.context,p,c),o.resolve(p)};s.userCallback=n,s.context=a.context;const l=d=>{a.cancel&&a.cancel.call(a.context,d),o.reject(d)};switch(t){case"value":td(this._delegate,s,l,{onlyOnce:!0});break;case"child_added":Mu(this._delegate,s,l,{onlyOnce:!0});break;case"child_removed":zu(this._delegate,s,l,{onlyOnce:!0});break;case"child_changed":Fu(this._delegate,s,l,{onlyOnce:!0});break;case"child_moved":Lu(this._delegate,s,l,{onlyOnce:!0});break;default:throw new Error(fe("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return H("Query.limitToFirst",1,1,arguments.length),new Jt(this.database,Ye(this._delegate,hw(t)))}limitToLast(t){return H("Query.limitToLast",1,1,arguments.length),new Jt(this.database,Ye(this._delegate,gw(t)))}orderByChild(t){return H("Query.orderByChild",1,1,arguments.length),new Jt(this.database,Ye(this._delegate,xw(t)))}orderByKey(){return H("Query.orderByKey",0,0,arguments.length),new Jt(this.database,Ye(this._delegate,bw()))}orderByPriority(){return H("Query.orderByPriority",0,0,arguments.length),new Jt(this.database,Ye(this._delegate,ww()))}orderByValue(){return H("Query.orderByValue",0,0,arguments.length),new Jt(this.database,Ye(this._delegate,Ew()))}startAt(t=null,n){return H("Query.startAt",0,2,arguments.length),new Jt(this.database,Ye(this._delegate,cw(t,n)))}startAfter(t=null,n){return H("Query.startAfter",0,2,arguments.length),new Jt(this.database,Ye(this._delegate,uw(t,n)))}endAt(t=null,n){return H("Query.endAt",0,2,arguments.length),new Jt(this.database,Ye(this._delegate,sw(t,n)))}endBefore(t=null,n){return H("Query.endBefore",0,2,arguments.length),new Jt(this.database,Ye(this._delegate,dw(t,n)))}equalTo(t,n){return H("Query.equalTo",1,2,arguments.length),new Jt(this.database,Ye(this._delegate,Rw(t,n)))}toString(){return H("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return H("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(H("Query.isEqual",1,1,arguments.length),!(t instanceof Jt)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){const r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,Gt(t,"cancel",r.cancel,!0),r.context=i,Up(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(fe(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new be(this.database,new Me(this._delegate._repo,this._delegate._path))}}class be extends Jt{constructor(t,n){super(t,new he(n._repo,n._path,new ps,!1)),this.database=t,this._delegate=n}getKey(){return H("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return H("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new be(this.database,Di(this._delegate,t))}getParent(){H("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new be(this.database,t):null}getRoot(){return H("Reference.root",0,0,arguments.length),new be(this.database,this._delegate.root)}set(t,n){H("Reference.set",1,2,arguments.length),Gt("Reference.set","onComplete",n,!0);const i=yc(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(H("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,og("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oe("Reference.update",this._delegate._path),Gt("Reference.update","onComplete",n,!0);const i=aw(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){H("Reference.setWithPriority",2,3,arguments.length),Gt("Reference.setWithPriority","onComplete",i,!0);const r=rw(this._delegate,t,n);return i&&r.then(()=>i(null),a=>i(a)),r}remove(t){H("Reference.remove",0,1,arguments.length),Gt("Reference.remove","onComplete",t,!0);const n=nw(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){H("Reference.transaction",1,3,arguments.length),Gt("Reference.transaction","transactionUpdate",t,!1),Gt("Reference.transaction","onComplete",n,!0),Kw("Reference.transaction","applyLocally",i,!0);const r=Uw(this._delegate,t,{applyLocally:i}).then(a=>new Jw(a.committed,new Gn(this.database,a.snapshot)));return n&&r.then(a=>n(null,a.committed,a.snapshot),a=>n(a,!1,null)),r}setPriority(t,n){H("Reference.setPriority",1,2,arguments.length),Gt("Reference.setPriority","onComplete",n,!0);const i=iw(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){H("Reference.push",0,2,arguments.length),Gt("Reference.push","onComplete",n,!0);const i=ew(this._delegate,t),r=i.then(o=>new be(this.database,o));n&&r.then(()=>n(null),o=>n(o));const a=new be(this.database,i);return a.then=r.then.bind(r),a.catch=r.catch.bind(r,void 0),a}onDisconnect(){return Oe("Reference.onDisconnect",this._delegate._path),new Qw(new tw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Pw,forceLongPolling:Nw}}useEmulator(t,n,i={}){Mw(this._delegate,t,n,i)}ref(t){if(H("database.ref",0,1,arguments.length),t instanceof be){const n=Nu(this._delegate,t.toString());return new be(this,n)}else{const n=eg(this._delegate,t);return new be(this,n)}}refFromURL(t){H("database.refFromURL",1,1,arguments.length);const i=Nu(this._delegate,t);return new be(this,i)}goOffline(){return H("database.goOffline",0,0,arguments.length),Fw(this._delegate)}goOnline(){return H("database.goOnline",0,0,arguments.length),Lw(this._delegate)}}ya.ServerValue={TIMESTAMP:Ww(),increment:e=>jw(e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw({app:e,url:t,version:n,customAuthImpl:i,namespace:r,nodeAdmin:a=!1}){zh(n);const o=new Ch("auth-internal",new Eh("database-standalone"));return o.setComponent(new Zn("auth-internal",()=>i,"PRIVATE")),{instance:new ya(rg(e,o,void 0,t,a),e),namespace:r}}var Xw=Object.freeze({__proto__:null,initStandalone:Zw});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=ya.ServerValue;function e4(e){e.INTERNAL.registerComponent(new Zn("database-compat",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new ya(r,i)},"PUBLIC").setServiceProps({Reference:be,Query:Jt,Database:ya,DataSnapshot:Gn,enableLogging:zw,INTERNAL:Xw,ServerValue:t4}).setMultipleInstances(!0)),e.registerVersion(Hw,Vw)}e4(In);var fn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n};const n4={setup(){In.initializeApp(y1);let e=document.documentElement.clientHeight,t=Yt(!1),n=document.documentElement.clientHeight;return/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&(t.value=!1),{appHeihgt:e,isSafari:t,mainHeihgt:n}}},i4=C("footer",{class:"footer"},[Ei(" Copyright 2022 by "),C("a",{href:"https://github.com/YunTaoLin/Rock-Paper-Scissors-Online",title:"author"},"yuntaolin (Joe) "),Ei(" . All Rights Reserved. ")],-1);function r4(e,t,n,i,r,a){const o=ra("router-view");return ut(),St("div",{style:rn({height:i.isSafari?`${i.mainHeihgt}px`:"100vh"})},[Xt(o),i4],4)}var a4=fn(n4,[["render",r4]]);/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */var sg="store";function Er(e){return e===void 0&&(e=null),Ve(e!==null?e:sg)}var o4=typeof window!="undefined"?window:typeof global!="undefined"?global:{},Ui=o4.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s4(e){!Ui||(e._devtoolHook=Ui,Ui.emit("vuex:init",e),Ui.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(t,n){Ui.emit("vuex:mutation",t,n)},{prepend:!0}),e.subscribeAction(function(t,n){Ui.emit("vuex:action",t,n)},{prepend:!0}))}function Sr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function l4(e){return e!==null&&typeof e=="object"}function d4(e){return e&&typeof e.then=="function"}function c4(e,t){return function(){return e(t)}}var Je=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},lg={namespaced:{configurable:!0}};lg.namespaced.get=function(){return!!this._rawModule.namespaced};Je.prototype.addChild=function(t,n){this._children[t]=n};Je.prototype.removeChild=function(t){delete this._children[t]};Je.prototype.getChild=function(t){return this._children[t]};Je.prototype.hasChild=function(t){return t in this._children};Je.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Je.prototype.forEachChild=function(t){Sr(this._children,t)};Je.prototype.forEachGetter=function(t){this._rawModule.getters&&Sr(this._rawModule.getters,t)};Je.prototype.forEachAction=function(t){this._rawModule.actions&&Sr(this._rawModule.actions,t)};Je.prototype.forEachMutation=function(t){this._rawModule.mutations&&Sr(this._rawModule.mutations,t)};Object.defineProperties(Je.prototype,lg);var Li=function(t){this.register([],t,!1)};Li.prototype.get=function(t){return t.reduce(function(n,i){return n.getChild(i)},this.root)};Li.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(i,r){return n=n.getChild(r),i+(n.namespaced?r+"/":"")},"")};Li.prototype.update=function(t){dg([],this.root,t)};Li.prototype.register=function(t,n,i){var r=this;i===void 0&&(i=!0);var a=new Je(n,i);if(t.length===0)this.root=a;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],a)}n.modules&&Sr(n.modules,function(s,l){r.register(t.concat(l),s,i)})};Li.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1],r=n.getChild(i);!r||!r.runtime||n.removeChild(i)};Li.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1];return n?n.hasChild(i):!1};function dg(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;dg(e.concat(i),t.getChild(i),n.modules[i])}}function p4(e){return new me(e)}var me=function(t){var n=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var r=t.strict;r===void 0&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Li(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var a=this,o=this,s=o.dispatch,l=o.commit;this.dispatch=function(u,h){return s.call(a,u,h)},this.commit=function(u,h,g){return l.call(a,u,h,g)},this.strict=r;var d=this._modules.root.state;Is(this,d,[],this._modules.root),Cc(this,d),i.forEach(function(p){return p(n)});var c=t.devtools!==void 0?t.devtools:!0;c&&s4(this)},wc={state:{configurable:!0}};me.prototype.install=function(t,n){t.provide(n||sg,this),t.config.globalProperties.$store=this};wc.state.get=function(){return this._state.data};wc.state.set=function(e){};me.prototype.commit=function(t,n,i){var r=this,a=Lo(t,n,i),o=a.type,s=a.payload,l={type:o,payload:s},d=this._mutations[o];!d||(this._withCommit(function(){d.forEach(function(p){p(s)})}),this._subscribers.slice().forEach(function(c){return c(l,r.state)}))};me.prototype.dispatch=function(t,n){var i=this,r=Lo(t,n),a=r.type,o=r.payload,s={type:a,payload:o},l=this._actions[a];if(!!l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(s,i.state)})}catch{}var d=l.length>1?Promise.all(l.map(function(c){return c(o)})):l[0](o);return new Promise(function(c,p){d.then(function(u){try{i._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(s,i.state)})}catch{}c(u)},function(u){try{i._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(s,i.state,u)})}catch{}p(u)})})}};me.prototype.subscribe=function(t,n){return cg(t,this._subscribers,n)};me.prototype.subscribeAction=function(t,n){var i=typeof t=="function"?{before:t}:t;return cg(i,this._actionSubscribers,n)};me.prototype.watch=function(t,n,i){var r=this;return tr(function(){return t(r.state,r.getters)},n,Object.assign({},i))};me.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};me.prototype.registerModule=function(t,n,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Is(this,this.state,t,this._modules.get(t),i.preserveState),Cc(this,this.state)};me.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=Ec(n.state,t.slice(0,-1));delete i[t[t.length-1]]}),pg(this)};me.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};me.prototype.hotUpdate=function(t){this._modules.update(t),pg(this,!0)};me.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(me.prototype,wc);function cg(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function pg(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Is(e,n,[],e._modules.root,!0),Cc(e,n,t)}function Cc(e,t,n){var i=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,a={};Sr(r,function(o,s){a[s]=c4(o,e),Object.defineProperty(e.getters,s,{get:function(){return a[s]()},enumerable:!0})}),e._state=sn({data:t}),e.strict&&_4(e),i&&n&&e._withCommit(function(){i.data=null})}function Is(e,t,n,i,r){var a=!n.length,o=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=i),!a&&!r){var s=Ec(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){s[l]=i.state})}var d=i.context=u4(e,o,n);i.forEachMutation(function(c,p){var u=o+p;h4(e,u,c,d)}),i.forEachAction(function(c,p){var u=c.root?p:o+p,h=c.handler||c;m4(e,u,h,d)}),i.forEachGetter(function(c,p){var u=o+p;g4(e,u,c,d)}),i.forEachChild(function(c,p){Is(e,t,n.concat(p),c,r)})}function u4(e,t,n){var i=t==="",r={dispatch:i?e.dispatch:function(a,o,s){var l=Lo(a,o,s),d=l.payload,c=l.options,p=l.type;return(!c||!c.root)&&(p=t+p),e.dispatch(p,d)},commit:i?e.commit:function(a,o,s){var l=Lo(a,o,s),d=l.payload,c=l.options,p=l.type;(!c||!c.root)&&(p=t+p),e.commit(p,d,c)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return f4(e,t)}},state:{get:function(){return Ec(e.state,n)}}}),r}function f4(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach(function(r){if(r.slice(0,i)===t){var a=r.slice(i);Object.defineProperty(n,a,{get:function(){return e.getters[r]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function h4(e,t,n,i){var r=e._mutations[t]||(e._mutations[t]=[]);r.push(function(o){n.call(e,i.state,o)})}function m4(e,t,n,i){var r=e._actions[t]||(e._actions[t]=[]);r.push(function(o){var s=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},o);return d4(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):s})}function g4(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(a){return n(i.state,i.getters,a.state,a.getters)})}function _4(e){tr(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Ec(e,t){return t.reduce(function(n,i){return n[i]},e)}function Lo(e,t,n){return l4(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var x4=p4({state:{linkedRoom:"",role:""},mutations:{setLinkedRoom(e,t){e.linkedRoom=t},setRole(e,t){e.role=t}},actions:{}});const v4={setup(){Nd({title:"Rock Paper Scissors Online \u7DDA\u4E0A\u731C\u62F3",link:[{rel:"canonical",href:"https://yuntaolin.github.io/Rock-Paper-Scissors-Online/"}],meta:[{name:"og:title",content:"Rock Paper Scissors Online \u7DDA\u4E0A\u731C\u62F3"},{name:"og:description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely.\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"},{name:"description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely.\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"},{name:"twitter:title",content:"Rock Paper Scissors Online \u7DDA\u4E0A\u731C\u62F3"},{name:"twitter:description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely.\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"}]})}},b4={id:"EnterPage"},y4=Xx('<h1 data-v-8896087a>Rock Paper Scissors<br class="hidden-pad-up" data-v-8896087a>\u7DDA\u4E0A\u731C\u62F3</h1><nav class="btn_group" data-v-8896087a><a title="play game with english" href="https://yuntaolin.github.io/Rock-Paper-Scissors-Online/en" class="btn" data-v-8896087a> English </a><a title="\u4EE5\u4E2D\u6587\u9032\u884C\u904A\u6232" href="https://yuntaolin.github.io/Rock-Paper-Scissors-Online/zh-tw" class="btn" data-v-8896087a> \u4E2D\u6587 </a></nav><div class="other" data-v-8896087a></div>',3),w4=[y4];function C4(e,t,n,i,r,a){return ut(),St("div",b4,w4)}var E4=fn(v4,[["render",C4],["__scopeId","data-v-8896087a"]]);//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ug;function E(){return ug.apply(null,arguments)}function S4(e){ug=e}function Ke(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ci(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Sc(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ct(e,t))return!1;return!0}function ce(e){return e===void 0}function Tn(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Na(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function fg(e,t){var n=[],i,r=e.length;for(i=0;i<r;++i)n.push(t(e[i],i));return n}function Yn(e,t){for(var n in t)ct(t,n)&&(e[n]=t[n]);return ct(t,"toString")&&(e.toString=t.toString),ct(t,"valueOf")&&(e.valueOf=t.valueOf),e}function hn(e,t,n,i){return Lg(e,t,n,i,!0).utc()}function R4(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function q(e){return e._pf==null&&(e._pf=R4()),e._pf}var nd;Array.prototype.some?nd=Array.prototype.some:nd=function(e){var t=Object(this),n=t.length>>>0,i;for(i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};function Rc(e){if(e._isValid==null){var t=q(e),n=nd.call(t.parsedDateParts,function(r){return r!=null}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i}return e._isValid}function As(e){var t=hn(NaN);return e!=null?Yn(q(t),e):q(t).userInvalidated=!0,t}var Bu=E.momentProperties=[],pl=!1;function Tc(e,t){var n,i,r,a=Bu.length;if(ce(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ce(t._i)||(e._i=t._i),ce(t._f)||(e._f=t._f),ce(t._l)||(e._l=t._l),ce(t._strict)||(e._strict=t._strict),ce(t._tzm)||(e._tzm=t._tzm),ce(t._isUTC)||(e._isUTC=t._isUTC),ce(t._offset)||(e._offset=t._offset),ce(t._pf)||(e._pf=q(t)),ce(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)i=Bu[n],r=t[i],ce(r)||(e[i]=r);return e}function Ma(e){Tc(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),pl===!1&&(pl=!0,E.updateOffset(this),pl=!1)}function qe(e){return e instanceof Ma||e!=null&&e._isAMomentObject!=null}function hg(e){E.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function Fe(e,t){var n=!0;return Yn(function(){if(E.deprecationHandler!=null&&E.deprecationHandler(null,e),n){var i=[],r,a,o,s=arguments.length;for(a=0;a<s;a++){if(r="",typeof arguments[a]=="object"){r+=`
[`+a+"] ";for(o in arguments[0])ct(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[a];i.push(r)}hg(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var Wu={};function mg(e,t){E.deprecationHandler!=null&&E.deprecationHandler(e,t),Wu[e]||(hg(t),Wu[e]=!0)}E.suppressDeprecationWarnings=!1;E.deprecationHandler=null;function mn(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function T4(e){var t,n;for(n in e)ct(e,n)&&(t=e[n],mn(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function id(e,t){var n=Yn({},e),i;for(i in t)ct(t,i)&&(Ci(e[i])&&Ci(t[i])?(n[i]={},Yn(n[i],e[i]),Yn(n[i],t[i])):t[i]!=null?n[i]=t[i]:delete n[i]);for(i in e)ct(e,i)&&!ct(t,i)&&Ci(e[i])&&(n[i]=Yn({},n[i]));return n}function kc(e){e!=null&&this.set(e)}var rd;Object.keys?rd=Object.keys:rd=function(e){var t,n=[];for(t in e)ct(e,t)&&n.push(t);return n};var k4={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function I4(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return mn(i)?i.call(t,n):i}function un(e,t,n){var i=""+Math.abs(e),r=t-i.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var Ic=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ul={},ir={};function B(e,t,n,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),e&&(ir[e]=r),t&&(ir[t[0]]=function(){return un(r.apply(this,arguments),t[1],t[2])}),n&&(ir[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function A4(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function D4(e){var t=e.match(Ic),n,i;for(n=0,i=t.length;n<i;n++)ir[t[n]]?t[n]=ir[t[n]]:t[n]=A4(t[n]);return function(r){var a="",o;for(o=0;o<i;o++)a+=mn(t[o])?t[o].call(r,e):t[o];return a}}function eo(e,t){return e.isValid()?(t=gg(t,e.localeData()),ul[t]=ul[t]||D4(t),ul[t](e)):e.localeData().invalidDate()}function gg(e,t){var n=5;function i(r){return t.longDateFormat(r)||r}for(qa.lastIndex=0;n>=0&&qa.test(e);)e=e.replace(qa,i),qa.lastIndex=0,n-=1;return e}var O4={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function P4(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Ic).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var N4="Invalid date";function M4(){return this._invalidDate}var F4="%d",L4=/\d{1,2}/;function z4(e){return this._ordinal.replace("%d",e)}var Y4={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function B4(e,t,n,i){var r=this._relativeTime[n];return mn(r)?r(e,t,n,i):r.replace(/%d/i,e)}function W4(e,t){var n=this._relativeTime[e>0?"future":"past"];return mn(n)?n(t):n.replace(/%s/i,t)}var ta={};function ie(e,t){var n=e.toLowerCase();ta[n]=ta[n+"s"]=ta[t]=e}function Le(e){return typeof e=="string"?ta[e]||ta[e.toLowerCase()]:void 0}function Ac(e){var t={},n,i;for(i in e)ct(e,i)&&(n=Le(i),n&&(t[n]=e[i]));return t}var _g={};function re(e,t){_g[e]=t}function j4(e){var t=[],n;for(n in e)ct(e,n)&&t.push({unit:n,priority:_g[n]});return t.sort(function(i,r){return i.priority-r.priority}),t}function Ds(e){return e%4===0&&e%100!==0||e%400===0}function Ie(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function tt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Ie(t)),n}function Rr(e,t){return function(n){return n!=null?(xg(this,e,n),E.updateOffset(this,t),this):zo(this,e)}}function zo(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function xg(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Ds(e.year())&&e.month()===1&&e.date()===29?(n=tt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ls(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function $4(e){return e=Le(e),mn(this[e])?this[e]():this}function U4(e,t){if(typeof e=="object"){e=Ac(e);var n=j4(e),i,r=n.length;for(i=0;i<r;i++)this[n[i].unit](e[n[i].unit])}else if(e=Le(e),mn(this[e]))return this[e](t);return this}var vg=/\d/,Se=/\d\d/,bg=/\d{3}/,Dc=/\d{4}/,Os=/[+-]?\d{6}/,Pt=/\d\d?/,yg=/\d\d\d\d?/,wg=/\d\d\d\d\d\d?/,Ps=/\d{1,3}/,Oc=/\d{1,4}/,Ns=/[+-]?\d{1,6}/,Tr=/\d+/,Ms=/[+-]?\d+/,H4=/Z|[+-]\d\d:?\d\d/gi,Fs=/Z|[+-]\d\d(?::?\d\d)?/gi,V4=/[+-]?\d+(\.\d{1,3})?/,Fa=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Yo;Yo={};function M(e,t,n){Yo[e]=mn(t)?t:function(i,r){return i&&n?n:t}}function G4(e,t){return ct(Yo,e)?Yo[e](t._strict,t._locale):new RegExp(K4(e))}function K4(e){return xe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,i,r,a){return n||i||r||a}))}function xe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ad={};function gt(e,t){var n,i=t,r;for(typeof e=="string"&&(e=[e]),Tn(t)&&(i=function(a,o){o[t]=tt(a)}),r=e.length,n=0;n<r;n++)ad[e[n]]=i}function La(e,t){gt(e,function(n,i,r,a){r._w=r._w||{},t(n,r._w,r,a)})}function q4(e,t,n){t!=null&&ct(ad,e)&&ad[e](t,n._a,n,e)}var ne=0,yn=1,nn=2,Ut=3,Ue=4,wn=5,gi=6,Q4=7,J4=8;function Z4(e,t){return(e%t+t)%t}var Wt;Array.prototype.indexOf?Wt=Array.prototype.indexOf:Wt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Ls(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Z4(t,12);return e+=(t-n)/12,n===1?Ds(e)?29:28:31-n%7%2}B("M",["MM",2],"Mo",function(){return this.month()+1});B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});B("MMMM",0,0,function(e){return this.localeData().months(this,e)});ie("month","M");re("month",8);M("M",Pt);M("MM",Pt,Se);M("MMM",function(e,t){return t.monthsShortRegex(e)});M("MMMM",function(e,t){return t.monthsRegex(e)});gt(["M","MM"],function(e,t){t[yn]=tt(e)-1});gt(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);r!=null?t[yn]=r:q(n).invalidMonth=e});var X4="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Cg="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Eg=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,t6=Fa,e6=Fa;function n6(e,t){return e?Ke(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Eg).test(t)?"format":"standalone"][e.month()]:Ke(this._months)?this._months:this._months.standalone}function i6(e,t){return e?Ke(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Eg.test(t)?"format":"standalone"][e.month()]:Ke(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function r6(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=hn([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?t==="MMM"?(r=Wt.call(this._shortMonthsParse,o),r!==-1?r:null):(r=Wt.call(this._longMonthsParse,o),r!==-1?r:null):t==="MMM"?(r=Wt.call(this._shortMonthsParse,o),r!==-1?r:(r=Wt.call(this._longMonthsParse,o),r!==-1?r:null)):(r=Wt.call(this._longMonthsParse,o),r!==-1?r:(r=Wt.call(this._shortMonthsParse,o),r!==-1?r:null))}function a6(e,t,n){var i,r,a;if(this._monthsParseExact)return r6.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=hn([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(n&&t==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function Sg(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=tt(t);else if(t=e.localeData().monthsParse(t),!Tn(t))return e}return n=Math.min(e.date(),Ls(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Rg(e){return e!=null?(Sg(this,e),E.updateOffset(this,!0),this):zo(this,"Month")}function o6(){return Ls(this.year(),this.month())}function s6(e){return this._monthsParseExact?(ct(this,"_monthsRegex")||Tg.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ct(this,"_monthsShortRegex")||(this._monthsShortRegex=t6),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function l6(e){return this._monthsParseExact?(ct(this,"_monthsRegex")||Tg.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ct(this,"_monthsRegex")||(this._monthsRegex=e6),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Tg(){function e(o,s){return s.length-o.length}var t=[],n=[],i=[],r,a;for(r=0;r<12;r++)a=hn([2e3,r]),t.push(this.monthsShort(a,"")),n.push(this.months(a,"")),i.push(this.months(a,"")),i.push(this.monthsShort(a,""));for(t.sort(e),n.sort(e),i.sort(e),r=0;r<12;r++)t[r]=xe(t[r]),n[r]=xe(n[r]);for(r=0;r<24;r++)i[r]=xe(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}B("Y",0,0,function(){var e=this.year();return e<=9999?un(e,4):"+"+e});B(0,["YY",2],0,function(){return this.year()%100});B(0,["YYYY",4],0,"year");B(0,["YYYYY",5],0,"year");B(0,["YYYYYY",6,!0],0,"year");ie("year","y");re("year",1);M("Y",Ms);M("YY",Pt,Se);M("YYYY",Oc,Dc);M("YYYYY",Ns,Os);M("YYYYYY",Ns,Os);gt(["YYYYY","YYYYYY"],ne);gt("YYYY",function(e,t){t[ne]=e.length===2?E.parseTwoDigitYear(e):tt(e)});gt("YY",function(e,t){t[ne]=E.parseTwoDigitYear(e)});gt("Y",function(e,t){t[ne]=parseInt(e,10)});function ea(e){return Ds(e)?366:365}E.parseTwoDigitYear=function(e){return tt(e)+(tt(e)>68?1900:2e3)};var kg=Rr("FullYear",!0);function d6(){return Ds(this.year())}function c6(e,t,n,i,r,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,a,o),s}function wa(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Bo(e,t,n){var i=7+t-n,r=(7+wa(e,0,i).getUTCDay()-t)%7;return-r+i-1}function Ig(e,t,n,i,r){var a=(7+n-i)%7,o=Bo(e,i,r),s=1+7*(t-1)+a+o,l,d;return s<=0?(l=e-1,d=ea(l)+s):s>ea(e)?(l=e+1,d=s-ea(e)):(l=e,d=s),{year:l,dayOfYear:d}}function Ca(e,t,n){var i=Bo(e.year(),t,n),r=Math.floor((e.dayOfYear()-i-1)/7)+1,a,o;return r<1?(o=e.year()-1,a=r+En(o,t,n)):r>En(e.year(),t,n)?(a=r-En(e.year(),t,n),o=e.year()+1):(o=e.year(),a=r),{week:a,year:o}}function En(e,t,n){var i=Bo(e,t,n),r=Bo(e+1,t,n);return(ea(e)-i+r)/7}B("w",["ww",2],"wo","week");B("W",["WW",2],"Wo","isoWeek");ie("week","w");ie("isoWeek","W");re("week",5);re("isoWeek",5);M("w",Pt);M("ww",Pt,Se);M("W",Pt);M("WW",Pt,Se);La(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=tt(e)});function p6(e){return Ca(e,this._week.dow,this._week.doy).week}var u6={dow:0,doy:6};function f6(){return this._week.dow}function h6(){return this._week.doy}function m6(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function g6(e){var t=Ca(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}B("d",0,"do","day");B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});B("e",0,0,"weekday");B("E",0,0,"isoWeekday");ie("day","d");ie("weekday","e");ie("isoWeekday","E");re("day",11);re("weekday",11);re("isoWeekday",11);M("d",Pt);M("e",Pt);M("E",Pt);M("dd",function(e,t){return t.weekdaysMinRegex(e)});M("ddd",function(e,t){return t.weekdaysShortRegex(e)});M("dddd",function(e,t){return t.weekdaysRegex(e)});La(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);r!=null?t.d=r:q(n).invalidWeekday=e});La(["d","e","E"],function(e,t,n,i){t[i]=tt(e)});function _6(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function x6(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pc(e,t){return e.slice(t,7).concat(e.slice(0,t))}var v6="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ag="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),b6="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),y6=Fa,w6=Fa,C6=Fa;function E6(e,t){var n=Ke(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Pc(n,this._week.dow):e?n[e.day()]:n}function S6(e){return e===!0?Pc(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function R6(e){return e===!0?Pc(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function T6(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=hn([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?t==="dddd"?(r=Wt.call(this._weekdaysParse,o),r!==-1?r:null):t==="ddd"?(r=Wt.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=Wt.call(this._minWeekdaysParse,o),r!==-1?r:null):t==="dddd"?(r=Wt.call(this._weekdaysParse,o),r!==-1||(r=Wt.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=Wt.call(this._minWeekdaysParse,o),r!==-1?r:null)):t==="ddd"?(r=Wt.call(this._shortWeekdaysParse,o),r!==-1||(r=Wt.call(this._weekdaysParse,o),r!==-1)?r:(r=Wt.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=Wt.call(this._minWeekdaysParse,o),r!==-1||(r=Wt.call(this._weekdaysParse,o),r!==-1)?r:(r=Wt.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function k6(e,t,n){var i,r,a;if(this._weekdaysParseExact)return T6.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=hn([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(n&&t==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(n&&t==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function I6(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=_6(e,this.localeData()),this.add(e-t,"d")):t}function A6(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function D6(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=x6(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function O6(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||Nc.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ct(this,"_weekdaysRegex")||(this._weekdaysRegex=y6),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function P6(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||Nc.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ct(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=w6),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function N6(e){return this._weekdaysParseExact?(ct(this,"_weekdaysRegex")||Nc.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ct(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=C6),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Nc(){function e(c,p){return p.length-c.length}var t=[],n=[],i=[],r=[],a,o,s,l,d;for(a=0;a<7;a++)o=hn([2e3,1]).day(a),s=xe(this.weekdaysMin(o,"")),l=xe(this.weekdaysShort(o,"")),d=xe(this.weekdays(o,"")),t.push(s),n.push(l),i.push(d),r.push(s),r.push(l),r.push(d);t.sort(e),n.sort(e),i.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Mc(){return this.hours()%12||12}function M6(){return this.hours()||24}B("H",["HH",2],0,"hour");B("h",["hh",2],0,Mc);B("k",["kk",2],0,M6);B("hmm",0,0,function(){return""+Mc.apply(this)+un(this.minutes(),2)});B("hmmss",0,0,function(){return""+Mc.apply(this)+un(this.minutes(),2)+un(this.seconds(),2)});B("Hmm",0,0,function(){return""+this.hours()+un(this.minutes(),2)});B("Hmmss",0,0,function(){return""+this.hours()+un(this.minutes(),2)+un(this.seconds(),2)});function Dg(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Dg("a",!0);Dg("A",!1);ie("hour","h");re("hour",13);function Og(e,t){return t._meridiemParse}M("a",Og);M("A",Og);M("H",Pt);M("h",Pt);M("k",Pt);M("HH",Pt,Se);M("hh",Pt,Se);M("kk",Pt,Se);M("hmm",yg);M("hmmss",wg);M("Hmm",yg);M("Hmmss",wg);gt(["H","HH"],Ut);gt(["k","kk"],function(e,t,n){var i=tt(e);t[Ut]=i===24?0:i});gt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});gt(["h","hh"],function(e,t,n){t[Ut]=tt(e),q(n).bigHour=!0});gt("hmm",function(e,t,n){var i=e.length-2;t[Ut]=tt(e.substr(0,i)),t[Ue]=tt(e.substr(i)),q(n).bigHour=!0});gt("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Ut]=tt(e.substr(0,i)),t[Ue]=tt(e.substr(i,2)),t[wn]=tt(e.substr(r)),q(n).bigHour=!0});gt("Hmm",function(e,t,n){var i=e.length-2;t[Ut]=tt(e.substr(0,i)),t[Ue]=tt(e.substr(i))});gt("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Ut]=tt(e.substr(0,i)),t[Ue]=tt(e.substr(i,2)),t[wn]=tt(e.substr(r))});function F6(e){return(e+"").toLowerCase().charAt(0)==="p"}var L6=/[ap]\.?m?\.?/i,z6=Rr("Hours",!0);function Y6(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var Pg={calendar:k4,longDateFormat:O4,invalidDate:N4,ordinal:F4,dayOfMonthOrdinalParse:L4,relativeTime:Y4,months:X4,monthsShort:Cg,week:u6,weekdays:v6,weekdaysMin:b6,weekdaysShort:Ag,meridiemParse:L6},Mt={},Yr={},Ea;function B6(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function ju(e){return e&&e.toLowerCase().replace("_","-")}function W6(e){for(var t=0,n,i,r,a;t<e.length;){for(a=ju(e[t]).split("-"),n=a.length,i=ju(e[t+1]),i=i?i.split("-"):null;n>0;){if(r=zs(a.slice(0,n).join("-")),r)return r;if(i&&i.length>=n&&B6(a,i)>=n-1)break;n--}t++}return Ea}function j6(e){return e.match("^[^/\\\\]*$")!=null}function zs(e){var t=null,n;if(Mt[e]===void 0&&typeof ro!="undefined"&&ro&&ro.exports&&j6(e))try{t=Ea._abbr,n=require,n("./locale/"+e),Kn(t)}catch{Mt[e]=null}return Mt[e]}function Kn(e,t){var n;return e&&(ce(t)?n=An(e):n=Fc(e,t),n?Ea=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ea._abbr}function Fc(e,t){if(t!==null){var n,i=Pg;if(t.abbr=e,Mt[e]!=null)mg("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Mt[e]._config;else if(t.parentLocale!=null)if(Mt[t.parentLocale]!=null)i=Mt[t.parentLocale]._config;else if(n=zs(t.parentLocale),n!=null)i=n._config;else return Yr[t.parentLocale]||(Yr[t.parentLocale]=[]),Yr[t.parentLocale].push({name:e,config:t}),null;return Mt[e]=new kc(id(i,t)),Yr[e]&&Yr[e].forEach(function(r){Fc(r.name,r.config)}),Kn(e),Mt[e]}else return delete Mt[e],null}function $6(e,t){if(t!=null){var n,i,r=Pg;Mt[e]!=null&&Mt[e].parentLocale!=null?Mt[e].set(id(Mt[e]._config,t)):(i=zs(e),i!=null&&(r=i._config),t=id(r,t),i==null&&(t.abbr=e),n=new kc(t),n.parentLocale=Mt[e],Mt[e]=n),Kn(e)}else Mt[e]!=null&&(Mt[e].parentLocale!=null?(Mt[e]=Mt[e].parentLocale,e===Kn()&&Kn(e)):Mt[e]!=null&&delete Mt[e]);return Mt[e]}function An(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ea;if(!Ke(e)){if(t=zs(e),t)return t;e=[e]}return W6(e)}function U6(){return rd(Mt)}function Lc(e){var t,n=e._a;return n&&q(e).overflow===-2&&(t=n[yn]<0||n[yn]>11?yn:n[nn]<1||n[nn]>Ls(n[ne],n[yn])?nn:n[Ut]<0||n[Ut]>24||n[Ut]===24&&(n[Ue]!==0||n[wn]!==0||n[gi]!==0)?Ut:n[Ue]<0||n[Ue]>59?Ue:n[wn]<0||n[wn]>59?wn:n[gi]<0||n[gi]>999?gi:-1,q(e)._overflowDayOfYear&&(t<ne||t>nn)&&(t=nn),q(e)._overflowWeeks&&t===-1&&(t=Q4),q(e)._overflowWeekday&&t===-1&&(t=J4),q(e).overflow=t),e}var H6=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,V6=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,G6=/Z|[+-]\d\d(?::?\d\d)?/,Qa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],fl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],K6=/^\/?Date\((-?\d+)/i,q6=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Q6={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ng(e){var t,n,i=e._i,r=H6.exec(i)||V6.exec(i),a,o,s,l,d=Qa.length,c=fl.length;if(r){for(q(e).iso=!0,t=0,n=d;t<n;t++)if(Qa[t][1].exec(r[1])){o=Qa[t][0],a=Qa[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(r[3]){for(t=0,n=c;t<n;t++)if(fl[t][1].exec(r[3])){s=(r[2]||" ")+fl[t][0];break}if(s==null){e._isValid=!1;return}}if(!a&&s!=null){e._isValid=!1;return}if(r[4])if(G6.exec(r[4]))l="Z";else{e._isValid=!1;return}e._f=o+(s||"")+(l||""),Yc(e)}else e._isValid=!1}function J6(e,t,n,i,r,a){var o=[Z6(e),Cg.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&o.push(parseInt(a,10)),o}function Z6(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function X6(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function tC(e,t,n){if(e){var i=Ag.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(i!==r)return q(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function eC(e,t,n){if(e)return Q6[e];if(t)return 0;var i=parseInt(n,10),r=i%100,a=(i-r)/100;return a*60+r}function Mg(e){var t=q6.exec(X6(e._i)),n;if(t){if(n=J6(t[4],t[3],t[2],t[5],t[6],t[7]),!tC(t[1],n,e))return;e._a=n,e._tzm=eC(t[8],t[9],t[10]),e._d=wa.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),q(e).rfc2822=!0}else e._isValid=!1}function nC(e){var t=K6.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Ng(e),e._isValid===!1)delete e._isValid;else return;if(Mg(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:E.createFromInputFallback(e)}E.createFromInputFallback=Fe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Qi(e,t,n){return e!=null?e:t!=null?t:n}function iC(e){var t=new Date(E.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function zc(e){var t,n,i=[],r,a,o;if(!e._d){for(r=iC(e),e._w&&e._a[nn]==null&&e._a[yn]==null&&rC(e),e._dayOfYear!=null&&(o=Qi(e._a[ne],r[ne]),(e._dayOfYear>ea(o)||e._dayOfYear===0)&&(q(e)._overflowDayOfYear=!0),n=wa(o,0,e._dayOfYear),e._a[yn]=n.getUTCMonth(),e._a[nn]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ut]===24&&e._a[Ue]===0&&e._a[wn]===0&&e._a[gi]===0&&(e._nextDay=!0,e._a[Ut]=0),e._d=(e._useUTC?wa:c6).apply(null,i),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ut]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==a&&(q(e).weekdayMismatch=!0)}}function rC(e){var t,n,i,r,a,o,s,l,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,o=4,n=Qi(t.GG,e._a[ne],Ca(Ot(),1,4).year),i=Qi(t.W,1),r=Qi(t.E,1),(r<1||r>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,d=Ca(Ot(),a,o),n=Qi(t.gg,e._a[ne],d.year),i=Qi(t.w,d.week),t.d!=null?(r=t.d,(r<0||r>6)&&(l=!0)):t.e!=null?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a),i<1||i>En(n,a,o)?q(e)._overflowWeeks=!0:l!=null?q(e)._overflowWeekday=!0:(s=Ig(n,i,r,a,o),e._a[ne]=s.year,e._dayOfYear=s.dayOfYear)}E.ISO_8601=function(){};E.RFC_2822=function(){};function Yc(e){if(e._f===E.ISO_8601){Ng(e);return}if(e._f===E.RFC_2822){Mg(e);return}e._a=[],q(e).empty=!0;var t=""+e._i,n,i,r,a,o,s=t.length,l=0,d,c;for(r=gg(e._f,e._locale).match(Ic)||[],c=r.length,n=0;n<c;n++)a=r[n],i=(t.match(G4(a,e))||[])[0],i&&(o=t.substr(0,t.indexOf(i)),o.length>0&&q(e).unusedInput.push(o),t=t.slice(t.indexOf(i)+i.length),l+=i.length),ir[a]?(i?q(e).empty=!1:q(e).unusedTokens.push(a),q4(a,i,e)):e._strict&&!i&&q(e).unusedTokens.push(a);q(e).charsLeftOver=s-l,t.length>0&&q(e).unusedInput.push(t),e._a[Ut]<=12&&q(e).bigHour===!0&&e._a[Ut]>0&&(q(e).bigHour=void 0),q(e).parsedDateParts=e._a.slice(0),q(e).meridiem=e._meridiem,e._a[Ut]=aC(e._locale,e._a[Ut],e._meridiem),d=q(e).era,d!==null&&(e._a[ne]=e._locale.erasConvertYear(d,e._a[ne])),zc(e),Lc(e)}function aC(e,t,n){var i;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(i=e.isPM(n),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function oC(e){var t,n,i,r,a,o,s=!1,l=e._f.length;if(l===0){q(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<l;r++)a=0,o=!1,t=Tc({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],Yc(t),Rc(t)&&(o=!0),a+=q(t).charsLeftOver,a+=q(t).unusedTokens.length*10,q(t).score=a,s?a<i&&(i=a,n=t):(i==null||a<i||o)&&(i=a,n=t,o&&(s=!0));Yn(e,n||t)}function sC(e){if(!e._d){var t=Ac(e._i),n=t.day===void 0?t.date:t.day;e._a=fg([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),zc(e)}}function lC(e){var t=new Ma(Lc(Fg(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Fg(e){var t=e._i,n=e._f;return e._locale=e._locale||An(e._l),t===null||n===void 0&&t===""?As({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),qe(t)?new Ma(Lc(t)):(Na(t)?e._d=t:Ke(n)?oC(e):n?Yc(e):dC(e),Rc(e)||(e._d=null),e))}function dC(e){var t=e._i;ce(t)?e._d=new Date(E.now()):Na(t)?e._d=new Date(t.valueOf()):typeof t=="string"?nC(e):Ke(t)?(e._a=fg(t.slice(0),function(n){return parseInt(n,10)}),zc(e)):Ci(t)?sC(e):Tn(t)?e._d=new Date(t):E.createFromInputFallback(e)}function Lg(e,t,n,i,r){var a={};return(t===!0||t===!1)&&(i=t,t=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(Ci(e)&&Sc(e)||Ke(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,lC(a)}function Ot(e,t,n,i){return Lg(e,t,n,i,!1)}var cC=Fe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:As()}),pC=Fe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:As()});function zg(e,t){var n,i;if(t.length===1&&Ke(t[0])&&(t=t[0]),!t.length)return Ot();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function uC(){var e=[].slice.call(arguments,0);return zg("isBefore",e)}function fC(){var e=[].slice.call(arguments,0);return zg("isAfter",e)}var hC=function(){return Date.now?Date.now():+new Date},Br=["year","quarter","month","week","day","hour","minute","second","millisecond"];function mC(e){var t,n=!1,i,r=Br.length;for(t in e)if(ct(e,t)&&!(Wt.call(Br,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(i=0;i<r;++i)if(e[Br[i]]){if(n)return!1;parseFloat(e[Br[i]])!==tt(e[Br[i]])&&(n=!0)}return!0}function gC(){return this._isValid}function _C(){return Ze(NaN)}function Ys(e){var t=Ac(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._isValid=mC(t),this._milliseconds=+c+d*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+r+i*3+n*12,this._data={},this._locale=An(),this._bubble()}function no(e){return e instanceof Ys}function od(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function xC(e,t,n){var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0,o;for(o=0;o<i;o++)(n&&e[o]!==t[o]||!n&&tt(e[o])!==tt(t[o]))&&a++;return a+r}function Yg(e,t){B(e,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+un(~~(n/60),2)+t+un(~~n%60,2)})}Yg("Z",":");Yg("ZZ","");M("Z",Fs);M("ZZ",Fs);gt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Bc(Fs,e)});var vC=/([\+\-]|\d\d)/gi;function Bc(e,t){var n=(t||"").match(e),i,r,a;return n===null?null:(i=n[n.length-1]||[],r=(i+"").match(vC)||["-",0,0],a=+(r[1]*60)+tt(r[2]),a===0?0:r[0]==="+"?a:-a)}function Wc(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(qe(e)||Na(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),E.updateOffset(n,!1),n):Ot(e).local()}function sd(e){return-Math.round(e._d.getTimezoneOffset())}E.updateOffset=function(){};function bC(e,t,n){var i=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Bc(Fs,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(r=sd(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?jg(this,Ze(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,E.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:sd(this)}function yC(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function wC(e){return this.utcOffset(0,e)}function CC(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(sd(this),"m")),this}function EC(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Bc(H4,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function SC(e){return this.isValid()?(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function RC(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function TC(){if(!ce(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Tc(e,this),e=Fg(e),e._a?(t=e._isUTC?hn(e._a):Ot(e._a),this._isDSTShifted=this.isValid()&&xC(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function kC(){return this.isValid()?!this._isUTC:!1}function IC(){return this.isValid()?this._isUTC:!1}function Bg(){return this.isValid()?this._isUTC&&this._offset===0:!1}var AC=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,DC=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ze(e,t){var n=e,i=null,r,a,o;return no(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Tn(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(i=AC.exec(e))?(r=i[1]==="-"?-1:1,n={y:0,d:tt(i[nn])*r,h:tt(i[Ut])*r,m:tt(i[Ue])*r,s:tt(i[wn])*r,ms:tt(od(i[gi]*1e3))*r}):(i=DC.exec(e))?(r=i[1]==="-"?-1:1,n={y:li(i[2],r),M:li(i[3],r),w:li(i[4],r),d:li(i[5],r),h:li(i[6],r),m:li(i[7],r),s:li(i[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=OC(Ot(n.from),Ot(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),a=new Ys(n),no(e)&&ct(e,"_locale")&&(a._locale=e._locale),no(e)&&ct(e,"_isValid")&&(a._isValid=e._isValid),a}Ze.fn=Ys.prototype;Ze.invalid=_C;function li(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $u(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function OC(e,t){var n;return e.isValid()&&t.isValid()?(t=Wc(t,e),e.isBefore(t)?n=$u(e,t):(n=$u(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Wg(e,t){return function(n,i){var r,a;return i!==null&&!isNaN(+i)&&(mg(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),r=Ze(n,i),jg(this,r,e),this}}function jg(e,t,n,i){var r=t._milliseconds,a=od(t._days),o=od(t._months);!e.isValid()||(i=i==null?!0:i,o&&Sg(e,zo(e,"Month")+o*n),a&&xg(e,"Date",zo(e,"Date")+a*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&E.updateOffset(e,a||o))}var PC=Wg(1,"add"),NC=Wg(-1,"subtract");function $g(e){return typeof e=="string"||e instanceof String}function MC(e){return qe(e)||Na(e)||$g(e)||Tn(e)||LC(e)||FC(e)||e===null||e===void 0}function FC(e){var t=Ci(e)&&!Sc(e),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,a,o=i.length;for(r=0;r<o;r+=1)a=i[r],n=n||ct(e,a);return t&&n}function LC(e){var t=Ke(e),n=!1;return t&&(n=e.filter(function(i){return!Tn(i)&&$g(e)}).length===0),t&&n}function zC(e){var t=Ci(e)&&!Sc(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,a;for(r=0;r<i.length;r+=1)a=i[r],n=n||ct(e,a);return t&&n}function YC(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function BC(e,t){arguments.length===1&&(arguments[0]?MC(arguments[0])?(e=arguments[0],t=void 0):zC(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Ot(),i=Wc(n,this).startOf("day"),r=E.calendarFormat(this,i)||"sameElse",a=t&&(mn(t[r])?t[r].call(this,n):t[r]);return this.format(a||this.localeData().calendar(r,this,Ot(n)))}function WC(){return new Ma(this)}function jC(e,t){var n=qe(e)?e:Ot(e);return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function $C(e,t){var n=qe(e)?e:Ot(e);return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function UC(e,t,n,i){var r=qe(e)?e:Ot(e),a=qe(t)?t:Ot(t);return this.isValid()&&r.isValid()&&a.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(i[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function HC(e,t){var n=qe(e)?e:Ot(e),i;return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function VC(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function GC(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function KC(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(i=Wc(e,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,t=Le(t),t){case"year":a=io(this,i)/12;break;case"month":a=io(this,i);break;case"quarter":a=io(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:Ie(a)}function io(e,t){if(e.date()<t.date())return-io(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(n,"months"),r,a;return t-i<0?(r=e.clone().add(n-1,"months"),a=(t-i)/(i-r)):(r=e.clone().add(n+1,"months"),a=(t-i)/(r-i)),-(n+a)||0}E.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";E.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function qC(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function QC(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?eo(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):mn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",eo(n,"Z")):eo(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function JC(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,i,r,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(n+i+r+a)}function ZC(e){e||(e=this.isUtc()?E.defaultFormatUtc:E.defaultFormat);var t=eo(this,e);return this.localeData().postformat(t)}function XC(e,t){return this.isValid()&&(qe(e)&&e.isValid()||Ot(e).isValid())?Ze({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function tE(e){return this.from(Ot(),e)}function eE(e,t){return this.isValid()&&(qe(e)&&e.isValid()||Ot(e).isValid())?Ze({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function nE(e){return this.to(Ot(),e)}function Ug(e){var t;return e===void 0?this._locale._abbr:(t=An(e),t!=null&&(this._locale=t),this)}var Hg=Fe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Vg(){return this._locale}var Wo=1e3,rr=60*Wo,jo=60*rr,Gg=(365*400+97)*24*jo;function ar(e,t){return(e%t+t)%t}function Kg(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Gg:new Date(e,t,n).valueOf()}function qg(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Gg:Date.UTC(e,t,n)}function iE(e){var t,n;if(e=Le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?qg:Kg,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ar(t+(this._isUTC?0:this.utcOffset()*rr),jo);break;case"minute":t=this._d.valueOf(),t-=ar(t,rr);break;case"second":t=this._d.valueOf(),t-=ar(t,Wo);break}return this._d.setTime(t),E.updateOffset(this,!0),this}function rE(e){var t,n;if(e=Le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?qg:Kg,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=jo-ar(t+(this._isUTC?0:this.utcOffset()*rr),jo)-1;break;case"minute":t=this._d.valueOf(),t+=rr-ar(t,rr)-1;break;case"second":t=this._d.valueOf(),t+=Wo-ar(t,Wo)-1;break}return this._d.setTime(t),E.updateOffset(this,!0),this}function aE(){return this._d.valueOf()-(this._offset||0)*6e4}function oE(){return Math.floor(this.valueOf()/1e3)}function sE(){return new Date(this.valueOf())}function lE(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function dE(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function cE(){return this.isValid()?this.toISOString():null}function pE(){return Rc(this)}function uE(){return Yn({},q(this))}function fE(){return q(this).overflow}function hE(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}B("N",0,0,"eraAbbr");B("NN",0,0,"eraAbbr");B("NNN",0,0,"eraAbbr");B("NNNN",0,0,"eraName");B("NNNNN",0,0,"eraNarrow");B("y",["y",1],"yo","eraYear");B("y",["yy",2],0,"eraYear");B("y",["yyy",3],0,"eraYear");B("y",["yyyy",4],0,"eraYear");M("N",jc);M("NN",jc);M("NNN",jc);M("NNNN",SE);M("NNNNN",RE);gt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?q(n).era=r:q(n).invalidEra=e});M("y",Tr);M("yy",Tr);M("yyy",Tr);M("yyyy",Tr);M("yo",TE);gt(["y","yy","yyy","yyyy"],ne);gt(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ne]=n._locale.eraYearOrdinalParse(e,r):t[ne]=parseInt(e,10)});function mE(e,t){var n,i,r,a=this._eras||An("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":r=E(a[n].since).startOf("day"),a[n].since=r.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":r=E(a[n].until).startOf("day").valueOf(),a[n].until=r.valueOf();break}}return a}function gE(e,t,n){var i,r,a=this.eras(),o,s,l;for(e=e.toUpperCase(),i=0,r=a.length;i<r;++i)if(o=a[i].name.toUpperCase(),s=a[i].abbr.toUpperCase(),l=a[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return a[i];break;case"NNNN":if(o===e)return a[i];break;case"NNNNN":if(l===e)return a[i];break}else if([o,s,l].indexOf(e)>=0)return a[i]}function _E(e,t){var n=e.since<=e.until?1:-1;return t===void 0?E(e.since).year():E(e.since).year()+(t-e.offset)*n}function xE(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].name;return""}function vE(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].narrow;return""}function bE(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].abbr;return""}function yE(){var e,t,n,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=r[e].since<=r[e].until?1:-1,i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return(this.year()-E(r[e].since).year())*n+r[e].offset;return this.year()}function wE(e){return ct(this,"_erasNameRegex")||$c.call(this),e?this._erasNameRegex:this._erasRegex}function CE(e){return ct(this,"_erasAbbrRegex")||$c.call(this),e?this._erasAbbrRegex:this._erasRegex}function EE(e){return ct(this,"_erasNarrowRegex")||$c.call(this),e?this._erasNarrowRegex:this._erasRegex}function jc(e,t){return t.erasAbbrRegex(e)}function SE(e,t){return t.erasNameRegex(e)}function RE(e,t){return t.erasNarrowRegex(e)}function TE(e,t){return t._eraYearOrdinalRegex||Tr}function $c(){var e=[],t=[],n=[],i=[],r,a,o=this.eras();for(r=0,a=o.length;r<a;++r)t.push(xe(o[r].name)),e.push(xe(o[r].abbr)),n.push(xe(o[r].narrow)),i.push(xe(o[r].name)),i.push(xe(o[r].abbr)),i.push(xe(o[r].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}B(0,["gg",2],0,function(){return this.weekYear()%100});B(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Bs(e,t){B(0,[e,e.length],0,t)}Bs("gggg","weekYear");Bs("ggggg","weekYear");Bs("GGGG","isoWeekYear");Bs("GGGGG","isoWeekYear");ie("weekYear","gg");ie("isoWeekYear","GG");re("weekYear",1);re("isoWeekYear",1);M("G",Ms);M("g",Ms);M("GG",Pt,Se);M("gg",Pt,Se);M("GGGG",Oc,Dc);M("gggg",Oc,Dc);M("GGGGG",Ns,Os);M("ggggg",Ns,Os);La(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=tt(e)});La(["gg","GG"],function(e,t,n,i){t[i]=E.parseTwoDigitYear(e)});function kE(e){return Qg.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function IE(e){return Qg.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function AE(){return En(this.year(),1,4)}function DE(){return En(this.isoWeekYear(),1,4)}function OE(){var e=this.localeData()._week;return En(this.year(),e.dow,e.doy)}function PE(){var e=this.localeData()._week;return En(this.weekYear(),e.dow,e.doy)}function Qg(e,t,n,i,r){var a;return e==null?Ca(this,i,r).year:(a=En(e,i,r),t>a&&(t=a),NE.call(this,e,t,n,i,r))}function NE(e,t,n,i,r){var a=Ig(e,t,n,i,r),o=wa(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}B("Q",0,"Qo","quarter");ie("quarter","Q");re("quarter",7);M("Q",vg);gt("Q",function(e,t){t[yn]=(tt(e)-1)*3});function ME(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}B("D",["DD",2],"Do","date");ie("date","D");re("date",9);M("D",Pt);M("DD",Pt,Se);M("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});gt(["D","DD"],nn);gt("Do",function(e,t){t[nn]=tt(e.match(Pt)[0])});var Jg=Rr("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear");ie("dayOfYear","DDD");re("dayOfYear",4);M("DDD",Ps);M("DDDD",bg);gt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=tt(e)});function FE(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}B("m",["mm",2],0,"minute");ie("minute","m");re("minute",14);M("m",Pt);M("mm",Pt,Se);gt(["m","mm"],Ue);var LE=Rr("Minutes",!1);B("s",["ss",2],0,"second");ie("second","s");re("second",15);M("s",Pt);M("ss",Pt,Se);gt(["s","ss"],wn);var zE=Rr("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)});B(0,["SS",2],0,function(){return~~(this.millisecond()/10)});B(0,["SSS",3],0,"millisecond");B(0,["SSSS",4],0,function(){return this.millisecond()*10});B(0,["SSSSS",5],0,function(){return this.millisecond()*100});B(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});B(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});B(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});B(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ie("millisecond","ms");re("millisecond",16);M("S",Ps,vg);M("SS",Ps,Se);M("SSS",Ps,bg);var Bn,Zg;for(Bn="SSSS";Bn.length<=9;Bn+="S")M(Bn,Tr);function YE(e,t){t[gi]=tt(("0."+e)*1e3)}for(Bn="S";Bn.length<=9;Bn+="S")gt(Bn,YE);Zg=Rr("Milliseconds",!1);B("z",0,0,"zoneAbbr");B("zz",0,0,"zoneName");function BE(){return this._isUTC?"UTC":""}function WE(){return this._isUTC?"Coordinated Universal Time":""}var R=Ma.prototype;R.add=PC;R.calendar=BC;R.clone=WC;R.diff=KC;R.endOf=rE;R.format=ZC;R.from=XC;R.fromNow=tE;R.to=eE;R.toNow=nE;R.get=$4;R.invalidAt=fE;R.isAfter=jC;R.isBefore=$C;R.isBetween=UC;R.isSame=HC;R.isSameOrAfter=VC;R.isSameOrBefore=GC;R.isValid=pE;R.lang=Hg;R.locale=Ug;R.localeData=Vg;R.max=pC;R.min=cC;R.parsingFlags=uE;R.set=U4;R.startOf=iE;R.subtract=NC;R.toArray=lE;R.toObject=dE;R.toDate=sE;R.toISOString=QC;R.inspect=JC;typeof Symbol!="undefined"&&Symbol.for!=null&&(R[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});R.toJSON=cE;R.toString=qC;R.unix=oE;R.valueOf=aE;R.creationData=hE;R.eraName=xE;R.eraNarrow=vE;R.eraAbbr=bE;R.eraYear=yE;R.year=kg;R.isLeapYear=d6;R.weekYear=kE;R.isoWeekYear=IE;R.quarter=R.quarters=ME;R.month=Rg;R.daysInMonth=o6;R.week=R.weeks=m6;R.isoWeek=R.isoWeeks=g6;R.weeksInYear=OE;R.weeksInWeekYear=PE;R.isoWeeksInYear=AE;R.isoWeeksInISOWeekYear=DE;R.date=Jg;R.day=R.days=I6;R.weekday=A6;R.isoWeekday=D6;R.dayOfYear=FE;R.hour=R.hours=z6;R.minute=R.minutes=LE;R.second=R.seconds=zE;R.millisecond=R.milliseconds=Zg;R.utcOffset=bC;R.utc=wC;R.local=CC;R.parseZone=EC;R.hasAlignedHourOffset=SC;R.isDST=RC;R.isLocal=kC;R.isUtcOffset=IC;R.isUtc=Bg;R.isUTC=Bg;R.zoneAbbr=BE;R.zoneName=WE;R.dates=Fe("dates accessor is deprecated. Use date instead.",Jg);R.months=Fe("months accessor is deprecated. Use month instead",Rg);R.years=Fe("years accessor is deprecated. Use year instead",kg);R.zone=Fe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yC);R.isDSTShifted=Fe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",TC);function jE(e){return Ot(e*1e3)}function $E(){return Ot.apply(null,arguments).parseZone()}function Xg(e){return e}var pt=kc.prototype;pt.calendar=I4;pt.longDateFormat=P4;pt.invalidDate=M4;pt.ordinal=z4;pt.preparse=Xg;pt.postformat=Xg;pt.relativeTime=B4;pt.pastFuture=W4;pt.set=T4;pt.eras=mE;pt.erasParse=gE;pt.erasConvertYear=_E;pt.erasAbbrRegex=CE;pt.erasNameRegex=wE;pt.erasNarrowRegex=EE;pt.months=n6;pt.monthsShort=i6;pt.monthsParse=a6;pt.monthsRegex=l6;pt.monthsShortRegex=s6;pt.week=p6;pt.firstDayOfYear=h6;pt.firstDayOfWeek=f6;pt.weekdays=E6;pt.weekdaysMin=R6;pt.weekdaysShort=S6;pt.weekdaysParse=k6;pt.weekdaysRegex=O6;pt.weekdaysShortRegex=P6;pt.weekdaysMinRegex=N6;pt.isPM=F6;pt.meridiem=Y6;function $o(e,t,n,i){var r=An(),a=hn().set(i,t);return r[n](a,e)}function t_(e,t,n){if(Tn(e)&&(t=e,e=void 0),e=e||"",t!=null)return $o(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=$o(e,i,n,"month");return r}function Uc(e,t,n,i){typeof e=="boolean"?(Tn(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Tn(t)&&(n=t,t=void 0),t=t||"");var r=An(),a=e?r._week.dow:0,o,s=[];if(n!=null)return $o(t,(n+a)%7,i,"day");for(o=0;o<7;o++)s[o]=$o(t,(o+a)%7,i,"day");return s}function UE(e,t){return t_(e,t,"months")}function HE(e,t){return t_(e,t,"monthsShort")}function VE(e,t,n){return Uc(e,t,n,"weekdays")}function GE(e,t,n){return Uc(e,t,n,"weekdaysShort")}function KE(e,t,n){return Uc(e,t,n,"weekdaysMin")}Kn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=tt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});E.lang=Fe("moment.lang is deprecated. Use moment.locale instead.",Kn);E.langData=Fe("moment.langData is deprecated. Use moment.localeData instead.",An);var _n=Math.abs;function qE(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this}function e_(e,t,n,i){var r=Ze(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function QE(e,t){return e_(this,e,t,1)}function JE(e,t){return e_(this,e,t,-1)}function Uu(e){return e<0?Math.floor(e):Math.ceil(e)}function ZE(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data,r,a,o,s,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=Uu(ld(n)+t)*864e5,t=0,n=0),i.milliseconds=e%1e3,r=Ie(e/1e3),i.seconds=r%60,a=Ie(r/60),i.minutes=a%60,o=Ie(a/60),i.hours=o%24,t+=Ie(o/24),l=Ie(n_(t)),n+=l,t-=Uu(ld(l)),s=Ie(n/12),n%=12,i.days=t,i.months=n,i.years=s,this}function n_(e){return e*4800/146097}function ld(e){return e*146097/4800}function XE(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if(e=Le(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+i/864e5,n=this._months+n_(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ld(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}function tS(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+tt(this._months/12)*31536e6:NaN}function Dn(e){return function(){return this.as(e)}}var eS=Dn("ms"),nS=Dn("s"),iS=Dn("m"),rS=Dn("h"),aS=Dn("d"),oS=Dn("w"),sS=Dn("M"),lS=Dn("Q"),dS=Dn("y");function cS(){return Ze(this)}function pS(e){return e=Le(e),this.isValid()?this[e+"s"]():NaN}function zi(e){return function(){return this.isValid()?this._data[e]:NaN}}var uS=zi("milliseconds"),fS=zi("seconds"),hS=zi("minutes"),mS=zi("hours"),gS=zi("days"),_S=zi("months"),xS=zi("years");function vS(){return Ie(this.days()/7)}var xn=Math.round,Ji={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function bS(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function yS(e,t,n,i){var r=Ze(e).abs(),a=xn(r.as("s")),o=xn(r.as("m")),s=xn(r.as("h")),l=xn(r.as("d")),d=xn(r.as("M")),c=xn(r.as("w")),p=xn(r.as("y")),u=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(u=u||c<=1&&["w"]||c<n.w&&["ww",c]),u=u||d<=1&&["M"]||d<n.M&&["MM",d]||p<=1&&["y"]||["yy",p],u[2]=t,u[3]=+e>0,u[4]=i,bS.apply(null,u)}function wS(e){return e===void 0?xn:typeof e=="function"?(xn=e,!0):!1}function CS(e,t){return Ji[e]===void 0?!1:t===void 0?Ji[e]:(Ji[e]=t,e==="s"&&(Ji.ss=t-1),!0)}function ES(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Ji,r,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(i=Object.assign({},Ji,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),r=this.localeData(),a=yS(this,!n,i,r),n&&(a=r.pastFuture(+this,a)),r.postformat(a)}var hl=Math.abs;function Hi(e){return(e>0)-(e<0)||+e}function Ws(){if(!this.isValid())return this.localeData().invalidDate();var e=hl(this._milliseconds)/1e3,t=hl(this._days),n=hl(this._months),i,r,a,o,s=this.asSeconds(),l,d,c,p;return s?(i=Ie(e/60),r=Ie(i/60),e%=60,i%=60,a=Ie(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",d=Hi(this._months)!==Hi(s)?"-":"",c=Hi(this._days)!==Hi(s)?"-":"",p=Hi(this._milliseconds)!==Hi(s)?"-":"",l+"P"+(a?d+a+"Y":"")+(n?d+n+"M":"")+(t?c+t+"D":"")+(r||i||e?"T":"")+(r?p+r+"H":"")+(i?p+i+"M":"")+(e?p+o+"S":"")):"P0D"}var ot=Ys.prototype;ot.isValid=gC;ot.abs=qE;ot.add=QE;ot.subtract=JE;ot.as=XE;ot.asMilliseconds=eS;ot.asSeconds=nS;ot.asMinutes=iS;ot.asHours=rS;ot.asDays=aS;ot.asWeeks=oS;ot.asMonths=sS;ot.asQuarters=lS;ot.asYears=dS;ot.valueOf=tS;ot._bubble=ZE;ot.clone=cS;ot.get=pS;ot.milliseconds=uS;ot.seconds=fS;ot.minutes=hS;ot.hours=mS;ot.days=gS;ot.weeks=vS;ot.months=_S;ot.years=xS;ot.humanize=ES;ot.toISOString=Ws;ot.toString=Ws;ot.toJSON=Ws;ot.locale=Ug;ot.localeData=Vg;ot.toIsoString=Fe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ws);ot.lang=Hg;B("X",0,0,"unix");B("x",0,0,"valueOf");M("x",Ms);M("X",V4);gt("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});gt("x",function(e,t,n){n._d=new Date(tt(e))});//! moment.js
E.version="2.29.3";S4(Ot);E.fn=R;E.min=uC;E.max=fC;E.now=hC;E.utc=hn;E.unix=jE;E.months=UE;E.isDate=Na;E.locale=Kn;E.invalid=As;E.duration=Ze;E.isMoment=qe;E.weekdays=VE;E.parseZone=$E;E.localeData=An;E.isDuration=no;E.monthsShort=HE;E.weekdaysMin=KE;E.defineLocale=Fc;E.updateLocale=$6;E.locales=U6;E.weekdaysShort=GE;E.normalizeUnits=Le;E.relativeTimeRounding=wS;E.relativeTimeThreshold=CS;E.calendarFormat=YC;E.prototype=R;E.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const SS={setup(e,t){const n=Er(),i=vr(),r=Yt(null),a=Yt(!1),o=In.database();return{createRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("\u8ACB\u8F38\u5165\u623F\u865F");const d=o.ref(`/room/${r.value}`);d.once("value").then(function(c){if(c.val()){const p=E(c.val().play_A.lastConnect).isAfter(E().add(-2,"m").format("YYYY/MM/DD hh:mm")),u=E(c.val().play_B.lastConnect).isAfter(E().add(-2,"m").format("YYYY/MM/DD hh:mm"));if(p&&u)return a.value=!1,alert("\u5DF2\u7D93\u5B58\u5728\u8A72\u623F\u9593\u56C9\uFF0C\u8ACB\u63DB\u4E00\u500B\u623F\u865F")}d.set({play_A:{join:!0,select:null,lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")},play_B:{join:!1,select:null,lastConnect:null}}).then(()=>{a.value=!1,n.commit("setLinkedRoom",r.value),n.commit("setRole","play_A"),setInterval(()=>{o.ref(`/room/${r.value}/play_A`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/zh-tw/gameRoom")})})},createRoomId:r,close:()=>t.emit("close"),loading:a}}},RS={class:"overlay"},TS={class:"popup"},kS={class:"createRoom"},IS=C("strong",{class:"mb_16"},"\u5275\u5EFA\u623F\u9593",-1);function AS(e,t,n,i,r,a){return ut(),St("div",RS,[C("div",TS,[C("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),C("div",kS,[IS,Qn(C("input",{type:"phone",placeholder:"\u8ACB\u81EA\u8A02\u623F\u9593ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.createRoomId=o)},null,512),[[ns,i.createRoomId]]),C("div",{class:Pi(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[2]||(t[2]=(...o)=>i.createRoom&&i.createRoom(...o))},te(i.loading?"\u8ACB\u7A0D\u5F8C...":"\u5275\u5EFA"),3)])])])}var DS=fn(SS,[["render",AS]]);const OS={setup(e,t){const n=Er(),i=vr(),r=Yt(null),a=Yt(!1),o=In.database();return{joinRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("\u8ACB\u8F38\u5165\u623F\u865F");o.ref(`/room/${r.value}`).once("value").then(c=>{const p=c.val();if(!p)return a.value=!1,alert("\u8A72\u623F\u9593\u4E0D\u5B58\u5728\u5594");if(!p.play_B.lastConnect||E(p.play_B.lastConnect).isBefore(E().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_B");else if(!p.play_A.lastConnect||E(p.play_A.lastConnect).isBefore(E().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_A");else return a.value=!1,alert("\u8A72\u623F\u9593\u4EBA\u6578\u5DF2\u984D\u6EFF");n.commit("setLinkedRoom",r.value),o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm"),join:!0}).then(()=>{a.value=!1,setInterval(()=>{o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/zh-tw/gameRoom")})})},joinRoomId:r,close:()=>t.emit("close"),loading:a}}},PS={class:"overlay"},NS={class:"popup"},MS={class:"joinRoom"},FS=C("strong",{class:"mb_16"},"\u52A0\u5165\u623F\u9593",-1);function LS(e,t,n,i,r,a){return ut(),St("div",PS,[C("div",NS,[C("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),C("div",MS,[FS,Qn(C("input",{type:"phone",placeholder:"\u8ACB\u8F38\u5165\u623F\u9593ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.joinRoomId=o)},null,512),[[ns,i.joinRoomId]]),C("div",{class:Pi(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[2]||(t[2]=(...o)=>i.joinRoom&&i.joinRoom(...o))},te(i.loading?"\u8ACB\u7A0D\u5F8C...":"\u52A0\u5165"),3)])])])}var zS=fn(OS,[["render",LS]]);const YS={components:{CreateRoom:DS,JoinRoom:zS},setup(){Nd({title:"\u7DDA\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u982D\u5E03",link:[{rel:"canonical",href:"https://yuntaolin.github.io/Rock-Paper-Scissors-Online/zh-tw"}],meta:[{name:"og:title",content:"\u7DDA\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u982D\u5E03"},{name:"og:description",content:"\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"},{name:"description",content:"\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"},{name:"twitter:title",content:"\u7DDA\u4E0A\u731C\u62F3 - \u526A\u5200\u77F3\u982D\u5E03"},{name:"twitter:description",content:"\u514D\u8CBB\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\u904A\u6232\uFF0C\u53EF\u5275\u5EFA\u7368\u7ACB\u623F\u865F\u548C\u670B\u53CB\u9060\u7AEF\u9032\u884C\u7DDA\u4E0A\u5373\u6642\u731C\u62F3\uFF0C\u5B8C\u5168\u514D\u8CBB\u3002"}]});const e=Yt(!1),t=Yt(!1);return{openCreateRoom:e,openJoinRoom:t}}},kr=e=>(Zo("data-v-c4a65fbc"),e=e(),Xo(),e),BS={id:"EnterPage"},WS=kr(()=>C("h1",null,"\u7DDA\u4E0A\u731C\u62F3",-1)),jS={class:"btn_group"},$S=kr(()=>C("div",null,"\u5275\u5EFA\u623F\u9593+",-1)),US=kr(()=>C("div",{class:"btn--secondaryTitle"},null,-1)),HS=[$S,US],VS=kr(()=>C("div",null,"\u52A0\u5165\u623F\u9593",-1)),GS=kr(()=>C("div",{class:"btn--secondaryTitle"},null,-1)),KS=[VS,GS],qS=kr(()=>C("div",{class:"other"},null,-1));function QS(e,t,n,i,r,a){const o=ra("CreateRoom"),s=ra("JoinRoom");return ut(),St("header",BS,[WS,C("nav",jS,[C("div",{class:"btn",onClick:t[0]||(t[0]=l=>i.openCreateRoom=!0)},HS),C("div",{class:"btn",onClick:t[1]||(t[1]=l=>i.openJoinRoom=!0)},KS)]),qS,i.openCreateRoom?(ut(),oa(o,{key:0,onClose:t[2]||(t[2]=l=>i.openCreateRoom=!1)})):fo("",!0),i.openJoinRoom?(ut(),oa(s,{key:1,onClose:t[3]||(t[3]=l=>i.openJoinRoom=!1)})):fo("",!0)])}var JS=fn(YS,[["render",QS],["__scopeId","data-v-c4a65fbc"]]),i_="/Rock-Paper-Scissors-Online/assets/\u526A\u5200.3781ad54.png",r_="/Rock-Paper-Scissors-Online/assets/\u77F3\u982D.401cfcbe.png",a_="/Rock-Paper-Scissors-Online/assets/\u5E03.2b9332b0.png";const Hu=[{name:"\u526A\u5200",img:i_,color:"#86bebb",en:"Scissors"},{name:"\u77F3\u982D",img:r_,color:"#e0808b",en:"Rock"},{name:"\u5E03",img:a_,color:"#84bc7f",en:"Paper"}],ZS={setup(){const e=Er(),t=vr(),n=In.database(),i=sn({name:"",img:"",color:"",en:""}),r=sn({name:"",img:"",color:"",en:""}),a=Yt(!1),o=Yt(!1),s=Yt(""),l=["\u4F60\u8D0F\u4E86","\u4F60\u8F38\u4E86","\u5E73\u624B"];e.state.linkedRoom||t.replace("/zh-tw");const d=()=>{let h=i.name,g=r.name;switch(h){case"\u526A\u5200":g=="\u526A\u5200"&&(s.value=l[2]),g=="\u77F3\u982D"&&(s.value=l[1]),g=="\u5E03"&&(s.value=l[0]);break;case"\u77F3\u982D":g=="\u526A\u5200"&&(s.value=l[0]),g=="\u77F3\u982D"&&(s.value=l[2]),g=="\u5E03"&&(s.value=l[1]);break;case"\u5E03":g=="\u526A\u5200"&&(s.value=l[1]),g=="\u77F3\u982D"&&(s.value=l[0]),g=="\u5E03"&&(s.value=l[2]);break}o.value=!1};e.state.linkedRoom&&n.ref(`/room/${e.state.linkedRoom}/`).on("value",h=>{var D,_,v,O;let g=h.val();if(((D=g.play_A)==null?void 0:D.join)&&((_=g.play_B)==null?void 0:_.join)&&(a.value=!0),((v=g.play_A)==null?void 0:v.select)&&((O=g.play_B)==null?void 0:O.select)){const F=e.state.role==="play_A"?"play_B":"play_A",Y=g[F].select,V=Hu.find(Q=>Q.name==Y);V&&(r.name=V.name,r.img=V.img,r.color=V.color,r.en=V.en,d())}});const c=h=>{i.name=h.name,i.img=h.img,i.color=h.color,i.en=h.en,o.value=!0,n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:h.name,join:!1})},p=()=>{i.name="",i.img="",i.color="",i.en="",r.name="",r.img="",r.color="",r.en="",a.value=!1,s.value="",n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:null,join:!0})},u=We(()=>e.state.linkedRoom);return{selectHandler:c,selectList:Hu,selected:i,startGame:a,waiting:o,roomId:u,opponentSelected:r,result:s,again:p}}},za=e=>(Zo("data-v-6c50f744"),e=e(),Xo(),e),XS={class:"wrap"},t5={class:"roomId"},e5={class:"container"},n5={class:"player self"},i5={class:"box"},r5=["src"],a5={key:1},o5=za(()=>C("h2",null," \u81EA\u5DF1 ",-1)),s5=za(()=>C("div",{class:"vs"},"VS",-1)),l5={class:"player other"},d5={class:"box"},c5=["src"],p5={key:1},u5=za(()=>C("h2",null,"\u5C0D\u624B",-1)),f5={key:0,class:"select"},h5=za(()=>C("div",{class:"select_title"},"\u9078\u64C7\u51FA\u62F3",-1)),m5={class:"group"},g5=["onClick"],_5=["src"],x5={key:1,class:"result"},v5={class:"result_title"},b5=za(()=>C("div",{class:"space"},null,-1)),y5={class:"loading"},w5={class:"loading"};function C5(e,t,n,i,r,a){return ut(),St("div",XS,[C("div",t5,"\u623F\u865F\uFF1A"+te(i.roomId),1),C("div",e5,[C("div",n5,[C("div",i5,[i.selected.name?(ut(),St("div",{key:0,class:"selectItem",style:rn({backgroundColor:i.selected.color})},[C("figure",null,[C("img",{src:i.selected.img,alt:""},null,8,r5),C("figcaption",null,[Ei(te(i.selected.name)+" ",1),C("span",null,te(i.selected.en),1)])])],4)):(ut(),St("div",a5,"?"))]),o5]),s5,C("div",l5,[C("div",d5,[i.opponentSelected.name?(ut(),St("div",{key:0,class:"selectItem",style:rn({backgroundColor:i.opponentSelected.color})},[C("figure",null,[C("img",{src:i.opponentSelected.img,alt:""},null,8,c5),C("figcaption",null,te(i.opponentSelected.name),1)])],4)):(ut(),St("div",p5,"?"))]),u5])]),i.result?(ut(),St("div",x5,[C("div",v5,te(i.result),1),C("div",{class:"refreshBtn",onClick:t[0]||(t[0]=o=>i.again())},"\u518D\u4F86\u4E00\u6B21\uFF01")])):(ut(),St("div",f5,[h5,C("div",m5,[(ut(!0),St(_e,null,Gf(i.selectList,o=>(ut(),St("div",{class:"selectItem",style:rn({backgroundColor:o.color}),key:o.name,onClick:s=>i.selectHandler(o)},[C("figure",null,[C("img",{src:o.img,alt:""},null,8,_5),C("figcaption",null,te(o.name),1)])],12,g5))),128))])])),b5,Qn(C("div",y5,"\u7B49\u5F85\u5C0D\u624B\u52A0\u5165\u4E2D...",512),[[_o,!i.startGame]]),Qn(C("div",w5,"\u7B49\u5F85\u5C0D\u624B\u51FA\u62F3...",512),[[_o,i.waiting]])])}var E5=fn(ZS,[["render",C5],["__scopeId","data-v-6c50f744"]]);const S5={setup(e,t){const n=Er(),i=vr(),r=Yt(null),a=Yt(!1),o=In.database();return{createRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("input room id pleace!");const d=o.ref(`/room/${r.value}`);d.once("value").then(function(c){if(console.log("XXX",c),c.val()){const p=E(c.val().play_A.lastConnect).isAfter(E().add(-2,"m").format("YYYY/MM/DD hh:mm")),u=E(c.val().play_B.lastConnect).isAfter(E().add(-2,"m").format("YYYY/MM/DD hh:mm"));if(p&&u)return a.value=!1,alert("This room already exists, please change the room id")}d.set({play_A:{join:!0,select:null,lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")},play_B:{join:!1,select:null,lastConnect:null}}).then(()=>{a.value=!1,n.commit("setLinkedRoom",r.value),n.commit("setRole","play_A"),setInterval(()=>{o.ref(`/room/${r.value}/play_A`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/en/gameRoom")})})},createRoomId:r,close:()=>t.emit("close"),loading:a}}},R5={class:"overlay"},T5={class:"popup"},k5={class:"createRoom"},I5=C("strong",{class:"mb_16"},"Create Room",-1);function A5(e,t,n,i,r,a){return ut(),St("div",R5,[C("div",T5,[C("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),C("div",k5,[I5,Qn(C("input",{type:"phone",placeholder:"Create Room ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.createRoomId=o)},null,512),[[ns,i.createRoomId]]),C("div",{class:Pi(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[2]||(t[2]=(...o)=>i.createRoom&&i.createRoom(...o))},te(i.loading?"Loading...":"Go!"),3)])])])}var D5=fn(S5,[["render",A5]]);const O5={setup(e,t){const n=Er(),i=vr(),r=Yt(null),a=Yt(!1),o=In.database();return{joinRoom:()=>{if(a.value=!0,!r.value)return a.value=!1,alert("input room id pleace!");o.ref(`/room/${r.value}`).once("value").then(c=>{const p=c.val();if(!p)return a.value=!1,alert("This room doesn't exist");if(!p.play_B.lastConnect||E(p.play_B.lastConnect).isBefore(E().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_B");else if(!p.play_A.lastConnect||E(p.play_A.lastConnect).isBefore(E().add(-2,"m").format("YYYY/MM/DD hh:mm")))n.commit("setRole","play_A");else return a.value=!1,alert("The room is full");n.commit("setLinkedRoom",r.value),o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm"),join:!0}).then(()=>{a.value=!1,setInterval(()=>{o.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:E(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/en/gameRoom")})})},joinRoomId:r,close:()=>t.emit("close"),loading:a}}},P5={class:"overlay"},N5={class:"popup"},M5={class:"joinRoom"},F5=C("strong",{class:"mb_16"},"Join Room",-1);function L5(e,t,n,i,r,a){return ut(),St("div",P5,[C("div",N5,[C("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),C("div",M5,[F5,Qn(C("input",{type:"phone",placeholder:"Join Room ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.joinRoomId=o)},null,512),[[ns,i.joinRoomId]]),C("div",{class:Pi(["btn mt_16 mb_12",{disable:i.loading}]),onClick:t[2]||(t[2]=(...o)=>i.joinRoom&&i.joinRoom(...o))},te(i.loading?"Loading...":"Go!"),3)])])])}var z5=fn(O5,[["render",L5]]);const Y5={components:{CreateRoom:D5,JoinRoom:z5},setup(){Nd({title:"Rock Paper Scissors Online",link:[{rel:"canonical",href:"https://yuntaolin.github.io/Rock-Paper-Scissors-Online/en"}],meta:[{name:"og:title",content:"Rock Paper Scissors Online"},{name:"og:description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely."},{name:"description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely."},{name:"twitter:title",content:"Rock Paper Scissors Online"},{name:"twitter:description",content:"Free real-time game of Rock Paper Scissors and hand cramps, you can create an independent room to play games remotely."}]});const e=Yt(!1),t=Yt(!1);return{openCreateRoom:e,openJoinRoom:t}}},js=e=>(Zo("data-v-28d7221a"),e=e(),Xo(),e),B5={id:"EnterPage"},W5=js(()=>C("h1",null,[Ei("Rock Paper Scissors Online"),C("br",{class:"hidden-pad-up"})],-1)),j5={class:"btn_group"},$5=js(()=>C("div",null,"Create Room +",-1)),U5=[$5],H5=js(()=>C("div",null,"Join Room",-1)),V5=[H5],G5=js(()=>C("div",{class:"other"},null,-1));function K5(e,t,n,i,r,a){const o=ra("CreateRoom"),s=ra("JoinRoom");return ut(),St("div",B5,[W5,C("nav",j5,[C("div",{class:"btn",onClick:t[0]||(t[0]=l=>i.openCreateRoom=!0)},U5),C("div",{class:"btn",onClick:t[1]||(t[1]=l=>i.openJoinRoom=!0)},V5)]),G5,i.openCreateRoom?(ut(),oa(o,{key:0,onClose:t[2]||(t[2]=l=>i.openCreateRoom=!1)})):fo("",!0),i.openJoinRoom?(ut(),oa(s,{key:1,onClose:t[3]||(t[3]=l=>i.openJoinRoom=!1)})):fo("",!0)])}var q5=fn(Y5,[["render",K5],["__scopeId","data-v-28d7221a"]]);const Vu=[{name:"\u526A\u5200",img:i_,color:"#86bebb",en:"Scissors"},{name:"\u77F3\u982D",img:r_,color:"#e0808b",en:"Rock"},{name:"\u5E03",img:a_,color:"#84bc7f",en:"Paper"}],Q5={setup(){const e=Er(),t=vr(),n=In.database(),i=sn({name:"",img:"",color:"",en:""}),r=sn({name:"",img:"",color:"",en:""}),a=Yt(!1),o=Yt(!1),s=Yt(""),l=["Win","Lose","Draw"];e.state.linkedRoom||t.replace("/en");const d=()=>{let h=i.name,g=r.name;switch(h){case"\u526A\u5200":g=="\u526A\u5200"&&(s.value=l[2]),g=="\u77F3\u982D"&&(s.value=l[1]),g=="\u5E03"&&(s.value=l[0]);break;case"\u77F3\u982D":g=="\u526A\u5200"&&(s.value=l[0]),g=="\u77F3\u982D"&&(s.value=l[2]),g=="\u5E03"&&(s.value=l[1]);break;case"\u5E03":g=="\u526A\u5200"&&(s.value=l[1]),g=="\u77F3\u982D"&&(s.value=l[0]),g=="\u5E03"&&(s.value=l[2]);break}o.value=!1};e.state.linkedRoom&&n.ref(`/room/${e.state.linkedRoom}/`).on("value",h=>{var D,_,v,O;let g=h.val();if(((D=g.play_A)==null?void 0:D.join)&&((_=g.play_B)==null?void 0:_.join)&&(a.value=!0),((v=g.play_A)==null?void 0:v.select)&&((O=g.play_B)==null?void 0:O.select)){const F=e.state.role==="play_A"?"play_B":"play_A",Y=g[F].select,V=Vu.find(Q=>Q.name==Y);V&&(r.name=V.name,r.img=V.img,r.color=V.color,r.en=V.en,d())}});const c=h=>{i.name=h.name,i.img=h.img,i.color=h.color,i.en=h.en,o.value=!0,n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:h.name,join:!1})},p=()=>{i.name="",i.img="",i.color="",i.en="",r.name="",r.img="",r.color="",r.en="",a.value=!1,s.value="",n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:null,join:!0})},u=We(()=>e.state.linkedRoom);return{selectHandler:c,selectList:Vu,selected:i,startGame:a,waiting:o,roomId:u,opponentSelected:r,result:s,again:p}}},Ya=e=>(Zo("data-v-2852d12a"),e=e(),Xo(),e),J5={class:"wrap"},Z5={class:"roomId"},X5={class:"container"},tR={class:"player self"},eR={class:"box"},nR=["src"],iR={key:1},rR=Ya(()=>C("h2",null,"You",-1)),aR=Ya(()=>C("div",{class:"vs"},"VS",-1)),oR={class:"player other"},sR={class:"box"},lR=["src"],dR={key:1},cR=Ya(()=>C("h2",null,"Opponent",-1)),pR={key:0,class:"select"},uR=Ya(()=>C("div",{class:"select_title"},"Choose",-1)),fR={class:"group"},hR=["onClick"],mR=["src"],gR={key:1,class:"result"},_R={class:"result_title"},xR=Ya(()=>C("div",{class:"space"},null,-1)),vR={class:"loading"},bR={class:"loading"};function yR(e,t,n,i,r,a){return ut(),St("div",J5,[C("div",Z5,"Room ID\uFF1A"+te(i.roomId),1),C("div",X5,[C("div",tR,[C("div",eR,[i.selected.name?(ut(),St("div",{key:0,class:"selectItem",style:rn({backgroundColor:i.selected.color})},[C("figure",null,[C("img",{src:i.selected.img,alt:""},null,8,nR),C("figcaption",null,te(i.selected.en),1)])],4)):(ut(),St("div",iR,"?"))]),rR]),aR,C("div",oR,[C("div",sR,[i.opponentSelected.name?(ut(),St("div",{key:0,class:"selectItem",style:rn({backgroundColor:i.opponentSelected.color})},[C("figure",null,[C("img",{src:i.opponentSelected.img,alt:""},null,8,lR),C("figcaption",null,[Ei(te(i.opponentSelected.name)+" ",1),C("span",null,te(i.opponentSelected.en),1)])])],4)):(ut(),St("div",dR,"?"))]),cR])]),i.result?(ut(),St("div",gR,[C("div",_R,te(i.result),1),C("div",{class:"refreshBtn",onClick:t[0]||(t[0]=o=>i.again())},"Play Again\uFF01")])):(ut(),St("div",pR,[uR,C("div",fR,[(ut(!0),St(_e,null,Gf(i.selectList,o=>(ut(),St("div",{class:"selectItem",style:rn({backgroundColor:o.color}),key:o.name,onClick:s=>i.selectHandler(o)},[C("figure",null,[C("img",{src:o.img,alt:""},null,8,mR),C("figcaption",null,te(o.en),1)])],12,hR))),128))])])),xR,Qn(C("div",vR,"Waiting Opponent Join...",512),[[_o,!i.startGame]]),Qn(C("div",bR,"Waiting Opponent Choose...",512),[[_o,i.waiting]])])}var wR=fn(Q5,[["render",yR],["__scopeId","data-v-2852d12a"]]);const CR=[{path:"/",name:"Index",component:E4},{path:"/zh-tw",name:"Enter",component:JS},{path:"/zh-tw/gameRoom",name:"Gameroom",component:E5},{path:"/en-us",redirect:"/en"},{path:"/en",name:"EnterUS",component:q5},{path:"/en/gameRoom",name:"GameroomUS",component:wR},{path:"/:pathMatch(.*)*",redirect:{path:"/"}}];u1(a4,{routes:CR,base:"/Rock-Paper-Scissors-Online/"},({app:e,router:t,routes:n,isClient:i,initialState:r})=>{Object.values({}).map(a=>{var o;return(o=a.install)==null?void 0:o.call(a,e)}),e.use(x4),e.config.performance=!1,Object.values({}).map(a=>{var o;return(o=a.install)==null?void 0:o.call(a,e)})})});export default ER();
