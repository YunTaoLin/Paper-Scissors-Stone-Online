var ag=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var wR=ag((CR,ao)=>{const og=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};og();function sg(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const lg=()=>{},cg=Object.assign,dg=Object.prototype.hasOwnProperty,Ho=(e,t)=>dg.call(e,t),jn=Array.isArray,Ja=e=>Vu(e)==="[object Map]",pg=e=>typeof e=="function",ug=e=>typeof e=="string",cc=e=>typeof e=="symbol",Vo=e=>e!==null&&typeof e=="object",fg=Object.prototype.toString,Vu=e=>fg.call(e),hg=e=>Vu(e).slice(8,-1),dc=e=>ug(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pc=(e,t)=>!Object.is(e,t),mg=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let di;const $a=[];class _g{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&di&&(this.parent=di,this.index=(di.scopes||(di.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&($a.push(this),di=this)}off(){this.active&&($a.pop(),di=$a[$a.length-1])}stop(t){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function gg(e,t){t=t||di,t&&t.active&&t.effects.push(e)}const uc=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Gu=e=>(e.w&Qn)>0,Ku=e=>(e.n&Qn)>0,xg=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Qn},vg=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];Gu(r)&&!Ku(r)?r.delete(e):t[n++]=r,r.w&=~Qn,r.n&=~Qn}t.length=n}},hl=new WeakMap;let Wr=0,Qn=1;const ml=30,Ar=[];let xi;const vi=Symbol(""),_l=Symbol("");class fc{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],gg(this,i)}run(){if(!this.active)return this.fn();if(!Ar.includes(this))try{return Ar.push(xi=this),bg(),Qn=1<<++Wr,Wr<=ml?xg(this):Gd(this),this.fn()}finally{Wr<=ml&&vg(this),Qn=1<<--Wr,Pi(),Ar.pop();const t=Ar.length;xi=t>0?Ar[t-1]:void 0}}stop(){this.active&&(Gd(this),this.onStop&&this.onStop(),this.active=!1)}}function Gd(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ar=!0;const hc=[];function gr(){hc.push(ar),ar=!1}function bg(){hc.push(ar),ar=!0}function Pi(){const e=hc.pop();ar=e===void 0?!0:e}function be(e,t,n){if(!qu())return;let i=hl.get(e);i||hl.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=uc()),Qu(r)}function qu(){return ar&&xi!==void 0}function Qu(e,t){let n=!1;Wr<=ml?Ku(e)||(e.n|=Qn,n=!Gu(e)):n=!e.has(xi),n&&(e.add(xi),xi.deps.push(e))}function Sn(e,t,n,i,r,a){const o=hl.get(e);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(n==="length"&&jn(e))o.forEach((l,c)=>{(c==="length"||c>=i)&&s.push(l)});else switch(n!==void 0&&s.push(o.get(n)),t){case"add":jn(e)?dc(n)&&s.push(o.get("length")):(s.push(o.get(vi)),Ja(e)&&s.push(o.get(_l)));break;case"delete":jn(e)||(s.push(o.get(vi)),Ja(e)&&s.push(o.get(_l)));break;case"set":Ja(e)&&s.push(o.get(vi));break}if(s.length===1)s[0]&&gl(s[0]);else{const l=[];for(const c of s)c&&l.push(...c);gl(uc(l))}}function gl(e,t){for(const n of jn(e)?e:[...e])(n!==xi||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const yg=sg("__proto__,__v_isRef,__isVue"),Ju=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(cc)),wg=mc(),Eg=mc(!1,!0),Cg=mc(!0),Kd=Sg();function Sg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=ft(this);for(let a=0,o=this.length;a<o;a++)be(i,"get",a+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(ft)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){gr();const i=ft(this)[t].apply(this,n);return Pi(),i}}),e}function mc(e=!1,t=!1){return function(i,r,a){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_raw"&&a===(e?t?Wg:nf:t?ef:tf).get(i))return i;const o=jn(i);if(!e&&o&&Ho(Kd,r))return Reflect.get(Kd,r,a);const s=Reflect.get(i,r,a);return(cc(r)?Ju.has(r):yg(r))||(e||be(i,"get",r),t)?s:oe(s)?!o||!dc(r)?s.value:s:Vo(s)?e?rf(s):sn(s):s}}const Rg=Zu(),Tg=Zu(!0);function Zu(e=!1){return function(n,i,r,a){let o=n[i];if(!e&&!vc(r)&&(r=ft(r),o=ft(o),!jn(n)&&oe(o)&&!oe(r)))return o.value=r,!0;const s=jn(n)&&dc(i)?Number(i)<n.length:Ho(n,i),l=Reflect.set(n,i,r,a);return n===ft(a)&&(s?pc(r,o)&&Sn(n,"set",i,r):Sn(n,"add",i,r)),l}}function kg(e,t){const n=Ho(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Sn(e,"delete",t,void 0),i}function Ig(e,t){const n=Reflect.has(e,t);return(!cc(t)||!Ju.has(t))&&be(e,"has",t),n}function Ag(e){return be(e,"iterate",jn(e)?"length":vi),Reflect.ownKeys(e)}const Xu={get:wg,set:Rg,deleteProperty:kg,has:Ig,ownKeys:Ag},Og={get:Cg,set(e,t){return!0},deleteProperty(e,t){return!0}},Pg=cg({},Xu,{get:Eg,set:Tg}),_c=e=>e,Go=e=>Reflect.getPrototypeOf(e);function Wa(e,t,n=!1,i=!1){e=e.__v_raw;const r=ft(e),a=ft(t);t!==a&&!n&&be(r,"get",t),!n&&be(r,"get",a);const{has:o}=Go(r),s=i?_c:n?bc:ea;if(o.call(r,t))return s(e.get(t));if(o.call(r,a))return s(e.get(a));e!==r&&e.get(t)}function ja(e,t=!1){const n=this.__v_raw,i=ft(n),r=ft(e);return e!==r&&!t&&be(i,"has",e),!t&&be(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function Ua(e,t=!1){return e=e.__v_raw,!t&&be(ft(e),"iterate",vi),Reflect.get(e,"size",e)}function qd(e){e=ft(e);const t=ft(this);return Go(t).has.call(t,e)||(t.add(e),Sn(t,"add",e,e)),this}function Qd(e,t){t=ft(t);const n=ft(this),{has:i,get:r}=Go(n);let a=i.call(n,e);a||(e=ft(e),a=i.call(n,e));const o=r.call(n,e);return n.set(e,t),a?pc(t,o)&&Sn(n,"set",e,t):Sn(n,"add",e,t),this}function Jd(e){const t=ft(this),{has:n,get:i}=Go(t);let r=n.call(t,e);r||(e=ft(e),r=n.call(t,e)),i&&i.call(t,e);const a=t.delete(e);return r&&Sn(t,"delete",e,void 0),a}function Zd(){const e=ft(this),t=e.size!==0,n=e.clear();return t&&Sn(e,"clear",void 0,void 0),n}function Ba(e,t){return function(i,r){const a=this,o=a.__v_raw,s=ft(o),l=t?_c:e?bc:ea;return!e&&be(s,"iterate",vi),o.forEach((c,d)=>i.call(r,l(c),l(d),a))}}function Ha(e,t,n){return function(...i){const r=this.__v_raw,a=ft(r),o=Ja(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...i),d=n?_c:t?bc:ea;return!t&&be(a,"iterate",l?_l:vi),{next(){const{value:p,done:u}=c.next();return u?{value:p,done:u}:{value:s?[d(p[0]),d(p[1])]:d(p),done:u}},[Symbol.iterator](){return this}}}}function Nn(e){return function(...t){return e==="delete"?!1:this}}function Ng(){const e={get(a){return Wa(this,a)},get size(){return Ua(this)},has:ja,add:qd,set:Qd,delete:Jd,clear:Zd,forEach:Ba(!1,!1)},t={get(a){return Wa(this,a,!1,!0)},get size(){return Ua(this)},has:ja,add:qd,set:Qd,delete:Jd,clear:Zd,forEach:Ba(!1,!0)},n={get(a){return Wa(this,a,!0)},get size(){return Ua(this,!0)},has(a){return ja.call(this,a,!0)},add:Nn("add"),set:Nn("set"),delete:Nn("delete"),clear:Nn("clear"),forEach:Ba(!0,!1)},i={get(a){return Wa(this,a,!0,!0)},get size(){return Ua(this,!0)},has(a){return ja.call(this,a,!0)},add:Nn("add"),set:Nn("set"),delete:Nn("delete"),clear:Nn("clear"),forEach:Ba(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Ha(a,!1,!1),n[a]=Ha(a,!0,!1),t[a]=Ha(a,!1,!0),i[a]=Ha(a,!0,!0)}),[e,n,t,i]}const[Dg,Mg,Fg,Lg]=Ng();function gc(e,t){const n=t?e?Lg:Fg:e?Mg:Dg;return(i,r,a)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Ho(n,r)&&r in i?n:i,r,a)}const zg={get:gc(!1,!1)},Yg={get:gc(!1,!0)},$g={get:gc(!0,!1)},tf=new WeakMap,ef=new WeakMap,nf=new WeakMap,Wg=new WeakMap;function jg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ug(e){return e.__v_skip||!Object.isExtensible(e)?0:jg(hg(e))}function sn(e){return e&&e.__v_isReadonly?e:xc(e,!1,Xu,zg,tf)}function Bg(e){return xc(e,!1,Pg,Yg,ef)}function rf(e){return xc(e,!0,Og,$g,nf)}function xc(e,t,n,i,r){if(!Vo(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=r.get(e);if(a)return a;const o=Ug(e);if(o===0)return e;const s=new Proxy(e,o===2?i:n);return r.set(e,s),s}function Ji(e){return vc(e)?Ji(e.__v_raw):!!(e&&e.__v_isReactive)}function vc(e){return!!(e&&e.__v_isReadonly)}function af(e){return Ji(e)||vc(e)}function ft(e){const t=e&&e.__v_raw;return t?ft(t):e}function of(e){return mg(e,"__v_skip",!0),e}const ea=e=>Vo(e)?sn(e):e,bc=e=>Vo(e)?rf(e):e;function sf(e){qu()&&(e=ft(e),e.dep||(e.dep=uc()),Qu(e.dep))}function lf(e,t){e=ft(e),e.dep&&gl(e.dep)}function oe(e){return Boolean(e&&e.__v_isRef===!0)}function Xt(e){return cf(e,!1)}function Hg(e){return cf(e,!0)}function cf(e,t){return oe(e)?e:new Vg(e,t)}class Vg{constructor(t,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ft(t),this._value=n?t:ea(t)}get value(){return sf(this),this._value}set value(t){t=this._shallow?t:ft(t),pc(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:ea(t),lf(this))}}function Ur(e){return oe(e)?e.value:e}const Gg={get:(e,t,n)=>Ur(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return oe(r)&&!oe(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function df(e){return Ji(e)?e:new Proxy(e,Gg)}class Kg{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new fc(t,()=>{this._dirty||(this._dirty=!0,lf(this))}),this.effect.active=!r,this.__v_isReadonly=i}get value(){const t=ft(this);return sf(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function pf(e,t,n=!1){let i,r;const a=pg(e);return a?(i=e,r=lg):(i=e.get,r=e.set),new Kg(i,r,a||!r,n)}Promise.resolve();function qg(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function nn(e){if(ct(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Ne(i)?Zg(i):nn(i);if(r)for(const a in r)t[a]=r[a]}return t}else{if(Ne(e))return e;if(se(e))return e}}const Qg=/;(?![^(]*\))/g,Jg=/:(.+)/;function Zg(e){const t={};return e.split(Qg).forEach(n=>{if(n){const i=n.split(Jg);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function yc(e){let t="";if(Ne(e))t=e;else if(ct(e))for(let n=0;n<e.length;n++){const i=yc(e[n]);i&&(t+=i+" ")}else if(se(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ke=e=>e==null?"":ct(e)||se(e)&&(e.toString===gf||!nt(e.toString))?JSON.stringify(e,uf,2):String(e),uf=(e,t)=>t&&t.__v_isRef?uf(e,t.value):hf(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:mf(t)?{[`Set(${t.size})`]:[...t.values()]}:se(t)&&!ct(t)&&!xf(t)?String(t):t,bt={},Zi=[],rn=()=>{},Xg=()=>!1,t1=/^on[^a-z]/,Ko=e=>t1.test(e),ff=e=>e.startsWith("onUpdate:"),ye=Object.assign,wc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},e1=Object.prototype.hasOwnProperty,mt=(e,t)=>e1.call(e,t),ct=Array.isArray,hf=e=>Ec(e)==="[object Map]",mf=e=>Ec(e)==="[object Set]",nt=e=>typeof e=="function",Ne=e=>typeof e=="string",se=e=>e!==null&&typeof e=="object",_f=e=>se(e)&&nt(e.then)&&nt(e.catch),gf=Object.prototype.toString,Ec=e=>gf.call(e),xf=e=>Ec(e)==="[object Object]",Br=qg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},n1=/-(\w)/g,ln=qo(e=>e.replace(n1,(t,n)=>n?n.toUpperCase():"")),i1=/\B([A-Z])/g,Qo=qo(e=>e.replace(i1,"-$1").toLowerCase()),Cc=qo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Us=qo(e=>e?`on${Cc(e)}`:""),Xd=(e,t)=>!Object.is(e,t),Bs=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},xl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},r1=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let tp;const a1=()=>tp||(tp=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Un(e,t,n,i){let r;try{r=i?e(...i):e()}catch(a){Jo(a,t,n)}return r}function He(e,t,n,i){if(nt(e)){const a=Un(e,t,n,i);return a&&_f(a)&&a.catch(o=>{Jo(o,t,n)}),a}const r=[];for(let a=0;a<e.length;a++)r.push(He(e[a],t,n,i));return r}function Jo(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let a=t.parent;const o=t.proxy,s=n;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,o,s)===!1)return}a=a.parent}const l=t.appContext.config.errorHandler;if(l){Un(l,null,10,[e,o,s]);return}}o1(e,n,r,i)}function o1(e,t,n,i=!0){console.error(e)}let oo=!1,vl=!1;const xe=[];let vn=0;const Hr=[];let jr=null,Hi=0;const Vr=[];let Mn=null,Vi=0;const vf=Promise.resolve();let Sc=null,bl=null;function bf(e){const t=Sc||vf;return e?t.then(this?e.bind(this):e):t}function s1(e){let t=vn+1,n=xe.length;for(;t<n;){const i=t+n>>>1;na(xe[i])<e?t=i+1:n=i}return t}function yf(e){(!xe.length||!xe.includes(e,oo&&e.allowRecurse?vn+1:vn))&&e!==bl&&(e.id==null?xe.push(e):xe.splice(s1(e.id),0,e),wf())}function wf(){!oo&&!vl&&(vl=!0,Sc=vf.then(Cf))}function l1(e){const t=xe.indexOf(e);t>vn&&xe.splice(t,1)}function Ef(e,t,n,i){ct(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?i+1:i))&&n.push(e),wf()}function c1(e){Ef(e,jr,Hr,Hi)}function d1(e){Ef(e,Mn,Vr,Vi)}function Rc(e,t=null){if(Hr.length){for(bl=t,jr=[...new Set(Hr)],Hr.length=0,Hi=0;Hi<jr.length;Hi++)jr[Hi]();jr=null,Hi=0,bl=null,Rc(e,t)}}function so(e){if(Vr.length){const t=[...new Set(Vr)];if(Vr.length=0,Mn){Mn.push(...t);return}for(Mn=t,Mn.sort((n,i)=>na(n)-na(i)),Vi=0;Vi<Mn.length;Vi++)Mn[Vi]();Mn=null,Vi=0}}const na=e=>e.id==null?1/0:e.id;function Cf(e){vl=!1,oo=!0,Rc(e),xe.sort((n,i)=>na(n)-na(i));const t=rn;try{for(vn=0;vn<xe.length;vn++){const n=xe[vn];n&&n.active!==!1&&Un(n,null,14)}}finally{vn=0,xe.length=0,so(),oo=!1,Sc=null,(xe.length||Hr.length||Vr.length)&&Cf(e)}}function p1(e,t,...n){const i=e.vnode.props||bt;let r=n;const a=t.startsWith("update:"),o=a&&t.slice(7);if(o&&o in i){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:p,trim:u}=i[d]||bt;u?r=n.map(h=>h.trim()):p&&(r=n.map(r1))}let s,l=i[s=Us(t)]||i[s=Us(ln(t))];!l&&a&&(l=i[s=Us(Qo(t))]),l&&He(l,e,6,r);const c=i[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,He(c,e,6,r)}}function Sf(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const a=e.emits;let o={},s=!1;if(!nt(e)){const l=c=>{const d=Sf(c,t,!0);d&&(s=!0,ye(o,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(i.set(e,null),null):(ct(a)?a.forEach(l=>o[l]=null):ye(o,a),i.set(e,o),o)}function Tc(e,t){return!e||!Ko(t)?!1:(t=t.slice(2).replace(/Once$/,""),mt(e,t[0].toLowerCase()+t.slice(1))||mt(e,Qo(t))||mt(e,t))}let je=null,Zo=null;function lo(e){const t=je;return je=e,Zo=e&&e.type.__scopeId||null,t}function Ea(e){Zo=e}function Ca(){Zo=null}function yl(e,t=je,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&dp(-1);const a=lo(t),o=e(...r);return lo(a),i._d&&dp(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function Hs(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:a,propsOptions:[o],slots:s,attrs:l,emit:c,render:d,renderCache:p,data:u,setupState:h,ctx:_,inheritAttrs:O}=e;let g,v;const P=lo(e);try{if(n.shapeFlag&4){const Y=r||i;g=$e(d.call(Y,Y,p,a,h,u,_)),v=l}else{const Y=t;g=$e(Y.length>1?Y(a,{attrs:l,slots:s,emit:c}):Y(a,null)),v=t.props?l:u1(l)}}catch(Y){Gr.length=0,Jo(Y,e,1),g=qt(Zn)}let F=g;if(v&&O!==!1){const Y=Object.keys(v),{shapeFlag:V}=F;Y.length&&V&7&&(o&&Y.some(ff)&&(v=f1(v,o)),F=aa(F,v))}return n.dirs&&(F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),g=F,lo(P),g}const u1=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ko(n))&&((t||(t={}))[n]=e[n]);return t},f1=(e,t)=>{const n={};for(const i in e)(!ff(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function h1(e,t,n){const{props:i,children:r,component:a}=e,{props:o,children:s,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?ep(i,o,c):!!o;if(l&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const u=d[p];if(o[u]!==i[u]&&!Tc(c,u))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===o?!1:i?o?ep(i,o,c):!0:!!o;return!1}function ep(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(t[a]!==e[a]&&!Tc(n,a))return!0}return!1}function m1({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const _1=e=>e.__isSuspense;function Rf(e,t){t&&t.pendingBranch?ct(e)?t.effects.push(...e):t.effects.push(e):d1(e)}function Za(e,t){if(Zt){let n=Zt.provides;const i=Zt.parent&&Zt.parent.provides;i===n&&(n=Zt.provides=Object.create(i)),n[e]=t}}function an(e,t,n=!1){const i=Zt||je;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&nt(t)?t.call(i.proxy):t}}const np={};function Xi(e,t,n){return Tf(e,t,n)}function Tf(e,t,{immediate:n,deep:i,flush:r,onTrack:a,onTrigger:o}=bt){const s=Zt;let l,c=!1,d=!1;if(oe(e)?(l=()=>e.value,c=!!e._shallow):Ji(e)?(l=()=>e,i=!0):ct(e)?(d=!0,c=e.some(Ji),l=()=>e.map(v=>{if(oe(v))return v.value;if(Ji(v))return mi(v);if(nt(v))return Un(v,s,2)})):nt(e)?t?l=()=>Un(e,s,2):l=()=>{if(!(s&&s.isUnmounted))return p&&p(),He(e,s,3,[u])}:l=rn,t&&i){const v=l;l=()=>mi(v())}let p,u=v=>{p=g.onStop=()=>{Un(v,s,4)}};if(oa)return u=rn,t?n&&He(t,s,3,[l(),d?[]:void 0,u]):l(),rn;let h=d?[]:np;const _=()=>{if(!!g.active)if(t){const v=g.run();(i||c||(d?v.some((P,F)=>Xd(P,h[F])):Xd(v,h)))&&(p&&p(),He(t,s,3,[v,h===np?void 0:h,u]),h=v)}else g.run()};_.allowRecurse=!!t;let O;r==="sync"?O=_:r==="post"?O=()=>le(_,s&&s.suspense):O=()=>{!s||s.isMounted?c1(_):_()};const g=new fc(l,O);return t?n?_():h=g.run():r==="post"?le(g.run.bind(g),s&&s.suspense):g.run(),()=>{g.stop(),s&&s.scope&&wc(s.scope.effects,g)}}function g1(e,t,n){const i=this.proxy,r=Ne(e)?e.includes(".")?kf(i,e):()=>i[e]:e.bind(i,i);let a;nt(t)?a=t:(a=t.handler,n=t);const o=Zt;sr(this);const s=Tf(r,a.bind(i),n);return o?sr(o):yi(),s}function kf(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function mi(e,t){if(!se(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),oe(e))mi(e.value,t);else if(ct(e))for(let n=0;n<e.length;n++)mi(e[n],t);else if(mf(e)||hf(e))e.forEach(n=>{mi(n,t)});else if(xf(e))for(const n in e)mi(e[n],t);return e}function kc(e){return nt(e)?{setup:e,name:e.name}:e}const co=e=>!!e.type.__asyncLoader,If=e=>e.type.__isKeepAlive;function x1(e,t){Af(e,"a",t)}function v1(e,t){Af(e,"da",t)}function Af(e,t,n=Zt){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Xo(t,i,n),n){let r=n.parent;for(;r&&r.parent;)If(r.parent.vnode)&&b1(i,t,n,r),r=r.parent}}function b1(e,t,n,i){const r=Xo(t,e,i,!0);Pf(()=>{wc(i[t],r)},n)}function Xo(e,t,n=Zt,i=!1){if(n){const r=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;gr(),sr(n);const s=He(t,n,e,o);return yi(),Pi(),s});return i?r.unshift(a):r.push(a),a}}const In=e=>(t,n=Zt)=>(!oa||e==="sp")&&Xo(e,t,n),y1=In("bm"),Of=In("m"),w1=In("bu"),E1=In("u"),C1=In("bum"),Pf=In("um"),S1=In("sp"),R1=In("rtg"),T1=In("rtc");function k1(e,t=Zt){Xo("ec",e,t)}let wl=!0;function I1(e){const t=Df(e),n=e.proxy,i=e.ctx;wl=!1,t.beforeCreate&&ip(t.beforeCreate,e,"bc");const{data:r,computed:a,methods:o,watch:s,provide:l,inject:c,created:d,beforeMount:p,mounted:u,beforeUpdate:h,updated:_,activated:O,deactivated:g,beforeDestroy:v,beforeUnmount:P,destroyed:F,unmounted:Y,render:V,renderTracked:Q,renderTriggered:K,errorCaptured:Tt,serverPrefetch:it,expose:kt,inheritAttrs:Yt,components:et,directives:Lt,filters:Bt}=t;if(c&&A1(c,i,null,e.appContext.config.unwrapInjectedRef),o)for(const wt in o){const gt=o[wt];nt(gt)&&(i[wt]=gt.bind(n))}if(r){const wt=r.call(n,n);se(wt)&&(e.data=sn(wt))}if(wl=!0,a)for(const wt in a){const gt=a[wt],Se=nt(gt)?gt.bind(n,n):nt(gt.get)?gt.get.bind(n,n):rn,Yi=!nt(gt)&&nt(gt.set)?gt.set.bind(n):rn,_n=pf({get:Se,set:Yi});Object.defineProperty(i,wt,{enumerable:!0,configurable:!0,get:()=>_n.value,set:Ze=>_n.value=Ze})}if(s)for(const wt in s)Nf(s[wt],i,n,wt);if(l){const wt=nt(l)?l.call(n):l;Reflect.ownKeys(wt).forEach(gt=>{Za(gt,wt[gt])})}d&&ip(d,e,"c");function Wt(wt,gt){ct(gt)?gt.forEach(Se=>wt(Se.bind(n))):gt&&wt(gt.bind(n))}if(Wt(y1,p),Wt(Of,u),Wt(w1,h),Wt(E1,_),Wt(x1,O),Wt(v1,g),Wt(k1,Tt),Wt(T1,Q),Wt(R1,K),Wt(C1,P),Wt(Pf,Y),Wt(S1,it),ct(kt))if(kt.length){const wt=e.exposed||(e.exposed={});kt.forEach(gt=>{Object.defineProperty(wt,gt,{get:()=>n[gt],set:Se=>n[gt]=Se})})}else e.exposed||(e.exposed={});V&&e.render===rn&&(e.render=V),Yt!=null&&(e.inheritAttrs=Yt),et&&(e.components=et),Lt&&(e.directives=Lt)}function A1(e,t,n=rn,i=!1){ct(e)&&(e=El(e));for(const r in e){const a=e[r];let o;se(a)?"default"in a?o=an(a.from||r,a.default,!0):o=an(a.from||r):o=an(a),oe(o)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function ip(e,t,n){He(ct(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Nf(e,t,n,i){const r=i.includes(".")?kf(n,i):()=>n[i];if(Ne(e)){const a=t[e];nt(a)&&Xi(r,a)}else if(nt(e))Xi(r,e.bind(n));else if(se(e))if(ct(e))e.forEach(a=>Nf(a,t,n,i));else{const a=nt(e.handler)?e.handler.bind(n):t[e.handler];nt(a)&&Xi(r,a,e)}}function Df(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(c=>po(l,c,o,!0)),po(l,t,o)),a.set(t,l),l}function po(e,t,n,i=!1){const{mixins:r,extends:a}=t;a&&po(e,a,n,!0),r&&r.forEach(o=>po(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const s=O1[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const O1={data:rp,props:pi,emits:pi,methods:pi,computed:pi,beforeCreate:re,created:re,beforeMount:re,mounted:re,beforeUpdate:re,updated:re,beforeDestroy:re,beforeUnmount:re,destroyed:re,unmounted:re,activated:re,deactivated:re,errorCaptured:re,serverPrefetch:re,components:pi,directives:pi,watch:N1,provide:rp,inject:P1};function rp(e,t){return t?e?function(){return ye(nt(e)?e.call(this,this):e,nt(t)?t.call(this,this):t)}:t:e}function P1(e,t){return pi(El(e),El(t))}function El(e){if(ct(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function re(e,t){return e?[...new Set([].concat(e,t))]:t}function pi(e,t){return e?ye(ye(Object.create(null),e),t):t}function N1(e,t){if(!e)return t;if(!t)return e;const n=ye(Object.create(null),e);for(const i in t)n[i]=re(e[i],t[i]);return n}function D1(e,t,n,i=!1){const r={},a={};xl(a,ts,1),e.propsDefaults=Object.create(null),Mf(e,t,r,a);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:Bg(r):e.type.props?e.props=r:e.props=a,e.attrs=a}function M1(e,t,n,i){const{props:r,attrs:a,vnode:{patchFlag:o}}=e,s=ft(r),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let u=d[p];const h=t[u];if(l)if(mt(a,u))h!==a[u]&&(a[u]=h,c=!0);else{const _=ln(u);r[_]=Cl(l,s,_,h,e,!1)}else h!==a[u]&&(a[u]=h,c=!0)}}}else{Mf(e,t,r,a)&&(c=!0);let d;for(const p in s)(!t||!mt(t,p)&&((d=Qo(p))===p||!mt(t,d)))&&(l?n&&(n[p]!==void 0||n[d]!==void 0)&&(r[p]=Cl(l,s,p,void 0,e,!0)):delete r[p]);if(a!==s)for(const p in a)(!t||!mt(t,p))&&(delete a[p],c=!0)}c&&Sn(e,"set","$attrs")}function Mf(e,t,n,i){const[r,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Br(l))continue;const c=t[l];let d;r&&mt(r,d=ln(l))?!a||!a.includes(d)?n[d]=c:(s||(s={}))[d]=c:Tc(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(a){const l=ft(n),c=s||bt;for(let d=0;d<a.length;d++){const p=a[d];n[p]=Cl(r,l,p,c[p],e,!mt(c,p))}}return o}function Cl(e,t,n,i,r,a){const o=e[n];if(o!=null){const s=mt(o,"default");if(s&&i===void 0){const l=o.default;if(o.type!==Function&&nt(l)){const{propsDefaults:c}=r;n in c?i=c[n]:(sr(r),i=c[n]=l.call(null,t),yi())}else i=l}o[0]&&(a&&!s?i=!1:o[1]&&(i===""||i===Qo(n))&&(i=!0))}return i}function Ff(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const a=e.props,o={},s=[];let l=!1;if(!nt(e)){const d=p=>{l=!0;const[u,h]=Ff(p,t,!0);ye(o,u),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!a&&!l)return i.set(e,Zi),Zi;if(ct(a))for(let d=0;d<a.length;d++){const p=ln(a[d]);ap(p)&&(o[p]=bt)}else if(a)for(const d in a){const p=ln(d);if(ap(p)){const u=a[d],h=o[p]=ct(u)||nt(u)?{type:u}:u;if(h){const _=lp(Boolean,h.type),O=lp(String,h.type);h[0]=_>-1,h[1]=O<0||_<O,(_>-1||mt(h,"default"))&&s.push(p)}}}const c=[o,s];return i.set(e,c),c}function ap(e){return e[0]!=="$"}function op(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function sp(e,t){return op(e)===op(t)}function lp(e,t){return ct(t)?t.findIndex(n=>sp(n,e)):nt(t)&&sp(t,e)?0:-1}const Lf=e=>e[0]==="_"||e==="$stable",Ic=e=>ct(e)?e.map($e):[$e(e)],F1=(e,t,n)=>{const i=yl((...r)=>Ic(t(...r)),n);return i._c=!1,i},zf=(e,t,n)=>{const i=e._ctx;for(const r in e){if(Lf(r))continue;const a=e[r];if(nt(a))t[r]=F1(r,a,i);else if(a!=null){const o=Ic(a);t[r]=()=>o}}},Yf=(e,t)=>{const n=Ic(t);e.slots.default=()=>n},L1=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ft(t),xl(t,"_",n)):zf(t,e.slots={})}else e.slots={},t&&Yf(e,t);xl(e.slots,ts,1)},z1=(e,t,n)=>{const{vnode:i,slots:r}=e;let a=!0,o=bt;if(i.shapeFlag&32){const s=t._;s?n&&s===1?a=!1:(ye(r,t),!n&&s===1&&delete r._):(a=!t.$stable,zf(t,r)),o=t}else t&&(Yf(e,t),o={default:1});if(a)for(const s in r)!Lf(s)&&!(s in o)&&delete r[s]};function Jn(e,t){const n=je;if(n===null)return e;const i=n.proxy,r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,s,l,c=bt]=t[a];nt(o)&&(o={mounted:o,updated:o}),o.deep&&mi(s),r.push({dir:o,instance:i,value:s,oldValue:void 0,arg:l,modifiers:c})}return e}function tn(e,t,n,i){const r=e.dirs,a=t&&t.dirs;for(let o=0;o<r.length;o++){const s=r[o];a&&(s.oldValue=a[o].value);let l=s.dir[i];l&&(gr(),He(l,n,8,[e.el,s,e,t]),Pi())}}function $f(){return{app:null,config:{isNativeTag:Xg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Y1=0;function $1(e,t){return function(i,r=null){r!=null&&!se(r)&&(r=null);const a=$f(),o=new Set;let s=!1;const l=a.app={_uid:Y1++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:l0,get config(){return a.config},set config(c){},use(c,...d){return o.has(c)||(c&&nt(c.install)?(o.add(c),c.install(l,...d)):nt(c)&&(o.add(c),c(l,...d))),l},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),l},component(c,d){return d?(a.components[c]=d,l):a.components[c]},directive(c,d){return d?(a.directives[c]=d,l):a.directives[c]},mount(c,d,p){if(!s){const u=qt(i,r);return u.appContext=a,d&&t?t(u,c):e(u,c,p),s=!0,l._container=c,c.__vue_app__=l,Oc(u.component)||u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return a.provides[c]=d,l}};return l}}function uo(e,t,n,i,r=!1){if(ct(e)){e.forEach((u,h)=>uo(u,t&&(ct(t)?t[h]:t),n,i,r));return}if(co(i)&&!r)return;const a=i.shapeFlag&4?Oc(i.component)||i.component.proxy:i.el,o=r?null:a,{i:s,r:l}=e,c=t&&t.r,d=s.refs===bt?s.refs={}:s.refs,p=s.setupState;if(c!=null&&c!==l&&(Ne(c)?(d[c]=null,mt(p,c)&&(p[c]=null)):oe(c)&&(c.value=null)),nt(l))Un(l,s,12,[o,d]);else{const u=Ne(l),h=oe(l);if(u||h){const _=()=>{if(e.f){const O=u?d[l]:l.value;r?ct(O)&&wc(O,a):ct(O)?O.includes(a)||O.push(a):u?d[l]=[a]:(l.value=[a],e.k&&(d[e.k]=l.value))}else u?(d[l]=o,mt(p,l)&&(p[l]=o)):oe(l)&&(l.value=o,e.k&&(d[e.k]=o))};o?(_.id=-1,le(_,n)):_()}}}let Dn=!1;const Va=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Vs=e=>e.nodeType===8;function W1(e){const{mt:t,p:n,o:{patchProp:i,nextSibling:r,parentNode:a,remove:o,insert:s,createComment:l}}=e,c=(g,v)=>{if(!v.hasChildNodes()){n(null,g,v),so();return}Dn=!1,d(v.firstChild,g,null,null,null),so(),Dn&&console.error("Hydration completed but contains mismatches.")},d=(g,v,P,F,Y,V=!1)=>{const Q=Vs(g)&&g.data==="[",K=()=>_(g,v,P,F,Y,Q),{type:Tt,ref:it,shapeFlag:kt}=v,Yt=g.nodeType;v.el=g;let et=null;switch(Tt){case ia:Yt!==3?et=K():(g.data!==v.children&&(Dn=!0,g.data=v.children),et=r(g));break;case Zn:Yt!==8||Q?et=K():et=r(g);break;case Xa:if(Yt!==1)et=K();else{et=g;const Lt=!v.children.length;for(let Bt=0;Bt<v.staticCount;Bt++)Lt&&(v.children+=et.outerHTML),Bt===v.staticCount-1&&(v.anchor=et),et=r(et);return et}break;case _e:Q?et=h(g,v,P,F,Y,V):et=K();break;default:if(kt&1)Yt!==1||v.type.toLowerCase()!==g.tagName.toLowerCase()?et=K():et=p(g,v,P,F,Y,V);else if(kt&6){v.slotScopeIds=Y;const Lt=a(g);if(t(v,Lt,null,P,F,Va(Lt),V),et=Q?O(g):r(g),co(v)){let Bt;Q?(Bt=qt(_e),Bt.anchor=et?et.previousSibling:Lt.lastChild):Bt=g.nodeType===3?Rn(""):qt("div"),Bt.el=g,v.component.subTree=Bt}}else kt&64?Yt!==8?et=K():et=v.type.hydrate(g,v,P,F,Y,V,e,u):kt&128&&(et=v.type.hydrate(g,v,P,F,Va(a(g)),Y,V,e,d))}return it!=null&&uo(it,null,F,v),et},p=(g,v,P,F,Y,V)=>{V=V||!!v.dynamicChildren;const{type:Q,props:K,patchFlag:Tt,shapeFlag:it,dirs:kt}=v,Yt=Q==="input"&&kt||Q==="option";if(Yt||Tt!==-1){if(kt&&tn(v,null,P,"created"),K)if(Yt||!V||Tt&48)for(const Lt in K)(Yt&&Lt.endsWith("value")||Ko(Lt)&&!Br(Lt))&&i(g,Lt,null,K[Lt],!1,void 0,P);else K.onClick&&i(g,"onClick",null,K.onClick,!1,void 0,P);let et;if((et=K&&K.onVnodeBeforeMount)&&Te(et,P,v),kt&&tn(v,null,P,"beforeMount"),((et=K&&K.onVnodeMounted)||kt)&&Rf(()=>{et&&Te(et,P,v),kt&&tn(v,null,P,"mounted")},F),it&16&&!(K&&(K.innerHTML||K.textContent))){let Lt=u(g.firstChild,v,g,P,F,Y,V);for(;Lt;){Dn=!0;const Bt=Lt;Lt=Lt.nextSibling,o(Bt)}}else it&8&&g.textContent!==v.children&&(Dn=!0,g.textContent=v.children)}return g.nextSibling},u=(g,v,P,F,Y,V,Q)=>{Q=Q||!!v.dynamicChildren;const K=v.children,Tt=K.length;for(let it=0;it<Tt;it++){const kt=Q?K[it]:K[it]=$e(K[it]);if(g)g=d(g,kt,F,Y,V,Q);else{if(kt.type===ia&&!kt.children)continue;Dn=!0,n(null,kt,P,null,F,Y,Va(P),V)}}return g},h=(g,v,P,F,Y,V)=>{const{slotScopeIds:Q}=v;Q&&(Y=Y?Y.concat(Q):Q);const K=a(g),Tt=u(r(g),v,K,P,F,Y,V);return Tt&&Vs(Tt)&&Tt.data==="]"?r(v.anchor=Tt):(Dn=!0,s(v.anchor=l("]"),K,Tt),Tt)},_=(g,v,P,F,Y,V)=>{if(Dn=!0,v.el=null,V){const Tt=O(g);for(;;){const it=r(g);if(it&&it!==Tt)o(it);else break}}const Q=r(g),K=a(g);return o(g),n(null,v,K,Q,P,F,Va(K),Y),Q},O=g=>{let v=0;for(;g;)if(g=r(g),g&&Vs(g)&&(g.data==="["&&v++,g.data==="]")){if(v===0)return r(g);v--}return g};return[c,d]}const le=Rf;function j1(e){return Wf(e)}function U1(e){return Wf(e,W1)}function Wf(e,t){const n=a1();n.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:o,createText:s,createComment:l,setText:c,setElementText:d,parentNode:p,nextSibling:u,setScopeId:h=rn,cloneNode:_,insertStaticContent:O}=e,g=(f,m,x,w=null,b=null,I=null,D=!1,k=null,A=!!m.dynamicChildren)=>{if(f===m)return;f&&!Or(f,m)&&(w=B(f),Re(f,b,I,!0),f=null),m.patchFlag===-2&&(A=!1,m.dynamicChildren=null);const{type:S,ref:W,shapeFlag:L}=m;switch(S){case ia:v(f,m,x,w);break;case Zn:P(f,m,x,w);break;case Xa:f==null&&F(m,x,w,D);break;case _e:Lt(f,m,x,w,b,I,D,k,A);break;default:L&1?Q(f,m,x,w,b,I,D,k,A):L&6?Bt(f,m,x,w,b,I,D,k,A):(L&64||L&128)&&S.process(f,m,x,w,b,I,D,k,A,At)}W!=null&&b&&uo(W,f&&f.ref,I,m||f,!m)},v=(f,m,x,w)=>{if(f==null)i(m.el=s(m.children),x,w);else{const b=m.el=f.el;m.children!==f.children&&c(b,m.children)}},P=(f,m,x,w)=>{f==null?i(m.el=l(m.children||""),x,w):m.el=f.el},F=(f,m,x,w)=>{[f.el,f.anchor]=O(f.children,m,x,w,f.el,f.anchor)},Y=({el:f,anchor:m},x,w)=>{let b;for(;f&&f!==m;)b=u(f),i(f,x,w),f=b;i(m,x,w)},V=({el:f,anchor:m})=>{let x;for(;f&&f!==m;)x=u(f),r(f),f=x;r(m)},Q=(f,m,x,w,b,I,D,k,A)=>{D=D||m.type==="svg",f==null?K(m,x,w,b,I,D,k,A):kt(f,m,b,I,D,k,A)},K=(f,m,x,w,b,I,D,k)=>{let A,S;const{type:W,props:L,shapeFlag:j,transition:G,patchFlag:st,dirs:Dt}=f;if(f.el&&_!==void 0&&st===-1)A=f.el=_(f.el);else{if(A=f.el=o(f.type,I,L&&L.is,L),j&8?d(A,f.children):j&16&&it(f.children,A,null,w,b,I&&W!=="foreignObject",D,k),Dt&&tn(f,null,w,"created"),L){for(const Ot in L)Ot!=="value"&&!Br(Ot)&&a(A,Ot,null,L[Ot],I,f.children,w,b,N);"value"in L&&a(A,"value",null,L.value),(S=L.onVnodeBeforeMount)&&Te(S,w,f)}Tt(A,f,f.scopeId,D,w)}Dt&&tn(f,null,w,"beforeMount");const xt=(!b||b&&!b.pendingBranch)&&G&&!G.persisted;xt&&G.beforeEnter(A),i(A,m,x),((S=L&&L.onVnodeMounted)||xt||Dt)&&le(()=>{S&&Te(S,w,f),xt&&G.enter(A),Dt&&tn(f,null,w,"mounted")},b)},Tt=(f,m,x,w,b)=>{if(x&&h(f,x),w)for(let I=0;I<w.length;I++)h(f,w[I]);if(b){let I=b.subTree;if(m===I){const D=b.vnode;Tt(f,D,D.scopeId,D.slotScopeIds,b.parent)}}},it=(f,m,x,w,b,I,D,k,A=0)=>{for(let S=A;S<f.length;S++){const W=f[S]=k?Fn(f[S]):$e(f[S]);g(null,W,m,x,w,b,I,D,k)}},kt=(f,m,x,w,b,I,D)=>{const k=m.el=f.el;let{patchFlag:A,dynamicChildren:S,dirs:W}=m;A|=f.patchFlag&16;const L=f.props||bt,j=m.props||bt;let G;x&&si(x,!1),(G=j.onVnodeBeforeUpdate)&&Te(G,x,m,f),W&&tn(m,f,x,"beforeUpdate"),x&&si(x,!0);const st=b&&m.type!=="foreignObject";if(S?Yt(f.dynamicChildren,S,k,x,w,st,I):D||Se(f,m,k,null,x,w,st,I,!1),A>0){if(A&16)et(k,m,L,j,x,w,b);else if(A&2&&L.class!==j.class&&a(k,"class",null,j.class,b),A&4&&a(k,"style",L.style,j.style,b),A&8){const Dt=m.dynamicProps;for(let xt=0;xt<Dt.length;xt++){const Ot=Dt[xt],ze=L[Ot],$i=j[Ot];($i!==ze||Ot==="value")&&a(k,Ot,ze,$i,b,f.children,x,w,N)}}A&1&&f.children!==m.children&&d(k,m.children)}else!D&&S==null&&et(k,m,L,j,x,w,b);((G=j.onVnodeUpdated)||W)&&le(()=>{G&&Te(G,x,m,f),W&&tn(m,f,x,"updated")},w)},Yt=(f,m,x,w,b,I,D)=>{for(let k=0;k<m.length;k++){const A=f[k],S=m[k],W=A.el&&(A.type===_e||!Or(A,S)||A.shapeFlag&70)?p(A.el):x;g(A,S,W,null,w,b,I,D,!0)}},et=(f,m,x,w,b,I,D)=>{if(x!==w){for(const k in w){if(Br(k))continue;const A=w[k],S=x[k];A!==S&&k!=="value"&&a(f,k,S,A,D,m.children,b,I,N)}if(x!==bt)for(const k in x)!Br(k)&&!(k in w)&&a(f,k,x[k],null,D,m.children,b,I,N);"value"in w&&a(f,"value",x.value,w.value)}},Lt=(f,m,x,w,b,I,D,k,A)=>{const S=m.el=f?f.el:s(""),W=m.anchor=f?f.anchor:s("");let{patchFlag:L,dynamicChildren:j,slotScopeIds:G}=m;G&&(k=k?k.concat(G):G),f==null?(i(S,x,w),i(W,x,w),it(m.children,x,W,b,I,D,k,A)):L>0&&L&64&&j&&f.dynamicChildren?(Yt(f.dynamicChildren,j,x,b,I,D,k),(m.key!=null||b&&m===b.subTree)&&jf(f,m,!0)):Se(f,m,x,W,b,I,D,k,A)},Bt=(f,m,x,w,b,I,D,k,A)=>{m.slotScopeIds=k,f==null?m.shapeFlag&512?b.ctx.activate(m,x,w,D,A):zi(m,x,w,b,I,D,A):Wt(f,m,A)},zi=(f,m,x,w,b,I,D)=>{const k=f.component=e0(f,w,b);if(If(f)&&(k.ctx.renderer=At),n0(k),k.asyncDep){if(b&&b.registerDep(k,wt),!f.el){const A=k.subTree=qt(Zn);P(null,A,m,x)}return}wt(k,f,m,x,b,I,D)},Wt=(f,m,x)=>{const w=m.component=f.component;if(h1(f,m,x))if(w.asyncDep&&!w.asyncResolved){gt(w,m,x);return}else w.next=m,l1(w.update),w.update();else m.component=f.component,m.el=f.el,w.vnode=m},wt=(f,m,x,w,b,I,D)=>{const k=()=>{if(f.isMounted){let{next:W,bu:L,u:j,parent:G,vnode:st}=f,Dt=W,xt;si(f,!1),W?(W.el=st.el,gt(f,W,D)):W=st,L&&Bs(L),(xt=W.props&&W.props.onVnodeBeforeUpdate)&&Te(xt,G,W,st),si(f,!0);const Ot=Hs(f),ze=f.subTree;f.subTree=Ot,g(ze,Ot,p(ze.el),B(ze),f,b,I),W.el=Ot.el,Dt===null&&m1(f,Ot.el),j&&le(j,b),(xt=W.props&&W.props.onVnodeUpdated)&&le(()=>Te(xt,G,W,st),b)}else{let W;const{el:L,props:j}=m,{bm:G,m:st,parent:Dt}=f,xt=co(m);if(si(f,!1),G&&Bs(G),!xt&&(W=j&&j.onVnodeBeforeMount)&&Te(W,Dt,m),si(f,!0),L&&at){const Ot=()=>{f.subTree=Hs(f),at(L,f.subTree,f,b,null)};xt?m.type.__asyncLoader().then(()=>!f.isUnmounted&&Ot()):Ot()}else{const Ot=f.subTree=Hs(f);g(null,Ot,x,w,f,b,I),m.el=Ot.el}if(st&&le(st,b),!xt&&(W=j&&j.onVnodeMounted)){const Ot=m;le(()=>Te(W,Dt,Ot),b)}m.shapeFlag&256&&f.a&&le(f.a,b),f.isMounted=!0,m=x=w=null}},A=f.effect=new fc(k,()=>yf(f.update),f.scope),S=f.update=A.run.bind(A);S.id=f.uid,si(f,!0),S()},gt=(f,m,x)=>{m.component=f;const w=f.vnode.props;f.vnode=m,f.next=null,M1(f,m.props,w,x),z1(f,m.children,x),gr(),Rc(void 0,f.update),Pi()},Se=(f,m,x,w,b,I,D,k,A=!1)=>{const S=f&&f.children,W=f?f.shapeFlag:0,L=m.children,{patchFlag:j,shapeFlag:G}=m;if(j>0){if(j&128){_n(S,L,x,w,b,I,D,k,A);return}else if(j&256){Yi(S,L,x,w,b,I,D,k,A);return}}G&8?(W&16&&N(S,b,I),L!==S&&d(x,L)):W&16?G&16?_n(S,L,x,w,b,I,D,k,A):N(S,b,I,!0):(W&8&&d(x,""),G&16&&it(L,x,w,b,I,D,k,A))},Yi=(f,m,x,w,b,I,D,k,A)=>{f=f||Zi,m=m||Zi;const S=f.length,W=m.length,L=Math.min(S,W);let j;for(j=0;j<L;j++){const G=m[j]=A?Fn(m[j]):$e(m[j]);g(f[j],G,x,null,b,I,D,k,A)}S>W?N(f,b,I,!0,!1,L):it(m,x,w,b,I,D,k,A,L)},_n=(f,m,x,w,b,I,D,k,A)=>{let S=0;const W=m.length;let L=f.length-1,j=W-1;for(;S<=L&&S<=j;){const G=f[S],st=m[S]=A?Fn(m[S]):$e(m[S]);if(Or(G,st))g(G,st,x,null,b,I,D,k,A);else break;S++}for(;S<=L&&S<=j;){const G=f[L],st=m[j]=A?Fn(m[j]):$e(m[j]);if(Or(G,st))g(G,st,x,null,b,I,D,k,A);else break;L--,j--}if(S>L){if(S<=j){const G=j+1,st=G<W?m[G].el:w;for(;S<=j;)g(null,m[S]=A?Fn(m[S]):$e(m[S]),x,st,b,I,D,k,A),S++}}else if(S>j)for(;S<=L;)Re(f[S],b,I,!0),S++;else{const G=S,st=S,Dt=new Map;for(S=st;S<=j;S++){const me=m[S]=A?Fn(m[S]):$e(m[S]);me.key!=null&&Dt.set(me.key,S)}let xt,Ot=0;const ze=j-st+1;let $i=!1,Bd=0;const Ir=new Array(ze);for(S=0;S<ze;S++)Ir[S]=0;for(S=G;S<=L;S++){const me=f[S];if(Ot>=ze){Re(me,b,I,!0);continue}let Xe;if(me.key!=null)Xe=Dt.get(me.key);else for(xt=st;xt<=j;xt++)if(Ir[xt-st]===0&&Or(me,m[xt])){Xe=xt;break}Xe===void 0?Re(me,b,I,!0):(Ir[Xe-st]=S+1,Xe>=Bd?Bd=Xe:$i=!0,g(me,m[Xe],x,null,b,I,D,k,A),Ot++)}const Hd=$i?B1(Ir):Zi;for(xt=Hd.length-1,S=ze-1;S>=0;S--){const me=st+S,Xe=m[me],Vd=me+1<W?m[me+1].el:w;Ir[S]===0?g(null,Xe,x,Vd,b,I,D,k,A):$i&&(xt<0||S!==Hd[xt]?Ze(Xe,x,Vd,2):xt--)}}},Ze=(f,m,x,w,b=null)=>{const{el:I,type:D,transition:k,children:A,shapeFlag:S}=f;if(S&6){Ze(f.component.subTree,m,x,w);return}if(S&128){f.suspense.move(m,x,w);return}if(S&64){D.move(f,m,x,At);return}if(D===_e){i(I,m,x);for(let L=0;L<A.length;L++)Ze(A[L],m,x,w);i(f.anchor,m,x);return}if(D===Xa){Y(f,m,x);return}if(w!==2&&S&1&&k)if(w===0)k.beforeEnter(I),i(I,m,x),le(()=>k.enter(I),b);else{const{leave:L,delayLeave:j,afterLeave:G}=k,st=()=>i(I,m,x),Dt=()=>{L(I,()=>{st(),G&&G()})};j?j(I,st,Dt):Dt()}else i(I,m,x)},Re=(f,m,x,w=!1,b=!1)=>{const{type:I,props:D,ref:k,children:A,dynamicChildren:S,shapeFlag:W,patchFlag:L,dirs:j}=f;if(k!=null&&uo(k,null,x,f,!0),W&256){m.ctx.deactivate(f);return}const G=W&1&&j,st=!co(f);let Dt;if(st&&(Dt=D&&D.onVnodeBeforeUnmount)&&Te(Dt,m,f),W&6)z(f.component,x,w);else{if(W&128){f.suspense.unmount(x,w);return}G&&tn(f,null,m,"beforeUnmount"),W&64?f.type.remove(f,m,x,b,At,w):S&&(I!==_e||L>0&&L&64)?N(S,m,x,!1,!0):(I===_e&&L&384||!b&&W&16)&&N(A,m,x),w&&js(f)}(st&&(Dt=D&&D.onVnodeUnmounted)||G)&&le(()=>{Dt&&Te(Dt,m,f),G&&tn(f,null,m,"unmounted")},x)},js=f=>{const{type:m,el:x,anchor:w,transition:b}=f;if(m===_e){y(x,w);return}if(m===Xa){V(f);return}const I=()=>{r(x),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(f.shapeFlag&1&&b&&!b.persisted){const{leave:D,delayLeave:k}=b,A=()=>D(x,I);k?k(f.el,I,A):A()}else I()},y=(f,m)=>{let x;for(;f!==m;)x=u(f),r(f),f=x;r(m)},z=(f,m,x)=>{const{bum:w,scope:b,update:I,subTree:D,um:k}=f;w&&Bs(w),b.stop(),I&&(I.active=!1,Re(D,f,m,x)),k&&le(k,m),le(()=>{f.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},N=(f,m,x,w=!1,b=!1,I=0)=>{for(let D=I;D<f.length;D++)Re(f[D],m,x,w,b)},B=f=>f.shapeFlag&6?B(f.component.subTree):f.shapeFlag&128?f.suspense.next():u(f.anchor||f.el),It=(f,m,x)=>{f==null?m._vnode&&Re(m._vnode,null,null,!0):g(m._vnode||null,f,m,null,null,null,x),so(),m._vnode=f},At={p:g,um:Re,m:Ze,r:js,mt:zi,mc:it,pc:Se,pbc:Yt,n:B,o:e};let rt,at;return t&&([rt,at]=t(At)),{render:It,hydrate:rt,createApp:$1(It,rt)}}function si({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function jf(e,t,n=!1){const i=e.children,r=t.children;if(ct(i)&&ct(r))for(let a=0;a<i.length;a++){const o=i[a];let s=r[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[a]=Fn(r[a]),s.el=o.el),n||jf(o,s))}}function B1(e){const t=e.slice(),n=[0];let i,r,a,o,s;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(r=n[n.length-1],e[r]<c){t[i]=r,n.push(i);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[i]=n[a-1]),n[a]=i)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}const H1=e=>e.__isTeleport,Uf="components";function or(e,t){return G1(Uf,e,!0,t)||e}const V1=Symbol();function G1(e,t,n=!0,i=!1){const r=je||Zt;if(r){const a=r.type;if(e===Uf){const s=o0(a);if(s&&(s===t||s===ln(t)||s===Cc(ln(t))))return a}const o=cp(r[e]||a[e],t)||cp(r.appContext[e],t);return!o&&i?a:o}}function cp(e,t){return e&&(e[t]||e[ln(t)]||e[Cc(ln(t))])}const _e=Symbol(void 0),ia=Symbol(void 0),Zn=Symbol(void 0),Xa=Symbol(void 0),Gr=[];let bi=null;function ut(e=!1){Gr.push(bi=e?null:[])}function K1(){Gr.pop(),bi=Gr[Gr.length-1]||null}let fo=1;function dp(e){fo+=e}function Bf(e){return e.dynamicChildren=fo>0?bi||Zi:null,K1(),fo>0&&bi&&bi.push(e),e}function St(e,t,n,i,r,a){return Bf(E(e,t,n,i,r,a,!0))}function ra(e,t,n,i,r){return Bf(qt(e,t,n,i,r,!0))}function Sl(e){return e?e.__v_isVNode===!0:!1}function Or(e,t){return e.type===t.type&&e.key===t.key}const ts="__vInternal",Hf=({key:e})=>e!=null?e:null,to=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ne(e)||oe(e)||nt(e)?{i:je,r:e,k:t,f:!!n}:e:null;function E(e,t=null,n=null,i=0,r=null,a=e===_e?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Hf(t),ref:t&&to(t),scopeId:Zo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return s?(Ac(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=Ne(n)?8:16),fo>0&&!o&&bi&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&bi.push(l),l}const qt=q1;function q1(e,t=null,n=null,i=0,r=null,a=!1){if((!e||e===V1)&&(e=Zn),Sl(e)){const s=aa(e,t,!0);return n&&Ac(s,n),s}if(s0(e)&&(e=e.__vccOpts),t){t=Q1(t);let{class:s,style:l}=t;s&&!Ne(s)&&(t.class=yc(s)),se(l)&&(af(l)&&!ct(l)&&(l=ye({},l)),t.style=nn(l))}const o=Ne(e)?1:_1(e)?128:H1(e)?64:se(e)?4:nt(e)?2:0;return E(e,t,n,i,r,o,a,!0)}function Q1(e){return e?af(e)||ts in e?ye({},e):e:null}function aa(e,t,n=!1){const{props:i,ref:r,patchFlag:a,children:o}=e,s=t?J1(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Hf(s),ref:t&&t.ref?n&&r?ct(r)?r.concat(to(t)):[r,to(t)]:to(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_e?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&aa(e.ssContent),ssFallback:e.ssFallback&&aa(e.ssFallback),el:e.el,anchor:e.anchor}}function Rn(e=" ",t=0){return qt(ia,null,e,t)}function ho(e="",t=!1){return t?(ut(),ra(Zn,null,e)):qt(Zn,null,e)}function $e(e){return e==null||typeof e=="boolean"?qt(Zn):ct(e)?qt(_e,null,e.slice()):typeof e=="object"?Fn(e):qt(ia,null,String(e))}function Fn(e){return e.el===null||e.memo?e:aa(e)}function Ac(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ct(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Ac(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(ts in t)?t._ctx=je:r===3&&je&&(je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else nt(t)?(t={default:t,_ctx:je},n=32):(t=String(t),i&64?(n=16,t=[Rn(t)]):n=8);e.children=t,e.shapeFlag|=n}function J1(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=yc([t.class,i.class]));else if(r==="style")t.style=nn([t.style,i.style]);else if(Ko(r)){const a=t[r],o=i[r];a!==o&&!(ct(a)&&a.includes(o))&&(t[r]=a?[].concat(a,o):o)}else r!==""&&(t[r]=i[r])}return t}function Te(e,t,n,i=null){He(e,t,7,[n,i])}function Vf(e,t,n,i){let r;const a=n&&n[i];if(ct(e)||Ne(e)){r=new Array(e.length);for(let o=0,s=e.length;o<s;o++)r[o]=t(e[o],o,void 0,a&&a[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,a&&a[o])}else if(se(e))if(e[Symbol.iterator])r=Array.from(e,(o,s)=>t(o,s,void 0,a&&a[s]));else{const o=Object.keys(e);r=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const c=o[s];r[s]=t(e[c],c,s,a&&a[s])}}else r=[];return n&&(n[i]=r),r}const Rl=e=>e?Gf(e)?Oc(e)||e.proxy:Rl(e.parent):null,mo=ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Rl(e.parent),$root:e=>Rl(e.root),$emit:e=>e.emit,$options:e=>Df(e),$forceUpdate:e=>()=>yf(e.update),$nextTick:e=>bf.bind(e.proxy),$watch:e=>g1.bind(e)}),Z1={get({_:e},t){const{ctx:n,setupState:i,data:r,props:a,accessCache:o,type:s,appContext:l}=e;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return a[t]}else{if(i!==bt&&mt(i,t))return o[t]=1,i[t];if(r!==bt&&mt(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&mt(c,t))return o[t]=3,a[t];if(n!==bt&&mt(n,t))return o[t]=4,n[t];wl&&(o[t]=0)}}const d=mo[t];let p,u;if(d)return t==="$attrs"&&be(e,"get",t),d(e);if((p=s.__cssModules)&&(p=p[t]))return p;if(n!==bt&&mt(n,t))return o[t]=4,n[t];if(u=l.config.globalProperties,mt(u,t))return u[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:a}=e;if(r!==bt&&mt(r,t))r[t]=n;else if(i!==bt&&mt(i,t))i[t]=n;else if(mt(e.props,t))return!1;return t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:a}},o){let s;return!!n[o]||e!==bt&&mt(e,o)||t!==bt&&mt(t,o)||(s=a[0])&&mt(s,o)||mt(i,o)||mt(mo,o)||mt(r.config.globalProperties,o)}},X1=$f();let t0=0;function e0(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||X1,a={uid:t0++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new _g(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ff(i,r),emitsOptions:Sf(i,r),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:i.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=p1.bind(null,a),e.ce&&e.ce(a),a}let Zt=null;const sr=e=>{Zt=e,e.scope.on()},yi=()=>{Zt&&Zt.scope.off(),Zt=null};function Gf(e){return e.vnode.shapeFlag&4}let oa=!1;function n0(e,t=!1){oa=t;const{props:n,children:i}=e.vnode,r=Gf(e);D1(e,n,r,t),L1(e,i);const a=r?i0(e,t):void 0;return oa=!1,a}function i0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=of(new Proxy(e.ctx,Z1));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?a0(e):null;sr(e),gr();const a=Un(i,e,0,[e.props,r]);if(Pi(),yi(),_f(a)){if(a.then(yi,yi),t)return a.then(o=>{pp(e,o,t)}).catch(o=>{Jo(o,e,0)});e.asyncDep=a}else pp(e,a,t)}else Kf(e,t)}function pp(e,t,n){nt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:se(t)&&(e.setupState=df(t)),Kf(e,n)}let up;function Kf(e,t,n){const i=e.type;if(!e.render){if(!t&&up&&!i.render){const r=i.template;if(r){const{isCustomElement:a,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:l}=i,c=ye(ye({isCustomElement:a,delimiters:s},o),l);i.render=up(r,c)}}e.render=i.render||rn}sr(e),gr(),I1(e),Pi(),yi()}function r0(e){return new Proxy(e.attrs,{get(t,n){return be(e,"get","$attrs"),t[n]}})}function a0(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=r0(e))},slots:e.slots,emit:e.emit,expose:t}}function Oc(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(df(of(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in mo)return mo[n](e)}}))}function o0(e){return nt(e)&&e.displayName||e.name}function s0(e){return nt(e)&&"__vccOpts"in e}const We=(e,t)=>pf(e,t,oa);function qf(e,t,n){const i=arguments.length;return i===2?se(t)&&!ct(t)?Sl(t)?qt(e,null,[t]):qt(e,t):qt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Sl(n)&&(n=[n]),qt(e,t,n))}const l0="3.2.27";function c0(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const d0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",p0=c0(d0);function Qf(e){return!!e||e===""}const u0=/^on[^a-z]/,f0=e=>u0.test(e),h0=e=>e.startsWith("onUpdate:"),m0=Object.assign,Pc=Array.isArray,Jf=e=>typeof e=="function",_o=e=>typeof e=="string",Zf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_0=/\B([A-Z])/g,Xf=Zf(e=>e.replace(_0,"-$1").toLowerCase()),g0=Zf(e=>e.charAt(0).toUpperCase()+e.slice(1)),x0=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},fp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},v0="http://www.w3.org/2000/svg",hi=typeof document!="undefined"?document:null,hp=hi&&hi.createElement("template"),b0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?hi.createElementNS(v0,e):hi.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>hi.createTextNode(e),createComment:e=>hi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>hi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,r,a){const o=n?n.previousSibling:t.lastChild;if(r&&a)for(;t.insertBefore(r.cloneNode(!0),n),!(r===a||!(r=r.nextSibling)););else{hp.innerHTML=i?`<svg>${e}</svg>`:e;const s=hp.content;if(i){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function y0(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function w0(e,t,n){const i=e.style,r=_o(n);if(n&&!r){for(const a in n)Tl(i,a,n[a]);if(t&&!_o(t))for(const a in t)n[a]==null&&Tl(i,a,"")}else{const a=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=a)}}const mp=/\s*!important$/;function Tl(e,t,n){if(Pc(n))n.forEach(i=>Tl(e,t,i));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=E0(e,t);mp.test(n)?e.setProperty(Xf(i),n.replace(mp,""),"important"):e[i]=n}}const _p=["Webkit","Moz","ms"],Gs={};function E0(e,t){const n=Gs[t];if(n)return n;let i=ln(t);if(i!=="filter"&&i in e)return Gs[t]=i;i=g0(i);for(let r=0;r<_p.length;r++){const a=_p[r]+i;if(a in e)return Gs[t]=a}return t}const gp="http://www.w3.org/1999/xlink";function C0(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(gp,t.slice(6,t.length)):e.setAttributeNS(gp,t,n);else{const a=p0(t);n==null||a&&!Qf(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function S0(e,t,n,i,r,a,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,a),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const s=n==null?"":n;(e.value!==s||e.tagName==="OPTION")&&(e.value=s),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const s=typeof e[t];if(s==="boolean"){e[t]=Qf(n);return}else if(n==null&&s==="string"){e[t]="",e.removeAttribute(t);return}else if(s==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=n}catch{}}let go=Date.now,th=!1;if(typeof window!="undefined"){go()>document.createEvent("Event").timeStamp&&(go=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);th=!!(e&&Number(e[1])<=53)}let kl=0;const R0=Promise.resolve(),T0=()=>{kl=0},k0=()=>kl||(R0.then(T0),kl=go());function Gi(e,t,n,i){e.addEventListener(t,n,i)}function I0(e,t,n,i){e.removeEventListener(t,n,i)}function A0(e,t,n,i,r=null){const a=e._vei||(e._vei={}),o=a[t];if(i&&o)o.value=i;else{const[s,l]=O0(t);if(i){const c=a[t]=P0(i,r);Gi(e,s,c,l)}else o&&(I0(e,s,o,l),a[t]=void 0)}}const xp=/(?:Once|Passive|Capture)$/;function O0(e){let t;if(xp.test(e)){t={};let n;for(;n=e.match(xp);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Xf(e.slice(2)),t]}function P0(e,t){const n=i=>{const r=i.timeStamp||go();(th||r>=n.attached-1)&&He(N0(i,n.value),t,5,[i])};return n.value=e,n.attached=k0(),n}function N0(e,t){if(Pc(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i(r))}else return t}const vp=/^on[a-z]/,D0=(e,t,n,i,r=!1,a,o,s,l)=>{t==="class"?y0(e,i,r):t==="style"?w0(e,n,i):f0(t)?h0(t)||A0(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):M0(e,t,i,r))?S0(e,t,i,a,o,s,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),C0(e,t,i,r))};function M0(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&vp.test(t)&&Jf(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||vp.test(t)&&_o(n)?!1:t in e}const bp=e=>{const t=e.props["onUpdate:modelValue"];return Pc(t)?n=>x0(t,n):t};function F0(e){e.target.composing=!0}function yp(e){const t=e.target;t.composing&&(t.composing=!1,L0(t,"input"))}function L0(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const es={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=bp(r);const a=i||r.props&&r.props.type==="number";Gi(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n?s=s.trim():a&&(s=fp(s)),e._assign(s)}),n&&Gi(e,"change",()=>{e.value=e.value.trim()}),t||(Gi(e,"compositionstart",F0),Gi(e,"compositionend",yp),Gi(e,"change",yp))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},a){if(e._assign=bp(a),e.composing||document.activeElement===e&&(n||i&&e.value.trim()===t||(r||e.type==="number")&&fp(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},xo={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Pr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Pr(e,!0),i.enter(e)):i.leave(e,()=>{Pr(e,!1)}):Pr(e,t))},beforeUnmount(e,{value:t}){Pr(e,t)}};function Pr(e,t){e.style.display=t?e._vod:"none"}const eh=m0({patchProp:D0},b0);let Kr,wp=!1;function z0(){return Kr||(Kr=j1(eh))}function Y0(){return Kr=wp?Kr:U1(eh),wp=!0,Kr}const $0=(...e)=>{const t=z0().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=nh(i);if(!r)return;const a=t._component;!Jf(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},W0=(...e)=>{const t=Y0().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=nh(i);if(r)return n(r,!0,r instanceof SVGElement)},t};function nh(e){return _o(e)?document.querySelector(e):e}/*!
  * vue-router v4.0.6
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const ih=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",xr=e=>ih?Symbol(e):"_vr_"+e,j0=xr("rvlm"),Ep=xr("rvd"),ns=xr("r"),rh=xr("rl"),Il=xr("rvl"),Ki=typeof window!="undefined";function U0(e){return e.__esModule||ih&&e[Symbol.toStringTag]==="Module"}const Et=Object.assign;function Ks(e,t){const n={};for(const i in t){const r=t[i];n[i]=Array.isArray(r)?r.map(e):e(r)}return n}let eo=()=>{};const B0=/\/$/,H0=e=>e.replace(B0,"");function qs(e,t,n="/"){let i,r={},a="",o="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(i=t.slice(0,s),a=t.slice(s+1,l>-1?l:t.length),r=e(a)),l>-1&&(i=i||t.slice(0,l),o=t.slice(l,t.length)),i=q0(i!=null?i:t,n),{fullPath:i+(a&&"?")+a+o,path:i,query:r,hash:o}}function V0(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Cp(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function G0(e,t,n){let i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&lr(t.matched[i],n.matched[r])&&ah(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function lr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ah(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!K0(e[n],t[n]))return!1;return!0}function K0(e,t){return Array.isArray(e)?Sp(e,t):Array.isArray(t)?Sp(t,e):e===t}function Sp(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function q0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r=n.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var vo;(function(e){e.pop="pop",e.push="push"})(vo||(vo={}));var wi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(wi||(wi={}));const Rp="";function Q0(e){if(!e)if(Ki){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),H0(e)}const J0=/^[^#]+#/;function oh(e,t){return e.replace(J0,"#")+t}function Z0(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const is=()=>({left:window.pageXOffset,top:window.pageYOffset});function X0(e){let t;if("el"in e){let n=e.el;const i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Z0(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Tp(e,t){return(history.state?history.state.position-t:-1)+e}const Al=new Map;function tx(e,t){Al.set(e,t)}function ex(e){const t=Al.get(e);return Al.delete(e),t}let nx=()=>location.protocol+"//"+location.host;function sh(e,t){const{pathname:n,search:i,hash:r}=t;if(e.indexOf("#")>-1){let s=r.slice(1);return s[0]!=="/"&&(s="/"+s),Cp(s,"")}return Cp(n,e)+i+r}function ix(e,t,n,i){let r=[],a=[],o=null;const s=({state:u})=>{const h=sh(e,location),_=n.value,O=t.value;let g=0;if(u){if(n.value=h,t.value=u,o&&o===_){o=null;return}g=O?u.position-O.position:0}else i(h);r.forEach(v=>{v(n.value,_,{delta:g,type:vo.pop,direction:g?g>0?wi.forward:wi.back:wi.unknown})})};function l(){o=n.value}function c(u){r.push(u);const h=()=>{const _=r.indexOf(u);_>-1&&r.splice(_,1)};return a.push(h),h}function d(){const{history:u}=window;!u.state||u.replaceState(Et({},u.state,{scroll:is()}),"")}function p(){for(const u of a)u();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",d),{pauseListeners:l,listen:c,destroy:p}}function kp(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?is():null}}function rx(e){const{history:t,location:n}=window;let i={value:sh(e,n)},r={value:t.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,c,d){const p=e.indexOf("#"),u=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+l:nx()+e+l;try{t[d?"replaceState":"pushState"](c,"",u),r.value=c}catch(h){console.error(h),n[d?"replace":"assign"](u)}}function o(l,c){const d=Et({},t.state,kp(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});a(l,d,!0),i.value=l}function s(l,c){const d=Et({},r.value,t.state,{forward:l,scroll:is()});a(d.current,d,!0);const p=Et({},kp(i.value,l,null),{position:d.position+1},c);a(l,p,!1),i.value=l}return{location:i,state:r,push:s,replace:o}}function ax(e){e=Q0(e);const t=rx(e),n=ix(e,t.state,t.location,t.replace);function i(a,o=!0){o||n.pauseListeners(),history.go(a)}const r=Et({location:"",base:e,go:i,createHref:oh.bind(null,e)},t,n);return Object.defineProperty(r,"location",{get:()=>t.location.value}),Object.defineProperty(r,"state",{get:()=>t.state.value}),r}function ox(e=""){let t=[],n=[Rp],i=0;function r(s){i++,i===n.length||n.splice(i),n.push(s)}function a(s,l,{direction:c,delta:d}){const p={direction:c,delta:d,type:vo.pop};for(let u of t)u(s,l,p)}const o={location:Rp,state:{},base:e,createHref:oh.bind(null,e),replace(s){n.splice(i--,1),r(s)},push(s,l){r(s)},listen(s){return t.push(s),()=>{const l=t.indexOf(s);l>-1&&t.splice(l,1)}},destroy(){t=[]},go(s,l=!0){const c=this.location,d=s<0?wi.back:wi.forward;i=Math.max(0,Math.min(i+s,n.length-1)),l&&a(this.location,c,{direction:d,delta:s})}};return Object.defineProperty(o,"location",{get:()=>n[i]}),o}function sx(e){return typeof e=="string"||e&&typeof e=="object"}function lh(e){return typeof e=="string"||typeof e=="symbol"}const li={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ch=xr("nf");var Ip;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ip||(Ip={}));function cr(e,t){return Et(new Error,{type:e,[ch]:!0},t)}function Nr(e,t){return e instanceof Error&&ch in e&&(t==null||!!(e.type&t))}const Ap="[^/]+?",lx={sensitive:!1,strict:!1,start:!0,end:!0},cx=/[.+*?^${}()[\]/\\]/g;function dx(e,t){const n=Et({},lx,t);let i=[],r=n.start?"^":"";const a=[];for(const c of e){const d=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let p=0;p<c.length;p++){const u=c[p];let h=40+(n.sensitive?.25:0);if(u.type===0)p||(r+="/"),r+=u.value.replace(cx,"\\$&"),h+=40;else if(u.type===1){const{value:_,repeatable:O,optional:g,regexp:v}=u;a.push({name:_,repeatable:O,optional:g});const P=v||Ap;if(P!==Ap){h+=10;try{new RegExp(`(${P})`)}catch(Y){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+Y.message)}}let F=O?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;p||(F=g&&c.length<2?`(?:/${F})`:"/"+F),g&&(F+="?"),r+=F,h+=20,g&&(h+=-8),O&&(h+=-20),P===".*"&&(h+=-50)}d.push(h)}i.push(d)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function s(c){const d=c.match(o),p={};if(!d)return null;for(let u=1;u<d.length;u++){const h=d[u]||"",_=a[u-1];p[_.name]=h&&_.repeatable?h.split("/"):h}return p}function l(c){let d="",p=!1;for(const u of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const h of u)if(h.type===0)d+=h.value;else if(h.type===1){const{value:_,repeatable:O,optional:g}=h,v=_ in c?c[_]:"";if(Array.isArray(v)&&!O)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=Array.isArray(v)?v.join("/"):v;if(!P)if(g)u.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${_}"`);d+=P}}return d}return{re:o,score:i,keys:a,parse:s,stringify:l}}function px(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function ux(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const a=px(i[n],r[n]);if(a)return a;n++}return r.length-i.length}const fx={type:0,value:""},hx=/[a-zA-Z0-9_]/;function mx(e){if(!e)return[[]];if(e==="/")return[[fx]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,i=n;const r=[];let a;function o(){a&&r.push(a),a=[]}let s=0,l,c="",d="";function p(){!c||(n===0?a.push({type:0,value:c}):n===1||n===2||n===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function u(){c+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&p(),o()):l===":"?(p(),n=1):u();break;case 4:u(),n=i;break;case 1:l==="("?n=2:hx.test(l)?u():(p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),p(),o(),r}function _x(e,t,n){const i=dx(mx(e.path),n),r=Et(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function gx(e,t){const n=[],i=new Map;t=Pp({strict:!1,end:!0,sensitive:!1},t);function r(d){return i.get(d)}function a(d,p,u){let h=!u,_=vx(d);_.aliasOf=u&&u.record;const O=Pp(t,d),g=[_];if("alias"in d){const F=typeof d.alias=="string"?[d.alias]:d.alias;for(const Y of F)g.push(Et({},_,{components:u?u.record.components:_.components,path:Y,aliasOf:u?u.record:_}))}let v,P;for(const F of g){let{path:Y}=F;if(p&&Y[0]!=="/"){let V=p.record.path,Q=V[V.length-1]==="/"?"":"/";F.path=p.record.path+(Y&&Q+Y)}if(v=_x(F,p,O),u?u.alias.push(v):(P=P||v,P!==v&&P.alias.push(v),h&&d.name&&!Op(v)&&o(d.name)),"children"in _){let V=_.children;for(let Q=0;Q<V.length;Q++)a(V[Q],v,u&&u.children[Q])}u=u||v,l(v)}return P?()=>{o(P)}:eo}function o(d){if(lh(d)){const p=i.get(d);p&&(i.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{let p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function s(){return n}function l(d){let p=0;for(;p<n.length&&ux(d,n[p])>=0;)p++;n.splice(p,0,d),d.record.name&&!Op(d)&&i.set(d.record.name,d)}function c(d,p){let u,h={},_,O;if("name"in d&&d.name){if(u=i.get(d.name),!u)throw cr(1,{location:d});O=u.record.name,h=Et(xx(p.params,u.keys.filter(P=>!P.optional).map(P=>P.name)),d.params),_=u.stringify(h)}else if("path"in d)_=d.path,u=n.find(P=>P.re.test(_)),u&&(h=u.parse(_),O=u.record.name);else{if(u=p.name?i.get(p.name):n.find(P=>P.re.test(p.path)),!u)throw cr(1,{location:d,currentLocation:p});O=u.record.name,h=Et({},p.params,d.params),_=u.stringify(h)}const g=[];let v=u;for(;v;)g.unshift(v.record),v=v.parent;return{name:O,path:_,params:h,matched:g,meta:yx(g)}}return e.forEach(d=>a(d)),{addRoute:a,resolve:c,removeRoute:o,getRoutes:s,getRecordMatcher:r}}function xx(e,t){let n={};for(let i of t)i in e&&(n[i]=e[i]);return n}function vx(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:bx(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function bx(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function Op(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function yx(e){return e.reduce((t,n)=>Et(t,n.meta),{})}function Pp(e,t){let n={};for(let i in e)n[i]=i in t?t[i]:e[i];return n}const dh=/#/g,wx=/&/g,Ex=/\//g,Cx=/=/g,Sx=/\?/g,ph=/\+/g,Rx=/%5B/g,Tx=/%5D/g,uh=/%5E/g,kx=/%60/g,fh=/%7B/g,Ix=/%7C/g,hh=/%7D/g,Ax=/%20/g;function Nc(e){return encodeURI(""+e).replace(Ix,"|").replace(Rx,"[").replace(Tx,"]")}function Ox(e){return Nc(e).replace(fh,"{").replace(hh,"}").replace(uh,"^")}function Ol(e){return Nc(e).replace(ph,"%2B").replace(Ax,"+").replace(dh,"%23").replace(wx,"%26").replace(kx,"`").replace(fh,"{").replace(hh,"}").replace(uh,"^")}function Px(e){return Ol(e).replace(Cx,"%3D")}function Nx(e){return Nc(e).replace(dh,"%23").replace(Sx,"%3F")}function Dx(e){return Nx(e).replace(Ex,"%2F")}function bo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Mx(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const a=i[r].replace(ph," ");let o=a.indexOf("="),s=bo(o<0?a:a.slice(0,o)),l=o<0?null:bo(a.slice(o+1));if(s in t){let c=t[s];Array.isArray(c)||(c=t[s]=[c]),c.push(l)}else t[s]=l}return t}function Np(e){let t="";for(let n in e){t.length&&(t+="&");const i=e[n];if(n=Px(n),i==null){i!==void 0&&(t+=n);continue}let r=Array.isArray(i)?i.map(a=>a&&Ol(a)):[i&&Ol(i)];for(let a=0;a<r.length;a++)t+=(a?"&":"")+n,r[a]!=null&&(t+="="+r[a])}return t}function Fx(e){const t={};for(let n in e){let i=e[n];i!==void 0&&(t[n]=Array.isArray(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}function Dr(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ln(e,t,n,i,r){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,s)=>{const l=p=>{p===!1?s(cr(4,{from:n,to:t})):p instanceof Error?s(p):sx(p)?s(cr(2,{from:t,to:p})):(a&&i.enterCallbacks[r]===a&&typeof p=="function"&&a.push(p),o())},c=e.call(i&&i.instances[r],t,n,l);let d=Promise.resolve(c);e.length<3&&(d=d.then(l)),d.catch(p=>s(p))})}function Qs(e,t,n,i){const r=[];for(const a of e)for(const o in a.components){let s=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(Lx(s)){const c=(s.__vccOpts||s)[t];c&&r.push(Ln(c,n,i,a,o))}else{let l=s();l=l.catch(console.error),r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${a.path}"`));const d=U0(c)?c.default:c;a.components[o]=d;const u=(d.__vccOpts||d)[t];return u&&Ln(u,n,i,a,o)()}))}}return r}function Lx(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zx(e){const t=an(ns),n=an(rh),i=We(()=>t.resolve(Ur(e.to))),r=We(()=>{let{matched:l}=i.value,{length:c}=l;const d=l[c-1];let p=n.matched;if(!d||!p.length)return-1;let u=p.findIndex(lr.bind(null,d));if(u>-1)return u;let h=Dp(l[c-2]);return c>1&&Dp(d)===h&&p[p.length-1].path!==h?p.findIndex(lr.bind(null,l[c-2])):u}),a=We(()=>r.value>-1&&jx(n.params,i.value.params)),o=We(()=>r.value>-1&&r.value===n.matched.length-1&&ah(n.params,i.value.params));function s(l={}){return Wx(l)?t[Ur(e.replace)?"replace":"push"](Ur(e.to)):Promise.resolve()}return{route:i,href:We(()=>i.value.href),isActive:a,isExactActive:o,navigate:s}}const Yx=kc({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t}){const n=sn(zx(e)),{options:i}=an(ns),r=We(()=>({[Mp(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Mp(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&t.default(n);return e.custom?a:qf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},a)}}}),$x=Yx;function Wx(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function jx(e,t){for(let n in t){let i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Array.isArray(r)||r.length!==i.length||i.some((a,o)=>a!==r[o]))return!1}return!0}function Dp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Mp=(e,t,n)=>e!=null?e:t!=null?t:n,Ux=kc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const i=an(Il),r=We(()=>e.route||i.value),a=an(Ep,0),o=We(()=>r.value.matched[a]);Za(Ep,a+1),Za(j0,o),Za(Il,r);const s=Xt();return Xi(()=>[s.value,o.value,e.name],([l,c,d],[p,u,h])=>{c&&(c.instances[d]=l,u&&u!==c&&l&&l===p&&(c.leaveGuards.size||(c.leaveGuards=u.leaveGuards),c.updateGuards.size||(c.updateGuards=u.updateGuards))),l&&c&&(!u||!lr(c,u)||!p)&&(c.enterCallbacks[d]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=r.value,c=o.value,d=c&&c.components[e.name],p=e.name;if(!d)return Fp(n.default,{Component:d,route:l});const u=c.props[e.name],h=u?u===!0?l.params:typeof u=="function"?u(l):u:null,O=qf(d,Et({},h,t,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(c.instances[p]=null)},ref:s}));return Fp(n.default,{Component:O,route:l})||O}}});function Fp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Bx=Ux;function Hx(e){const t=gx(e.routes,e);let n=e.parseQuery||Mx,i=e.stringifyQuery||Np,r=e.history;const a=Dr(),o=Dr(),s=Dr(),l=Hg(li);let c=li;Ki&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Ks.bind(null,y=>""+y),p=Ks.bind(null,Dx),u=Ks.bind(null,bo);function h(y,z){let N,B;return lh(y)?(N=t.getRecordMatcher(y),B=z):B=y,t.addRoute(B,N)}function _(y){let z=t.getRecordMatcher(y);z&&t.removeRoute(z)}function O(){return t.getRoutes().map(y=>y.record)}function g(y){return!!t.getRecordMatcher(y)}function v(y,z){if(z=Et({},z||l.value),typeof y=="string"){let at=qs(n,y,z.path),f=t.resolve({path:at.path},z),m=r.createHref(at.fullPath);return Et(at,f,{params:u(f.params),hash:bo(at.hash),redirectedFrom:void 0,href:m})}let N;"path"in y?N=Et({},y,{path:qs(n,y.path,z.path).path}):(N=Et({},y,{params:p(y.params)}),z.params=p(z.params));let B=t.resolve(N,z);const It=y.hash||"";B.params=d(u(B.params));const At=V0(i,Et({},y,{hash:Ox(It),path:B.path}));let rt=r.createHref(At);return Et({fullPath:At,hash:It,query:i===Np?Fx(y.query):y.query},B,{redirectedFrom:void 0,href:rt})}function P(y){return typeof y=="string"?qs(n,y,l.value.path):Et({},y)}function F(y,z){if(c!==y)return cr(8,{from:z,to:y})}function Y(y){return K(y)}function V(y){return Y(Et(P(y),{replace:!0}))}function Q(y){const z=y.matched[y.matched.length-1];if(z&&z.redirect){const{redirect:N}=z;let B=typeof N=="function"?N(y):N;return typeof B=="string"&&(B=B.indexOf("?")>-1||B.indexOf("#")>-1?B=P(B):{path:B}),Et({query:y.query,hash:y.hash,params:y.params},B)}}function K(y,z){const N=c=v(y),B=l.value,It=y.state,At=y.force,rt=y.replace===!0,at=Q(N);if(at)return K(Et(P(at),{state:It,force:At,replace:rt}),z||N);const f=N;f.redirectedFrom=z;let m;return!At&&G0(i,B,N)&&(m=cr(16,{to:f,from:B}),Yi(B,B,!0,!1)),(m?Promise.resolve(m):it(f,B)).catch(x=>Nr(x)?x:wt(x)).then(x=>{if(x){if(Nr(x,2))return K(Et(P(x.to),{state:It,force:At,replace:rt}),z||f)}else x=Yt(f,B,!0,rt,It);return kt(f,B,x),x})}function Tt(y,z){const N=F(y,z);return N?Promise.reject(N):Promise.resolve()}function it(y,z){let N;const[B,It,At]=Vx(y,z);N=Qs(B.reverse(),"beforeRouteLeave",y,z);for(const at of B)at.leaveGuards.forEach(f=>{N.push(Ln(f,y,z))});const rt=Tt.bind(null,y,z);return N.push(rt),Wi(N).then(()=>{N=[];for(const at of a.list())N.push(Ln(at,y,z));return N.push(rt),Wi(N)}).then(()=>{N=Qs(It,"beforeRouteUpdate",y,z);for(const at of It)at.updateGuards.forEach(f=>{N.push(Ln(f,y,z))});return N.push(rt),Wi(N)}).then(()=>{N=[];for(const at of y.matched)if(at.beforeEnter&&z.matched.indexOf(at)<0)if(Array.isArray(at.beforeEnter))for(const f of at.beforeEnter)N.push(Ln(f,y,z));else N.push(Ln(at.beforeEnter,y,z));return N.push(rt),Wi(N)}).then(()=>(y.matched.forEach(at=>at.enterCallbacks={}),N=Qs(At,"beforeRouteEnter",y,z),N.push(rt),Wi(N))).then(()=>{N=[];for(const at of o.list())N.push(Ln(at,y,z));return N.push(rt),Wi(N)}).catch(at=>Nr(at,8)?at:Promise.reject(at))}function kt(y,z,N){for(const B of s.list())B(y,z,N)}function Yt(y,z,N,B,It){const At=F(y,z);if(At)return At;const rt=z===li,at=Ki?history.state:{};N&&(B||rt?r.replace(y.fullPath,Et({scroll:rt&&at&&at.scroll},It)):r.push(y.fullPath,It)),l.value=y,Yi(y,z,N,rt),Se()}let et;function Lt(){et=r.listen((y,z,N)=>{let B=v(y);const It=Q(B);if(It){K(Et(It,{replace:!0}),B).catch(eo);return}c=B;const At=l.value;Ki&&tx(Tp(At.fullPath,N.delta),is()),it(B,At).catch(rt=>Nr(rt,12)?rt:Nr(rt,2)?(K(rt.to,B).catch(eo),Promise.reject()):(N.delta&&r.go(-N.delta,!1),wt(rt))).then(rt=>{rt=rt||Yt(B,At,!1),rt&&N.delta&&r.go(-N.delta,!1),kt(B,At,rt)}).catch(eo)})}let Bt=Dr(),zi=Dr(),Wt;function wt(y){return Se(y),zi.list().forEach(z=>z(y)),Promise.reject(y)}function gt(){return Wt&&l.value!==li?Promise.resolve():new Promise((y,z)=>{Bt.add([y,z])})}function Se(y){Wt||(Wt=!0,Lt(),Bt.list().forEach(([z,N])=>y?N(y):z()),Bt.reset())}function Yi(y,z,N,B){const{scrollBehavior:It}=e;if(!Ki||!It)return Promise.resolve();let At=!N&&ex(Tp(y.fullPath,0))||(B||!N)&&history.state&&history.state.scroll||null;return bf().then(()=>It(y,z,At)).then(rt=>rt&&X0(rt)).catch(wt)}const _n=y=>r.go(y);let Ze;const Re=new Set;return{currentRoute:l,addRoute:h,removeRoute:_,hasRoute:g,getRoutes:O,resolve:v,options:e,push:Y,replace:V,go:_n,back:()=>_n(-1),forward:()=>_n(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:zi.add,isReady:gt,install(y){const z=this;y.component("RouterLink",$x),y.component("RouterView",Bx),y.config.globalProperties.$router=z,Object.defineProperty(y.config.globalProperties,"$route",{get:()=>Ur(l)}),Ki&&!Ze&&l.value===li&&(Ze=!0,Y(r.location).catch(It=>{}));const N={};for(let It in li)N[It]=We(()=>l.value[It]);y.provide(ns,z),y.provide(rh,sn(N)),y.provide(Il,l);let B=y.unmount;Re.add(y),y.unmount=function(){Re.delete(y),Re.size<1&&(et(),l.value=li,Ze=!1,Wt=!1),B()}}}}function Wi(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Vx(e,t){const n=[],i=[],r=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){const s=t.matched[o];s&&(e.matched.find(c=>lr(c,s))?i.push(s):n.push(s));const l=e.matched[o];l&&(t.matched.find(c=>lr(c,l))||r.push(l))}return[n,i,r]}function vr(){return an(ns)}var Gx=Object.defineProperty,Lp=Object.getOwnPropertySymbols,Kx=Object.prototype.hasOwnProperty,qx=Object.prototype.propertyIsEnumerable,zp=(e,t,n)=>t in e?Gx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qx=(e,t)=>{for(var n in t||(t={}))Kx.call(t,n)&&zp(e,n,t[n]);if(Lp)for(var n of Lp(t))qx.call(t,n)&&zp(e,n,t[n]);return e},Jx="usehead",Yp="head:count",Js="data-head-attrs",Zx=(e,t,n)=>{const i=n.createElement(e);for(const r of Object.keys(t)){let a=t[r];r==="key"||a===!1||(r==="children"?i.textContent=a:i.setAttribute(r,a))}return i};function Xx(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const n=t.getAttribute("nonce");if(n&&!e.getAttribute("nonce")){const i=t.cloneNode(!0);return i.setAttribute("nonce",""),i.nonce=n,n===e.nonce&&e.isEqualNode(i)}}return e.isEqualNode(t)}var tv=e=>{const t=["key","id","name","property"];for(const n of t){const i=typeof e.getAttribute=="function"?e.hasAttribute(n)?e.getAttribute(n):void 0:e[n];if(i!==void 0)return{name:n,value:i}}},ev=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],nv=e=>{const t=[];for(const n of Object.keys(e))if(e[n]!=null){if(n==="title")t.push({tag:n,props:{children:e[n]}});else if(n==="base")t.push({tag:n,props:Qx({key:"default"},e[n])});else if(ev.includes(n)){const i=e[n];Array.isArray(i)?i.forEach(r=>{t.push({tag:n,props:r})}):i&&t.push({tag:n,props:i})}}return t},$p=(e,t)=>{const n=e.getAttribute(Js);if(n)for(const r of n.split(","))r in t||e.removeAttribute(r);const i=[];for(const r in t){const a=t[r];a!=null&&(a===!1?e.removeAttribute(r):e.setAttribute(r,a),i.push(r))}i.length?e.setAttribute(Js,i.join(",")):e.removeAttribute(Js)},iv=(e=window.document,t,n)=>{var i;const r=e.head;let a=r.querySelector(`meta[name="${Yp}"]`);const o=a?Number(a.getAttribute("content")):0,s=[];if(a)for(let c=0,d=a.previousElementSibling;c<o;c++,d=(d==null?void 0:d.previousElementSibling)||null)((i=d==null?void 0:d.tagName)==null?void 0:i.toLowerCase())===t&&s.push(d);else a=e.createElement("meta"),a.setAttribute("name",Yp),a.setAttribute("content","0"),r.append(a);let l=n.map(c=>Zx(c.tag,c.props,e));l=l.filter(c=>{for(let d=0;d<s.length;d++){const p=s[d];if(Xx(p,c))return s.splice(d,1),!1}return!0}),s.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)}),l.forEach(c=>{r.insertBefore(c,a)}),a.setAttribute("content",""+(o-s.length+l.length))},rv=()=>{let e=[],t=new Set;const n={install(i){i.config.globalProperties.$head=n,i.provide(Jx,n)},get headTags(){const i=[];return e.forEach(r=>{nv(r.value).forEach(o=>{if(o.tag==="meta"||o.tag==="base"||o.tag==="script"){const s=tv(o.props);if(s){let l=-1;for(let c=0;c<i.length;c++){const d=i[c],p=d.props[s.name],u=o.props[s.name];if(d.tag===o.tag&&p===u){l=c;break}}l!==-1&&i.splice(l,1)}}i.push(o)})}),i},addHeadObjs(i){e.push(i)},removeHeadObjs(i){e=e.filter(r=>r!==i)},updateDOM(i=window.document){let r,a={},o={};const s={};for(const c of n.headTags){if(c.tag==="title"){r=c.props.children;continue}if(c.tag==="htmlAttrs"){Object.assign(a,c.props);continue}if(c.tag==="bodyAttrs"){Object.assign(o,c.props);continue}s[c.tag]=s[c.tag]||[],s[c.tag].push(c)}r!==void 0&&(i.title=r),$p(i.documentElement,a),$p(i.body,o);const l=new Set([...Object.keys(s),...t]);for(const c of l)iv(i,c,s[c]||[]);t.clear(),Object.keys(s).forEach(c=>t.add(c))}};return n};function av(e){try{return JSON.parse(e||"{}")}catch(t){return console.error("[SSG] On state deserialization -",t,e),{}}}function ov(e){return document.readyState==="loading"?new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>t(e))}):Promise.resolve(e)}const sv=kc({setup(e,{slots:t}){const n=Xt(!1);return Of(()=>n.value=!0),()=>n.value&&t.default&&t.default({})}});function lv(e,t,n,i={}){const{transformState:r,registerComponents:a=!0,useHead:o=!0,rootContainer:s="#app"}=i,l=typeof window!="undefined";async function c(d=!1,p){var K,Tt;const u=d?$0(e):W0(e);let h;o&&(h=rv(),u.use(h));const _=Hx({history:d?ax(t.base):ox(t.base),...t}),{routes:O}=t;a&&u.component("ClientOnly",d?sv:{render:()=>null});const g=[],F={app:u,head:h,isClient:l,router:_,routes:O,onSSRAppRendered:d?()=>{}:it=>g.push(it),triggerOnSSRAppRendered:()=>Promise.all(g.map(it=>it())),initialState:{},transformState:r,routePath:p};d&&(await ov(),F.initialState=(r==null?void 0:r(window.__INITIAL_STATE__||{}))||av(window.__INITIAL_STATE__)),await(n==null?void 0:n(F)),u.use(_);let Y,V=!0;if(_.beforeEach((it,kt,Yt)=>{(V||Y&&Y===it.path)&&(V=!1,Y=it.path,it.meta.state=F.initialState),Yt()}),!d){const it=(Tt=(K=F.routePath)!=null?K:t.base)!=null?Tt:"/";_.push(it),await _.isReady(),F.initialState=_.currentRoute.value.meta.state||{}}const Q=F.initialState;return{...F,initialState:Q}}return l&&(async()=>{const{app:d,router:p}=await c(!0);await p.isReady(),d.mount(s,!0)})(),c}const cv="AIzaSyB6WCaZsYoGqeotIkZYvMj_EaeP25E7lMI",dv="socket-game-f530e.firebaseapp.com",pv="https://socket-game-f530e-default-rtdb.firebaseio.com",uv="socket-game-f530e",fv="socket-game-f530e.appspot.com",hv="554022480678",mv="1:554022480678:web:a0949656e777278ae5afe7",_v="G-TN9DBP7TSL";var gv={apiKey:cv,authDomain:dv,databaseURL:pv,projectId:uv,storageBucket:fv,messagingSenderId:hv,appId:mv,measurementId:_v};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(e,t){if(!e)throw br(t)},br=function(e){return new Error("Firebase Database ("+mh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},xv=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=e[n++],o=e[n++],s=e[n++],l=((r&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const a=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return t.join("")},Dc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const a=e[r],o=r+1<e.length,s=o?e[r+1]:0,l=r+2<e.length,c=l?e[r+2]:0,d=a>>2,p=(a&3)<<4|s>>4;let u=(s&15)<<2|c>>6,h=c&63;l||(h=64,o||(u=64)),i.push(n[d],n[p],n[u],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_h(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):xv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const a=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const c=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,a==null||s==null||c==null||p==null)throw Error();const u=a<<2|s>>4;if(i.push(u),c!==64){const h=s<<4&240|c>>2;if(i.push(h),p!==64){const _=c<<6&192|p;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},gh=function(e){const t=_h(e);return Dc.encodeByteArray(t,!0)},yo=function(e){return gh(e).replace(/\./g,"")},Wp=function(e){try{return Dc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(e){return sa(void 0,e)}function sa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!bv(n)||(e[n]=sa(e[n],t[n]));return e}function bv(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[yo(JSON.stringify(n)),yo(JSON.stringify(o)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xh(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wv())}function Ev(){return typeof self=="object"&&self.self===self}function Cv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vh(){return mh.NODE_ADMIN===!0}function Sv(){return typeof indexedDB=="object"}function Rv(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="FirebaseError";class rs extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Tv,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,as.prototype.create)}}class as{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,a=this.errors[t],o=a?kv(a,i):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new rs(r,s,i)}}function kv(e,t){return e.replace(Iv,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Iv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(e){return JSON.parse(e)}function jt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=function(e){let t={},n={},i={},r="";try{const a=e.split(".");t=la(Wp(a[0])||""),n=la(Wp(a[1])||""),r=a[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}},Av=function(e){const t=bh(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ov=function(e){const t=bh(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Si(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Pl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wo(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Nl(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const a=e[r],o=t[r];if(jp(a)&&jp(o)){if(!Nl(a,o))return!1}else if(a!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function jp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let p=0;p<16;p++)i[p]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let p=16;p<80;p++){const u=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(u<<1|u>>>31)&4294967295}let r=this.chain_[0],a=this.chain_[1],o=this.chain_[2],s=this.chain_[3],l=this.chain_[4],c,d;for(let p=0;p<80;p++){p<40?p<20?(c=s^a&(o^s),d=1518500249):(c=a^o^s,d=1859775393):p<60?(c=a&o|s&(a|o),d=2400959708):(c=a^o^s,d=3395469782);const u=(r<<5|r>>>27)+c+l+d+i[p]&4294967295;l=s,s=o,o=(a<<30|a>>>2)&4294967295,a=r,r=u}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let r=0;const a=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(a[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}else for(;r<n;)if(a[o]=t[r],++o,++r,o===this.blockSize){this.compress_(a),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let a=24;a>=0;a-=8)t[i]=this.chain_[r]>>a&255,++i;return t}}function Dv(e,t){const n=new Mv(e,t);return n.subscribe.bind(n)}class Mv{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Fv(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Zs),r.error===void 0&&(r.error=Zs),r.complete===void 0&&(r.complete=Zs);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fv(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Zs(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(e,t,n,i){let r;if(i<t?r="at least "+t:i>n&&(r=n===0?"none":"no more than "+n),r){const a=e+" failed: Was called with "+i+(i===1?" argument.":" arguments.")+" Expects "+r+".";throw new Error(a)}};function ue(e,t){return`${e} failed: ${t} argument `}function Vt(e,t,n,i){if(!(i&&!n)&&typeof n!="function")throw new Error(ue(e,t)+"must be a valid function.")}function Up(e,t,n,i){if(!(i&&!n)&&(typeof n!="object"||n===null))throw new Error(ue(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const a=r-55296;i++,T(i<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(i)-56320;r=65536+(a<<10)+o}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},os=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(e){return e&&e._delegate?e._delegate:e}class Xn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new de;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Yv(t))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=ui){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ui){return this.instances.has(t)}getOptions(t=ui){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);i===s&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&t(o,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:zv(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ui){return this.component?this.component.multipleInstances?t:ui:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zv(e){return e===ui?void 0:e}function Yv(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yh(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=[];var vt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(vt||(vt={}));const Eh={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},$v=vt.INFO,Wv={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},jv=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Wv[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ss{constructor(t){this.name=t,this._logLevel=$v,this._logHandler=jv,this._userLogHandler=null,Mc.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Eh[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...t),this._logHandler(this,vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...t),this._logHandler(this,vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...t),this._logHandler(this,vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...t),this._logHandler(this,vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...t),this._logHandler(this,vt.ERROR,...t)}}function Uv(e){Mc.forEach(t=>{t.setLogLevel(e)})}function Bv(e,t){for(const n of Mc){let i=null;t&&t.level&&(i=Eh[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(r,a,...o)=>{const s=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");a>=(i!=null?i:r.logLevel)&&e({level:vt[a].toLowerCase(),message:s,args:o,type:r.name})}}}const Hv=(e,t)=>t.some(n=>e instanceof n);let Bp,Hp;function Vv(){return Bp||(Bp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gv(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ch=new WeakMap,Dl=new WeakMap,Sh=new WeakMap,Xs=new WeakMap,Fc=new WeakMap;function Kv(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(Bn(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Ch.set(n,e)}).catch(()=>{}),Fc.set(t,e),t}function qv(e){if(Dl.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});Dl.set(e,t)}let Ml={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Dl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Sh.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Qv(e){Ml=e(Ml)}function Jv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(tl(this),t,...n);return Sh.set(i,t.sort?t.sort():[t]),Bn(i)}:Gv().includes(e)?function(...t){return e.apply(tl(this),t),Bn(Ch.get(this))}:function(...t){return Bn(e.apply(tl(this),t))}}function Zv(e){return typeof e=="function"?Jv(e):(e instanceof IDBTransaction&&qv(e),Hv(e,Vv())?new Proxy(e,Ml):e)}function Bn(e){if(e instanceof IDBRequest)return Kv(e);if(Xs.has(e))return Xs.get(e);const t=Zv(e);return t!==e&&(Xs.set(e,t),Fc.set(t,e)),t}const tl=e=>Fc.get(e);function Xv(e,t,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const o=indexedDB.open(e,t),s=Bn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Bn(o.result),l.oldVersion,l.newVersion,Bn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),s.then(l=>{a&&l.addEventListener("close",()=>a()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),s}const tb=["get","getKey","getAll","getAllKeys","count"],eb=["put","add","delete","clear"],el=new Map;function Vp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(el.get(t))return el.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=eb.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||tb.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),r&&l.done]))[0]};return el.set(t,a),a}Qv(e=>({...e,get:(t,n,i)=>Vp(t,n)||e.get(t,n,i),has:(t,n)=>!!Vp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ib(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ib(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fl="@firebase/app",Gp="0.7.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new ss("@firebase/app"),rb="@firebase/app-compat",ab="@firebase/analytics-compat",ob="@firebase/analytics",sb="@firebase/app-check-compat",lb="@firebase/app-check",cb="@firebase/auth",db="@firebase/auth-compat",pb="@firebase/database",ub="@firebase/database-compat",fb="@firebase/functions",hb="@firebase/functions-compat",mb="@firebase/installations",_b="@firebase/installations-compat",gb="@firebase/messaging",xb="@firebase/messaging-compat",vb="@firebase/performance",bb="@firebase/performance-compat",yb="@firebase/remote-config",wb="@firebase/remote-config-compat",Eb="@firebase/storage",Cb="@firebase/storage-compat",Sb="@firebase/firestore",Rb="@firebase/firestore-compat",Tb="firebase",kb="9.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]",Ib={[Fl]:"fire-core",[rb]:"fire-core-compat",[ob]:"fire-analytics",[ab]:"fire-analytics-compat",[lb]:"fire-app-check",[sb]:"fire-app-check-compat",[cb]:"fire-auth",[db]:"fire-auth-compat",[pb]:"fire-rtdb",[ub]:"fire-rtdb-compat",[fb]:"fire-fn",[hb]:"fire-fn-compat",[mb]:"fire-iid",[_b]:"fire-iid-compat",[gb]:"fire-fcm",[xb]:"fire-fcm-compat",[vb]:"fire-perf",[bb]:"fire-perf-compat",[yb]:"fire-rc",[wb]:"fire-rc-compat",[Eb]:"fire-gcs",[Cb]:"fire-gcs-compat",[Sb]:"fire-fst",[Rb]:"fire-fst-compat","fire-js":"fire-js",[Tb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Map,ca=new Map;function Eo(e,t){try{e.container.addComponent(t)}catch(n){Lc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Rh(e,t){e.container.addOrOverwriteComponent(t)}function dr(e){const t=e.name;if(ca.has(t))return Lc.debug(`There were multiple attempts to register component ${t}.`),!1;ca.set(t,e);for(const n of ti.values())Eo(n,e);return!0}function Th(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ab(e,t,n=Ri){Th(e,t).clearInstance(n)}function Ob(){ca.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ei=new as("app","Firebase",Pb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=kb;function kh(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:Ri,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});const r=ti.get(i);if(r){if(Nl(e,r.options)&&Nl(n,r.config))return r;throw ei.create("duplicate-app",{appName:i})}const a=new wh(i);for(const s of ca.values())a.addComponent(s);const o=new Nb(e,n,a);return ti.set(i,o),o}function Db(e=Ri){const t=ti.get(e);if(!t)throw ei.create("no-app",{appName:e});return t}function Mb(){return Array.from(ti.values())}async function Ih(e){const t=e.name;ti.has(t)&&(ti.delete(t),await Promise.all(e.container.getProviders().map(n=>n.delete())),e.isDeleted=!0)}function Hn(e,t,n){var i;let r=(i=Ib[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const s=[`Unable to register library "${r}" with version "${t}":`];a&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Lc.warn(s.join(" "));return}dr(new Xn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function Ah(e,t){if(e!==null&&typeof e!="function")throw ei.create("invalid-log-argument");Bv(e,t)}function Oh(e){Uv(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebase-heartbeat-database",Lb=1,da="firebase-heartbeat-store";let nl=null;function Ph(){return nl||(nl=Xv(Fb,Lb,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(da)}}}).catch(e=>{throw ei.create("storage-open",{originalErrorMessage:e.message})})),nl}async function zb(e){var t;try{return(await Ph()).transaction(da).objectStore(da).get(Nh(e))}catch(n){throw ei.create("storage-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message})}}async function Kp(e,t){var n;try{const r=(await Ph()).transaction(da,"readwrite");return await r.objectStore(da).put(t,Nh(e)),r.done}catch(i){throw ei.create("storage-set",{originalErrorMessage:(n=i)===null||n===void 0?void 0:n.message})}}function Nh(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=1024,$b=30*24*60*60*1e3;class Wb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ub(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const a=new Date(r.date).valueOf();return Date.now()-a<=$b}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qp(),{heartbeatsToSend:n,unsentEntries:i}=jb(this._heartbeatsCache.heartbeats),r=yo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function qp(){return new Date().toISOString().substring(0,10)}function jb(e,t=Yb){const n=[];let i=e.slice();for(const r of e){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),Qp(n)>t){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Qp(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Ub{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sv()?Rv().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Qp(e){return yo(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(e){dr(new Xn("platform-logger",t=>new nb(t),"PRIVATE")),dr(new Xn("heartbeat",t=>new Wb(t),"PRIVATE")),Hn(Fl,Gp,e),Hn(Fl,Gp,"esm2017"),Hn("fire-js","")}Bb("");var Hb=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:zc,_DEFAULT_ENTRY_NAME:Ri,_addComponent:Eo,_addOrOverwriteComponent:Rh,_apps:ti,_clearComponents:Ob,_components:ca,_getProvider:Th,_registerComponent:dr,_removeServiceInstance:Ab,deleteApp:Ih,getApp:Db,getApps:Mb,initializeApp:kh,onLog:Ah,registerVersion:Hn,setLogLevel:Oh,FirebaseError:rs},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,n){this._delegate=t,this.firebase=n,Eo(t,new Xn("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Ih(this._delegate)))}_getService(t,n=Ri){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(t,n=Ri){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){Eo(this._delegate,t)}_addOrOverwriteComponent(t){Rh(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},Jp=new as("app-compat","Firebase",Gb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(e){const t={},n={__esModule:!0,initializeApp:a,app:r,registerVersion:Hn,setLogLevel:Oh,onLog:Ah,apps:null,SDK_VERSION:zc,INTERNAL:{registerComponent:s,removeApp:i,useAsService:l,modularAPIs:Hb}};n.default=n,Object.defineProperty(n,"apps",{get:o});function i(c){delete t[c]}function r(c){if(c=c||Ri,!we(t,c))throw Jp.create("no-app",{appName:c});return t[c]}r.App=e;function a(c,d={}){const p=kh(c,d);if(we(t,p.name))return t[p.name];const u=new e(p,n);return t[p.name]=u,u}function o(){return Object.keys(t).map(c=>t[c])}function s(c){const d=c.name,p=d.replace("-compat","");if(dr(c)&&c.type==="PUBLIC"){const u=(h=r())=>{if(typeof h[p]!="function")throw Jp.create("invalid-app-argument",{appName:d});return h[p]()};c.serviceProps!==void 0&&sa(u,c.serviceProps),n[p]=u,e.prototype[p]=function(...h){return this._getService.bind(this,d).apply(this,c.multipleInstances?h:[])}}return c.type==="PUBLIC"?n[p]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(){const e=Kb(Vb);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:Dh,extendNamespace:t,createSubscribe:Dv,ErrorFactory:as,deepExtend:sa});function t(n){sa(e,n)}return e}const qb=Dh();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=new ss("@firebase/app-compat"),Qb="@firebase/app-compat",Jb="0.1.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(e){Hn(Qb,Jb,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Ev()&&self.firebase!==void 0){Zp.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Zp.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const An=qb;Zb();var Xb="firebase",ty="9.8.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.registerVersion(Xb,ty,"app-compat");const Xp="@firebase/database",tu="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh="";function Fh(e){Mh=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),jt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:la(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return we(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=function(e){try{if(typeof window!="undefined"&&typeof window[e]!="undefined"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ey(t)}}catch{}return new ny},_i=Lh("localStorage"),Ll=Lh("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new ss("@firebase/database"),zh=function(){let e=1;return function(){return e++}}(),Yh=function(e){const t=Lv(e),n=new Nv;n.update(t);const i=n.digest();return Dc.encodeByteArray(i)},Sa=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Sa.apply(null,i):typeof i=="object"?t+=jt(i):t+=i,t+=" "}return t};let Ei=null,eu=!0;const $h=function(e,t){T(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(tr.logLevel=vt.VERBOSE,Ei=tr.log.bind(tr),t&&Ll.set("logging_enabled",!0)):typeof e=="function"?Ei=e:(Ei=null,Ll.remove("logging_enabled"))},Kt=function(...e){if(eu===!0&&(eu=!1,Ei===null&&Ll.get("logging_enabled")===!0&&$h(!0)),Ei){const t=Sa.apply(null,e);Ei(t)}},Ra=function(e){return function(...t){Kt(e,...t)}},zl=function(...e){const t="FIREBASE INTERNAL ERROR: "+Sa(...e);tr.error(t)},cn=function(...e){const t=`FIREBASE FATAL ERROR: ${Sa(...e)}`;throw tr.error(t),new Error(t)},te=function(...e){const t="FIREBASE WARNING: "+Sa(...e);tr.warn(t)},iy=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&te("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ls=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ry=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Tn="[MIN_NAME]",dn="[MAX_NAME]",Ni=function(e,t){if(e===t)return 0;if(e===Tn||t===dn)return-1;if(t===Tn||e===dn)return 1;{const n=Co(e),i=Co(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},ay=function(e,t){return e===t?0:e<t?-1:1},Mr=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+jt(t))},Yc=function(e){if(typeof e!="object"||e===null)return jt(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=jt(t[i]),n+=":",n+=Yc(e[t[i]]);return n+="}",n},Wh=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Qt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const jh=function(e){T(!ls(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,a,o,s,l;e===0?(a=0,o=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),i),a=s+i,o=Math.round(e*Math.pow(2,n-s)-Math.pow(2,n))):(a=0,o=Math.round(e/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(r?1:0),c.reverse();const d=c.join("");let p="";for(l=0;l<64;l+=8){let u=parseInt(d.substr(l,8),2).toString(16);u.length===1&&(u="0"+u),p=p+u}return p.toLowerCase()},oy=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},sy=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ly(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const cy=new RegExp("^-?(0*)\\d{1,10}$"),Uh=-2147483648,$c=2147483647,Co=function(e){if(cy.test(e)){const t=Number(e);if(t>=Uh&&t<=$c)return t}return null},yr=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw te("Exception was thrown by user callback.",n),t},Math.floor(0))}},dy=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qr=function(e,t){const n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){te(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',te(t)}}class er{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}er.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="5",Bh="v",Hh="s",Vh="r",Gh="f",Kh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qh="ls",Qh="p",Yl="ac",Jh="websocket",Zh="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n,i,r,a=!1,o="",s=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_i.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&_i.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function fy(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function tm(e,t,n){T(typeof t=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let i;if(t===Jh)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Zh)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);fy(e)&&(n.ns=e.namespace);const r=[];return Qt(n,(a,o)=>{r.push(a+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.counters_={}}incrementCounter(t,n=1){we(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return vv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il={},rl={};function jc(e){const t=e.toString();return il[t]||(il[t]=new hy),il[t]}function my(e,t){const n=e.toString();return rl[n]||(rl[n]=t()),rl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&yr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="start",gy="close",xy="pLPCommand",vy="pRTLPCB",em="id",nm="pw",im="ser",by="cb",yy="seg",wy="ts",Ey="d",Cy="dframe",rm=1870,am=30,Sy=rm-am,Ry=25e3,Ty=3e4;class zn{constructor(t,n,i,r,a,o,s){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ra(t),this.stats_=jc(n),this.urlFn=l=>(this.appCheckToken&&(l[Yl]=this.appCheckToken),tm(n,Zh,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new _y(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ty)),ry(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Uc((...a)=>{const[o,s,l,c,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nu)this.id=s,this.password=l;else if(o===gy)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,s]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,s)},()=>{this.onClosed_()},this.urlFn);const i={};i[nu]="t",i[im]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[by]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Bh]=Wc,this.transportSessionId&&(i[Hh]=this.transportSessionId),this.lastSessionId&&(i[qh]=this.lastSessionId),this.applicationId&&(i[Qh]=this.applicationId),this.appCheckToken&&(i[Yl]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&Kh.test(location.hostname)&&(i[Vh]=Gh);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zn.forceAllow_=!0}static forceDisallow(){zn.forceDisallow_=!0}static isAvailable(){return zn.forceAllow_?!0:!zn.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!oy()&&!sy()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=jt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=gh(n),r=Wh(i,Sy);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Cy]="t",i[em]=t,i[nm]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=jt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Uc{constructor(t,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zh(),window[xy+this.uniqueCallbackIdentifier]=t,window[vy+this.uniqueCallbackIdentifier]=n,this.myIFrame=Uc.createIFrame_();let a="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const s=document.domain;a='<script>document.domain="'+s+'";<\/script>'}const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Kt("frame writing exception"),s.stack&&Kt(s.stack),Kt(s)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Kt("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[em]=this.myID,t[nm]=this.myPW,t[im]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+am+i.length<=rm;){const o=this.pendingSegs.shift();i=i+"&"+yy+r+"="+o.seg+"&"+wy+r+"="+o.ts+"&"+Ey+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(Ry)),a=()=>{clearTimeout(r),i()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Kt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=16384,Iy=45e3;let So=null;typeof MozWebSocket!="undefined"?So=MozWebSocket:typeof WebSocket!="undefined"&&(So=WebSocket);class Ae{constructor(t,n,i,r,a,o,s){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ra(this.connId),this.stats_=jc(n),this.connURL=Ae.connectionURL_(n,o,s,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,r,a){const o={};return o[Bh]=Wc,typeof location!="undefined"&&location.hostname&&Kh.test(location.hostname)&&(o[Vh]=Gh),n&&(o[Hh]=n),i&&(o[qh]=i),r&&(o[Yl]=r),a&&(o[Qh]=a),tm(t,Jh,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_i.set("previous_websocket_failure",!0);try{let i;vh(),this.mySock=new So(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ae.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&So!==null&&!Ae.forceDisallow_}static previouslyFailed(){return _i.isInMemoryStorage||_i.get("previous_websocket_failure")===!0}markConnectionHealthy(){_i.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=la(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(T(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=jt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Wh(n,ky);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Iy))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ae.responsesRequiredToBeHealthy=2;Ae.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[zn,Ae]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Ae&&Ae.isAvailable();let i=n&&!Ae.previouslyFailed();if(t.webSocketOnly&&(n||te("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ae];else{const r=this.transports_=[];for(const a of pr.ALL_TRANSPORTS)a&&a.isAvailable()&&r.push(a);pr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=6e4,Oy=5e3,Py=10*1024,Ny=100*1024,al="t",iu="d",Dy="s",ru="r",My="e",au="o",ou="a",su="n",lu="p",Fy="h";class Ly{constructor(t,n,i,r,a,o,s,l,c,d){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ra("c:"+this.id+":"),this.transportManager_=new pr(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=qr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ny?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Py?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(al in t){const n=t[al];n===ou?this.upgradeIfSecondaryHealthy_():n===ru?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===au&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Mr("t",t),i=Mr("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lu,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ou,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:su,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Mr("t",t),i=Mr("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Mr(al,t);if(iu in t){const i=t[iu];if(n===Fy)this.onHandshake_(i);else if(n===su){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Dy?this.onConnectionShutdown_(i):n===ru?this.onReset_(i):n===My?zl("Server Error: "+i):n===au?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zl("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wc!==i&&te("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),qr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ay))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Oy))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lu,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t){this.allowedEvents_=t,this.listeners_={},T(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let a=0;a<r.length;a++)if(r[a].callback===n&&(!i||i===r[a].context)){r.splice(a,1);return}}validateEventType_(t){T(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends sm{constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!xh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ro}getInitialEvent(t){return T(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=32,du=768;class ht{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function lt(){return new ht("")}function J(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ni(e){return e.pieces_.length-e.pieceNum_}function yt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ht(e.pieces_,t)}function Bc(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function zy(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function pa(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function lm(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ht(t,0)}function Ft(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ht)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ht(n,0)}function Z(e){return e.pieceNum_>=e.pieces_.length}function ae(e,t){const n=J(e),i=J(t);if(n===null)return t;if(n===i)return ae(yt(e),yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Yy(e,t){const n=pa(e,0),i=pa(t,0);for(let r=0;r<n.length&&r<i.length;r++){const a=Ni(n[r],i[r]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Hc(e,t){if(ni(e)!==ni(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Oe(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ni(e)>ni(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class $y{constructor(t,n){this.errorPrefix_=n,this.parts_=pa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=os(this.parts_[i]);cm(this)}}function Wy(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=os(t),cm(e)}function jy(e){const t=e.parts_.pop();e.byteLength_-=os(t),e.parts_.length>0&&(e.byteLength_-=1)}function cm(e){if(e.byteLength_>du)throw new Error(e.errorPrefix_+"has a key path longer than "+du+" bytes ("+e.byteLength_+").");if(e.parts_.length>cu)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cu+") or object contains a cycle "+fi(e))}function fi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends sm{constructor(){super(["visible"]);let t,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",t="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Vc}getInitialEvent(t){return T(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=1e3,Uy=60*5*1e3,By=3*1e3,pu=30*1e3,Hy=1.3,Vy=3e4,Gy="server_kill",uu=3;class En extends om{constructor(t,n,i,r,a,o,s,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=l,this.id=En.nextPersistentConnectionId_++,this.log_=Ra("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fr,this.maxReconnectDelay_=Uy,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!vh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ro.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const r=++this.requestNumber_,a={r,a:t,b:n};this.log_(jt(a)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const n=new de,i={p:t._path.toString(),q:t._queryObject},r={action:"g",request:i,onComplete:o=>{const s=o.d;o.s==="ok"?n.resolve(s):n.reject(s)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const o=this.outstandingGets_[a];o===void 0||r!==o||(delete this.outstandingGets_[a],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},By),this.connected_&&this.sendGet_(a),n.promise}listen(t,n,i,r){this.initConnection_();const a=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:n,query:t,tag:i};this.listens.get(o).set(a,s),this.connected_&&this.sendListen_(s)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const a={p:i},o="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(o,a,s=>{const l=s.d,c=s.s;En.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",s),c!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(c,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&we(t,"w")){const i=Si(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();te(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Ov(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=pu)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Av(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const a=r.s,o=r.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),T(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,n)}sendUnlisten_(t,n,i,r){this.log_("Unlisten on "+t+" for "+n);const a={p:t},o="n";r&&(a.q=i,a.t=r),this.sendRequest(o,a)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,r){const a={p:n,d:i};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(t,n,i,r){this.putInternal("p",t,n,i,r)}merge(t,n,i,r){this.putInternal("m",t,n,i,r)}putInternal(t,n,i,r,a){this.initConnection_();const o={p:n,d:i};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+jt(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):zl("Unrecognized action received from server: "+jt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Vy&&(this.reconnectDelay_=Fr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Hy)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+En.nextConnectionId_++,a=this.lastSessionId;let o=!1,s=null;const l=function(){s?s.close():(o=!0,i())},c=function(p){T(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(p)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,u]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Kt("getToken() completed but was canceled"):(Kt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=u&&u.token,s=new Ly(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,h=>{te(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(Gy)},a))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&te(p),l())}}}interrupt(t){Kt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Kt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Pl(this.interruptReasons_)&&(this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(a=>Yc(a)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,n){const i=new ht(t).toString();let r;if(this.listens.has(i)){const a=this.listens.get(i);r=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,n){Kt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uu&&(this.reconnectDelay_=pu,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Kt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uu&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Mh.replace(/\./g,"-")]=1,xh()?t["framework.cordova"]=1:Cv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ro.getInstance().currentlyOnline();return Pl(this.interruptReasons_)&&t}}En.nextPersistentConnectionId_=0;En.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new X(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new X(Tn,t),r=new X(Tn,n);return this.compare(i,r)!==0}minPost(){return X.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;class dm extends cs{static get __EMPTY_NODE(){return Ga}static set __EMPTY_NODE(t){Ga=t}compare(t,n){return Ni(t.name,n.name)}isDefinedOn(t){throw br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return X.MIN}maxPost(){return new X(dn,Ga)}makePost(t,n){return T(typeof t=="string","KeyIndex indexValue must always be a string."),new X(t,Ga)}toString(){return".key"}}const on=new dm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n,i,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,r&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Gt{constructor(t,n,i,r,a){this.key=t,this.value=n,this.color=i!=null?i:Gt.RED,this.left=r!=null?r:pe.EMPTY_NODE,this.right=a!=null?a:pe.EMPTY_NODE}copy(t,n,i,r,a){return new Gt(t!=null?t:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,a!=null?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const a=i(t,r.key);return a<0?r=r.copy(null,null,null,r.left.insert(t,n,i),null):a===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return pe.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,r;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return pe.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Gt.RED=!0;Gt.BLACK=!1;class Ky{copy(t,n,i,r,a){return this}insert(t,n,i){return new Gt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pe{constructor(t,n=pe.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new pe(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Gt.BLACK,null,null))}remove(t){return new pe(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Gt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ka(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ka(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ka(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ka(this.root_,null,this.comparator_,!0,t)}}pe.EMPTY_NODE=new Ky;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(e,t){return Ni(e.name,t.name)}function Gc(e,t){return Ni(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l;function Qy(e){$l=e}const pm=function(e){return typeof e=="number"?"number:"+jh(e):"string:"+e},um=function(e){if(e.isLeafNode()){const t=e.val();T(typeof t=="string"||typeof t=="number"||typeof t=="object"&&we(t,".sv"),"Priority must be a string or number.")}else T(e===$l||e.isEmpty(),"priority of unexpected type.");T(e===$l||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu;class Ht{constructor(t,n=Ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),um(this.priorityNode_)}static set __childrenNodeConstructor(t){fu=t}static get __childrenNodeConstructor(){return fu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ht(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ht.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Z(t)?this:J(t)===".priority"?this.priorityNode_:Ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=J(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(T(i!==".priority"||ni(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+pm(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=jh(this.value_):t+=this.value_,this.lazyHash_=Yh(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ht.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ht.__childrenNodeConstructor?-1:(T(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=Ht.VALUE_TYPE_ORDER.indexOf(n),a=Ht.VALUE_TYPE_ORDER.indexOf(i);return T(r>=0,"Unknown leaf type: "+n),T(a>=0,"Unknown leaf type: "+i),r===a?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm,hm;function Jy(e){fm=e}function Zy(e){hm=e}class Xy extends cs{compare(t,n){const i=t.node.getPriority(),r=n.node.getPriority(),a=i.compareTo(r);return a===0?Ni(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return X.MIN}maxPost(){return new X(dn,new Ht("[PRIORITY-POST]",hm))}makePost(t,n){const i=fm(t);return new X(n,new Ht("[PRIORITY-POST]",i))}toString(){return".priority"}}const Rt=new Xy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=Math.log(2);class e2{constructor(t){const n=a=>parseInt(Math.log(a)/t2,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const To=function(e,t,n,i){e.sort(t);const r=function(l,c){const d=c-l;let p,u;if(d===0)return null;if(d===1)return p=e[l],u=n?n(p):p,new Gt(u,p.node,Gt.BLACK,null,null);{const h=parseInt(d/2,10)+l,_=r(l,h),O=r(h+1,c);return p=e[h],u=n?n(p):p,new Gt(u,p.node,Gt.BLACK,_,O)}},a=function(l){let c=null,d=null,p=e.length;const u=function(_,O){const g=p-_,v=p;p-=_;const P=r(g+1,v),F=e[g],Y=n?n(F):F;h(new Gt(Y,F.node,O,null,P))},h=function(_){c?(c.left=_,c=_):(d=_,c=_)};for(let _=0;_<l.count;++_){const O=l.nextBitIsOne(),g=Math.pow(2,l.count-(_+1));O?u(g,Gt.BLACK):(u(g,Gt.BLACK),u(g,Gt.RED))}return d},o=new e2(e.length),s=a(o);return new pe(i||t,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol;const ji={};class bn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return T(ji&&Rt,"ChildrenNode.ts has not been loaded"),ol=ol||new bn({".priority":ji},{".priority":Rt}),ol}get(t){const n=Si(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof pe?n:null}hasIndex(t){return we(this.indexSet_,t.toString())}addIndex(t,n){T(t!==on,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const a=n.getIterator(X.Wrap);let o=a.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=a.getNext();let s;r?s=To(i,t.getCompare()):s=ji;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const d=Object.assign({},this.indexes_);return d[l]=s,new bn(d,c)}addToIndexes(t,n){const i=wo(this.indexes_,(r,a)=>{const o=Si(this.indexSet_,a);if(T(o,"Missing index implementation for "+a),r===ji)if(o.isDefinedOn(t.node)){const s=[],l=n.getIterator(X.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&s.push(c),c=l.getNext();return s.push(t),To(s,o.getCompare())}else return ji;else{const s=n.get(t.name);let l=r;return s&&(l=l.remove(new X(t.name,s))),l.insert(t,t.node)}});return new bn(i,this.indexSet_)}removeFromIndexes(t,n){const i=wo(this.indexes_,r=>{if(r===ji)return r;{const a=n.get(t.name);return a?r.remove(new X(t.name,a)):r}});return new bn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr;class U{constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&um(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Lr||(Lr=new U(new pe(Gc),null,bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lr}updatePriority(t){return this.children_.isEmpty()?this:new U(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Lr:n}}getChild(t){const n=J(t);return n===null?this:this.getImmediateChild(n).getChild(yt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(T(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new X(t,n);let r,a;n.isEmpty()?(r=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Lr:this.priorityNode_;return new U(r,o,a)}}updateChild(t,n){const i=J(t);if(i===null)return n;{T(J(t)!==".priority"||ni(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(yt(t),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,a=!0;if(this.forEachChild(Rt,(o,s)=>{n[o]=s.val(t),i++,a&&U.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):a=!1}),!t&&a&&r<2*i){const o=[];for(const s in n)o[s]=n[s];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+pm(this.getPriority().val())+":"),this.forEachChild(Rt,(n,i)=>{const r=i.hash();r!==""&&(t+=":"+n+":"+r)}),this.lazyHash_=t===""?"":Yh(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const r=this.resolveIndex_(i);if(r){const a=r.getPredecessorKey(new X(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new X(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new X(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,X.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,t)<0;)r.getNext(),a=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,X.Wrap);let a=r.peek();for(;a!=null&&n.compare(a,t)>0;)r.getNext(),a=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ta?-1:0}withIndex(t){if(t===on||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new U(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===on||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Rt),r=n.getIterator(Rt);let a=i.getNext(),o=r.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=i.getNext(),o=r.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===on?null:this.indexMap_.get(t.toString())}}U.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class n2 extends U{constructor(){super(new pe(Gc),U.EMPTY_NODE,bn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return U.EMPTY_NODE}isEmpty(){return!1}}const Ta=new n2;Object.defineProperties(X,{MIN:{value:new X(Tn,U.EMPTY_NODE)},MAX:{value:new X(dn,Ta)}});dm.__EMPTY_NODE=U.EMPTY_NODE;Ht.__childrenNodeConstructor=U;Qy(Ta);Zy(Ta);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=!0;function zt(e,t=null){if(e===null)return U.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),T(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Ht(n,zt(t))}if(!(e instanceof Array)&&i2){const n=[];let i=!1;if(Qt(e,(o,s)=>{if(o.substring(0,1)!=="."){const l=zt(s);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new X(o,l)))}}),n.length===0)return U.EMPTY_NODE;const a=To(n,qy,o=>o.name,Gc);if(i){const o=To(n,Rt.getCompare());return new U(a,zt(t),new bn({".priority":o},{".priority":Rt}))}else return new U(a,zt(t),bn.Default)}else{let n=U.EMPTY_NODE;return Qt(e,(i,r)=>{if(we(e,i)&&i.substring(0,1)!=="."){const a=zt(r);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(zt(t))}}Jy(zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends cs{constructor(t){super(),this.indexPath_=t,T(!Z(t)&&J(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),r=this.extractChild(n.node),a=i.compareTo(r);return a===0?Ni(t.name,n.name):a}makePost(t,n){const i=zt(t),r=U.EMPTY_NODE.updateChild(this.indexPath_,i);return new X(n,r)}maxPost(){const t=U.EMPTY_NODE.updateChild(this.indexPath_,Ta);return new X(dn,t)}toString(){return pa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends cs{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Ni(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(t,n){const i=zt(t);return new X(n,i)}toString(){return".value"}}const qc=new r2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wl="-",mm="z",_m=786,a2=function(){let e=0;const t=[];return function(n){const i=n===e;e=n;let r;const a=new Array(8);for(r=7;r>=0;r--)a[r]=ur.charAt(n%64),n=Math.floor(n/64);T(n===0,"Cannot push at time == 0");let o=a.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=ur.charAt(t[r]);return T(o.length===20,"nextPushId: Length should be 20."),o}}(),hu=function(e){if(e===""+$c)return Wl;const t=Co(e);if(t!=null)return""+(t+1);const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e.charAt(o);if(n.length<_m)return n.push(Wl),n.join("");let i=n.length-1;for(;i>=0&&n[i]===mm;)i--;if(i===-1)return dn;const r=n[i],a=ur.charAt(ur.indexOf(r)+1);return n[i]=a,n.slice(0,i+1).join("")},mu=function(e){if(e===""+Uh)return Tn;const t=Co(e);if(t!=null)return""+(t-1);const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e.charAt(i);return n[n.length-1]===Wl?n.length===1?""+$c:(delete n[n.length-1],n.join("")):(n[n.length-1]=ur.charAt(ur.indexOf(n[n.length-1])-1),n.join("")+mm.repeat(_m-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(e){return{type:"value",snapshotNode:e}}function fr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ua(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function fa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function o2(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t){this.index_=t}updateChild(t,n,i,r,a,o){T(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=t.getImmediateChild(n);return s.getChild(r).equals(i.getChild(r))&&s.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?t.hasChild(n)?o.trackChildChange(ua(n,s)):T(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(fr(n,i)):o.trackChildChange(fa(n,i,s))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Rt,(r,a)=>{n.hasChild(r)||i.trackChildChange(ua(r,a))}),n.isLeafNode()||n.forEachChild(Rt,(r,a)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(a)||i.trackChildChange(fa(r,a,o))}else i.trackChildChange(fr(r,a))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?U.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t){this.indexedFilter_=new Qc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ha.getStartPost_(t),this.endPost_=ha.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,n,i,r,a,o){return this.matches(new X(n,i))||(i=U.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,a,o)}updateFullNode(t,n,i){n.isLeafNode()&&(n=U.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(U.EMPTY_NODE);const a=this;return n.forEachChild(Rt,(o,s)=>{a.matches(new X(o,s))||(r=r.updateImmediateChild(o,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.rangedFilter_=new ha(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,n,i,r,a,o){return this.rangedFilter_.matches(new X(n,i))||(i=U.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,a,o):this.fullLimitUpdateChild_(t,n,i,a,o)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=U.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;a.hasNext()&&o<this.limit_;){const s=a.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:l=this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,l)r=r.updateImmediateChild(s.name,s.node),o++;else break}}else{r=n.withIndex(this.index_),r=r.updatePriority(U.EMPTY_NODE);let a,o,s,l;if(this.reverse_){l=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const p=this.index_.getCompare();s=(u,h)=>p(h,u)}else l=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),s=this.index_.getCompare();let c=0,d=!1;for(;l.hasNext();){const p=l.getNext();!d&&s(a,p)<=0&&(d=!0),d&&c<this.limit_&&s(p,o)<=0?c++:r=r.updateImmediateChild(p.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,a){let o;if(this.reverse_){const p=this.index_.getCompare();o=(u,h)=>p(h,u)}else o=this.index_.getCompare();const s=t;T(s.numChildren()===this.limit_,"");const l=new X(n,i),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(s.hasChild(n)){const p=s.getImmediateChild(n);let u=r.getChildAfterChild(this.index_,c,this.reverse_);for(;u!=null&&(u.name===n||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=u==null?1:o(u,l);if(d&&!i.isEmpty()&&h>=0)return a!=null&&a.trackChildChange(fa(n,i,p)),s.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(ua(n,p));const O=s.updateImmediateChild(n,U.EMPTY_NODE);return u!=null&&this.rangedFilter_.matches(u)?(a!=null&&a.trackChildChange(fr(u.name,u.node)),O.updateImmediateChild(u.name,u.node)):O}}else return i.isEmpty()?t:d&&o(c,l)>=0?(a!=null&&(a.trackChildChange(ua(c.name,c.node)),a.trackChildChange(fr(n,i))),s.updateImmediateChild(n,i).updateImmediateChild(c.name,U.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tn}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rt}copy(){const t=new ds;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function l2(e){return e.loadsAllData()?new Qc(e.getIndex()):e.hasLimit()?new s2(e):new ha(e)}function c2(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function d2(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function jl(e,t,n){const i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function p2(e,t,n){let i;if(e.index_===on)typeof t=="string"&&(t=hu(t)),i=jl(e,t,n);else{let r;n==null?r=dn:r=hu(n),i=jl(e,t,r)}return i.startAfterSet_=!0,i}function Ul(e,t,n){const i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function u2(e,t,n){let i,r;return e.index_===on?(typeof t=="string"&&(t=mu(t)),r=Ul(e,t,n)):(n==null?i=Tn:i=mu(n),r=Ul(e,t,i)),r.endBeforeSet_=!0,r}function ps(e,t){const n=e.copy();return n.index_=t,n}function _u(e){const t={};if(e.isDefault())return t;let n;return e.index_===Rt?n="$priority":e.index_===qc?n="$value":e.index_===on?n="$key":(T(e.index_ instanceof Kc,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=jt(n),e.startSet_&&(t.startAt=jt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+jt(e.indexStartName_))),e.endSet_&&(t.endAt=jt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+jt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function gu(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Rt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends om{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ra("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(T(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const o=ko.getListenId_(t,i),s={};this.listens_[o]=s;const l=_u(t._queryParams);this.restRequest_(a+".json",l,(c,d)=>{let p=d;if(c===404&&(p=null,c=null),c===null&&this.onDataUpdate_(a,p,!1,i),Si(this.listens_,o)===s){let u;c?c===401?u="permission_denied":u="rest_error:"+c:u="ok",r(u,null)}})}unlisten(t,n){const i=ko.getListenId_(t,n);delete this.listens_[i]}get(t){const n=_u(t._queryParams),i=t._path.toString(),r=new de;return this.restRequest_(i+".json",n,(a,o)=>{let s=o;a===404&&(s=null,a=null),a===null?(this.onDataUpdate_(i,s,!1,null),r.resolve(s)):r.reject(new Error(s))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(n.auth=r.accessToken),a&&a.token&&(n.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Pv(n);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(i&&s.readyState===4){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let l=null;if(s.status>=200&&s.status<300){try{l=la(s.responseText)}catch{te("Failed to parse JSON response for "+o+": "+s.responseText)}i(null,l)}else s.status!==401&&s.status!==404&&te("Got unsuccessful REST response for "+o+" Status: "+s.status),i(s.status);i=null}},s.open("GET",o,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return{value:null,children:new Map}}function wr(e,t,n){if(Z(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=J(t);e.children.has(i)||e.children.set(i,Io());const r=e.children.get(i);t=yt(t),wr(r,t,n)}}function Bl(e,t){if(Z(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Rt,(i,r)=>{wr(e,new ht(i),r)}),Bl(e,t)}}else if(e.children.size>0){const n=J(t);return t=yt(t),e.children.has(n)&&Bl(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Hl(e,t,n){e.value!==null?n(t,e.value):h2(e,(i,r)=>{const a=new ht(t.toString()+"/"+i);Hl(r,a,n)})}function h2(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Qt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=10*1e3,_2=30*1e3,g2=5*60*1e3;class x2{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new m2(t);const i=xu+(_2-xu)*Math.random();qr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Qt(t,(r,a)=>{a>0&&we(this.statsToReport_,r)&&(n[r]=a,i=!0)}),i&&this.server_.reportStats(n),qr(this.reportStats_.bind(this),Math.floor(Math.random()*2*g2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ue||(Ue={}));function Jc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Xc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Ue.ACK_USER_WRITE,this.source=Jc()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ht(t));return new Ao(lt(),n,this.revert)}}else return T(J(this.path)===t,"operationForChild called for unrelated child."),new Ao(yt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,n){this.source=t,this.path=n,this.type=Ue.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new ma(this.source,lt()):new ma(this.source,yt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Ue.OVERWRITE}operationForChild(t){return Z(this.path)?new Ti(this.source,lt(),this.snap.getImmediateChild(t)):new Ti(this.source,yt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Ue.MERGE}operationForChild(t){if(Z(this.path)){const n=this.children.subtree(new ht(t));return n.isEmpty()?null:n.value?new Ti(this.source,lt(),n.value):new hr(this.source,lt(),n)}else return T(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new hr(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;const n=J(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function b2(e,t,n,i){const r=[],a=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(o2(o.childName,o.snapshotNode))}),zr(e,r,"child_removed",t,i,n),zr(e,r,"child_added",t,i,n),zr(e,r,"child_moved",a,i,n),zr(e,r,"child_changed",t,i,n),zr(e,r,"value",t,i,n),r}function zr(e,t,n,i,r,a){const o=i.filter(s=>s.type===n);o.sort((s,l)=>w2(e,s,l)),o.forEach(s=>{const l=y2(e,s,a);r.forEach(c=>{c.respondsTo(s.type)&&t.push(c.createEvent(l,e.query_))})})}function y2(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function w2(e,t,n){if(t.childName==null||n.childName==null)throw br("Should only compare child_ events.");const i=new X(t.childName,t.snapshotNode),r=new X(n.childName,n.snapshotNode);return e.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e,t){return{eventCache:e,serverCache:t}}function Qr(e,t,n,i){return us(new ii(t,n,i),e.serverCache)}function xm(e,t,n,i){return us(e.eventCache,new ii(t,n,i))}function Oo(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ki(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl;const E2=()=>(sl||(sl=new pe(ay)),sl);class Ct{constructor(t,n=E2()){this.value=t,this.children=n}static fromObject(t){let n=new Ct(null);return Qt(t,(i,r)=>{n=n.set(new ht(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:lt(),value:this.value};if(Z(t))return null;{const i=J(t),r=this.children.get(i);if(r!==null){const a=r.findRootMostMatchingPathAndValue(yt(t),n);return a!=null?{path:Ft(new ht(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{const n=J(t),i=this.children.get(n);return i!==null?i.subtree(yt(t)):new Ct(null)}}set(t,n){if(Z(t))return new Ct(n,this.children);{const i=J(t),a=(this.children.get(i)||new Ct(null)).set(yt(t),n),o=this.children.insert(i,a);return new Ct(this.value,o)}}remove(t){if(Z(t))return this.children.isEmpty()?new Ct(null):new Ct(null,this.children);{const n=J(t),i=this.children.get(n);if(i){const r=i.remove(yt(t));let a;return r.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,r),this.value===null&&a.isEmpty()?new Ct(null):new Ct(this.value,a)}else return this}}get(t){if(Z(t))return this.value;{const n=J(t),i=this.children.get(n);return i?i.get(yt(t)):null}}setTree(t,n){if(Z(t))return n;{const i=J(t),a=(this.children.get(i)||new Ct(null)).setTree(yt(t),n);let o;return a.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,a),new Ct(this.value,o)}}fold(t){return this.fold_(lt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((r,a)=>{i[r]=a.fold_(Ft(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,lt(),n)}findOnPath_(t,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Z(t))return null;{const a=J(t),o=this.children.get(a);return o?o.findOnPath_(yt(t),Ft(n,a),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,lt(),n)}foreachOnPath_(t,n,i){if(Z(t))return this;{this.value&&i(n,this.value);const r=J(t),a=this.children.get(r);return a?a.foreachOnPath_(yt(t),Ft(n,r),i):new Ct(null)}}foreach(t){this.foreach_(lt(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ft(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.writeTree_=t}static empty(){return new Ve(new Ct(null))}}function Jr(e,t,n){if(Z(t))return new Ve(new Ct(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let a=i.value;const o=ae(r,t);return a=a.updateChild(o,n),new Ve(e.writeTree_.set(r,a))}else{const r=new Ct(n),a=e.writeTree_.setTree(t,r);return new Ve(a)}}}function Vl(e,t,n){let i=e;return Qt(n,(r,a)=>{i=Jr(i,Ft(t,r),a)}),i}function vu(e,t){if(Z(t))return Ve.empty();{const n=e.writeTree_.setTree(t,new Ct(null));return new Ve(n)}}function Gl(e,t){return Di(e,t)!=null}function Di(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ae(n.path,t)):null}function bu(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Rt,(i,r)=>{t.push(new X(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new X(i,r.value))}),t}function Vn(e,t){if(Z(t))return e;{const n=Di(e,t);return n!=null?new Ve(new Ct(n)):new Ve(e.writeTree_.subtree(t))}}function Kl(e){return e.writeTree_.isEmpty()}function mr(e,t){return vm(lt(),e.writeTree_,t)}function vm(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,a)=>{r===".priority"?(T(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=vm(Ft(e,r),a,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Ft(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(e,t){return Em(t,e)}function C2(e,t,n,i,r){T(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Jr(e.visibleWrites,t,n)),e.lastWriteId=i}function S2(e,t,n,i){T(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Vl(e.visibleWrites,t,n),e.lastWriteId=i}function R2(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function T2(e,t){const n=e.allWrites.findIndex(s=>s.writeId===t);T(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,a=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const s=e.allWrites[o];s.visible&&(o>=n&&k2(s,i.path)?r=!1:Oe(i.path,s.path)&&(a=!0)),o--}if(r){if(a)return I2(e),!0;if(i.snap)e.visibleWrites=vu(e.visibleWrites,i.path);else{const s=i.children;Qt(s,l=>{e.visibleWrites=vu(e.visibleWrites,Ft(i.path,l))})}return!0}else return!1}function k2(e,t){if(e.snap)return Oe(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Oe(Ft(e.path,n),t))return!0;return!1}function I2(e){e.visibleWrites=bm(e.allWrites,A2,lt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function A2(e){return e.visible}function bm(e,t,n){let i=Ve.empty();for(let r=0;r<e.length;++r){const a=e[r];if(t(a)){const o=a.path;let s;if(a.snap)Oe(n,o)?(s=ae(n,o),i=Jr(i,s,a.snap)):Oe(o,n)&&(s=ae(o,n),i=Jr(i,lt(),a.snap.getChild(s)));else if(a.children){if(Oe(n,o))s=ae(n,o),i=Vl(i,s,a.children);else if(Oe(o,n))if(s=ae(o,n),Z(s))i=Vl(i,lt(),a.children);else{const l=Si(a.children,J(s));if(l){const c=l.getChild(yt(s));i=Jr(i,lt(),c)}}}else throw br("WriteRecord should have .snap or .children")}}return i}function ym(e,t,n,i,r){if(!i&&!r){const a=Di(e.visibleWrites,t);if(a!=null)return a;{const o=Vn(e.visibleWrites,t);if(Kl(o))return n;if(n==null&&!Gl(o,lt()))return null;{const s=n||U.EMPTY_NODE;return mr(o,s)}}}else{const a=Vn(e.visibleWrites,t);if(!r&&Kl(a))return n;if(!r&&n==null&&!Gl(a,lt()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Oe(c.path,t)||Oe(t,c.path))},s=bm(e.allWrites,o,t),l=n||U.EMPTY_NODE;return mr(s,l)}}}function O2(e,t,n){let i=U.EMPTY_NODE;const r=Di(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Rt,(a,o)=>{i=i.updateImmediateChild(a,o)}),i;if(n){const a=Vn(e.visibleWrites,t);return n.forEachChild(Rt,(o,s)=>{const l=mr(Vn(a,new ht(o)),s);i=i.updateImmediateChild(o,l)}),bu(a).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const a=Vn(e.visibleWrites,t);return bu(a).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function P2(e,t,n,i,r){T(i||r,"Either existingEventSnap or existingServerSnap must exist");const a=Ft(t,n);if(Gl(e.visibleWrites,a))return null;{const o=Vn(e.visibleWrites,a);return Kl(o)?r.getChild(n):mr(o,r.getChild(n))}}function N2(e,t,n,i){const r=Ft(t,n),a=Di(e.visibleWrites,r);if(a!=null)return a;if(i.isCompleteForChild(n)){const o=Vn(e.visibleWrites,r);return mr(o,i.getNode().getImmediateChild(n))}else return null}function D2(e,t){return Di(e.visibleWrites,t)}function M2(e,t,n,i,r,a,o){let s;const l=Vn(e.visibleWrites,t),c=Di(l,lt());if(c!=null)s=c;else if(n!=null)s=mr(l,n);else return[];if(s=s.withIndex(o),!s.isEmpty()&&!s.isLeafNode()){const d=[],p=o.getCompare(),u=a?s.getReverseIteratorFrom(i,o):s.getIteratorFrom(i,o);let h=u.getNext();for(;h&&d.length<r;)p(h,i)!==0&&d.push(h),h=u.getNext();return d}else return[]}function F2(){return{visibleWrites:Ve.empty(),allWrites:[],lastWriteId:-1}}function Po(e,t,n,i){return ym(e.writeTree,e.treePath,t,n,i)}function td(e,t){return O2(e.writeTree,e.treePath,t)}function yu(e,t,n,i){return P2(e.writeTree,e.treePath,t,n,i)}function No(e,t){return D2(e.writeTree,Ft(e.treePath,t))}function L2(e,t,n,i,r,a){return M2(e.writeTree,e.treePath,t,n,i,r,a)}function ed(e,t,n){return N2(e.writeTree,e.treePath,t,n)}function wm(e,t){return Em(Ft(e.treePath,t),e.writeTree)}function Em(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const a=r.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,fa(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,ua(i,r.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,fr(i,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,fa(i,t.snapshotNode,r.oldSnap));else throw br("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const Cm=new Y2;class nd{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ed(this.writes_,t,i)}}getChildAfterChild(t,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),a=L2(this.writes_,r,n,1,i,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(e){return{filter:e}}function W2(e,t){T(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),T(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function j2(e,t,n,i,r){const a=new z2;let o,s;if(n.type===Ue.OVERWRITE){const c=n;c.source.fromUser?o=ql(e,t,c.path,c.snap,i,r,a):(T(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Z(c.path),o=Do(e,t,c.path,c.snap,i,r,s,a))}else if(n.type===Ue.MERGE){const c=n;c.source.fromUser?o=B2(e,t,c.path,c.children,i,r,a):(T(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),o=Ql(e,t,c.path,c.children,i,r,s,a))}else if(n.type===Ue.ACK_USER_WRITE){const c=n;c.revert?o=G2(e,t,c.path,i,r,a):o=H2(e,t,c.path,c.affectedTree,i,r,a)}else if(n.type===Ue.LISTEN_COMPLETE)o=V2(e,t,n.path,i,a);else throw br("Unknown operation type: "+n.type);const l=a.getChanges();return U2(t,o,l),{viewCache:o,changes:l}}function U2(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Oo(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(gm(Oo(t)))}}function Sm(e,t,n,i,r,a){const o=t.eventCache;if(No(i,n)!=null)return t;{let s,l;if(Z(n))if(T(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=ki(t),d=c instanceof U?c:U.EMPTY_NODE,p=td(i,d);s=e.filter.updateFullNode(t.eventCache.getNode(),p,a)}else{const c=Po(i,ki(t));s=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{const c=J(n);if(c===".priority"){T(ni(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=t.serverCache.getNode();const p=yu(i,n,d,l);p!=null?s=e.filter.updatePriority(d,p):s=o.getNode()}else{const d=yt(n);let p;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const u=yu(i,n,o.getNode(),l);u!=null?p=o.getNode().getImmediateChild(c).updateChild(d,u):p=o.getNode().getImmediateChild(c)}else p=ed(i,c,t.serverCache);p!=null?s=e.filter.updateChild(o.getNode(),c,p,d,r,a):s=o.getNode()}}return Qr(t,s,o.isFullyInitialized()||Z(n),e.filter.filtersNodes())}}function Do(e,t,n,i,r,a,o,s){const l=t.serverCache;let c;const d=o?e.filter:e.filter.getIndexedFilter();if(Z(n))c=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);c=d.updateFullNode(l.getNode(),h,null)}else{const h=J(n);if(!l.isCompleteForPath(n)&&ni(n)>1)return t;const _=yt(n),g=l.getNode().getImmediateChild(h).updateChild(_,i);h===".priority"?c=d.updatePriority(l.getNode(),g):c=d.updateChild(l.getNode(),h,g,_,Cm,null)}const p=xm(t,c,l.isFullyInitialized()||Z(n),d.filtersNodes()),u=new nd(r,p,a);return Sm(e,p,n,r,u,s)}function ql(e,t,n,i,r,a,o){const s=t.eventCache;let l,c;const d=new nd(r,t,a);if(Z(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=Qr(t,c,!0,e.filter.filtersNodes());else{const p=J(n);if(p===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),l=Qr(t,c,s.isFullyInitialized(),s.isFiltered());else{const u=yt(n),h=s.getNode().getImmediateChild(p);let _;if(Z(u))_=i;else{const O=d.getCompleteChild(p);O!=null?Bc(u)===".priority"&&O.getChild(lm(u)).isEmpty()?_=O:_=O.updateChild(u,i):_=U.EMPTY_NODE}if(h.equals(_))l=t;else{const O=e.filter.updateChild(s.getNode(),p,_,u,d,o);l=Qr(t,O,s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function wu(e,t){return e.eventCache.isCompleteForChild(t)}function B2(e,t,n,i,r,a,o){let s=t;return i.foreach((l,c)=>{const d=Ft(n,l);wu(t,J(d))&&(s=ql(e,s,d,c,r,a,o))}),i.foreach((l,c)=>{const d=Ft(n,l);wu(t,J(d))||(s=ql(e,s,d,c,r,a,o))}),s}function Eu(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Ql(e,t,n,i,r,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;Z(n)?c=i:c=new Ct(null).setTree(n,i);const d=t.serverCache.getNode();return c.children.inorderTraversal((p,u)=>{if(d.hasChild(p)){const h=t.serverCache.getNode().getImmediateChild(p),_=Eu(e,h,u);l=Do(e,l,new ht(p),_,r,a,o,s)}}),c.children.inorderTraversal((p,u)=>{const h=!t.serverCache.isCompleteForChild(p)&&u.value===void 0;if(!d.hasChild(p)&&!h){const _=t.serverCache.getNode().getImmediateChild(p),O=Eu(e,_,u);l=Do(e,l,new ht(p),O,r,a,o,s)}}),l}function H2(e,t,n,i,r,a,o){if(No(r,n)!=null)return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Do(e,t,n,l.getNode().getChild(n),r,a,s,o);if(Z(n)){let c=new Ct(null);return l.getNode().forEachChild(on,(d,p)=>{c=c.set(new ht(d),p)}),Ql(e,t,n,c,r,a,s,o)}else return t}else{let c=new Ct(null);return i.foreach((d,p)=>{const u=Ft(n,d);l.isCompleteForPath(u)&&(c=c.set(d,l.getNode().getChild(u)))}),Ql(e,t,n,c,r,a,s,o)}}function V2(e,t,n,i,r){const a=t.serverCache,o=xm(t,a.getNode(),a.isFullyInitialized()||Z(n),a.isFiltered());return Sm(e,o,n,i,Cm,r)}function G2(e,t,n,i,r,a){let o;if(No(i,n)!=null)return t;{const s=new nd(i,t,r),l=t.eventCache.getNode();let c;if(Z(n)||J(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=Po(i,ki(t));else{const p=t.serverCache.getNode();T(p instanceof U,"serverChildren would be complete if leaf node"),d=td(i,p)}d=d,c=e.filter.updateFullNode(l,d,a)}else{const d=J(n);let p=ed(i,d,t.serverCache);p==null&&t.serverCache.isCompleteForChild(d)&&(p=l.getImmediateChild(d)),p!=null?c=e.filter.updateChild(l,d,p,yt(n),s,a):t.eventCache.getNode().hasChild(d)?c=e.filter.updateChild(l,d,U.EMPTY_NODE,yt(n),s,a):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Po(i,ki(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,a)))}return o=t.serverCache.isFullyInitialized()||No(i,lt())!=null,Qr(t,c,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Qc(i.getIndex()),a=l2(i);this.processor_=$2(a);const o=n.serverCache,s=n.eventCache,l=r.updateFullNode(U.EMPTY_NODE,o.getNode(),null),c=a.updateFullNode(U.EMPTY_NODE,s.getNode(),null),d=new ii(l,o.isFullyInitialized(),r.filtersNodes()),p=new ii(c,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=us(p,d),this.eventGenerator_=new v2(this.query_)}get query(){return this.query_}}function q2(e){return e.viewCache_.serverCache.getNode()}function Q2(e){return Oo(e.viewCache_)}function J2(e,t){const n=ki(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Z(t)&&!n.getImmediateChild(J(t)).isEmpty())?n.getChild(t):null}function Cu(e){return e.eventRegistrations_.length===0}function Z2(e,t){e.eventRegistrations_.push(t)}function Su(e,t,n){const i=[];if(n){T(t==null,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(a=>{const o=a.createCancelEvent(n,r);o&&i.push(o)})}if(t){let r=[];for(let a=0;a<e.eventRegistrations_.length;++a){const o=e.eventRegistrations_[a];if(!o.matches(t))r.push(o);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function Ru(e,t,n,i){t.type===Ue.MERGE&&t.source.queryId!==null&&(T(ki(e.viewCache_),"We should always have a full cache before handling merges"),T(Oo(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,a=j2(e.processor_,r,t,n,i);return W2(e.processor_,a.viewCache),T(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Rm(e,a.changes,a.viewCache.eventCache.getNode(),null)}function X2(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Rt,(a,o)=>{i.push(fr(a,o))}),n.isFullyInitialized()&&i.push(gm(n.getNode())),Rm(e,i,n.getNode(),t)}function Rm(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return b2(e.eventGenerator_,t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;class Tm{constructor(){this.views=new Map}}function tw(e){T(!Mo,"__referenceConstructor has already been defined"),Mo=e}function ew(){return T(Mo,"Reference.ts has not been loaded"),Mo}function nw(e){return e.views.size===0}function id(e,t,n,i){const r=t.source.queryId;if(r!==null){const a=e.views.get(r);return T(a!=null,"SyncTree gave us an op for an invalid query."),Ru(a,t,n,i)}else{let a=[];for(const o of e.views.values())a=a.concat(Ru(o,t,n,i));return a}}function rd(e,t,n,i,r){const a=t._queryIdentifier,o=e.views.get(a);if(!o){let s=Po(n,r?i:null),l=!1;s?l=!0:i instanceof U?(s=td(n,i),l=!1):(s=U.EMPTY_NODE,l=!1);const c=us(new ii(s,l,!1),new ii(i,r,!1));return new K2(t,c)}return o}function iw(e,t,n,i,r,a){const o=rd(e,t,i,r,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),Z2(o,n),X2(o,n)}function rw(e,t,n,i){const r=t._queryIdentifier,a=[];let o=[];const s=ri(e);if(r==="default")for(const[l,c]of e.views.entries())o=o.concat(Su(c,n,i)),Cu(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||a.push(c.query));else{const l=e.views.get(r);l&&(o=o.concat(Su(l,n,i)),Cu(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||a.push(l.query)))}return s&&!ri(e)&&a.push(new(ew())(t._repo,t._path)),{removed:a,events:o}}function km(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Gn(e,t){let n=null;for(const i of e.views.values())n=n||J2(i,t);return n}function Im(e,t){if(t._queryParams.loadsAllData())return hs(e);{const i=t._queryIdentifier;return e.views.get(i)}}function Am(e,t){return Im(e,t)!=null}function ri(e){return hs(e)!=null}function hs(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo;function aw(e){T(!Fo,"__referenceConstructor has already been defined"),Fo=e}function ow(){return T(Fo,"Reference.ts has not been loaded"),Fo}let sw=1;class Tu{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ct(null),this.pendingWriteTree_=F2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ad(e,t,n,i,r){return C2(e.pendingWriteTree_,t,n,i,r),r?Er(e,new Ti(Jc(),t,n)):[]}function lw(e,t,n,i){S2(e.pendingWriteTree_,t,n,i);const r=Ct.fromObject(n);return Er(e,new hr(Jc(),t,r))}function Yn(e,t,n=!1){const i=R2(e.pendingWriteTree_,t);if(T2(e.pendingWriteTree_,t)){let a=new Ct(null);return i.snap!=null?a=a.set(lt(),!0):Qt(i.children,o=>{a=a.set(new ht(o),!0)}),Er(e,new Ao(i.path,a,n))}else return[]}function ka(e,t,n){return Er(e,new Ti(Zc(),t,n))}function cw(e,t,n){const i=Ct.fromObject(n);return Er(e,new hr(Zc(),t,i))}function dw(e,t){return Er(e,new ma(Zc(),t))}function pw(e,t,n){const i=od(e,n);if(i){const r=sd(i),a=r.path,o=r.queryId,s=ae(a,t),l=new ma(Xc(o),s);return ld(e,a,l)}else return[]}function Lo(e,t,n,i){const r=t._path,a=e.syncPointTree_.get(r);let o=[];if(a&&(t._queryIdentifier==="default"||Am(a,t))){const s=rw(a,t,n,i);nw(a)&&(e.syncPointTree_=e.syncPointTree_.remove(r));const l=s.removed;o=s.events;const c=l.findIndex(p=>p._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(r,(p,u)=>ri(u));if(c&&!d){const p=e.syncPointTree_.subtree(r);if(!p.isEmpty()){const u=mw(p);for(let h=0;h<u.length;++h){const _=u[h],O=_.query,g=Mm(e,_);e.listenProvider_.startListening(Zr(O),_a(e,O),g.hashFn,g.onComplete)}}}!d&&l.length>0&&!i&&(c?e.listenProvider_.stopListening(Zr(t),null):l.forEach(p=>{const u=e.queryToTagMap.get(_s(p));e.listenProvider_.stopListening(Zr(p),u)})),_w(e,l)}return o}function uw(e,t){const{syncPoint:n,serverCache:i,writesCache:r,serverCacheComplete:a}=Pm(t,e),o=rd(n,t,r,i,a);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),t._queryParams.loadsAllData()?null:_a(e,t)}function Om(e,t,n,i){const r=od(e,i);if(r!=null){const a=sd(r),o=a.path,s=a.queryId,l=ae(o,t),c=new Ti(Xc(s),l,n);return ld(e,o,c)}else return[]}function fw(e,t,n,i){const r=od(e,i);if(r){const a=sd(r),o=a.path,s=a.queryId,l=ae(o,t),c=Ct.fromObject(n),d=new hr(Xc(s),l,c);return ld(e,o,d)}else return[]}function Pm(e,t){const n=e._path;let i=null,r=!1;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const p=ae(c,n);i=i||Gn(d,p),r=r||ri(d)});let a=t.syncPointTree_.get(n);a?(r=r||ri(a),i=i||Gn(a,lt())):(a=new Tm,t.syncPointTree_=t.syncPointTree_.set(n,a));let o;i!=null?o=!0:(o=!1,i=U.EMPTY_NODE,t.syncPointTree_.subtree(n).foreachChild((d,p)=>{const u=Gn(p,lt());u&&(i=i.updateImmediateChild(d,u))}));const s=Am(a,e);if(!s&&!e._queryParams.loadsAllData()){const c=_s(e);T(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");const d=gw();t.queryToTagMap.set(c,d),t.tagToQueryMap.set(d,c)}const l=fs(t.pendingWriteTree_,n);return{syncPoint:a,writesCache:l,serverCache:i,serverCacheComplete:o,foundAncestorDefaultView:r,viewAlreadyExists:s}}function ku(e,t,n){const{syncPoint:i,serverCache:r,writesCache:a,serverCacheComplete:o,viewAlreadyExists:s,foundAncestorDefaultView:l}=Pm(t,e);let c=iw(i,t,n,a,r,o);if(!s&&!l){const d=Im(i,t);c=c.concat(xw(e,t,d))}return c}function ms(e,t,n){const r=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(o,s)=>{const l=ae(o,t),c=Gn(s,l);if(c)return c});return ym(r,t,a,n,!0)}function hw(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(c,d)=>{const p=ae(c,n);i=i||Gn(d,p)});let r=e.syncPointTree_.get(n);r?i=i||Gn(r,lt()):(r=new Tm,e.syncPointTree_=e.syncPointTree_.set(n,r));const a=i!=null,o=a?new ii(i,!0,!1):null,s=fs(e.pendingWriteTree_,t._path),l=rd(r,t,s,a?o.getNode():U.EMPTY_NODE,a);return Q2(l)}function Er(e,t){return Nm(t,e.syncPointTree_,null,fs(e.pendingWriteTree_,lt()))}function Nm(e,t,n,i){if(Z(e.path))return Dm(e,t,n,i);{const r=t.get(lt());n==null&&r!=null&&(n=Gn(r,lt()));let a=[];const o=J(e.path),s=e.operationForChild(o),l=t.children.get(o);if(l&&s){const c=n?n.getImmediateChild(o):null,d=wm(i,o);a=a.concat(Nm(s,l,c,d))}return r&&(a=a.concat(id(r,e,i,n))),a}}function Dm(e,t,n,i){const r=t.get(lt());n==null&&r!=null&&(n=Gn(r,lt()));let a=[];return t.children.inorderTraversal((o,s)=>{const l=n?n.getImmediateChild(o):null,c=wm(i,o),d=e.operationForChild(o);d&&(a=a.concat(Dm(d,s,l,c)))}),r&&(a=a.concat(id(r,e,i,n))),a}function Mm(e,t){const n=t.query,i=_a(e,n);return{hashFn:()=>(q2(t)||U.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?pw(e,n._path,i):dw(e,n._path);{const a=ly(r,n);return Lo(e,n,null,a)}}}}function _a(e,t){const n=_s(t);return e.queryToTagMap.get(n)}function _s(e){return e._path.toString()+"$"+e._queryIdentifier}function od(e,t){return e.tagToQueryMap.get(t)}function sd(e){const t=e.indexOf("$");return T(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ht(e.substr(0,t))}}function ld(e,t,n){const i=e.syncPointTree_.get(t);T(i,"Missing sync point for query tag that we're tracking");const r=fs(e.pendingWriteTree_,t);return id(i,n,r,null)}function mw(e){return e.fold((t,n,i)=>{if(n&&ri(n))return[hs(n)];{let r=[];return n&&(r=km(n)),Qt(i,(a,o)=>{r=r.concat(o)}),r}})}function Zr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ow())(e._repo,e._path):e}function _w(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const r=_s(i),a=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(a)}}}function gw(){return sw++}function xw(e,t,n){const i=t._path,r=_a(e,t),a=Mm(e,n),o=e.listenProvider_.startListening(Zr(t),r,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(i);if(r)T(!ri(s.value),"If we're adding a query, it shouldn't be shadowed");else{const l=s.fold((c,d,p)=>{if(!Z(c)&&d&&ri(d))return[hs(d).query];{let u=[];return d&&(u=u.concat(km(d).map(h=>h.query))),Qt(p,(h,_)=>{u=u.concat(_)}),u}});for(let c=0;c<l.length;++c){const d=l[c];e.listenProvider_.stopListening(Zr(d),_a(e,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new cd(n)}node(){return this.node_}}class dd{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ft(this.path_,t);return new dd(this.syncTree_,n)}node(){return ms(this.syncTree_,this.path_)}}const vw=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Iu=function(e,t,n){if(!e||typeof e!="object")return e;if(T(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return bw(e[".sv"],t,n);if(typeof e[".sv"]=="object")return yw(e[".sv"],t);T(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},bw=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+e)}},yw=function(e,t,n){e.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&T(!1,"Unexpected increment value: "+i);const r=t.node();if(T(r!==null&&typeof r!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},Fm=function(e,t,n,i){return ud(t,new dd(n,e),i)},pd=function(e,t,n){return ud(e,new cd(t),n)};function ud(e,t,n){const i=e.getPriority().val(),r=Iu(i,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const o=e,s=Iu(o.getValue(),t,n);return s!==o.getValue()||r!==o.getPriority().val()?new Ht(s,zt(r)):e}else{const o=e;return a=o,r!==o.getPriority().val()&&(a=a.updatePriority(new Ht(r))),o.forEachChild(Rt,(s,l)=>{const c=ud(l,t.getImmediateChild(s),n);c!==l&&(a=a.updateImmediateChild(s,c))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function gs(e,t){let n=t instanceof ht?t:new ht(t),i=e,r=J(n);for(;r!==null;){const a=Si(i.node.children,r)||{children:{},childCount:0};i=new fd(r,i,a),n=yt(n),r=J(n)}return i}function Mi(e){return e.node.value}function hd(e,t){e.node.value=t,Jl(e)}function Lm(e){return e.node.childCount>0}function ww(e){return Mi(e)===void 0&&!Lm(e)}function xs(e,t){Qt(e.node.children,(n,i)=>{t(new fd(n,e,i))})}function zm(e,t,n,i){n&&!i&&t(e),xs(e,r=>{zm(r,t,!0,i)}),n&&i&&t(e)}function Ew(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ia(e){return new ht(e.parent===null?e.name:Ia(e.parent)+"/"+e.name)}function Jl(e){e.parent!==null&&Cw(e.parent,e.name,e)}function Cw(e,t,n){const i=ww(n),r=we(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Jl(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,Jl(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=/[\[\].#$\/\u0000-\u001F\u007F]/,Rw=/[\[\].#$\u0000-\u001F\u007F]/,ll=10*1024*1024,vs=function(e){return typeof e=="string"&&e.length!==0&&!Sw.test(e)},Ym=function(e){return typeof e=="string"&&e.length!==0&&!Rw.test(e)},Tw=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ym(e)},ga=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!ls(e)||e&&typeof e=="object"&&we(e,".sv")},pn=function(e,t,n,i){i&&t===void 0||Aa(ue(e,"value"),t,n)},Aa=function(e,t,n){const i=n instanceof ht?new $y(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+fi(i));if(typeof t=="function")throw new Error(e+"contains a function "+fi(i)+" with contents = "+t.toString());if(ls(t))throw new Error(e+"contains "+t.toString()+" "+fi(i));if(typeof t=="string"&&t.length>ll/3&&os(t)>ll)throw new Error(e+"contains a string greater than "+ll+" utf8 bytes "+fi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,a=!1;if(Qt(t,(o,s)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!vs(o)))throw new Error(e+" contains an invalid key ("+o+") "+fi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Wy(i,o),Aa(e,s,i),jy(i)}),r&&a)throw new Error(e+' contains ".value" child '+fi(i)+" in addition to actual children.")}},kw=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const a=pa(i);for(let o=0;o<a.length;o++)if(!(a[o]===".priority"&&o===a.length-1)){if(!vs(a[o]))throw new Error(e+"contains an invalid key ("+a[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Yy);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&Oe(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},$m=function(e,t,n,i){if(i&&t===void 0)return;const r=ue(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const a=[];Qt(t,(o,s)=>{const l=new ht(o);if(Aa(r,s,Ft(n,l)),Bc(l)===".priority"&&!ga(s))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(l)}),kw(r,a)},md=function(e,t,n){if(!(n&&t===void 0)){if(ls(t))throw new Error(ue(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ga(t))throw new Error(ue(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Oa=function(e,t,n,i){if(!(i&&n===void 0)&&!vs(n))throw new Error(ue(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},xa=function(e,t,n,i){if(!(i&&n===void 0)&&!Ym(n))throw new Error(ue(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Iw=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xa(e,t,n,i)},Pe=function(e,t){if(J(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Wm=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!vs(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Tw(n))throw new Error(ue(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bs(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],a=r.getPath();n!==null&&!Hc(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(r)}n&&e.eventLists_.push(n)}function jm(e,t,n){bs(e,n),Um(e,i=>Hc(i,t))}function De(e,t,n){bs(e,n),Um(e,i=>Oe(i,t)||Oe(t,i))}function Um(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const a=r.path;t(a)?(Ow(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ow(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();Ei&&Kt("event: "+n.toString()),yr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="repo_interrupt",Pw=25;class Nw{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Aw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Io(),this.transactionQueueTree_=new fd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Dw(e,t,n){if(e.stats_=jc(e.repoInfo_),e.forceRestClient_||dy())e.server_=new ko(e.repoInfo_,(i,r,a,o)=>{Au(e,i,r,a,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Ou(e,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new En(e.repoInfo_,t,(i,r,a,o)=>{Au(e,i,r,a,o)},i=>{Ou(e,i)},i=>{Mw(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=my(e.repoInfo_,()=>new x2(e.stats_,e.server_)),e.infoData_=new f2,e.infoSyncTree_=new Tu({startListening:(i,r,a,o)=>{let s=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(s=ka(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),s},stopListening:()=>{}}),_d(e,"connected",!1),e.serverSyncTree_=new Tu({startListening:(i,r,a,o)=>(e.server_.listen(i,a,r,(s,l)=>{const c=o(s,l);De(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function Hm(e){const n=e.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Pa(e){return vw({timestamp:Hm(e)})}function Au(e,t,n,i,r){e.dataUpdateCount++;const a=new ht(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const l=wo(n,c=>zt(c));o=fw(e.serverSyncTree_,a,l,r)}else{const l=zt(n);o=Om(e.serverSyncTree_,a,l,r)}else if(i){const l=wo(n,c=>zt(c));o=cw(e.serverSyncTree_,a,l)}else{const l=zt(n);o=ka(e.serverSyncTree_,a,l)}let s=a;o.length>0&&(s=_r(e,a)),De(e.eventQueue_,s,o)}function Ou(e,t){_d(e,"connected",t),t===!1&&zw(e)}function Mw(e,t){Qt(t,(n,i)=>{_d(e,n,i)})}function _d(e,t,n){const i=new ht("/.info/"+t),r=zt(n);e.infoData_.updateSnapshot(i,r);const a=ka(e.infoSyncTree_,i,r);De(e.eventQueue_,i,a)}function ys(e){return e.nextWriteId_++}function Fw(e,t){const n=hw(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(i=>{const r=zt(i).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())ka(e.serverSyncTree_,t._path,r);else{const o=uw(e.serverSyncTree_,t);Om(e.serverSyncTree_,t._path,r,o)}return Lo(e.serverSyncTree_,t,null).length>0&&Ii(e,"unexpected cancel events in repoGetValue"),r},i=>(Ii(e,"get for query "+jt(t)+" failed: "+i),Promise.reject(new Error(i))))}function gd(e,t,n,i,r){Ii(e,"set",{path:t.toString(),value:n,priority:i});const a=Pa(e),o=zt(n,i),s=ms(e.serverSyncTree_,t),l=pd(o,s,a),c=ys(e),d=ad(e.serverSyncTree_,t,l,c,!0);bs(e.eventQueue_,d),e.server_.put(t.toString(),o.val(!0),(u,h)=>{const _=u==="ok";_||te("set at "+t+" failed: "+u);const O=Yn(e.serverSyncTree_,c,!_);De(e.eventQueue_,t,O),ai(e,r,u,h)});const p=vd(e,t);_r(e,p),De(e.eventQueue_,p,[])}function Lw(e,t,n,i){Ii(e,"update",{path:t.toString(),value:n});let r=!0;const a=Pa(e),o={};if(Qt(n,(s,l)=>{r=!1,o[s]=Fm(Ft(t,s),zt(l),e.serverSyncTree_,a)}),r)Kt("update() called with empty data.  Don't do anything."),ai(e,i,"ok",void 0);else{const s=ys(e),l=lw(e.serverSyncTree_,t,o,s);bs(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,d)=>{const p=c==="ok";p||te("update at "+t+" failed: "+c);const u=Yn(e.serverSyncTree_,s,!p),h=u.length>0?_r(e,t):t;De(e.eventQueue_,h,u),ai(e,i,c,d)}),Qt(n,c=>{const d=vd(e,Ft(t,c));_r(e,d)}),De(e.eventQueue_,t,[])}}function zw(e){Ii(e,"onDisconnectEvents");const t=Pa(e),n=Io();Hl(e.onDisconnect_,lt(),(r,a)=>{const o=Fm(r,a,e.serverSyncTree_,t);wr(n,r,o)});let i=[];Hl(n,lt(),(r,a)=>{i=i.concat(ka(e.serverSyncTree_,r,a));const o=vd(e,r);_r(e,o)}),e.onDisconnect_=Io(),De(e.eventQueue_,lt(),i)}function Yw(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&Bl(e.onDisconnect_,t),ai(e,n,i,r)})}function Pu(e,t,n,i){const r=zt(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(a,o)=>{a==="ok"&&wr(e.onDisconnect_,t,r),ai(e,i,a,o)})}function $w(e,t,n,i,r){const a=zt(n,i);e.server_.onDisconnectPut(t.toString(),a.val(!0),(o,s)=>{o==="ok"&&wr(e.onDisconnect_,t,a),ai(e,r,o,s)})}function Ww(e,t,n,i){if(Pl(n)){Kt("onDisconnect().update() called with empty data.  Don't do anything."),ai(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,a)=>{r==="ok"&&Qt(n,(o,s)=>{const l=zt(s);wr(e.onDisconnect_,Ft(t,o),l)}),ai(e,i,r,a)})}function jw(e,t,n){let i;J(t._path)===".info"?i=ku(e.infoSyncTree_,t,n):i=ku(e.serverSyncTree_,t,n),jm(e.eventQueue_,t._path,i)}function Zl(e,t,n){let i;J(t._path)===".info"?i=Lo(e.infoSyncTree_,t,n):i=Lo(e.serverSyncTree_,t,n),jm(e.eventQueue_,t._path,i)}function Vm(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Bm)}function Uw(e){e.persistentConnection_&&e.persistentConnection_.resume(Bm)}function Ii(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Kt(n,...t)}function ai(e,t,n,i){t&&yr(()=>{if(n==="ok")t(null);else{const r=(n||"error").toUpperCase();let a=r;i&&(a+=": "+i);const o=new Error(a);o.code=r,t(o)}})}function Bw(e,t,n,i,r,a){Ii(e,"transaction on "+t);const o={path:t,update:n,onComplete:i,status:null,order:zh(),applyLocally:a,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=xd(e,t,void 0);o.currentInputSnapshot=s;const l=o.update(s.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Aa("transaction failed: Data returned ",l,o.path),o.status=0;const c=gs(e.transactionQueueTree_,t),d=Mi(c)||[];d.push(o),hd(c,d);let p;typeof l=="object"&&l!==null&&we(l,".priority")?(p=Si(l,".priority"),T(ga(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(ms(e.serverSyncTree_,t)||U.EMPTY_NODE).getPriority().val();const u=Pa(e),h=zt(l,p),_=pd(h,s,u);o.currentOutputSnapshotRaw=h,o.currentOutputSnapshotResolved=_,o.currentWriteId=ys(e);const O=ad(e.serverSyncTree_,t,_,o.currentWriteId,o.applyLocally);De(e.eventQueue_,t,O),ws(e,e.transactionQueueTree_)}}function xd(e,t,n){return ms(e.serverSyncTree_,t,n)||U.EMPTY_NODE}function ws(e,t=e.transactionQueueTree_){if(t||Es(e,t),Mi(t)){const n=Km(e,t);T(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&Hw(e,Ia(t),n)}else Lm(t)&&xs(t,n=>{ws(e,n)})}function Hw(e,t,n){const i=n.map(c=>c.currentWriteId),r=xd(e,t,i);let a=r;const o=r.hash();for(let c=0;c<n.length;c++){const d=n[c];T(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const p=ae(t,d.path);a=a.updateChild(p,d.currentOutputSnapshotRaw)}const s=a.val(!0),l=t;e.server_.put(l.toString(),s,c=>{Ii(e,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const p=[];for(let u=0;u<n.length;u++)n[u].status=2,d=d.concat(Yn(e.serverSyncTree_,n[u].currentWriteId)),n[u].onComplete&&p.push(()=>n[u].onComplete(null,!0,n[u].currentOutputSnapshotResolved)),n[u].unwatcher();Es(e,gs(e.transactionQueueTree_,t)),ws(e,e.transactionQueueTree_),De(e.eventQueue_,t,d);for(let u=0;u<p.length;u++)yr(p[u])}else{if(c==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{te("transaction at "+l.toString()+" failed: "+c);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=c}_r(e,t)}},o)}function _r(e,t){const n=Gm(e,t),i=Ia(n),r=Km(e,n);return Vw(e,r,i),i}function Vw(e,t,n){if(t.length===0)return;const i=[];let r=[];const o=t.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<t.length;s++){const l=t[s],c=ae(n,l.path);let d=!1,p;if(T(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,p=l.abortReason,r=r.concat(Yn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Pw)d=!0,p="maxretry",r=r.concat(Yn(e.serverSyncTree_,l.currentWriteId,!0));else{const u=xd(e,l.path,o);l.currentInputSnapshot=u;const h=t[s].update(u.val());if(h!==void 0){Aa("transaction failed: Data returned ",h,l.path);let _=zt(h);typeof h=="object"&&h!=null&&we(h,".priority")||(_=_.updatePriority(u.getPriority()));const g=l.currentWriteId,v=Pa(e),P=pd(_,u,v);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=P,l.currentWriteId=ys(e),o.splice(o.indexOf(g),1),r=r.concat(ad(e.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),r=r.concat(Yn(e.serverSyncTree_,g,!0))}else d=!0,p="nodata",r=r.concat(Yn(e.serverSyncTree_,l.currentWriteId,!0))}De(e.eventQueue_,n,r),r=[],d&&(t[s].status=2,function(u){setTimeout(u,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&(p==="nodata"?i.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):i.push(()=>t[s].onComplete(new Error(p),!1,null))))}Es(e,e.transactionQueueTree_);for(let s=0;s<i.length;s++)yr(i[s]);ws(e,e.transactionQueueTree_)}function Gm(e,t){let n,i=e.transactionQueueTree_;for(n=J(t);n!==null&&Mi(i)===void 0;)i=gs(i,n),t=yt(t),n=J(t);return i}function Km(e,t){const n=[];return qm(e,t,n),n.sort((i,r)=>i.order-r.order),n}function qm(e,t,n){const i=Mi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);xs(t,r=>{qm(e,r,n)})}function Es(e,t){const n=Mi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,hd(t,n.length>0?n:void 0)}xs(t,i=>{Es(e,i)})}function vd(e,t){const n=Ia(Gm(e,t)),i=gs(e.transactionQueueTree_,t);return Ew(i,r=>{cl(e,r)}),cl(e,i),zm(i,r=>{cl(e,r)}),n}function cl(e,t){const n=Mi(t);if(n){const i=[];let r=[],a=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(T(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(T(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Yn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?hd(t,void 0):n.length=a+1,De(e.eventQueue_,Ia(t),r);for(let o=0;o<i.length;o++)yr(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function Kw(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):te(`Invalid query segment '${n}' in query '${e}'`)}return t}const Xl=function(e,t){const n=qw(e),i=n.namespace;n.domain==="firebase.com"&&cn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||iy();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Xh(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new ht(n.pathString)}},qw=function(e){let t="",n="",i="",r="",a="",o=!0,s="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");d===-1&&(d=e.length);let p=e.indexOf("?");p===-1&&(p=e.length),t=e.substring(0,Math.min(d,p)),d<p&&(r=Gw(e.substring(d,p)));const u=Kw(e.substring(Math.min(e.length,p)));c=t.indexOf(":"),c>=0?(o=s==="https"||s==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const _=t.indexOf(".");i=t.substring(0,_).toLowerCase(),n=t.substring(_+1),a=i}"ns"in u&&(a=u.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:s,pathString:r,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+jt(this.snapshot.exportVal())}}class Jm{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new de;return Yw(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Pe("OnDisconnect.remove",this._path);const t=new de;return Pu(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Pe("OnDisconnect.set",this._path),pn("OnDisconnect.set",t,this._path,!1);const n=new de;return Pu(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Pe("OnDisconnect.setWithPriority",this._path),pn("OnDisconnect.setWithPriority",t,this._path,!1),md("OnDisconnect.setWithPriority",n,!1);const i=new de;return $w(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){Pe("OnDisconnect.update",this._path),$m("OnDisconnect.update",t,this._path,!1);const n=new de;return Ww(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Z(this._path)?null:Bc(this._path)}get ref(){return new Me(this._repo,this._path)}get _queryIdentifier(){const t=gu(this._queryParams),n=Yc(t);return n==="{}"?"default":n}get _queryObject(){return gu(this._queryParams)}isEqual(t){if(t=Ee(t),!(t instanceof fe))return!1;const n=this._repo===t._repo,i=Hc(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+zy(this._path)}}function Cs(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function oi(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===on){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Tn)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==dn)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===Rt){if(t!=null&&!ga(t)||n!=null&&!ga(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(T(e.getIndex()instanceof Kc||e.getIndex()===qc,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ss(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Me extends fe{constructor(t,n){super(t,n,new ds,!1)}get parent(){const t=lm(this._path);return t===null?null:new Me(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ai{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ht(t),i=Oi(this.ref,t);return new Ai(this._node.getChild(n),i,Rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new Ai(r,Oi(this.ref,i),Rt)))}hasChild(t){const n=new ht(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xm(e,t){return e=Ee(e),e._checkNotDeleted("ref"),t!==void 0?Oi(e._root,t):e._root}function Nu(e,t){e=Ee(e),e._checkNotDeleted("refFromURL");const n=Xl(t,e._repo.repoInfo_.nodeAdmin);Wm("refFromURL",n);const i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&cn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Xm(e,n.path.toString())}function Oi(e,t){return e=Ee(e),J(e._path)===null?Iw("child","path",t,!1):xa("child","path",t,!1),new Me(e._repo,Ft(e._path,t))}function Jw(e,t){e=Ee(e),Pe("push",e._path),pn("push",t,e._path,!0);const n=Hm(e._repo),i=a2(n),r=Oi(e,i),a=Oi(e,i);let o;return t!=null?o=bd(a,t).then(()=>a):o=Promise.resolve(a),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function Zw(e){return Pe("remove",e._path),bd(e,null)}function bd(e,t){e=Ee(e),Pe("set",e._path),pn("set",t,e._path,!1);const n=new de;return gd(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Xw(e,t){e=Ee(e),Pe("setPriority",e._path),md("setPriority",t,!1);const n=new de;return gd(e._repo,Ft(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function t4(e,t,n){if(Pe("setWithPriority",e._path),pn("setWithPriority",t,e._path,!1),md("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new de;return gd(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function e4(e,t){$m("update",t,e._path,!1);const n=new de;return Lw(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function n4(e){return e=Ee(e),Fw(e._repo,e).then(t=>new Ai(t,new Me(e._repo,e._path),e._queryParams.getIndex()))}class Rs{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new Qm("value",this,new Ai(t.snapshotNode,new Me(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Jm(this,t,n):null}matches(t){return t instanceof Rs?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ts{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Jm(this,t,n):null}createEvent(t,n){T(t.childName!=null,"Child events should have a childName.");const i=Oi(new Me(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new Qm(t.type,this,new Ai(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Ts?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Na(e,t,n,i,r){let a;if(typeof i=="object"&&(a=void 0,r=i),typeof i=="function"&&(a=i),r&&r.onlyOnce){const l=n,c=(d,p)=>{Zl(e._repo,e,s),l(d,p)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Zm(n,a||void 0),s=t==="value"?new Rs(o):new Ts(t,o);return jw(e._repo,e,s),()=>Zl(e._repo,e,s)}function tc(e,t,n,i){return Na(e,"value",t,n,i)}function Du(e,t,n,i){return Na(e,"child_added",t,n,i)}function Mu(e,t,n,i){return Na(e,"child_changed",t,n,i)}function Fu(e,t,n,i){return Na(e,"child_moved",t,n,i)}function Lu(e,t,n,i){return Na(e,"child_removed",t,n,i)}function zu(e,t,n){let i=null;const r=n?new Zm(n):null;t==="value"?i=new Rs(r):t&&(i=new Ts(t,r)),Zl(e._repo,e,i)}class qe{}class t_ extends qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("endAt",this._value,t._path,!0);const n=Ul(t._queryParams,this._value,this._key);if(Ss(n),oi(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fe(t._repo,t._path,n,t._orderByCalled)}}function i4(e,t){return Oa("endAt","key",t,!0),new t_(e,t)}class r4 extends qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("endBefore",this._value,t._path,!1);const n=u2(t._queryParams,this._value,this._key);if(Ss(n),oi(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fe(t._repo,t._path,n,t._orderByCalled)}}function a4(e,t){return Oa("endBefore","key",t,!0),new r4(e,t)}class e_ extends qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("startAt",this._value,t._path,!0);const n=jl(t._queryParams,this._value,this._key);if(Ss(n),oi(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new fe(t._repo,t._path,n,t._orderByCalled)}}function o4(e=null,t){return Oa("startAt","key",t,!0),new e_(e,t)}class s4 extends qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){pn("startAfter",this._value,t._path,!1);const n=p2(t._queryParams,this._value,this._key);if(Ss(n),oi(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new fe(t._repo,t._path,n,t._orderByCalled)}}function l4(e,t){return Oa("startAfter","key",t,!0),new s4(e,t)}class c4 extends qe{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new fe(t._repo,t._path,c2(t._queryParams,this._limit),t._orderByCalled)}}function d4(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new c4(e)}class p4 extends qe{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new fe(t._repo,t._path,d2(t._queryParams,this._limit),t._orderByCalled)}}function u4(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new p4(e)}class f4 extends qe{constructor(t){super(),this._path=t}_apply(t){Cs(t,"orderByChild");const n=new ht(this._path);if(Z(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Kc(n),r=ps(t._queryParams,i);return oi(r),new fe(t._repo,t._path,r,!0)}}function h4(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xa("orderByChild","path",e,!1),new f4(e)}class m4 extends qe{_apply(t){Cs(t,"orderByKey");const n=ps(t._queryParams,on);return oi(n),new fe(t._repo,t._path,n,!0)}}function _4(){return new m4}class g4 extends qe{_apply(t){Cs(t,"orderByPriority");const n=ps(t._queryParams,Rt);return oi(n),new fe(t._repo,t._path,n,!0)}}function x4(){return new g4}class v4 extends qe{_apply(t){Cs(t,"orderByValue");const n=ps(t._queryParams,qc);return oi(n),new fe(t._repo,t._path,n,!0)}}function b4(){return new v4}class y4 extends qe{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(pn("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new t_(this._value,this._key)._apply(new e_(this._value,this._key)._apply(t))}}function w4(e,t){return Oa("equalTo","key",t,!0),new y4(e,t)}function Ye(e,...t){let n=Ee(e);for(const i of t)n=i._apply(n);return n}tw(Me);aw(Me);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="FIREBASE_DATABASE_EMULATOR_HOST",ec={};let C4=!1;function S4(e,t,n,i){e.repoInfo_=new Xh(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),i&&(e.authTokenProvider_=i)}function n_(e,t,n,i,r){let a=i||e.options.databaseURL;a===void 0&&(e.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kt("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Xl(a,r),s=o.repoInfo,l,c;typeof process!="undefined"&&process.env&&(c=process.env[E4]),c?(l=!0,a=`http://${c}?ns=${s.namespace}`,o=Xl(a,r),s=o.repoInfo):l=!o.repoInfo.secure;const d=r&&l?new er(er.OWNER):new uy(e.name,e.options,t);Wm("Invalid Firebase Database URL",o),Z(o.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=T4(s,e,d,new py(e.name,n));return new k4(p,e)}function R4(e,t){const n=ec[t];(!n||n[e.key]!==e)&&cn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Vm(e),delete n[e.key]}function T4(e,t,n,i){let r=ec[t.name];r||(r={},ec[t.name]=r);let a=r[e.toURLString()];return a&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Nw(e,C4,n,i),r[e.toURLString()]=a,a}class k4{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Dw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Me(this._repo,lt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(R4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&cn("Cannot call "+t+" on a deleted database.")}}function i_(){pr.IS_TRANSPORT_INITIALIZED&&te("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function I4(){i_(),zn.forceDisallow()}function A4(){i_(),Ae.forceDisallow(),zn.forceAllow()}function O4(e,t,n,i={}){e=Ee(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&cn("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new er(er.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:yv(i.mockUserToken,e.app.options.projectId);a=new er(o)}S4(r,t,n,a)}function P4(e){e=Ee(e),e._checkNotDeleted("goOffline"),Vm(e._repo)}function N4(e){e=Ee(e),e._checkNotDeleted("goOnline"),Uw(e._repo)}function D4(e,t){$h(e,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(e){Fh(zc),dr(new Xn("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return n_(i,r,a,n)},"PUBLIC").setMultipleInstances(!0)),Hn(Xp,tu,e),Hn(Xp,tu,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={".sv":"timestamp"};function L4(){return F4}function z4(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function $4(e,t,n){var i;if(e=Ee(e),Pe("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=(i=n==null?void 0:n.applyLocally)!==null&&i!==void 0?i:!0,a=new de,o=(l,c,d)=>{let p=null;l?a.reject(l):(p=new Ai(d,new Me(e._repo,e._path),Rt),a.resolve(new Y4(c,p)))},s=tc(e,()=>{});return Bw(e._repo,e._path,t,o,s,r),a.promise}En.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};En.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};M4();const W4="@firebase/database-compat",j4="0.2.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new ss("@firebase/database-compat"),r_=function(e){const t="FIREBASE WARNING: "+e;U4.warn(t)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(ue(e,t)+"must be a boolean.")},H4=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ue(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t){this._delegate=t}cancel(t){H("OnDisconnect.cancel",0,1,arguments.length),Vt("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){H("OnDisconnect.remove",0,1,arguments.length),Vt("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){H("OnDisconnect.set",1,2,arguments.length),Vt("OnDisconnect.set","onComplete",n,!0);const i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){H("OnDisconnect.setWithPriority",2,3,arguments.length),Vt("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),a=>i(a)),r}update(t,n){if(H("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,r_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vt("OnDisconnect.update","onComplete",n,!0);const i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return H("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t,n){this._database=t,this._delegate=n}val(){return H("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return H("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return H("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return H("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return H("DataSnapshot.child",0,1,arguments.length),t=String(t),xa("DataSnapshot.child","path",t,!1),new Kn(this._database,this._delegate.child(t))}hasChild(t){return H("DataSnapshot.hasChild",1,1,arguments.length),xa("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return H("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return H("DataSnapshot.forEach",1,1,arguments.length),Vt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new Kn(this._database,n)))}hasChildren(){return H("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return H("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return H("DataSnapshot.ref",0,0,arguments.length),new ve(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Jt{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var a;H("Query.on",2,4,arguments.length),Vt("Query.on","callback",n,!1);const o=Jt.getCancelAndContextArgs_("Query.on",i,r),s=(c,d)=>{n.call(o.context,new Kn(this.database,c),d)};s.userCallback=n,s.context=o.context;const l=(a=o.cancel)===null||a===void 0?void 0:a.bind(o.context);switch(t){case"value":return tc(this._delegate,s,l),n;case"child_added":return Du(this._delegate,s,l),n;case"child_removed":return Lu(this._delegate,s,l),n;case"child_changed":return Mu(this._delegate,s,l),n;case"child_moved":return Fu(this._delegate,s,l),n;default:throw new Error(ue("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(H("Query.off",0,3,arguments.length),H4("Query.off",t,!0),Vt("Query.off","callback",n,!0),Up("Query.off","context",i,!0),n){const r=()=>{};r.userCallback=n,r.context=i,zu(this._delegate,t,r)}else zu(this._delegate,t)}get(){return n4(this._delegate).then(t=>new Kn(this.database,t))}once(t,n,i,r){H("Query.once",1,4,arguments.length),Vt("Query.once","callback",n,!0);const a=Jt.getCancelAndContextArgs_("Query.once",i,r),o=new de,s=(c,d)=>{const p=new Kn(this.database,c);n&&n.call(a.context,p,d),o.resolve(p)};s.userCallback=n,s.context=a.context;const l=c=>{a.cancel&&a.cancel.call(a.context,c),o.reject(c)};switch(t){case"value":tc(this._delegate,s,l,{onlyOnce:!0});break;case"child_added":Du(this._delegate,s,l,{onlyOnce:!0});break;case"child_removed":Lu(this._delegate,s,l,{onlyOnce:!0});break;case"child_changed":Mu(this._delegate,s,l,{onlyOnce:!0});break;case"child_moved":Fu(this._delegate,s,l,{onlyOnce:!0});break;default:throw new Error(ue("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return H("Query.limitToFirst",1,1,arguments.length),new Jt(this.database,Ye(this._delegate,d4(t)))}limitToLast(t){return H("Query.limitToLast",1,1,arguments.length),new Jt(this.database,Ye(this._delegate,u4(t)))}orderByChild(t){return H("Query.orderByChild",1,1,arguments.length),new Jt(this.database,Ye(this._delegate,h4(t)))}orderByKey(){return H("Query.orderByKey",0,0,arguments.length),new Jt(this.database,Ye(this._delegate,_4()))}orderByPriority(){return H("Query.orderByPriority",0,0,arguments.length),new Jt(this.database,Ye(this._delegate,x4()))}orderByValue(){return H("Query.orderByValue",0,0,arguments.length),new Jt(this.database,Ye(this._delegate,b4()))}startAt(t=null,n){return H("Query.startAt",0,2,arguments.length),new Jt(this.database,Ye(this._delegate,o4(t,n)))}startAfter(t=null,n){return H("Query.startAfter",0,2,arguments.length),new Jt(this.database,Ye(this._delegate,l4(t,n)))}endAt(t=null,n){return H("Query.endAt",0,2,arguments.length),new Jt(this.database,Ye(this._delegate,i4(t,n)))}endBefore(t=null,n){return H("Query.endBefore",0,2,arguments.length),new Jt(this.database,Ye(this._delegate,a4(t,n)))}equalTo(t,n){return H("Query.equalTo",1,2,arguments.length),new Jt(this.database,Ye(this._delegate,w4(t,n)))}toString(){return H("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return H("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(H("Query.isEqual",1,1,arguments.length),!(t instanceof Jt)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){const r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,Vt(t,"cancel",r.cancel,!0),r.context=i,Up(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(ue(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new ve(this.database,new Me(this._delegate._repo,this._delegate._path))}}class ve extends Jt{constructor(t,n){super(t,new fe(n._repo,n._path,new ds,!1)),this.database=t,this._delegate=n}getKey(){return H("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return H("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new ve(this.database,Oi(this._delegate,t))}getParent(){H("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ve(this.database,t):null}getRoot(){return H("Reference.root",0,0,arguments.length),new ve(this.database,this._delegate.root)}set(t,n){H("Reference.set",1,2,arguments.length),Vt("Reference.set","onComplete",n,!0);const i=bd(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(H("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let a=0;a<t.length;++a)r[""+a]=t[a];t=r,r_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pe("Reference.update",this._delegate._path),Vt("Reference.update","onComplete",n,!0);const i=e4(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){H("Reference.setWithPriority",2,3,arguments.length),Vt("Reference.setWithPriority","onComplete",i,!0);const r=t4(this._delegate,t,n);return i&&r.then(()=>i(null),a=>i(a)),r}remove(t){H("Reference.remove",0,1,arguments.length),Vt("Reference.remove","onComplete",t,!0);const n=Zw(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){H("Reference.transaction",1,3,arguments.length),Vt("Reference.transaction","transactionUpdate",t,!1),Vt("Reference.transaction","onComplete",n,!0),B4("Reference.transaction","applyLocally",i,!0);const r=$4(this._delegate,t,{applyLocally:i}).then(a=>new G4(a.committed,new Kn(this.database,a.snapshot)));return n&&r.then(a=>n(null,a.committed,a.snapshot),a=>n(a,!1,null)),r}setPriority(t,n){H("Reference.setPriority",1,2,arguments.length),Vt("Reference.setPriority","onComplete",n,!0);const i=Xw(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){H("Reference.push",0,2,arguments.length),Vt("Reference.push","onComplete",n,!0);const i=Jw(this._delegate,t),r=i.then(o=>new ve(this.database,o));n&&r.then(()=>n(null),o=>n(o));const a=new ve(this.database,i);return a.then=r.then.bind(r),a.catch=r.catch.bind(r,void 0),a}onDisconnect(){return Pe("Reference.onDisconnect",this._delegate._path),new V4(new Qw(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:I4,forceLongPolling:A4}}useEmulator(t,n,i={}){O4(this._delegate,t,n,i)}ref(t){if(H("database.ref",0,1,arguments.length),t instanceof ve){const n=Nu(this._delegate,t.toString());return new ve(this,n)}else{const n=Xm(this._delegate,t);return new ve(this,n)}}refFromURL(t){H("database.refFromURL",1,1,arguments.length);const i=Nu(this._delegate,t);return new ve(this,i)}goOffline(){return H("database.goOffline",0,0,arguments.length),P4(this._delegate)}goOnline(){return H("database.goOnline",0,0,arguments.length),N4(this._delegate)}}va.ServerValue={TIMESTAMP:L4(),increment:e=>z4(e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4({app:e,url:t,version:n,customAuthImpl:i,namespace:r,nodeAdmin:a=!1}){Fh(n);const o=new yh("auth-internal",new wh("database-standalone"));return o.setComponent(new Xn("auth-internal",()=>i,"PRIVATE")),{instance:new va(n_(e,o,void 0,t,a),e),namespace:r}}var q4=Object.freeze({__proto__:null,initStandalone:K4});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=va.ServerValue;function J4(e){e.INTERNAL.registerComponent(new Xn("database-compat",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new va(r,i)},"PUBLIC").setServiceProps({Reference:ve,Query:Jt,Database:va,DataSnapshot:Kn,enableLogging:D4,INTERNAL:q4,ServerValue:Q4}).setMultipleInstances(!0)),e.registerVersion(W4,j4)}J4(An);var fn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n};const Z4={setup(){An.initializeApp(gv);let e=document.documentElement.clientHeight,t=Xt(!1),n=document.documentElement.clientHeight;return/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&(t.value=!1),{appHeihgt:e,isSafari:t,mainHeihgt:n}}};function X4(e,t,n,i,r,a){const o=or("router-view");return ut(),St("div",{style:nn({height:i.isSafari?`${i.mainHeihgt}px`:"100vh"})},[qt(o)],4)}var tE=fn(Z4,[["render",X4]]);/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */var a_="store";function Cr(e){return e===void 0&&(e=null),an(e!==null?e:a_)}var eE=typeof window!="undefined"?window:typeof global!="undefined"?global:{},Ui=eE.__VUE_DEVTOOLS_GLOBAL_HOOK__;function nE(e){!Ui||(e._devtoolHook=Ui,Ui.emit("vuex:init",e),Ui.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(t,n){Ui.emit("vuex:mutation",t,n)},{prepend:!0}),e.subscribeAction(function(t,n){Ui.emit("vuex:action",t,n)},{prepend:!0}))}function Sr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function iE(e){return e!==null&&typeof e=="object"}function rE(e){return e&&typeof e.then=="function"}function aE(e,t){return function(){return e(t)}}var Qe=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},o_={namespaced:{configurable:!0}};o_.namespaced.get=function(){return!!this._rawModule.namespaced};Qe.prototype.addChild=function(t,n){this._children[t]=n};Qe.prototype.removeChild=function(t){delete this._children[t]};Qe.prototype.getChild=function(t){return this._children[t]};Qe.prototype.hasChild=function(t){return t in this._children};Qe.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Qe.prototype.forEachChild=function(t){Sr(this._children,t)};Qe.prototype.forEachGetter=function(t){this._rawModule.getters&&Sr(this._rawModule.getters,t)};Qe.prototype.forEachAction=function(t){this._rawModule.actions&&Sr(this._rawModule.actions,t)};Qe.prototype.forEachMutation=function(t){this._rawModule.mutations&&Sr(this._rawModule.mutations,t)};Object.defineProperties(Qe.prototype,o_);var Fi=function(t){this.register([],t,!1)};Fi.prototype.get=function(t){return t.reduce(function(n,i){return n.getChild(i)},this.root)};Fi.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(i,r){return n=n.getChild(r),i+(n.namespaced?r+"/":"")},"")};Fi.prototype.update=function(t){s_([],this.root,t)};Fi.prototype.register=function(t,n,i){var r=this;i===void 0&&(i=!0);var a=new Qe(n,i);if(t.length===0)this.root=a;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],a)}n.modules&&Sr(n.modules,function(s,l){r.register(t.concat(l),s,i)})};Fi.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1],r=n.getChild(i);!r||!r.runtime||n.removeChild(i)};Fi.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1];return n?n.hasChild(i):!1};function s_(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;s_(e.concat(i),t.getChild(i),n.modules[i])}}function oE(e){return new he(e)}var he=function(t){var n=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var r=t.strict;r===void 0&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Fi(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var a=this,o=this,s=o.dispatch,l=o.commit;this.dispatch=function(u,h){return s.call(a,u,h)},this.commit=function(u,h,_){return l.call(a,u,h,_)},this.strict=r;var c=this._modules.root.state;ks(this,c,[],this._modules.root),wd(this,c),i.forEach(function(p){return p(n)});var d=t.devtools!==void 0?t.devtools:!0;d&&nE(this)},yd={state:{configurable:!0}};he.prototype.install=function(t,n){t.provide(n||a_,this),t.config.globalProperties.$store=this};yd.state.get=function(){return this._state.data};yd.state.set=function(e){};he.prototype.commit=function(t,n,i){var r=this,a=zo(t,n,i),o=a.type,s=a.payload,l={type:o,payload:s},c=this._mutations[o];!c||(this._withCommit(function(){c.forEach(function(p){p(s)})}),this._subscribers.slice().forEach(function(d){return d(l,r.state)}))};he.prototype.dispatch=function(t,n){var i=this,r=zo(t,n),a=r.type,o=r.payload,s={type:a,payload:o},l=this._actions[a];if(!!l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(s,i.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(d){return d(o)})):l[0](o);return new Promise(function(d,p){c.then(function(u){try{i._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(s,i.state)})}catch{}d(u)},function(u){try{i._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(s,i.state,u)})}catch{}p(u)})})}};he.prototype.subscribe=function(t,n){return l_(t,this._subscribers,n)};he.prototype.subscribeAction=function(t,n){var i=typeof t=="function"?{before:t}:t;return l_(i,this._actionSubscribers,n)};he.prototype.watch=function(t,n,i){var r=this;return Xi(function(){return t(r.state,r.getters)},n,Object.assign({},i))};he.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};he.prototype.registerModule=function(t,n,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),ks(this,this.state,t,this._modules.get(t),i.preserveState),wd(this,this.state)};he.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=Ed(n.state,t.slice(0,-1));delete i[t[t.length-1]]}),c_(this)};he.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};he.prototype.hotUpdate=function(t){this._modules.update(t),c_(this,!0)};he.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(he.prototype,yd);function l_(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function c_(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;ks(e,n,[],e._modules.root,!0),wd(e,n,t)}function wd(e,t,n){var i=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,a={};Sr(r,function(o,s){a[s]=aE(o,e),Object.defineProperty(e.getters,s,{get:function(){return a[s]()},enumerable:!0})}),e._state=sn({data:t}),e.strict&&uE(e),i&&n&&e._withCommit(function(){i.data=null})}function ks(e,t,n,i,r){var a=!n.length,o=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=i),!a&&!r){var s=Ed(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){s[l]=i.state})}var c=i.context=sE(e,o,n);i.forEachMutation(function(d,p){var u=o+p;cE(e,u,d,c)}),i.forEachAction(function(d,p){var u=d.root?p:o+p,h=d.handler||d;dE(e,u,h,c)}),i.forEachGetter(function(d,p){var u=o+p;pE(e,u,d,c)}),i.forEachChild(function(d,p){ks(e,t,n.concat(p),d,r)})}function sE(e,t,n){var i=t==="",r={dispatch:i?e.dispatch:function(a,o,s){var l=zo(a,o,s),c=l.payload,d=l.options,p=l.type;return(!d||!d.root)&&(p=t+p),e.dispatch(p,c)},commit:i?e.commit:function(a,o,s){var l=zo(a,o,s),c=l.payload,d=l.options,p=l.type;(!d||!d.root)&&(p=t+p),e.commit(p,c,d)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return lE(e,t)}},state:{get:function(){return Ed(e.state,n)}}}),r}function lE(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach(function(r){if(r.slice(0,i)===t){var a=r.slice(i);Object.defineProperty(n,a,{get:function(){return e.getters[r]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function cE(e,t,n,i){var r=e._mutations[t]||(e._mutations[t]=[]);r.push(function(o){n.call(e,i.state,o)})}function dE(e,t,n,i){var r=e._actions[t]||(e._actions[t]=[]);r.push(function(o){var s=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},o);return rE(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):s})}function pE(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(a){return n(i.state,i.getters,a.state,a.getters)})}function uE(e){Xi(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Ed(e,t){return t.reduce(function(n,i){return n[i]},e)}function zo(e,t,n){return iE(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var fE=oE({state:{linkedRoom:"",role:""},mutations:{setLinkedRoom(e,t){e.linkedRoom=t},setRole(e,t){e.role=t}},actions:{}});const hE={},d_=e=>(Ea("data-v-211d9c1c"),e=e(),Ca(),e),mE={id:"EnterPage"},_E=d_(()=>E("h1",null,[Rn("Rock Paper Scissors"),E("br",{class:"hidden-pad-up"}),Rn("\u7DDA\u4E0A\u731C\u62F3")],-1)),gE={class:"btn_group"},xE=Rn(" English "),vE=Rn(" \u4E2D\u6587 "),bE=d_(()=>E("div",{class:"footer"},null,-1));function yE(e,t,n,i,r,a){const o=or("router-link");return ut(),St("div",mE,[_E,E("div",gE,[qt(o,{to:"/en-us",class:"btn"},{default:yl(()=>[xE]),_:1}),qt(o,{to:"/zh-tw",class:"btn"},{default:yl(()=>[vE]),_:1})]),bE])}var wE=fn(hE,[["render",yE],["__scopeId","data-v-211d9c1c"]]);//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var p_;function C(){return p_.apply(null,arguments)}function EE(e){p_=e}function Ge(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ci(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Cd(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(dt(e,t))return!1;return!0}function ce(e){return e===void 0}function kn(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Da(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function u_(e,t){var n=[],i,r=e.length;for(i=0;i<r;++i)n.push(t(e[i],i));return n}function $n(e,t){for(var n in t)dt(t,n)&&(e[n]=t[n]);return dt(t,"toString")&&(e.toString=t.toString),dt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function hn(e,t,n,i){return F_(e,t,n,i,!0).utc()}function CE(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function q(e){return e._pf==null&&(e._pf=CE()),e._pf}var nc;Array.prototype.some?nc=Array.prototype.some:nc=function(e){var t=Object(this),n=t.length>>>0,i;for(i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};function Sd(e){if(e._isValid==null){var t=q(e),n=nc.call(t.parsedDateParts,function(r){return r!=null}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=i;else return i}return e._isValid}function Is(e){var t=hn(NaN);return e!=null?$n(q(t),e):q(t).userInvalidated=!0,t}var Yu=C.momentProperties=[],dl=!1;function Rd(e,t){var n,i,r,a=Yu.length;if(ce(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ce(t._i)||(e._i=t._i),ce(t._f)||(e._f=t._f),ce(t._l)||(e._l=t._l),ce(t._strict)||(e._strict=t._strict),ce(t._tzm)||(e._tzm=t._tzm),ce(t._isUTC)||(e._isUTC=t._isUTC),ce(t._offset)||(e._offset=t._offset),ce(t._pf)||(e._pf=q(t)),ce(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)i=Yu[n],r=t[i],ce(r)||(e[i]=r);return e}function Ma(e){Rd(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),dl===!1&&(dl=!0,C.updateOffset(this),dl=!1)}function Ke(e){return e instanceof Ma||e!=null&&e._isAMomentObject!=null}function f_(e){C.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function Fe(e,t){var n=!0;return $n(function(){if(C.deprecationHandler!=null&&C.deprecationHandler(null,e),n){var i=[],r,a,o,s=arguments.length;for(a=0;a<s;a++){if(r="",typeof arguments[a]=="object"){r+=`
[`+a+"] ";for(o in arguments[0])dt(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[a];i.push(r)}f_(e+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var $u={};function h_(e,t){C.deprecationHandler!=null&&C.deprecationHandler(e,t),$u[e]||(f_(t),$u[e]=!0)}C.suppressDeprecationWarnings=!1;C.deprecationHandler=null;function mn(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function SE(e){var t,n;for(n in e)dt(e,n)&&(t=e[n],mn(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ic(e,t){var n=$n({},e),i;for(i in t)dt(t,i)&&(Ci(e[i])&&Ci(t[i])?(n[i]={},$n(n[i],e[i]),$n(n[i],t[i])):t[i]!=null?n[i]=t[i]:delete n[i]);for(i in e)dt(e,i)&&!dt(t,i)&&Ci(e[i])&&(n[i]=$n({},n[i]));return n}function Td(e){e!=null&&this.set(e)}var rc;Object.keys?rc=Object.keys:rc=function(e){var t,n=[];for(t in e)dt(e,t)&&n.push(t);return n};var RE={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function TE(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return mn(i)?i.call(t,n):i}function un(e,t,n){var i=""+Math.abs(e),r=t-i.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var kd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,pl={},nr={};function $(e,t,n,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),e&&(nr[e]=r),t&&(nr[t[0]]=function(){return un(r.apply(this,arguments),t[1],t[2])}),n&&(nr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function kE(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function IE(e){var t=e.match(kd),n,i;for(n=0,i=t.length;n<i;n++)nr[t[n]]?t[n]=nr[t[n]]:t[n]=kE(t[n]);return function(r){var a="",o;for(o=0;o<i;o++)a+=mn(t[o])?t[o].call(r,e):t[o];return a}}function no(e,t){return e.isValid()?(t=m_(t,e.localeData()),pl[t]=pl[t]||IE(t),pl[t](e)):e.localeData().invalidDate()}function m_(e,t){var n=5;function i(r){return t.longDateFormat(r)||r}for(qa.lastIndex=0;n>=0&&qa.test(e);)e=e.replace(qa,i),qa.lastIndex=0,n-=1;return e}var AE={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function OE(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(kd).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[e])}var PE="Invalid date";function NE(){return this._invalidDate}var DE="%d",ME=/\d{1,2}/;function FE(e){return this._ordinal.replace("%d",e)}var LE={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function zE(e,t,n,i){var r=this._relativeTime[n];return mn(r)?r(e,t,n,i):r.replace(/%d/i,e)}function YE(e,t){var n=this._relativeTime[e>0?"future":"past"];return mn(n)?n(t):n.replace(/%s/i,t)}var Xr={};function ne(e,t){var n=e.toLowerCase();Xr[n]=Xr[n+"s"]=Xr[t]=e}function Le(e){return typeof e=="string"?Xr[e]||Xr[e.toLowerCase()]:void 0}function Id(e){var t={},n,i;for(i in e)dt(e,i)&&(n=Le(i),n&&(t[n]=e[i]));return t}var __={};function ie(e,t){__[e]=t}function $E(e){var t=[],n;for(n in e)dt(e,n)&&t.push({unit:n,priority:__[n]});return t.sort(function(i,r){return i.priority-r.priority}),t}function As(e){return e%4===0&&e%100!==0||e%400===0}function Ie(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function tt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Ie(t)),n}function Rr(e,t){return function(n){return n!=null?(g_(this,e,n),C.updateOffset(this,t),this):Yo(this,e)}}function Yo(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function g_(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&As(e.year())&&e.month()===1&&e.date()===29?(n=tt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Fs(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function WE(e){return e=Le(e),mn(this[e])?this[e]():this}function jE(e,t){if(typeof e=="object"){e=Id(e);var n=$E(e),i,r=n.length;for(i=0;i<r;i++)this[n[i].unit](e[n[i].unit])}else if(e=Le(e),mn(this[e]))return this[e](t);return this}var x_=/\d/,Ce=/\d\d/,v_=/\d{3}/,Ad=/\d{4}/,Os=/[+-]?\d{6}/,Nt=/\d\d?/,b_=/\d\d\d\d?/,y_=/\d\d\d\d\d\d?/,Ps=/\d{1,3}/,Od=/\d{1,4}/,Ns=/[+-]?\d{1,6}/,Tr=/\d+/,Ds=/[+-]?\d+/,UE=/Z|[+-]\d\d:?\d\d/gi,Ms=/Z|[+-]\d\d(?::?\d\d)?/gi,BE=/[+-]?\d+(\.\d{1,3})?/,Fa=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$o;$o={};function M(e,t,n){$o[e]=mn(t)?t:function(i,r){return i&&n?n:t}}function HE(e,t){return dt($o,e)?$o[e](t._strict,t._locale):new RegExp(VE(e))}function VE(e){return ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,i,r,a){return n||i||r||a}))}function ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ac={};function _t(e,t){var n,i=t,r;for(typeof e=="string"&&(e=[e]),kn(t)&&(i=function(a,o){o[t]=tt(a)}),r=e.length,n=0;n<r;n++)ac[e[n]]=i}function La(e,t){_t(e,function(n,i,r,a){r._w=r._w||{},t(n,r._w,r,a)})}function GE(e,t,n){t!=null&&dt(ac,e)&&ac[e](t,n._a,n,e)}var ee=0,yn=1,en=2,Ut=3,Be=4,wn=5,gi=6,KE=7,qE=8;function QE(e,t){return(e%t+t)%t}var $t;Array.prototype.indexOf?$t=Array.prototype.indexOf:$t=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Fs(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=QE(t,12);return e+=(t-n)/12,n===1?As(e)?29:28:31-n%7%2}$("M",["MM",2],"Mo",function(){return this.month()+1});$("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});$("MMMM",0,0,function(e){return this.localeData().months(this,e)});ne("month","M");ie("month",8);M("M",Nt);M("MM",Nt,Ce);M("MMM",function(e,t){return t.monthsShortRegex(e)});M("MMMM",function(e,t){return t.monthsRegex(e)});_t(["M","MM"],function(e,t){t[yn]=tt(e)-1});_t(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);r!=null?t[yn]=r:q(n).invalidMonth=e});var JE="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),w_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),E_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ZE=Fa,XE=Fa;function tC(e,t){return e?Ge(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||E_).test(t)?"format":"standalone"][e.month()]:Ge(this._months)?this._months:this._months.standalone}function eC(e,t){return e?Ge(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[E_.test(t)?"format":"standalone"][e.month()]:Ge(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function nC(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=hn([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?t==="MMM"?(r=$t.call(this._shortMonthsParse,o),r!==-1?r:null):(r=$t.call(this._longMonthsParse,o),r!==-1?r:null):t==="MMM"?(r=$t.call(this._shortMonthsParse,o),r!==-1?r:(r=$t.call(this._longMonthsParse,o),r!==-1?r:null)):(r=$t.call(this._longMonthsParse,o),r!==-1?r:(r=$t.call(this._shortMonthsParse,o),r!==-1?r:null))}function iC(e,t,n){var i,r,a;if(this._monthsParseExact)return nC.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=hn([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[i].test(e))return i;if(n&&t==="MMM"&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function C_(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=tt(t);else if(t=e.localeData().monthsParse(t),!kn(t))return e}return n=Math.min(e.date(),Fs(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function S_(e){return e!=null?(C_(this,e),C.updateOffset(this,!0),this):Yo(this,"Month")}function rC(){return Fs(this.year(),this.month())}function aC(e){return this._monthsParseExact?(dt(this,"_monthsRegex")||R_.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(dt(this,"_monthsShortRegex")||(this._monthsShortRegex=ZE),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function oC(e){return this._monthsParseExact?(dt(this,"_monthsRegex")||R_.call(this),e?this._monthsStrictRegex:this._monthsRegex):(dt(this,"_monthsRegex")||(this._monthsRegex=XE),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function R_(){function e(o,s){return s.length-o.length}var t=[],n=[],i=[],r,a;for(r=0;r<12;r++)a=hn([2e3,r]),t.push(this.monthsShort(a,"")),n.push(this.months(a,"")),i.push(this.months(a,"")),i.push(this.monthsShort(a,""));for(t.sort(e),n.sort(e),i.sort(e),r=0;r<12;r++)t[r]=ge(t[r]),n[r]=ge(n[r]);for(r=0;r<24;r++)i[r]=ge(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}$("Y",0,0,function(){var e=this.year();return e<=9999?un(e,4):"+"+e});$(0,["YY",2],0,function(){return this.year()%100});$(0,["YYYY",4],0,"year");$(0,["YYYYY",5],0,"year");$(0,["YYYYYY",6,!0],0,"year");ne("year","y");ie("year",1);M("Y",Ds);M("YY",Nt,Ce);M("YYYY",Od,Ad);M("YYYYY",Ns,Os);M("YYYYYY",Ns,Os);_t(["YYYYY","YYYYYY"],ee);_t("YYYY",function(e,t){t[ee]=e.length===2?C.parseTwoDigitYear(e):tt(e)});_t("YY",function(e,t){t[ee]=C.parseTwoDigitYear(e)});_t("Y",function(e,t){t[ee]=parseInt(e,10)});function ta(e){return As(e)?366:365}C.parseTwoDigitYear=function(e){return tt(e)+(tt(e)>68?1900:2e3)};var T_=Rr("FullYear",!0);function sC(){return As(this.year())}function lC(e,t,n,i,r,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,a,o),s}function ba(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Wo(e,t,n){var i=7+t-n,r=(7+ba(e,0,i).getUTCDay()-t)%7;return-r+i-1}function k_(e,t,n,i,r){var a=(7+n-i)%7,o=Wo(e,i,r),s=1+7*(t-1)+a+o,l,c;return s<=0?(l=e-1,c=ta(l)+s):s>ta(e)?(l=e+1,c=s-ta(e)):(l=e,c=s),{year:l,dayOfYear:c}}function ya(e,t,n){var i=Wo(e.year(),t,n),r=Math.floor((e.dayOfYear()-i-1)/7)+1,a,o;return r<1?(o=e.year()-1,a=r+Cn(o,t,n)):r>Cn(e.year(),t,n)?(a=r-Cn(e.year(),t,n),o=e.year()+1):(o=e.year(),a=r),{week:a,year:o}}function Cn(e,t,n){var i=Wo(e,t,n),r=Wo(e+1,t,n);return(ta(e)-i+r)/7}$("w",["ww",2],"wo","week");$("W",["WW",2],"Wo","isoWeek");ne("week","w");ne("isoWeek","W");ie("week",5);ie("isoWeek",5);M("w",Nt);M("ww",Nt,Ce);M("W",Nt);M("WW",Nt,Ce);La(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=tt(e)});function cC(e){return ya(e,this._week.dow,this._week.doy).week}var dC={dow:0,doy:6};function pC(){return this._week.dow}function uC(){return this._week.doy}function fC(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function hC(e){var t=ya(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}$("d",0,"do","day");$("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});$("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});$("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});$("e",0,0,"weekday");$("E",0,0,"isoWeekday");ne("day","d");ne("weekday","e");ne("isoWeekday","E");ie("day",11);ie("weekday",11);ie("isoWeekday",11);M("d",Nt);M("e",Nt);M("E",Nt);M("dd",function(e,t){return t.weekdaysMinRegex(e)});M("ddd",function(e,t){return t.weekdaysShortRegex(e)});M("dddd",function(e,t){return t.weekdaysRegex(e)});La(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);r!=null?t.d=r:q(n).invalidWeekday=e});La(["d","e","E"],function(e,t,n,i){t[i]=tt(e)});function mC(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function _C(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pd(e,t){return e.slice(t,7).concat(e.slice(0,t))}var gC="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),I_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xC="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vC=Fa,bC=Fa,yC=Fa;function wC(e,t){var n=Ge(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Pd(n,this._week.dow):e?n[e.day()]:n}function EC(e){return e===!0?Pd(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function CC(e){return e===!0?Pd(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function SC(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=hn([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?t==="dddd"?(r=$t.call(this._weekdaysParse,o),r!==-1?r:null):t==="ddd"?(r=$t.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=$t.call(this._minWeekdaysParse,o),r!==-1?r:null):t==="dddd"?(r=$t.call(this._weekdaysParse,o),r!==-1||(r=$t.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=$t.call(this._minWeekdaysParse,o),r!==-1?r:null)):t==="ddd"?(r=$t.call(this._shortWeekdaysParse,o),r!==-1||(r=$t.call(this._weekdaysParse,o),r!==-1)?r:(r=$t.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=$t.call(this._minWeekdaysParse,o),r!==-1||(r=$t.call(this._weekdaysParse,o),r!==-1)?r:(r=$t.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function RC(e,t,n){var i,r,a;if(this._weekdaysParseExact)return SC.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=hn([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[i].test(e))return i;if(n&&t==="ddd"&&this._shortWeekdaysParse[i].test(e))return i;if(n&&t==="dd"&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function TC(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=mC(e,this.localeData()),this.add(e-t,"d")):t}function kC(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function IC(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=_C(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function AC(e){return this._weekdaysParseExact?(dt(this,"_weekdaysRegex")||Nd.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(dt(this,"_weekdaysRegex")||(this._weekdaysRegex=vC),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function OC(e){return this._weekdaysParseExact?(dt(this,"_weekdaysRegex")||Nd.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(dt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bC),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function PC(e){return this._weekdaysParseExact?(dt(this,"_weekdaysRegex")||Nd.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(dt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yC),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Nd(){function e(d,p){return p.length-d.length}var t=[],n=[],i=[],r=[],a,o,s,l,c;for(a=0;a<7;a++)o=hn([2e3,1]).day(a),s=ge(this.weekdaysMin(o,"")),l=ge(this.weekdaysShort(o,"")),c=ge(this.weekdays(o,"")),t.push(s),n.push(l),i.push(c),r.push(s),r.push(l),r.push(c);t.sort(e),n.sort(e),i.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Dd(){return this.hours()%12||12}function NC(){return this.hours()||24}$("H",["HH",2],0,"hour");$("h",["hh",2],0,Dd);$("k",["kk",2],0,NC);$("hmm",0,0,function(){return""+Dd.apply(this)+un(this.minutes(),2)});$("hmmss",0,0,function(){return""+Dd.apply(this)+un(this.minutes(),2)+un(this.seconds(),2)});$("Hmm",0,0,function(){return""+this.hours()+un(this.minutes(),2)});$("Hmmss",0,0,function(){return""+this.hours()+un(this.minutes(),2)+un(this.seconds(),2)});function A_(e,t){$(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}A_("a",!0);A_("A",!1);ne("hour","h");ie("hour",13);function O_(e,t){return t._meridiemParse}M("a",O_);M("A",O_);M("H",Nt);M("h",Nt);M("k",Nt);M("HH",Nt,Ce);M("hh",Nt,Ce);M("kk",Nt,Ce);M("hmm",b_);M("hmmss",y_);M("Hmm",b_);M("Hmmss",y_);_t(["H","HH"],Ut);_t(["k","kk"],function(e,t,n){var i=tt(e);t[Ut]=i===24?0:i});_t(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});_t(["h","hh"],function(e,t,n){t[Ut]=tt(e),q(n).bigHour=!0});_t("hmm",function(e,t,n){var i=e.length-2;t[Ut]=tt(e.substr(0,i)),t[Be]=tt(e.substr(i)),q(n).bigHour=!0});_t("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Ut]=tt(e.substr(0,i)),t[Be]=tt(e.substr(i,2)),t[wn]=tt(e.substr(r)),q(n).bigHour=!0});_t("Hmm",function(e,t,n){var i=e.length-2;t[Ut]=tt(e.substr(0,i)),t[Be]=tt(e.substr(i))});_t("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Ut]=tt(e.substr(0,i)),t[Be]=tt(e.substr(i,2)),t[wn]=tt(e.substr(r))});function DC(e){return(e+"").toLowerCase().charAt(0)==="p"}var MC=/[ap]\.?m?\.?/i,FC=Rr("Hours",!0);function LC(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var P_={calendar:RE,longDateFormat:AE,invalidDate:PE,ordinal:DE,dayOfMonthOrdinalParse:ME,relativeTime:LE,months:JE,monthsShort:w_,week:dC,weekdays:gC,weekdaysMin:xC,weekdaysShort:I_,meridiemParse:MC},Mt={},Yr={},wa;function zC(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function Wu(e){return e&&e.toLowerCase().replace("_","-")}function YC(e){for(var t=0,n,i,r,a;t<e.length;){for(a=Wu(e[t]).split("-"),n=a.length,i=Wu(e[t+1]),i=i?i.split("-"):null;n>0;){if(r=Ls(a.slice(0,n).join("-")),r)return r;if(i&&i.length>=n&&zC(a,i)>=n-1)break;n--}t++}return wa}function $C(e){return e.match("^[^/\\\\]*$")!=null}function Ls(e){var t=null,n;if(Mt[e]===void 0&&typeof ao!="undefined"&&ao&&ao.exports&&$C(e))try{t=wa._abbr,n=require,n("./locale/"+e),qn(t)}catch{Mt[e]=null}return Mt[e]}function qn(e,t){var n;return e&&(ce(t)?n=On(e):n=Md(e,t),n?wa=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),wa._abbr}function Md(e,t){if(t!==null){var n,i=P_;if(t.abbr=e,Mt[e]!=null)h_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Mt[e]._config;else if(t.parentLocale!=null)if(Mt[t.parentLocale]!=null)i=Mt[t.parentLocale]._config;else if(n=Ls(t.parentLocale),n!=null)i=n._config;else return Yr[t.parentLocale]||(Yr[t.parentLocale]=[]),Yr[t.parentLocale].push({name:e,config:t}),null;return Mt[e]=new Td(ic(i,t)),Yr[e]&&Yr[e].forEach(function(r){Md(r.name,r.config)}),qn(e),Mt[e]}else return delete Mt[e],null}function WC(e,t){if(t!=null){var n,i,r=P_;Mt[e]!=null&&Mt[e].parentLocale!=null?Mt[e].set(ic(Mt[e]._config,t)):(i=Ls(e),i!=null&&(r=i._config),t=ic(r,t),i==null&&(t.abbr=e),n=new Td(t),n.parentLocale=Mt[e],Mt[e]=n),qn(e)}else Mt[e]!=null&&(Mt[e].parentLocale!=null?(Mt[e]=Mt[e].parentLocale,e===qn()&&qn(e)):Mt[e]!=null&&delete Mt[e]);return Mt[e]}function On(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wa;if(!Ge(e)){if(t=Ls(e),t)return t;e=[e]}return YC(e)}function jC(){return rc(Mt)}function Fd(e){var t,n=e._a;return n&&q(e).overflow===-2&&(t=n[yn]<0||n[yn]>11?yn:n[en]<1||n[en]>Fs(n[ee],n[yn])?en:n[Ut]<0||n[Ut]>24||n[Ut]===24&&(n[Be]!==0||n[wn]!==0||n[gi]!==0)?Ut:n[Be]<0||n[Be]>59?Be:n[wn]<0||n[wn]>59?wn:n[gi]<0||n[gi]>999?gi:-1,q(e)._overflowDayOfYear&&(t<ee||t>en)&&(t=en),q(e)._overflowWeeks&&t===-1&&(t=KE),q(e)._overflowWeekday&&t===-1&&(t=qE),q(e).overflow=t),e}var UC=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,BC=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,HC=/Z|[+-]\d\d(?::?\d\d)?/,Qa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ul=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],VC=/^\/?Date\((-?\d+)/i,GC=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,KC={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function N_(e){var t,n,i=e._i,r=UC.exec(i)||BC.exec(i),a,o,s,l,c=Qa.length,d=ul.length;if(r){for(q(e).iso=!0,t=0,n=c;t<n;t++)if(Qa[t][1].exec(r[1])){o=Qa[t][0],a=Qa[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(r[3]){for(t=0,n=d;t<n;t++)if(ul[t][1].exec(r[3])){s=(r[2]||" ")+ul[t][0];break}if(s==null){e._isValid=!1;return}}if(!a&&s!=null){e._isValid=!1;return}if(r[4])if(HC.exec(r[4]))l="Z";else{e._isValid=!1;return}e._f=o+(s||"")+(l||""),zd(e)}else e._isValid=!1}function qC(e,t,n,i,r,a){var o=[QC(e),w_.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&o.push(parseInt(a,10)),o}function QC(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function JC(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ZC(e,t,n){if(e){var i=I_.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(i!==r)return q(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function XC(e,t,n){if(e)return KC[e];if(t)return 0;var i=parseInt(n,10),r=i%100,a=(i-r)/100;return a*60+r}function D_(e){var t=GC.exec(JC(e._i)),n;if(t){if(n=qC(t[4],t[3],t[2],t[5],t[6],t[7]),!ZC(t[1],n,e))return;e._a=n,e._tzm=XC(t[8],t[9],t[10]),e._d=ba.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),q(e).rfc2822=!0}else e._isValid=!1}function tS(e){var t=VC.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(N_(e),e._isValid===!1)delete e._isValid;else return;if(D_(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:C.createFromInputFallback(e)}C.createFromInputFallback=Fe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function qi(e,t,n){return e!=null?e:t!=null?t:n}function eS(e){var t=new Date(C.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Ld(e){var t,n,i=[],r,a,o;if(!e._d){for(r=eS(e),e._w&&e._a[en]==null&&e._a[yn]==null&&nS(e),e._dayOfYear!=null&&(o=qi(e._a[ee],r[ee]),(e._dayOfYear>ta(o)||e._dayOfYear===0)&&(q(e)._overflowDayOfYear=!0),n=ba(o,0,e._dayOfYear),e._a[yn]=n.getUTCMonth(),e._a[en]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=i[t]=r[t];for(;t<7;t++)e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ut]===24&&e._a[Be]===0&&e._a[wn]===0&&e._a[gi]===0&&(e._nextDay=!0,e._a[Ut]=0),e._d=(e._useUTC?ba:lC).apply(null,i),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ut]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==a&&(q(e).weekdayMismatch=!0)}}function nS(e){var t,n,i,r,a,o,s,l,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,o=4,n=qi(t.GG,e._a[ee],ya(Pt(),1,4).year),i=qi(t.W,1),r=qi(t.E,1),(r<1||r>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=ya(Pt(),a,o),n=qi(t.gg,e._a[ee],c.year),i=qi(t.w,c.week),t.d!=null?(r=t.d,(r<0||r>6)&&(l=!0)):t.e!=null?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a),i<1||i>Cn(n,a,o)?q(e)._overflowWeeks=!0:l!=null?q(e)._overflowWeekday=!0:(s=k_(n,i,r,a,o),e._a[ee]=s.year,e._dayOfYear=s.dayOfYear)}C.ISO_8601=function(){};C.RFC_2822=function(){};function zd(e){if(e._f===C.ISO_8601){N_(e);return}if(e._f===C.RFC_2822){D_(e);return}e._a=[],q(e).empty=!0;var t=""+e._i,n,i,r,a,o,s=t.length,l=0,c,d;for(r=m_(e._f,e._locale).match(kd)||[],d=r.length,n=0;n<d;n++)a=r[n],i=(t.match(HE(a,e))||[])[0],i&&(o=t.substr(0,t.indexOf(i)),o.length>0&&q(e).unusedInput.push(o),t=t.slice(t.indexOf(i)+i.length),l+=i.length),nr[a]?(i?q(e).empty=!1:q(e).unusedTokens.push(a),GE(a,i,e)):e._strict&&!i&&q(e).unusedTokens.push(a);q(e).charsLeftOver=s-l,t.length>0&&q(e).unusedInput.push(t),e._a[Ut]<=12&&q(e).bigHour===!0&&e._a[Ut]>0&&(q(e).bigHour=void 0),q(e).parsedDateParts=e._a.slice(0),q(e).meridiem=e._meridiem,e._a[Ut]=iS(e._locale,e._a[Ut],e._meridiem),c=q(e).era,c!==null&&(e._a[ee]=e._locale.erasConvertYear(c,e._a[ee])),Ld(e),Fd(e)}function iS(e,t,n){var i;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(i=e.isPM(n),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function rS(e){var t,n,i,r,a,o,s=!1,l=e._f.length;if(l===0){q(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<l;r++)a=0,o=!1,t=Rd({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],zd(t),Sd(t)&&(o=!0),a+=q(t).charsLeftOver,a+=q(t).unusedTokens.length*10,q(t).score=a,s?a<i&&(i=a,n=t):(i==null||a<i||o)&&(i=a,n=t,o&&(s=!0));$n(e,n||t)}function aS(e){if(!e._d){var t=Id(e._i),n=t.day===void 0?t.date:t.day;e._a=u_([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),Ld(e)}}function oS(e){var t=new Ma(Fd(M_(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function M_(e){var t=e._i,n=e._f;return e._locale=e._locale||On(e._l),t===null||n===void 0&&t===""?Is({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ke(t)?new Ma(Fd(t)):(Da(t)?e._d=t:Ge(n)?rS(e):n?zd(e):sS(e),Sd(e)||(e._d=null),e))}function sS(e){var t=e._i;ce(t)?e._d=new Date(C.now()):Da(t)?e._d=new Date(t.valueOf()):typeof t=="string"?tS(e):Ge(t)?(e._a=u_(t.slice(0),function(n){return parseInt(n,10)}),Ld(e)):Ci(t)?aS(e):kn(t)?e._d=new Date(t):C.createFromInputFallback(e)}function F_(e,t,n,i,r){var a={};return(t===!0||t===!1)&&(i=t,t=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(Ci(e)&&Cd(e)||Ge(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,oS(a)}function Pt(e,t,n,i){return F_(e,t,n,i,!1)}var lS=Fe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Is()}),cS=Fe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Is()});function L_(e,t){var n,i;if(t.length===1&&Ge(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function dS(){var e=[].slice.call(arguments,0);return L_("isBefore",e)}function pS(){var e=[].slice.call(arguments,0);return L_("isAfter",e)}var uS=function(){return Date.now?Date.now():+new Date},$r=["year","quarter","month","week","day","hour","minute","second","millisecond"];function fS(e){var t,n=!1,i,r=$r.length;for(t in e)if(dt(e,t)&&!($t.call($r,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(i=0;i<r;++i)if(e[$r[i]]){if(n)return!1;parseFloat(e[$r[i]])!==tt(e[$r[i]])&&(n=!0)}return!0}function hS(){return this._isValid}function mS(){return Je(NaN)}function zs(e){var t=Id(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=fS(t),this._milliseconds=+d+c*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+r+i*3+n*12,this._data={},this._locale=On(),this._bubble()}function io(e){return e instanceof zs}function oc(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function _S(e,t,n){var i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0,o;for(o=0;o<i;o++)(n&&e[o]!==t[o]||!n&&tt(e[o])!==tt(t[o]))&&a++;return a+r}function z_(e,t){$(e,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+un(~~(n/60),2)+t+un(~~n%60,2)})}z_("Z",":");z_("ZZ","");M("Z",Ms);M("ZZ",Ms);_t(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Yd(Ms,e)});var gS=/([\+\-]|\d\d)/gi;function Yd(e,t){var n=(t||"").match(e),i,r,a;return n===null?null:(i=n[n.length-1]||[],r=(i+"").match(gS)||["-",0,0],a=+(r[1]*60)+tt(r[2]),a===0?0:r[0]==="+"?a:-a)}function $d(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(Ke(e)||Da(e)?e.valueOf():Pt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),C.updateOffset(n,!1),n):Pt(e).local()}function sc(e){return-Math.round(e._d.getTimezoneOffset())}C.updateOffset=function(){};function xS(e,t,n){var i=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Yd(Ms,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(r=sc(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?W_(this,Je(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,C.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:sc(this)}function vS(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function bS(e){return this.utcOffset(0,e)}function yS(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(sc(this),"m")),this}function wS(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Yd(UE,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ES(e){return this.isValid()?(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function CS(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function SS(){if(!ce(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Rd(e,this),e=M_(e),e._a?(t=e._isUTC?hn(e._a):Pt(e._a),this._isDSTShifted=this.isValid()&&_S(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function RS(){return this.isValid()?!this._isUTC:!1}function TS(){return this.isValid()?this._isUTC:!1}function Y_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var kS=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,IS=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Je(e,t){var n=e,i=null,r,a,o;return io(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:kn(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(i=kS.exec(e))?(r=i[1]==="-"?-1:1,n={y:0,d:tt(i[en])*r,h:tt(i[Ut])*r,m:tt(i[Be])*r,s:tt(i[wn])*r,ms:tt(oc(i[gi]*1e3))*r}):(i=IS.exec(e))?(r=i[1]==="-"?-1:1,n={y:ci(i[2],r),M:ci(i[3],r),w:ci(i[4],r),d:ci(i[5],r),h:ci(i[6],r),m:ci(i[7],r),s:ci(i[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=AS(Pt(n.from),Pt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),a=new zs(n),io(e)&&dt(e,"_locale")&&(a._locale=e._locale),io(e)&&dt(e,"_isValid")&&(a._isValid=e._isValid),a}Je.fn=zs.prototype;Je.invalid=mS;function ci(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ju(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function AS(e,t){var n;return e.isValid()&&t.isValid()?(t=$d(t,e),e.isBefore(t)?n=ju(e,t):(n=ju(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function $_(e,t){return function(n,i){var r,a;return i!==null&&!isNaN(+i)&&(h_(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),r=Je(n,i),W_(this,r,e),this}}function W_(e,t,n,i){var r=t._milliseconds,a=oc(t._days),o=oc(t._months);!e.isValid()||(i=i==null?!0:i,o&&C_(e,Yo(e,"Month")+o*n),a&&g_(e,"Date",Yo(e,"Date")+a*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&C.updateOffset(e,a||o))}var OS=$_(1,"add"),PS=$_(-1,"subtract");function j_(e){return typeof e=="string"||e instanceof String}function NS(e){return Ke(e)||Da(e)||j_(e)||kn(e)||MS(e)||DS(e)||e===null||e===void 0}function DS(e){var t=Ci(e)&&!Cd(e),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,a,o=i.length;for(r=0;r<o;r+=1)a=i[r],n=n||dt(e,a);return t&&n}function MS(e){var t=Ge(e),n=!1;return t&&(n=e.filter(function(i){return!kn(i)&&j_(e)}).length===0),t&&n}function FS(e){var t=Ci(e)&&!Cd(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,a;for(r=0;r<i.length;r+=1)a=i[r],n=n||dt(e,a);return t&&n}function LS(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zS(e,t){arguments.length===1&&(arguments[0]?NS(arguments[0])?(e=arguments[0],t=void 0):FS(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Pt(),i=$d(n,this).startOf("day"),r=C.calendarFormat(this,i)||"sameElse",a=t&&(mn(t[r])?t[r].call(this,n):t[r]);return this.format(a||this.localeData().calendar(r,this,Pt(n)))}function YS(){return new Ma(this)}function $S(e,t){var n=Ke(e)?e:Pt(e);return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function WS(e,t){var n=Ke(e)?e:Pt(e);return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function jS(e,t,n,i){var r=Ke(e)?e:Pt(e),a=Ke(t)?t:Pt(t);return this.isValid()&&r.isValid()&&a.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(i[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function US(e,t){var n=Ke(e)?e:Pt(e),i;return this.isValid()&&n.isValid()?(t=Le(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function BS(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function HS(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function VS(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(i=$d(e,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,t=Le(t),t){case"year":a=ro(this,i)/12;break;case"month":a=ro(this,i);break;case"quarter":a=ro(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:Ie(a)}function ro(e,t){if(e.date()<t.date())return-ro(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(n,"months"),r,a;return t-i<0?(r=e.clone().add(n-1,"months"),a=(t-i)/(i-r)):(r=e.clone().add(n+1,"months"),a=(t-i)/(r-i)),-(n+a)||0}C.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";C.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function GS(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function KS(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?no(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):mn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",no(n,"Z")):no(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function qS(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,i,r,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(n+i+r+a)}function QS(e){e||(e=this.isUtc()?C.defaultFormatUtc:C.defaultFormat);var t=no(this,e);return this.localeData().postformat(t)}function JS(e,t){return this.isValid()&&(Ke(e)&&e.isValid()||Pt(e).isValid())?Je({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ZS(e){return this.from(Pt(),e)}function XS(e,t){return this.isValid()&&(Ke(e)&&e.isValid()||Pt(e).isValid())?Je({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function t8(e){return this.to(Pt(),e)}function U_(e){var t;return e===void 0?this._locale._abbr:(t=On(e),t!=null&&(this._locale=t),this)}var B_=Fe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function H_(){return this._locale}var jo=1e3,ir=60*jo,Uo=60*ir,V_=(365*400+97)*24*Uo;function rr(e,t){return(e%t+t)%t}function G_(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-V_:new Date(e,t,n).valueOf()}function K_(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-V_:Date.UTC(e,t,n)}function e8(e){var t,n;if(e=Le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?K_:G_,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=rr(t+(this._isUTC?0:this.utcOffset()*ir),Uo);break;case"minute":t=this._d.valueOf(),t-=rr(t,ir);break;case"second":t=this._d.valueOf(),t-=rr(t,jo);break}return this._d.setTime(t),C.updateOffset(this,!0),this}function n8(e){var t,n;if(e=Le(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?K_:G_,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Uo-rr(t+(this._isUTC?0:this.utcOffset()*ir),Uo)-1;break;case"minute":t=this._d.valueOf(),t+=ir-rr(t,ir)-1;break;case"second":t=this._d.valueOf(),t+=jo-rr(t,jo)-1;break}return this._d.setTime(t),C.updateOffset(this,!0),this}function i8(){return this._d.valueOf()-(this._offset||0)*6e4}function r8(){return Math.floor(this.valueOf()/1e3)}function a8(){return new Date(this.valueOf())}function o8(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function s8(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function l8(){return this.isValid()?this.toISOString():null}function c8(){return Sd(this)}function d8(){return $n({},q(this))}function p8(){return q(this).overflow}function u8(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}$("N",0,0,"eraAbbr");$("NN",0,0,"eraAbbr");$("NNN",0,0,"eraAbbr");$("NNNN",0,0,"eraName");$("NNNNN",0,0,"eraNarrow");$("y",["y",1],"yo","eraYear");$("y",["yy",2],0,"eraYear");$("y",["yyy",3],0,"eraYear");$("y",["yyyy",4],0,"eraYear");M("N",Wd);M("NN",Wd);M("NNN",Wd);M("NNNN",E8);M("NNNNN",C8);_t(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?q(n).era=r:q(n).invalidEra=e});M("y",Tr);M("yy",Tr);M("yyy",Tr);M("yyyy",Tr);M("yo",S8);_t(["y","yy","yyy","yyyy"],ee);_t(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ee]=n._locale.eraYearOrdinalParse(e,r):t[ee]=parseInt(e,10)});function f8(e,t){var n,i,r,a=this._eras||On("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":r=C(a[n].since).startOf("day"),a[n].since=r.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":r=C(a[n].until).startOf("day").valueOf(),a[n].until=r.valueOf();break}}return a}function h8(e,t,n){var i,r,a=this.eras(),o,s,l;for(e=e.toUpperCase(),i=0,r=a.length;i<r;++i)if(o=a[i].name.toUpperCase(),s=a[i].abbr.toUpperCase(),l=a[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return a[i];break;case"NNNN":if(o===e)return a[i];break;case"NNNNN":if(l===e)return a[i];break}else if([o,s,l].indexOf(e)>=0)return a[i]}function m8(e,t){var n=e.since<=e.until?1:-1;return t===void 0?C(e.since).year():C(e.since).year()+(t-e.offset)*n}function _8(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].name;return""}function g8(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].narrow;return""}function x8(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].abbr;return""}function v8(){var e,t,n,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=r[e].since<=r[e].until?1:-1,i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until||r[e].until<=i&&i<=r[e].since)return(this.year()-C(r[e].since).year())*n+r[e].offset;return this.year()}function b8(e){return dt(this,"_erasNameRegex")||jd.call(this),e?this._erasNameRegex:this._erasRegex}function y8(e){return dt(this,"_erasAbbrRegex")||jd.call(this),e?this._erasAbbrRegex:this._erasRegex}function w8(e){return dt(this,"_erasNarrowRegex")||jd.call(this),e?this._erasNarrowRegex:this._erasRegex}function Wd(e,t){return t.erasAbbrRegex(e)}function E8(e,t){return t.erasNameRegex(e)}function C8(e,t){return t.erasNarrowRegex(e)}function S8(e,t){return t._eraYearOrdinalRegex||Tr}function jd(){var e=[],t=[],n=[],i=[],r,a,o=this.eras();for(r=0,a=o.length;r<a;++r)t.push(ge(o[r].name)),e.push(ge(o[r].abbr)),n.push(ge(o[r].narrow)),i.push(ge(o[r].name)),i.push(ge(o[r].abbr)),i.push(ge(o[r].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}$(0,["gg",2],0,function(){return this.weekYear()%100});$(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ys(e,t){$(0,[e,e.length],0,t)}Ys("gggg","weekYear");Ys("ggggg","weekYear");Ys("GGGG","isoWeekYear");Ys("GGGGG","isoWeekYear");ne("weekYear","gg");ne("isoWeekYear","GG");ie("weekYear",1);ie("isoWeekYear",1);M("G",Ds);M("g",Ds);M("GG",Nt,Ce);M("gg",Nt,Ce);M("GGGG",Od,Ad);M("gggg",Od,Ad);M("GGGGG",Ns,Os);M("ggggg",Ns,Os);La(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=tt(e)});La(["gg","GG"],function(e,t,n,i){t[i]=C.parseTwoDigitYear(e)});function R8(e){return q_.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function T8(e){return q_.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function k8(){return Cn(this.year(),1,4)}function I8(){return Cn(this.isoWeekYear(),1,4)}function A8(){var e=this.localeData()._week;return Cn(this.year(),e.dow,e.doy)}function O8(){var e=this.localeData()._week;return Cn(this.weekYear(),e.dow,e.doy)}function q_(e,t,n,i,r){var a;return e==null?ya(this,i,r).year:(a=Cn(e,i,r),t>a&&(t=a),P8.call(this,e,t,n,i,r))}function P8(e,t,n,i,r){var a=k_(e,t,n,i,r),o=ba(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}$("Q",0,"Qo","quarter");ne("quarter","Q");ie("quarter",7);M("Q",x_);_t("Q",function(e,t){t[yn]=(tt(e)-1)*3});function N8(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}$("D",["DD",2],"Do","date");ne("date","D");ie("date",9);M("D",Nt);M("DD",Nt,Ce);M("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});_t(["D","DD"],en);_t("Do",function(e,t){t[en]=tt(e.match(Nt)[0])});var Q_=Rr("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear");ne("dayOfYear","DDD");ie("dayOfYear",4);M("DDD",Ps);M("DDDD",v_);_t(["DDD","DDDD"],function(e,t,n){n._dayOfYear=tt(e)});function D8(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}$("m",["mm",2],0,"minute");ne("minute","m");ie("minute",14);M("m",Nt);M("mm",Nt,Ce);_t(["m","mm"],Be);var M8=Rr("Minutes",!1);$("s",["ss",2],0,"second");ne("second","s");ie("second",15);M("s",Nt);M("ss",Nt,Ce);_t(["s","ss"],wn);var F8=Rr("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)});$(0,["SS",2],0,function(){return~~(this.millisecond()/10)});$(0,["SSS",3],0,"millisecond");$(0,["SSSS",4],0,function(){return this.millisecond()*10});$(0,["SSSSS",5],0,function(){return this.millisecond()*100});$(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});$(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});$(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});$(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ne("millisecond","ms");ie("millisecond",16);M("S",Ps,x_);M("SS",Ps,Ce);M("SSS",Ps,v_);var Wn,J_;for(Wn="SSSS";Wn.length<=9;Wn+="S")M(Wn,Tr);function L8(e,t){t[gi]=tt(("0."+e)*1e3)}for(Wn="S";Wn.length<=9;Wn+="S")_t(Wn,L8);J_=Rr("Milliseconds",!1);$("z",0,0,"zoneAbbr");$("zz",0,0,"zoneName");function z8(){return this._isUTC?"UTC":""}function Y8(){return this._isUTC?"Coordinated Universal Time":""}var R=Ma.prototype;R.add=OS;R.calendar=zS;R.clone=YS;R.diff=VS;R.endOf=n8;R.format=QS;R.from=JS;R.fromNow=ZS;R.to=XS;R.toNow=t8;R.get=WE;R.invalidAt=p8;R.isAfter=$S;R.isBefore=WS;R.isBetween=jS;R.isSame=US;R.isSameOrAfter=BS;R.isSameOrBefore=HS;R.isValid=c8;R.lang=B_;R.locale=U_;R.localeData=H_;R.max=cS;R.min=lS;R.parsingFlags=d8;R.set=jE;R.startOf=e8;R.subtract=PS;R.toArray=o8;R.toObject=s8;R.toDate=a8;R.toISOString=KS;R.inspect=qS;typeof Symbol!="undefined"&&Symbol.for!=null&&(R[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});R.toJSON=l8;R.toString=GS;R.unix=r8;R.valueOf=i8;R.creationData=u8;R.eraName=_8;R.eraNarrow=g8;R.eraAbbr=x8;R.eraYear=v8;R.year=T_;R.isLeapYear=sC;R.weekYear=R8;R.isoWeekYear=T8;R.quarter=R.quarters=N8;R.month=S_;R.daysInMonth=rC;R.week=R.weeks=fC;R.isoWeek=R.isoWeeks=hC;R.weeksInYear=A8;R.weeksInWeekYear=O8;R.isoWeeksInYear=k8;R.isoWeeksInISOWeekYear=I8;R.date=Q_;R.day=R.days=TC;R.weekday=kC;R.isoWeekday=IC;R.dayOfYear=D8;R.hour=R.hours=FC;R.minute=R.minutes=M8;R.second=R.seconds=F8;R.millisecond=R.milliseconds=J_;R.utcOffset=xS;R.utc=bS;R.local=yS;R.parseZone=wS;R.hasAlignedHourOffset=ES;R.isDST=CS;R.isLocal=RS;R.isUtcOffset=TS;R.isUtc=Y_;R.isUTC=Y_;R.zoneAbbr=z8;R.zoneName=Y8;R.dates=Fe("dates accessor is deprecated. Use date instead.",Q_);R.months=Fe("months accessor is deprecated. Use month instead",S_);R.years=Fe("years accessor is deprecated. Use year instead",T_);R.zone=Fe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vS);R.isDSTShifted=Fe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",SS);function $8(e){return Pt(e*1e3)}function W8(){return Pt.apply(null,arguments).parseZone()}function Z_(e){return e}var pt=Td.prototype;pt.calendar=TE;pt.longDateFormat=OE;pt.invalidDate=NE;pt.ordinal=FE;pt.preparse=Z_;pt.postformat=Z_;pt.relativeTime=zE;pt.pastFuture=YE;pt.set=SE;pt.eras=f8;pt.erasParse=h8;pt.erasConvertYear=m8;pt.erasAbbrRegex=y8;pt.erasNameRegex=b8;pt.erasNarrowRegex=w8;pt.months=tC;pt.monthsShort=eC;pt.monthsParse=iC;pt.monthsRegex=oC;pt.monthsShortRegex=aC;pt.week=cC;pt.firstDayOfYear=uC;pt.firstDayOfWeek=pC;pt.weekdays=wC;pt.weekdaysMin=CC;pt.weekdaysShort=EC;pt.weekdaysParse=RC;pt.weekdaysRegex=AC;pt.weekdaysShortRegex=OC;pt.weekdaysMinRegex=PC;pt.isPM=DC;pt.meridiem=LC;function Bo(e,t,n,i){var r=On(),a=hn().set(i,t);return r[n](a,e)}function X_(e,t,n){if(kn(e)&&(t=e,e=void 0),e=e||"",t!=null)return Bo(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Bo(e,i,n,"month");return r}function Ud(e,t,n,i){typeof e=="boolean"?(kn(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,kn(t)&&(n=t,t=void 0),t=t||"");var r=On(),a=e?r._week.dow:0,o,s=[];if(n!=null)return Bo(t,(n+a)%7,i,"day");for(o=0;o<7;o++)s[o]=Bo(t,(o+a)%7,i,"day");return s}function j8(e,t){return X_(e,t,"months")}function U8(e,t){return X_(e,t,"monthsShort")}function B8(e,t,n){return Ud(e,t,n,"weekdays")}function H8(e,t,n){return Ud(e,t,n,"weekdaysShort")}function V8(e,t,n){return Ud(e,t,n,"weekdaysMin")}qn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=tt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});C.lang=Fe("moment.lang is deprecated. Use moment.locale instead.",qn);C.langData=Fe("moment.langData is deprecated. Use moment.localeData instead.",On);var gn=Math.abs;function G8(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this}function tg(e,t,n,i){var r=Je(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function K8(e,t){return tg(this,e,t,1)}function q8(e,t){return tg(this,e,t,-1)}function Uu(e){return e<0?Math.floor(e):Math.ceil(e)}function Q8(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data,r,a,o,s,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=Uu(lc(n)+t)*864e5,t=0,n=0),i.milliseconds=e%1e3,r=Ie(e/1e3),i.seconds=r%60,a=Ie(r/60),i.minutes=a%60,o=Ie(a/60),i.hours=o%24,t+=Ie(o/24),l=Ie(eg(t)),n+=l,t-=Uu(lc(l)),s=Ie(n/12),n%=12,i.days=t,i.months=n,i.years=s,this}function eg(e){return e*4800/146097}function lc(e){return e*146097/4800}function J8(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if(e=Le(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+i/864e5,n=this._months+eg(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(lc(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}function Z8(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+tt(this._months/12)*31536e6:NaN}function Pn(e){return function(){return this.as(e)}}var X8=Pn("ms"),t9=Pn("s"),e9=Pn("m"),n9=Pn("h"),i9=Pn("d"),r9=Pn("w"),a9=Pn("M"),o9=Pn("Q"),s9=Pn("y");function l9(){return Je(this)}function c9(e){return e=Le(e),this.isValid()?this[e+"s"]():NaN}function Li(e){return function(){return this.isValid()?this._data[e]:NaN}}var d9=Li("milliseconds"),p9=Li("seconds"),u9=Li("minutes"),f9=Li("hours"),h9=Li("days"),m9=Li("months"),_9=Li("years");function g9(){return Ie(this.days()/7)}var xn=Math.round,Qi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function x9(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function v9(e,t,n,i){var r=Je(e).abs(),a=xn(r.as("s")),o=xn(r.as("m")),s=xn(r.as("h")),l=xn(r.as("d")),c=xn(r.as("M")),d=xn(r.as("w")),p=xn(r.as("y")),u=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(u=u||d<=1&&["w"]||d<n.w&&["ww",d]),u=u||c<=1&&["M"]||c<n.M&&["MM",c]||p<=1&&["y"]||["yy",p],u[2]=t,u[3]=+e>0,u[4]=i,x9.apply(null,u)}function b9(e){return e===void 0?xn:typeof e=="function"?(xn=e,!0):!1}function y9(e,t){return Qi[e]===void 0?!1:t===void 0?Qi[e]:(Qi[e]=t,e==="s"&&(Qi.ss=t-1),!0)}function w9(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Qi,r,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(i=Object.assign({},Qi,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),r=this.localeData(),a=v9(this,!n,i,r),n&&(a=r.pastFuture(+this,a)),r.postformat(a)}var fl=Math.abs;function Bi(e){return(e>0)-(e<0)||+e}function $s(){if(!this.isValid())return this.localeData().invalidDate();var e=fl(this._milliseconds)/1e3,t=fl(this._days),n=fl(this._months),i,r,a,o,s=this.asSeconds(),l,c,d,p;return s?(i=Ie(e/60),r=Ie(i/60),e%=60,i%=60,a=Ie(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",c=Bi(this._months)!==Bi(s)?"-":"",d=Bi(this._days)!==Bi(s)?"-":"",p=Bi(this._milliseconds)!==Bi(s)?"-":"",l+"P"+(a?c+a+"Y":"")+(n?c+n+"M":"")+(t?d+t+"D":"")+(r||i||e?"T":"")+(r?p+r+"H":"")+(i?p+i+"M":"")+(e?p+o+"S":"")):"P0D"}var ot=zs.prototype;ot.isValid=hS;ot.abs=G8;ot.add=K8;ot.subtract=q8;ot.as=J8;ot.asMilliseconds=X8;ot.asSeconds=t9;ot.asMinutes=e9;ot.asHours=n9;ot.asDays=i9;ot.asWeeks=r9;ot.asMonths=a9;ot.asQuarters=o9;ot.asYears=s9;ot.valueOf=Z8;ot._bubble=Q8;ot.clone=l9;ot.get=c9;ot.milliseconds=d9;ot.seconds=p9;ot.minutes=u9;ot.hours=f9;ot.days=h9;ot.weeks=g9;ot.months=m9;ot.years=_9;ot.humanize=w9;ot.toISOString=$s;ot.toString=$s;ot.toJSON=$s;ot.locale=U_;ot.localeData=H_;ot.toIsoString=Fe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$s);ot.lang=B_;$("X",0,0,"unix");$("x",0,0,"valueOf");M("x",Ds);M("X",BE);_t("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});_t("x",function(e,t,n){n._d=new Date(tt(e))});//! moment.js
C.version="2.29.3";EE(Pt);C.fn=R;C.min=dS;C.max=pS;C.now=uS;C.utc=hn;C.unix=$8;C.months=j8;C.isDate=Da;C.locale=qn;C.invalid=Is;C.duration=Je;C.isMoment=Ke;C.weekdays=B8;C.parseZone=W8;C.localeData=On;C.isDuration=io;C.monthsShort=U8;C.weekdaysMin=V8;C.defineLocale=Md;C.updateLocale=WC;C.locales=jC;C.weekdaysShort=H8;C.normalizeUnits=Le;C.relativeTimeRounding=b9;C.relativeTimeThreshold=y9;C.calendarFormat=LS;C.prototype=R;C.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const E9={setup(e,t){const n=Cr(),i=vr(),r=Xt(null),a=An.database();return{createRoom:()=>{if(!r.value)return alert("\u8ACB\u8F38\u5165\u623F\u865F");const l=a.ref(`/room/${r.value}`);l.once("value").then(function(c){if(c.val()){const d=C(c.val().play_A.lastConnect).isAfter(C().add(-2,"m")),p=C(c.val().play_B.lastConnect).isAfter(C().add(-2,"m"));if(d&&p)return alert("\u5DF2\u7D93\u5B58\u5728\u8A72\u623F\u9593\u56C9\uFF0C\u8ACB\u63DB\u4E00\u500B\u623F\u865F")}l.set({play_A:{join:!0,select:null,lastConnect:C(new Date).format("YYYY/MM/DD hh:mm")},play_B:{join:!1,select:null,lastConnect:null}}).then(()=>{n.commit("setLinkedRoom",r.value),n.commit("setRole","play_A"),setInterval(()=>{a.ref(`/room/${r.value}/play_A`).update({lastConnect:C(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/zh-tw/gameRoom")})})},createRoomId:r,close:()=>t.emit("close")}}},C9={class:"overlay"},S9={class:"popup"},R9={class:"createRoom"},T9=E("h2",{class:"mb_16"},"\u5275\u5EFA\u623F\u9593",-1);function k9(e,t,n,i,r,a){return ut(),St("div",C9,[E("div",S9,[E("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),E("div",R9,[T9,Jn(E("input",{type:"phone",placeholder:"\u8ACB\u81EA\u8A02\u623F\u9593ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.createRoomId=o)},null,512),[[es,i.createRoomId]]),E("div",{class:"btn mt_16 mb_12",onClick:t[2]||(t[2]=(...o)=>i.createRoom&&i.createRoom(...o))},"\u5275\u5EFA")])])])}var I9=fn(E9,[["render",k9]]);const A9={setup(e,t){const n=Cr(),i=vr(),r=Xt(null),a=An.database();return{joinRoom:()=>{if(!r.value)return alert("\u8ACB\u8F38\u5165\u623F\u865F");a.ref(`/room/${r.value}`).once("value").then(c=>{const d=c.val();if(!d)return alert("\u8A72\u623F\u9593\u4E0D\u5B58\u5728\u5594");if(!d.play_B.lastConnect||C(d.play_B.lastConnect).isBefore(C().add(-2,"m")))n.commit("setRole","play_B");else if(!d.play_A.lastConnect||C(d.play_A.lastConnect).isBefore(C().add(-2,"m")))n.commit("setRole","play_A");else return alert("\u8A72\u623F\u9593\u4EBA\u6578\u5DF2\u984D\u6EFF");n.commit("setLinkedRoom",r.value),a.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:C(new Date).format("YYYY/MM/DD hh:mm"),join:!0}).then(()=>{setInterval(()=>{a.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:C(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/zh-tw/gameRoom")})})},joinRoomId:r,close:()=>t.emit("close")}}},O9={class:"overlay"},P9={class:"popup"},N9={class:"joinRoom"},D9=E("h2",{class:"mb_16"},"\u52A0\u5165\u623F\u9593",-1);function M9(e,t,n,i,r,a){return ut(),St("div",O9,[E("div",P9,[E("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),E("div",N9,[D9,Jn(E("input",{type:"phone",placeholder:"\u8ACB\u8F38\u5165\u623F\u9593ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.joinRoomId=o)},null,512),[[es,i.joinRoomId]]),E("div",{class:"btn mt_16 mb_12",onClick:t[2]||(t[2]=(...o)=>i.joinRoom&&i.joinRoom(...o))},"\u52A0\u5165")])])])}var F9=fn(A9,[["render",M9]]);const L9={components:{CreateRoom:I9,JoinRoom:F9},setup(){const e=Xt(!1),t=Xt(!1);return{openCreateRoom:e,openJoinRoom:t}}},kr=e=>(Ea("data-v-f9e509b4"),e=e(),Ca(),e),z9={id:"EnterPage"},Y9=kr(()=>E("h1",null,"\u7DDA\u4E0A\u731C\u62F3",-1)),$9={class:"btn_group"},W9=kr(()=>E("div",null,"\u5275\u5EFA\u623F\u9593+",-1)),j9=kr(()=>E("div",{class:"btn--secondaryTitle"},null,-1)),U9=[W9,j9],B9=kr(()=>E("div",null,"\u52A0\u5165\u623F\u9593",-1)),H9=kr(()=>E("div",{class:"btn--secondaryTitle"},null,-1)),V9=[B9,H9],G9=kr(()=>E("div",{class:"footer"},null,-1));function K9(e,t,n,i,r,a){const o=or("CreateRoom"),s=or("JoinRoom");return ut(),St("div",z9,[Y9,E("div",$9,[E("div",{class:"btn",onClick:t[0]||(t[0]=l=>i.openCreateRoom=!0)},U9),E("div",{class:"btn",onClick:t[1]||(t[1]=l=>i.openJoinRoom=!0)},V9)]),G9,i.openCreateRoom?(ut(),ra(o,{key:0,onClose:t[2]||(t[2]=l=>i.openCreateRoom=!1)})):ho("",!0),i.openJoinRoom?(ut(),ra(s,{key:1,onClose:t[3]||(t[3]=l=>i.openJoinRoom=!1)})):ho("",!0)])}var q9=fn(L9,[["render",K9],["__scopeId","data-v-f9e509b4"]]),ng="/Rock-Paper-Scissors-Online/assets/\u526A\u5200.3781ad54.png",ig="/Rock-Paper-Scissors-Online/assets/\u77F3\u982D.401cfcbe.png",rg="/Rock-Paper-Scissors-Online/assets/\u5E03.2b9332b0.png";const Bu=[{name:"\u526A\u5200",img:ng,color:"#86bebb",en:"Scissors"},{name:"\u77F3\u982D",img:ig,color:"#e0808b",en:"Rock"},{name:"\u5E03",img:rg,color:"#84bc7f",en:"Paper"}],Q9={setup(){const e=Cr(),t=vr(),n=An.database(),i=sn({name:"",img:"",color:"",en:""}),r=sn({name:"",img:"",color:"",en:""}),a=Xt(!1),o=Xt(!1),s=Xt(""),l=["\u4F60\u8D0F\u4E86","\u4F60\u8F38\u4E86","\u5E73\u624B"];e.state.linkedRoom||t.replace("/zh-tw");const c=()=>{let h=i.name,_=r.name;switch(h){case"\u526A\u5200":_=="\u526A\u5200"&&(s.value=l[2]),_=="\u77F3\u982D"&&(s.value=l[1]),_=="\u5E03"&&(s.value=l[0]);break;case"\u77F3\u982D":_=="\u526A\u5200"&&(s.value=l[0]),_=="\u77F3\u982D"&&(s.value=l[2]),_=="\u5E03"&&(s.value=l[1]);break;case"\u5E03":_=="\u526A\u5200"&&(s.value=l[1]),_=="\u77F3\u982D"&&(s.value=l[0]),_=="\u5E03"&&(s.value=l[2]);break}o.value=!1};e.state.linkedRoom&&n.ref(`/room/${e.state.linkedRoom}/`).on("value",h=>{var O,g,v,P;let _=h.val();if(((O=_.play_A)==null?void 0:O.join)&&((g=_.play_B)==null?void 0:g.join)&&(a.value=!0),((v=_.play_A)==null?void 0:v.select)&&((P=_.play_B)==null?void 0:P.select)){const F=e.state.role==="play_A"?"play_B":"play_A",Y=_[F].select,V=Bu.find(Q=>Q.name==Y);V&&(r.name=V.name,r.img=V.img,r.color=V.color,r.en=V.en,c())}});const d=h=>{i.name=h.name,i.img=h.img,i.color=h.color,i.en=h.en,o.value=!0,n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:h.name,join:!1})},p=()=>{i.name="",i.img="",i.color="",i.en="",r.name="",r.img="",r.color="",r.en="",a.value=!1,s.value="",n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:null,join:!0})},u=We(()=>e.state.linkedRoom);return{selectHandler:d,selectList:Bu,selected:i,startGame:a,waiting:o,roomId:u,opponentSelected:r,result:s,again:p}}},za=e=>(Ea("data-v-053c1447"),e=e(),Ca(),e),J9={class:"wrap"},Z9={class:"roomId"},X9={class:"container"},t3={class:"player self"},e3={class:"box"},n3=["src"],i3={key:1},r3=za(()=>E("h2",null," \u81EA\u5DF1 ",-1)),a3=za(()=>E("div",{class:"vs"},"VS",-1)),o3={class:"player other"},s3={class:"box"},l3=["src"],c3={key:1},d3=za(()=>E("h2",null,"\u5C0D\u624B",-1)),p3={key:0,class:"select"},u3=za(()=>E("div",{class:"select_title"},"\u9078\u64C7\u51FA\u62F3",-1)),f3={class:"group"},h3=["onClick"],m3=["src"],_3={key:1,class:"result"},g3={class:"result_title"},x3=za(()=>E("div",{class:"space"},null,-1)),v3={class:"loading"},b3={class:"loading"};function y3(e,t,n,i,r,a){return ut(),St("div",J9,[E("div",Z9,"\u623F\u865F\uFF1A"+ke(i.roomId),1),E("div",X9,[E("div",t3,[E("div",e3,[i.selected.name?(ut(),St("div",{key:0,class:"selectItem",style:nn({backgroundColor:i.selected.color})},[E("figure",null,[E("img",{src:i.selected.img,alt:""},null,8,n3),E("figcaption",null,[Rn(ke(i.selected.name)+" ",1),E("span",null,ke(i.selected.en),1)])])],4)):(ut(),St("div",i3,"?"))]),r3]),a3,E("div",o3,[E("div",s3,[i.opponentSelected.name?(ut(),St("div",{key:0,class:"selectItem",style:nn({backgroundColor:i.opponentSelected.color})},[E("figure",null,[E("img",{src:i.opponentSelected.img,alt:""},null,8,l3),E("figcaption",null,ke(i.opponentSelected.name),1)])],4)):(ut(),St("div",c3,"?"))]),d3])]),i.result?(ut(),St("div",_3,[E("div",g3,ke(i.result),1),E("div",{class:"refreshBtn",onClick:t[0]||(t[0]=o=>i.again())},"\u518D\u4F86\u4E00\u6B21\uFF01")])):(ut(),St("div",p3,[u3,E("div",f3,[(ut(!0),St(_e,null,Vf(i.selectList,o=>(ut(),St("div",{class:"selectItem",style:nn({backgroundColor:o.color}),key:o.name,onClick:s=>i.selectHandler(o)},[E("figure",null,[E("img",{src:o.img,alt:""},null,8,m3),E("figcaption",null,ke(o.name),1)])],12,h3))),128))])])),x3,Jn(E("div",v3,"\u7B49\u5F85\u5C0D\u624B\u52A0\u5165\u4E2D...",512),[[xo,!i.startGame]]),Jn(E("div",b3,"\u7B49\u5F85\u5C0D\u624B\u51FA\u62F3...",512),[[xo,i.waiting]])])}var w3=fn(Q9,[["render",y3],["__scopeId","data-v-053c1447"]]);const E3={setup(e,t){const n=Cr(),i=vr(),r=Xt(null),a=An.database();return{createRoom:()=>{if(!r.value)return alert("input room id pleace!");const l=a.ref(`/room/${r.value}`);l.once("value").then(function(c){if(c.val()){const d=C(c.val().play_A.lastConnect).isAfter(C().add(-2,"m")),p=C(c.val().play_B.lastConnect).isAfter(C().add(-2,"m"));if(d&&p)return alert("This room already exists, please change the room id")}l.set({play_A:{join:!0,select:null,lastConnect:C(new Date).format("YYYY/MM/DD hh:mm")},play_B:{join:!1,select:null,lastConnect:null}}).then(()=>{n.commit("setLinkedRoom",r.value),n.commit("setRole","play_A"),setInterval(()=>{a.ref(`/room/${r.value}/play_A`).update({lastConnect:C(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/en-us/gameRoom")})})},createRoomId:r,close:()=>t.emit("close")}}},C3={class:"overlay"},S3={class:"popup"},R3={class:"createRoom"},T3=E("h2",{class:"mb_16"},"Create Room",-1);function k3(e,t,n,i,r,a){return ut(),St("div",C3,[E("div",S3,[E("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),E("div",R3,[T3,Jn(E("input",{type:"phone",placeholder:"Create Room ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.createRoomId=o)},null,512),[[es,i.createRoomId]]),E("div",{class:"btn mt_16 mb_12",onClick:t[2]||(t[2]=(...o)=>i.createRoom&&i.createRoom(...o))},"Go!")])])])}var I3=fn(E3,[["render",k3]]);const A3={setup(e,t){const n=Cr(),i=vr(),r=Xt(null),a=An.database();return{joinRoom:()=>{if(!r.value)return alert("input room id pleace!");a.ref(`/room/${r.value}`).once("value").then(c=>{const d=c.val();if(!d)return alert("This room doesn't exist");if(!d.play_B.lastConnect||C(d.play_B.lastConnect).isBefore(C().add(-2,"m")))n.commit("setRole","play_B");else if(!d.play_A.lastConnect||C(d.play_A.lastConnect).isBefore(C().add(-2,"m")))n.commit("setRole","play_A");else return alert("The room is full");n.commit("setLinkedRoom",r.value),a.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:C(new Date).format("YYYY/MM/DD hh:mm"),join:!0}).then(()=>{setInterval(()=>{a.ref(`/room/${r.value}/${n.state.role}`).update({lastConnect:C(new Date).format("YYYY/MM/DD hh:mm")})},6e4),i.push("/en-us/gameRoom")})})},joinRoomId:r,close:()=>t.emit("close")}}},O3={class:"overlay"},P3={class:"popup"},N3={class:"joinRoom"},D3=E("h2",{class:"mb_16"},"Join Room",-1);function M3(e,t,n,i,r,a){return ut(),St("div",O3,[E("div",P3,[E("div",{class:"close",onClick:t[0]||(t[0]=(...o)=>i.close&&i.close(...o))},"X"),E("div",N3,[D3,Jn(E("input",{type:"phone",placeholder:"Join Room ID","onUpdate:modelValue":t[1]||(t[1]=o=>i.joinRoomId=o)},null,512),[[es,i.joinRoomId]]),E("div",{class:"btn mt_16 mb_12",onClick:t[2]||(t[2]=(...o)=>i.joinRoom&&i.joinRoom(...o))},"Go!")])])])}var F3=fn(A3,[["render",M3]]);const L3={components:{CreateRoom:I3,JoinRoom:F3},setup(){const e=Xt(!1),t=Xt(!1);return{openCreateRoom:e,openJoinRoom:t}}},Ws=e=>(Ea("data-v-c0a92e72"),e=e(),Ca(),e),z3={id:"EnterPage"},Y3=Ws(()=>E("h1",null,[Rn(" Rock Paper Scissors"),E("br",{class:"hidden-pad-up"})],-1)),$3={class:"btn_group"},W3=Ws(()=>E("div",null,"Create Room +",-1)),j3=[W3],U3=Ws(()=>E("div",null,"Join Room",-1)),B3=[U3],H3=Ws(()=>E("div",{class:"footer"},null,-1));function V3(e,t,n,i,r,a){const o=or("CreateRoom"),s=or("JoinRoom");return ut(),St("div",z3,[Y3,E("div",$3,[E("div",{class:"btn",onClick:t[0]||(t[0]=l=>i.openCreateRoom=!0)},j3),E("div",{class:"btn",onClick:t[1]||(t[1]=l=>i.openJoinRoom=!0)},B3)]),H3,i.openCreateRoom?(ut(),ra(o,{key:0,onClose:t[2]||(t[2]=l=>i.openCreateRoom=!1)})):ho("",!0),i.openJoinRoom?(ut(),ra(s,{key:1,onClose:t[3]||(t[3]=l=>i.openJoinRoom=!1)})):ho("",!0)])}var G3=fn(L3,[["render",V3],["__scopeId","data-v-c0a92e72"]]);const Hu=[{name:"\u526A\u5200",img:ng,color:"#86bebb",en:"Scissors"},{name:"\u77F3\u982D",img:ig,color:"#e0808b",en:"Rock"},{name:"\u5E03",img:rg,color:"#84bc7f",en:"Paper"}],K3={setup(){const e=Cr(),t=vr(),n=An.database(),i=sn({name:"",img:"",color:"",en:""}),r=sn({name:"",img:"",color:"",en:""}),a=Xt(!1),o=Xt(!1),s=Xt(""),l=["Win","Lose","Draw"];e.state.linkedRoom||t.replace("/en-us");const c=()=>{let h=i.name,_=r.name;switch(h){case"\u526A\u5200":_=="\u526A\u5200"&&(s.value=l[2]),_=="\u77F3\u982D"&&(s.value=l[1]),_=="\u5E03"&&(s.value=l[0]);break;case"\u77F3\u982D":_=="\u526A\u5200"&&(s.value=l[0]),_=="\u77F3\u982D"&&(s.value=l[2]),_=="\u5E03"&&(s.value=l[1]);break;case"\u5E03":_=="\u526A\u5200"&&(s.value=l[1]),_=="\u77F3\u982D"&&(s.value=l[0]),_=="\u5E03"&&(s.value=l[2]);break}o.value=!1};e.state.linkedRoom&&n.ref(`/room/${e.state.linkedRoom}/`).on("value",h=>{var O,g,v,P;let _=h.val();if(((O=_.play_A)==null?void 0:O.join)&&((g=_.play_B)==null?void 0:g.join)&&(a.value=!0),((v=_.play_A)==null?void 0:v.select)&&((P=_.play_B)==null?void 0:P.select)){const F=e.state.role==="play_A"?"play_B":"play_A",Y=_[F].select,V=Hu.find(Q=>Q.name==Y);V&&(r.name=V.name,r.img=V.img,r.color=V.color,r.en=V.en,c())}});const d=h=>{i.name=h.name,i.img=h.img,i.color=h.color,i.en=h.en,o.value=!0,n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:h.name,join:!1})},p=()=>{i.name="",i.img="",i.color="",i.en="",r.name="",r.img="",r.color="",r.en="",a.value=!1,s.value="",n.ref(`/room/${e.state.linkedRoom}/${e.state.role}/`).update({select:null,join:!0})},u=We(()=>e.state.linkedRoom);return{selectHandler:d,selectList:Hu,selected:i,startGame:a,waiting:o,roomId:u,opponentSelected:r,result:s,again:p}}},Ya=e=>(Ea("data-v-b87d4860"),e=e(),Ca(),e),q3={class:"wrap"},Q3={class:"roomId"},J3={class:"container"},Z3={class:"player self"},X3={class:"box"},tR=["src"],eR={key:1},nR=Ya(()=>E("h2",null,"You",-1)),iR=Ya(()=>E("div",{class:"vs"},"VS",-1)),rR={class:"player other"},aR={class:"box"},oR=["src"],sR={key:1},lR=Ya(()=>E("h2",null,"Opponent",-1)),cR={key:0,class:"select"},dR=Ya(()=>E("div",{class:"select_title"},"Choose",-1)),pR={class:"group"},uR=["onClick"],fR=["src"],hR={key:1,class:"result"},mR={class:"result_title"},_R=Ya(()=>E("div",{class:"space"},null,-1)),gR={class:"loading"},xR={class:"loading"};function vR(e,t,n,i,r,a){return ut(),St("div",q3,[E("div",Q3,"Room ID\uFF1A"+ke(i.roomId),1),E("div",J3,[E("div",Z3,[E("div",X3,[i.selected.name?(ut(),St("div",{key:0,class:"selectItem",style:nn({backgroundColor:i.selected.color})},[E("figure",null,[E("img",{src:i.selected.img,alt:""},null,8,tR),E("figcaption",null,ke(i.selected.en),1)])],4)):(ut(),St("div",eR,"?"))]),nR]),iR,E("div",rR,[E("div",aR,[i.opponentSelected.name?(ut(),St("div",{key:0,class:"selectItem",style:nn({backgroundColor:i.opponentSelected.color})},[E("figure",null,[E("img",{src:i.opponentSelected.img,alt:""},null,8,oR),E("figcaption",null,[Rn(ke(i.opponentSelected.name)+" ",1),E("span",null,ke(i.opponentSelected.en),1)])])],4)):(ut(),St("div",sR,"?"))]),lR])]),i.result?(ut(),St("div",hR,[E("div",mR,ke(i.result),1),E("div",{class:"refreshBtn",onClick:t[0]||(t[0]=o=>i.again())},"Play Again\uFF01")])):(ut(),St("div",cR,[dR,E("div",pR,[(ut(!0),St(_e,null,Vf(i.selectList,o=>(ut(),St("div",{class:"selectItem",style:nn({backgroundColor:o.color}),key:o.name,onClick:s=>i.selectHandler(o)},[E("figure",null,[E("img",{src:o.img,alt:""},null,8,fR),E("figcaption",null,ke(o.en),1)])],12,uR))),128))])])),_R,Jn(E("div",gR,"Waiting Opponent Join...",512),[[xo,!i.startGame]]),Jn(E("div",xR,"Waiting Opponent Choose...",512),[[xo,i.waiting]])])}var bR=fn(K3,[["render",vR],["__scopeId","data-v-b87d4860"]]);const yR=[{path:"/",name:"Index",component:wE},{path:"/zh-tw",name:"Enter",component:q9},{path:"/zh-tw/gameRoom",name:"Gameroom",component:w3},{path:"/en-us",name:"EnterUS",component:G3},{path:"/en-us/gameRoom",name:"GameroomUS",component:bR}];lv(tE,{routes:yR,base:"/Rock-Paper-Scissors-Online/"},({app:e,router:t,routes:n,isClient:i,initialState:r})=>{Object.values({}).map(a=>{var o;return(o=a.install)==null?void 0:o.call(a,e)}),e.use(fE),e.config.performance=!1,Object.values({}).map(a=>{var o;return(o=a.install)==null?void 0:o.call(a,e)})})});export default wR();
